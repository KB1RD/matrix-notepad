(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{566:function(t,e,o){var content=o(586);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(69).default)("6759f5ab",content,!0,{sourceMap:!1})},567:function(t,e,o){"use strict";var n={data:function(){return{alerts:[]}},methods:{alert:function(t){var e=t.variant,o=t.dismissible,n=void 0===o||o,r=t.contents,l=void 0===r?"":r;this.alerts.push({variant:e,dismissible:n,contents:l})}}},r=o(76),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.alerts,(function(a){return o("b-alert",{key:a.contents,attrs:{dismissible:a.dismissible,variant:a.variant,show:""}},[t._v("\n    "+t._s(a.contents)+"\n  ")])})),1)}),[],!1,null,null,null);e.a=component.exports},585:function(t,e,o){"use strict";var n=o(566);o.n(n).a},586:function(t,e,o){(e=o(68)(!1)).push([t.i,".vue-codemirror .CodeMirror{height:100%}.container{margin:0 auto;min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center}.container>*{width:100%;max-width:1000px}.room-list{text-align:left}",""]),t.exports=e},588:function(t,e,o){"use strict";o.r(e);o(34),o(44);var n=o(33),r={components:{AlertSection:o(567).a},data:function(){return{form:{alias:"",name:"",tab:0},adding_room:!1}},computed:{type:function(){return 0===this.form.tab?"n":"j"},alias_valid:function(){var t=/^[^#:]*$/gm.exec(this.form.alias);return this.form.alias.length||"j"===this.type?t&&0===t.index||!1:void 0}},methods:{show:function(){this.$refs.modal.show()},hide:function(){this.$refs.modal.hide()},onFormSubmit:function(t){var e=this;if(this.$matrix.client){var o=t.alias.trim(),r=t.name;this.adding_room=!0,"n"===this.type?this.$matrix.client.createRoom({room_alias_name:""!==o?o:void 0,name:""!==r?r:void 0}).then((function(t){var o=t.room_id;o&&e.$router.replace("/edit/"+encodeURIComponent(o)),e.hide()}),(function(t){n.a.error("Failed to create room",t),e.$refs.alerts.alert({variant:"danger",contents:"Failed to create room!"})})).then((function(){e.adding_room=!1})):"j"===this.type&&this.$matrix.client.joinRoom(t.room,{syncRoom:!1}).then((function(t){var o=t.roomId;o&&e.$router.replace("/edit/"+encodeURIComponent(o)),e.hide()}),(function(t){n.a.error("Failed to join room",t),e.$refs.alerts.alert({variant:"danger",contents:"Failed to join room!"})})).then((function(){e.adding_room=!1}))}},handleOk:function(t){t.preventDefault(),!1===this.alias_valid||!this.alias_valid&&"j"===this.type||this.onFormSubmit(this.form)}}},l=o(76),m={components:{AddRoomModal:Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{ref:"modal",attrs:{title:"Add a Room","ok-title":"n"===t.type?"Create":"Join",busy:t.adding_room,"no-close-on-backdrop":t.adding_room,"no-close-on-esc":t.adding_room},on:{ok:t.handleOk}},[o("AlertSection",{ref:"alerts"}),t._v(" "),o("b-form",[o("b-tabs",{attrs:{"content-class":"mt-3"},model:{value:t.form.tab,callback:function(e){t.$set(t.form,"tab",e)},expression:"form.tab"}},[o("b-tab",{attrs:{title:"Create a room",active:""}},[o("b-form-group",{attrs:{"label-for":"name-input"}},[o("b-form-input",{attrs:{id:"name-input",disabled:t.adding_room,placeholder:"Room Name (optional)"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),o("b-tab",{attrs:{title:"Join a room"}})],1),t._v(" "),o("b-form-group",{attrs:{"label-for":"alias-input"}},[o("b-input-group",{attrs:{prepend:"#"}},[o("b-form-input",{attrs:{id:"alias-input","aria-describedby":"alias-live-feedback",disabled:t.adding_room,required:"j"===t.type,state:t.alias_valid,placeholder:"n"===t.type?"Room Alias (optional)":"Room Alias"},model:{value:t.form.alias,callback:function(e){t.$set(t.form,"alias",e)},expression:"form.alias"}}),t._v(" "),o("b-form-invalid-feedback",{attrs:{id:"alias-live-feedback"}},[t._v("\n          Enter just the localpart of the alias.\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},computed:{rooms:function(){return this.$store.getters["matrix/rooms"]}}},c=(o(585),Object(l.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",[o("b-button",{staticStyle:{margin:"10px 0px"},attrs:{variant:"primary",block:""},on:{click:function(e){return t.$refs.modal.show()}}},[t._v("\n      + Add\n    ")]),t._v(" "),o("AddRoomModal",{ref:"modal"}),t._v(" "),o("b-list-group",t._l(t.rooms,(function(e){return o("b-list-group-item",{key:e.roomId,staticClass:"flex-column align-items-start",attrs:{href:"#"},on:{click:function(o){return t.$router.push("/edit/"+e.roomId)}}},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("h5",{staticClass:"mb-1"},[t._v(t._s(e.name))]),t._v(" "),o("small",{staticClass:"text-muted"},[t._v(t._s(e.roomId))])])])})),1)],1)])}),[],!1,null,null,null));e.default=c.exports}}]);