/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],[function(e,t,r){"use strict";r(14),r(12),r(10),r(9),r(13);var n=r(2),o=r(3),l=r(6),c=r(8),d=r(87);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=function(e,content){var t="BIcon".concat(Object(c.e)(e)),r="bi-".concat(Object(c.b)(e)),n=Object(c.g)(content||"");return o.a.extend({name:t,functional:!0,props:f({},d.b,{stacked:{type:Boolean,default:!1}}),render:function(e,t){var data=t.data,o=t.props;return e(d.a,Object(l.a)(data,{staticClass:r,props:f({},o,{content:n})}))}})};r.d(t,"Z",(function(){return m})),r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return k})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return x})),r.d(t,"g",(function(){return O})),r.d(t,"h",(function(){return T})),r.d(t,"i",(function(){return E})),r.d(t,"j",(function(){return C})),r.d(t,"k",(function(){return I})),r.d(t,"l",(function(){return j})),r.d(t,"m",(function(){return M})),r.d(t,"n",(function(){return R})),r.d(t,"o",(function(){return A})),r.d(t,"p",(function(){return P})),r.d(t,"q",(function(){return B})),r.d(t,"r",(function(){return D})),r.d(t,"s",(function(){return L})),r.d(t,"t",(function(){return z})),r.d(t,"u",(function(){return F})),r.d(t,"v",(function(){return N})),r.d(t,"w",(function(){return V})),r.d(t,"x",(function(){return H})),r.d(t,"y",(function(){return $})),r.d(t,"z",(function(){return U})),r.d(t,"A",(function(){return K})),r.d(t,"B",(function(){return G})),r.d(t,"C",(function(){return W})),r.d(t,"D",(function(){return Y})),r.d(t,"E",(function(){return X})),r.d(t,"F",(function(){return Q})),r.d(t,"G",(function(){return J})),r.d(t,"H",(function(){return Z})),r.d(t,"I",(function(){return ee})),r.d(t,"J",(function(){return te})),r.d(t,"K",(function(){return re})),r.d(t,"L",(function(){return ne})),r.d(t,"M",(function(){return oe})),r.d(t,"N",(function(){return ie})),r.d(t,"O",(function(){return ae})),r.d(t,"P",(function(){return se})),r.d(t,"Q",(function(){return le})),r.d(t,"R",(function(){return ce})),r.d(t,"S",(function(){return ue})),r.d(t,"T",(function(){return de})),r.d(t,"U",(function(){return he})),r.d(t,"V",(function(){return fe})),r.d(t,"W",(function(){return pe})),r.d(t,"X",(function(){return ve})),r.d(t,"Y",(function(){return me})),r.d(t,"ab",(function(){return ge})),r.d(t,"bb",(function(){return be})),r.d(t,"cb",(function(){return ye})),r.d(t,"db",(function(){return _e})),r.d(t,"eb",(function(){return we})),r.d(t,"fb",(function(){return ke})),r.d(t,"gb",(function(){return Se})),r.d(t,"hb",(function(){return xe})),r.d(t,"ib",(function(){return Oe})),r.d(t,"jb",(function(){return Te})),r.d(t,"kb",(function(){return Ee})),r.d(t,"lb",(function(){return Ce})),r.d(t,"mb",(function(){return Ie})),r.d(t,"nb",(function(){return je})),r.d(t,"ob",(function(){return Me})),r.d(t,"pb",(function(){return Re})),r.d(t,"qb",(function(){return Ae})),r.d(t,"rb",(function(){return Pe})),r.d(t,"sb",(function(){return Be})),r.d(t,"tb",(function(){return De})),r.d(t,"ub",(function(){return Le})),r.d(t,"vb",(function(){return ze})),r.d(t,"wb",(function(){return Fe})),r.d(t,"xb",(function(){return Ne})),r.d(t,"yb",(function(){return Ve})),r.d(t,"zb",(function(){return He})),r.d(t,"Ab",(function(){return $e})),r.d(t,"Bb",(function(){return Ue})),r.d(t,"Cb",(function(){return qe})),r.d(t,"Db",(function(){return Ke})),r.d(t,"Eb",(function(){return Ge})),r.d(t,"Fb",(function(){return We})),r.d(t,"Gb",(function(){return Ye})),r.d(t,"Hb",(function(){return Xe})),r.d(t,"Ib",(function(){return Qe})),r.d(t,"Jb",(function(){return Je})),r.d(t,"Kb",(function(){return Ze})),r.d(t,"Lb",(function(){return et})),r.d(t,"Mb",(function(){return tt})),r.d(t,"Nb",(function(){return nt})),r.d(t,"Ob",(function(){return ot})),r.d(t,"Pb",(function(){return it})),r.d(t,"Qb",(function(){return at})),r.d(t,"Rb",(function(){return st})),r.d(t,"Sb",(function(){return lt})),r.d(t,"Tb",(function(){return ct})),r.d(t,"Ub",(function(){return ut})),r.d(t,"Vb",(function(){return ht})),r.d(t,"Wb",(function(){return ft})),r.d(t,"Xb",(function(){return pt})),r.d(t,"Yb",(function(){return vt})),r.d(t,"Zb",(function(){return mt})),r.d(t,"ac",(function(){return gt})),r.d(t,"bc",(function(){return bt})),r.d(t,"cc",(function(){return yt})),r.d(t,"dc",(function(){return _t})),r.d(t,"ec",(function(){return wt})),r.d(t,"fc",(function(){return kt})),r.d(t,"gc",(function(){return St})),r.d(t,"hc",(function(){return xt})),r.d(t,"ic",(function(){return Ot})),r.d(t,"jc",(function(){return Tt})),r.d(t,"kc",(function(){return Et})),r.d(t,"lc",(function(){return Ct})),r.d(t,"mc",(function(){return It})),r.d(t,"nc",(function(){return jt})),r.d(t,"oc",(function(){return Mt})),r.d(t,"pc",(function(){return Rt})),r.d(t,"qc",(function(){return At})),r.d(t,"rc",(function(){return Pt})),r.d(t,"sc",(function(){return Bt})),r.d(t,"tc",(function(){return Dt})),r.d(t,"uc",(function(){return Lt})),r.d(t,"vc",(function(){return zt})),r.d(t,"wc",(function(){return Ft})),r.d(t,"xc",(function(){return Nt})),r.d(t,"yc",(function(){return Vt})),r.d(t,"zc",(function(){return Ht})),r.d(t,"Ac",(function(){return $t})),r.d(t,"Bc",(function(){return Ut})),r.d(t,"Cc",(function(){return qt})),r.d(t,"Dc",(function(){return Kt})),r.d(t,"Ec",(function(){return Gt})),r.d(t,"Fc",(function(){return Wt})),r.d(t,"Gc",(function(){return Yt})),r.d(t,"Hc",(function(){return Xt})),r.d(t,"Ic",(function(){return Qt})),r.d(t,"Jc",(function(){return Jt})),r.d(t,"Kc",(function(){return Zt})),r.d(t,"Lc",(function(){return er})),r.d(t,"Mc",(function(){return rr})),r.d(t,"Nc",(function(){return nr})),r.d(t,"Oc",(function(){return or})),r.d(t,"Pc",(function(){return ir})),r.d(t,"Qc",(function(){return ar})),r.d(t,"Rc",(function(){return sr})),r.d(t,"Sc",(function(){return lr})),r.d(t,"Tc",(function(){return cr})),r.d(t,"Uc",(function(){return ur})),r.d(t,"Vc",(function(){return dr})),r.d(t,"Wc",(function(){return fr})),r.d(t,"Xc",(function(){return pr})),r.d(t,"Yc",(function(){return vr})),r.d(t,"Zc",(function(){return mr})),r.d(t,"ad",(function(){return gr})),r.d(t,"bd",(function(){return yr})),r.d(t,"cd",(function(){return _r})),r.d(t,"dd",(function(){return wr})),r.d(t,"ed",(function(){return kr})),r.d(t,"fd",(function(){return Sr})),r.d(t,"gd",(function(){return xr})),r.d(t,"hd",(function(){return Or})),r.d(t,"id",(function(){return Tr})),r.d(t,"jd",(function(){return Er})),r.d(t,"kd",(function(){return Cr})),r.d(t,"ld",(function(){return Ir})),r.d(t,"md",(function(){return jr})),r.d(t,"nd",(function(){return Mr})),r.d(t,"od",(function(){return Rr})),r.d(t,"pd",(function(){return Ar})),r.d(t,"qd",(function(){return Pr})),r.d(t,"rd",(function(){return Br})),r.d(t,"sd",(function(){return Dr})),r.d(t,"td",(function(){return Lr})),r.d(t,"ud",(function(){return zr})),r.d(t,"vd",(function(){return Fr})),r.d(t,"wd",(function(){return Nr})),r.d(t,"xd",(function(){return Vr})),r.d(t,"yd",(function(){return Hr})),r.d(t,"zd",(function(){return $r})),r.d(t,"Ad",(function(){return Ur})),r.d(t,"Bd",(function(){return qr})),r.d(t,"Cd",(function(){return Kr})),r.d(t,"Dd",(function(){return Gr})),r.d(t,"Ed",(function(){return Wr})),r.d(t,"Fd",(function(){return Yr})),r.d(t,"Gd",(function(){return Xr})),r.d(t,"Hd",(function(){return Qr})),r.d(t,"Id",(function(){return Jr})),r.d(t,"Jd",(function(){return Zr})),r.d(t,"Kd",(function(){return en})),r.d(t,"Ld",(function(){return tn})),r.d(t,"Md",(function(){return rn})),r.d(t,"Nd",(function(){return nn})),r.d(t,"Od",(function(){return on})),r.d(t,"Pd",(function(){return an})),r.d(t,"Qd",(function(){return sn})),r.d(t,"Rd",(function(){return ln})),r.d(t,"Sd",(function(){return cn})),r.d(t,"Td",(function(){return un})),r.d(t,"Ud",(function(){return dn})),r.d(t,"Vd",(function(){return hn})),r.d(t,"Wd",(function(){return fn})),r.d(t,"Xd",(function(){return pn})),r.d(t,"Yd",(function(){return vn})),r.d(t,"Zd",(function(){return mn})),r.d(t,"ae",(function(){return gn})),r.d(t,"be",(function(){return bn})),r.d(t,"ce",(function(){return yn})),r.d(t,"de",(function(){return _n})),r.d(t,"ee",(function(){return wn})),r.d(t,"fe",(function(){return kn})),r.d(t,"ge",(function(){return Sn})),r.d(t,"he",(function(){return xn})),r.d(t,"ie",(function(){return On})),r.d(t,"je",(function(){return Tn})),r.d(t,"ke",(function(){return En})),r.d(t,"le",(function(){return Cn})),r.d(t,"me",(function(){return In})),r.d(t,"ne",(function(){return jn})),r.d(t,"oe",(function(){return Mn})),r.d(t,"pe",(function(){return Rn})),r.d(t,"qe",(function(){return An})),r.d(t,"re",(function(){return Pn})),r.d(t,"se",(function(){return Bn})),r.d(t,"te",(function(){return Dn})),r.d(t,"ue",(function(){return Ln})),r.d(t,"ve",(function(){return zn})),r.d(t,"we",(function(){return Fn})),r.d(t,"xe",(function(){return Nn})),r.d(t,"ye",(function(){return Vn})),r.d(t,"ze",(function(){return Hn})),r.d(t,"Ae",(function(){return $n})),r.d(t,"Be",(function(){return Un})),r.d(t,"Ce",(function(){return qn})),r.d(t,"De",(function(){return Kn})),r.d(t,"Ee",(function(){return Gn})),r.d(t,"Fe",(function(){return Wn})),r.d(t,"Ge",(function(){return Yn})),r.d(t,"He",(function(){return Xn})),r.d(t,"Ie",(function(){return Qn})),r.d(t,"Je",(function(){return Jn})),r.d(t,"Ke",(function(){return Zn})),r.d(t,"Le",(function(){return eo})),r.d(t,"Me",(function(){return to})),r.d(t,"Ne",(function(){return ro})),r.d(t,"Oe",(function(){return no})),r.d(t,"Pe",(function(){return oo})),r.d(t,"Qe",(function(){return io})),r.d(t,"Re",(function(){return ao})),r.d(t,"Se",(function(){return so})),r.d(t,"Te",(function(){return lo})),r.d(t,"Ue",(function(){return co})),r.d(t,"Ve",(function(){return uo})),r.d(t,"We",(function(){return ho})),r.d(t,"Xe",(function(){return fo})),r.d(t,"Ye",(function(){return po})),r.d(t,"Ze",(function(){return vo})),r.d(t,"af",(function(){return mo})),r.d(t,"bf",(function(){return go})),r.d(t,"cf",(function(){return bo})),r.d(t,"df",(function(){return yo})),r.d(t,"ef",(function(){return _o})),r.d(t,"ff",(function(){return wo})),r.d(t,"gf",(function(){return ko})),r.d(t,"hf",(function(){return So})),r.d(t,"if",(function(){return xo})),r.d(t,"jf",(function(){return Oo})),r.d(t,"kf",(function(){return To})),r.d(t,"lf",(function(){return Eo})),r.d(t,"mf",(function(){return Co})),r.d(t,"nf",(function(){return Io})),r.d(t,"of",(function(){return jo})),r.d(t,"pf",(function(){return Mo})),r.d(t,"qf",(function(){return Ro})),r.d(t,"rf",(function(){return Ao})),r.d(t,"sf",(function(){return Po})),r.d(t,"tf",(function(){return Bo})),r.d(t,"uf",(function(){return Do})),r.d(t,"vf",(function(){return Lo})),r.d(t,"wf",(function(){return zo})),r.d(t,"xf",(function(){return Fo})),r.d(t,"yf",(function(){return No})),r.d(t,"zf",(function(){return Vo})),r.d(t,"Af",(function(){return Ho})),r.d(t,"Bf",(function(){return $o})),r.d(t,"Cf",(function(){return Uo})),r.d(t,"Df",(function(){return qo})),r.d(t,"Ef",(function(){return Ko})),r.d(t,"Ff",(function(){return Go})),r.d(t,"Gf",(function(){return Wo})),r.d(t,"Hf",(function(){return Yo})),r.d(t,"If",(function(){return Xo})),r.d(t,"Jf",(function(){return Qo})),r.d(t,"Kf",(function(){return Jo})),r.d(t,"Lf",(function(){return Zo})),r.d(t,"Mf",(function(){return ei})),r.d(t,"Nf",(function(){return ti})),r.d(t,"Of",(function(){return ri})),r.d(t,"Pf",(function(){return ni})),r.d(t,"Qf",(function(){return oi})),r.d(t,"Rf",(function(){return ii})),r.d(t,"Sf",(function(){return ai})),r.d(t,"Tf",(function(){return si})),r.d(t,"Uf",(function(){return ci})),r.d(t,"Vf",(function(){return ui})),r.d(t,"Wf",(function(){return di})),r.d(t,"Xf",(function(){return hi})),r.d(t,"Yf",(function(){return fi})),r.d(t,"Zf",(function(){return pi})),r.d(t,"ag",(function(){return vi})),r.d(t,"bg",(function(){return mi})),r.d(t,"cg",(function(){return gi})),r.d(t,"dg",(function(){return bi}));var m=v("Blank",""),y=v("Alarm",'<path fill-rule="evenodd" d="M10 17a6 6 0 100-12 6 6 0 000 12zm0 1a7 7 0 100-14 7 7 0 000 14z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 6.5a.5.5 0 01.5.5v4a.5.5 0 01-.053.224l-1.5 3a.5.5 0 11-.894-.448L9.5 10.882V7a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path d="M2.86 7.387A2.5 2.5 0 116.387 3.86 8.035 8.035 0 002.86 7.387zM13.613 3.86a2.5 2.5 0 113.527 3.527 8.035 8.035 0 00-3.527-3.527z"/><path fill-rule="evenodd" d="M13.646 16.146a.5.5 0 01.708 0l1 1a.5.5 0 01-.708.708l-1-1a.5.5 0 010-.708zm-7.292 0a.5.5 0 00-.708 0l-1 1a.5.5 0 00.708.708l1-1a.5.5 0 000-.708zM7.5 2.5A.5.5 0 018 2h4a.5.5 0 010 1H8a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path d="M9 3h2v2H9V3z"/>'),_=v("AlarmFill",'<path fill-rule="evenodd" d="M7.5 2.5A.5.5 0 018 2h4a.5.5 0 010 1h-1v1.07a7.002 7.002 0 013.537 12.26l.817.816a.5.5 0 01-.708.708l-.924-.925A6.967 6.967 0 0110 18a6.967 6.967 0 01-3.722-1.07l-.924.924a.5.5 0 01-.708-.708l.817-.816A7.002 7.002 0 019 4.07V3H8a.5.5 0 01-.5-.5zM2.86 7.387A2.5 2.5 0 116.387 3.86 8.035 8.035 0 002.86 7.387zM15.5 3c-.753 0-1.429.333-1.887.86a8.035 8.035 0 013.527 3.527A2.5 2.5 0 0015.5 3zm-5 4a.5.5 0 00-1 0v3.882l-1.447 2.894a.5.5 0 10.894.448l1.5-3A.5.5 0 0010.5 11V7z" clip-rule="evenodd"/>'),w=v("AlertCircle",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm0 1a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"/><path d="M9.002 13a1 1 0 112 0 1 1 0 01-2 0zM9.1 6.995a.905.905 0 111.8 0l-.35 3.507a.553.553 0 01-1.1 0L9.1 6.995z"/>'),k=v("AlertCircleFill",'<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8.998 3a1 1 0 112 0 1 1 0 01-2 0zM10 6a.905.905 0 00-.9.995l.35 3.507a.553.553 0 001.1 0l.35-3.507A.905.905 0 0010 6z" clip-rule="evenodd"/>'),S=v("AlertOctagon",'<path fill-rule="evenodd" d="M6.54 2.146A.5.5 0 016.893 2h6.214a.5.5 0 01.353.146l4.394 4.394a.5.5 0 01.146.353v6.214a.5.5 0 01-.146.353l-4.394 4.394a.5.5 0 01-.353.146H6.893a.5.5 0 01-.353-.146L2.146 13.46A.5.5 0 012 13.107V6.893a.5.5 0 01.146-.353L6.54 2.146zM7.1 3L3 7.1v5.8L7.1 17h5.8l4.1-4.1V7.1L12.9 3H7.1z" clip-rule="evenodd"/><rect width="2" height="2" x="9.002" y="12" rx="1"/><path d="M9.1 6.995a.905.905 0 111.8 0l-.35 3.507a.553.553 0 01-1.1 0L9.1 6.995z"/>'),x=v("AlertOctagonFill",'<path fill-rule="evenodd" d="M13.107 2a.5.5 0 01.353.146l4.394 4.394a.5.5 0 01.146.353v6.214a.5.5 0 01-.146.353l-4.394 4.394a.5.5 0 01-.353.146H6.893a.5.5 0 01-.353-.146L2.146 13.46A.5.5 0 012 13.107V6.893a.5.5 0 01.146-.353L6.54 2.146A.5.5 0 016.893 2h6.214zM9.002 13a1 1 0 112 0 1 1 0 01-2 0zM10 6a.905.905 0 00-.9.995l.35 3.507a.553.553 0 001.1 0l.35-3.507A.905.905 0 0010 6z" clip-rule="evenodd"/>'),O=v("AlertSquare",'<path fill-rule="evenodd" d="M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/><rect width="2" height="2" x="9.002" y="12" rx="1"/><path d="M9.1 6.995a.905.905 0 111.8 0l-.35 3.507a.553.553 0 01-1.1 0L9.1 6.995z"/>'),T=v("AlertSquareFill",'<path fill-rule="evenodd" d="M2 4a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V4zm7.002 9a1 1 0 112 0 1 1 0 01-2 0zM10 6a.905.905 0 00-.9.995l.35 3.507a.553.553 0 001.1 0l.35-3.507A.905.905 0 0010 6z" clip-rule="evenodd"/>'),E=v("AlertTriangle",'<path fill-rule="evenodd" d="M9.938 4.016a.146.146 0 00-.054.057L3.027 15.74a.176.176 0 00-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 00.066-.017.163.163 0 00.055-.06.176.176 0 00-.003-.183L10.12 4.073a.146.146 0 00-.054-.057.13.13 0 00-.063-.016.13.13 0 00-.064.016zm1.043-.45a1.13 1.13 0 00-1.96 0L2.166 15.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L10.982 3.566z" clip-rule="evenodd"/><rect width="2" height="2" x="9.002" y="13" rx="1"/><path d="M9.1 7.995a.905.905 0 111.8 0l-.35 3.507a.553.553 0 01-1.1 0L9.1 7.995z"/>'),C=v("AlertTriangleFill",'<path fill-rule="evenodd" d="M9.022 3.566a1.13 1.13 0 011.96 0l6.857 11.667c.457.778-.092 1.767-.98 1.767H3.144c-.889 0-1.437-.99-.98-1.767L9.022 3.566zM9.002 14a1 1 0 112 0 1 1 0 01-2 0zM10 7a.905.905 0 00-.9.995l.35 3.507a.553.553 0 001.1 0l.35-3.507A.905.905 0 0010 7z" clip-rule="evenodd"/>'),I=v("Archive",'<path fill-rule="evenodd" d="M4 7v7.5c0 .864.642 1.5 1.357 1.5h9.286c.715 0 1.357-.636 1.357-1.5V7h1v7.5c0 1.345-1.021 2.5-2.357 2.5H5.357C4.021 17 3 15.845 3 14.5V7h1z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.5 9.5A.5.5 0 018 9h4a.5.5 0 010 1H8a.5.5 0 01-.5-.5zM17 4H3v2h14V4zM3 3a1 1 0 00-1 1v2a1 1 0 001 1h14a1 1 0 001-1V4a1 1 0 00-1-1H3z" clip-rule="evenodd"/>'),j=v("ArchiveFill",'<path fill-rule="evenodd" d="M14.643 17C15.979 17 17 15.845 17 14.5V7H3v7.5C3 15.845 4.021 17 5.357 17h9.286zM8 9a.5.5 0 000 1h4a.5.5 0 000-1H8zM3 3a1 1 0 00-1 1v1.5a1 1 0 001 1h14a1 1 0 001-1V4a1 1 0 00-1-1H3z" clip-rule="evenodd"/>'),M=v("ArrowBarBottom",'<path fill-rule="evenodd" d="M13.354 12.146a.5.5 0 010 .708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 01.708-.708L10 14.793l2.646-2.647a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 8a.5.5 0 01.5.5V15a.5.5 0 01-1 0V8.5A.5.5 0 0110 8zM4 5.75a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),R=v("ArrowBarLeft",'<path fill-rule="evenodd" d="M7.854 6.646a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708l3 3a.5.5 0 00.708-.708L5.207 10l2.647-2.646a.5.5 0 000-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 10a.5.5 0 00-.5-.5H5a.5.5 0 000 1h6.5a.5.5 0 00.5-.5zm2.5 6a.5.5 0 01-.5-.5v-11a.5.5 0 011 0v11a.5.5 0 01-.5.5z" clip-rule="evenodd"/>'),A=v("ArrowBarRight",'<path fill-rule="evenodd" d="M12.146 6.646a.5.5 0 01.708 0l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708-.708L14.793 10l-2.647-2.646a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8 10a.5.5 0 01.5-.5H15a.5.5 0 010 1H8.5A.5.5 0 018 10zm-2.5 6a.5.5 0 01-.5-.5v-11a.5.5 0 011 0v11a.5.5 0 01-.5.5z" clip-rule="evenodd"/>'),P=v("ArrowBarUp",'<path fill-rule="evenodd" d="M13.354 7.854a.5.5 0 000-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 10.708.708L10 5.207l2.646 2.647a.5.5 0 00.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 12a.5.5 0 00.5-.5V5a.5.5 0 00-1 0v6.5a.5.5 0 00.5.5zm-6 2.75a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),B=v("ArrowClockwise",'<path fill-rule="evenodd" d="M10 4.5a5.5 5.5 0 105.5 5.5.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63l-.5.865A5.472 5.472 0 0010 4.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10.646 1.646a.5.5 0 01.708 0l2.5 2.5a.5.5 0 010 .708l-2.5 2.5a.5.5 0 01-.708-.708L12.793 4.5l-2.147-2.146a.5.5 0 010-.708z" clip-rule="evenodd"/>'),D=v("ArrowCounterclockwise",'<path fill-rule="evenodd" d="M10 4.5A5.5 5.5 0 114.5 10a.5.5 0 00-1 0 6.5 6.5 0 103.25-5.63l.5.865A5.472 5.472 0 0110 4.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.354 1.646a.5.5 0 00-.708 0l-2.5 2.5a.5.5 0 000 .708l2.5 2.5a.5.5 0 10.708-.708L7.207 4.5l2.147-2.146a.5.5 0 000-.708z" clip-rule="evenodd"/>'),L=v("ArrowDown",'<path fill-rule="evenodd" d="M6.646 11.646a.5.5 0 01.708 0L10 14.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 4.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V5a.5.5 0 01.5-.5z" clip-rule="evenodd"/>'),z=v("ArrowDownLeft",'<path fill-rule="evenodd" d="M5 9.5a.5.5 0 01.5.5v4.5H10a.5.5 0 010 1H5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.354 5.646a.5.5 0 010 .708l-9 9a.5.5 0 01-.708-.708l9-9a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),F=v("ArrowDownRight",'<path fill-rule="evenodd" d="M14 9.5a.5.5 0 01.5.5v5a.5.5 0 01-.5.5H9a.5.5 0 010-1h4.5V10a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.646 5.646a.5.5 0 01.708 0l9 9a.5.5 0 01-.708.708l-9-9a.5.5 0 010-.708z" clip-rule="evenodd"/>'),N=v("ArrowDownShort",'<path fill-rule="evenodd" d="M6.646 9.646a.5.5 0 01.708 0L10 12.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 6.5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V7a.5.5 0 01.5-.5z" clip-rule="evenodd"/>'),V=v("ArrowLeft",'<path fill-rule="evenodd" d="M7.854 6.646a.5.5 0 010 .708L5.207 10l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 10a.5.5 0 01.5-.5h10.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),H=v("ArrowLeftRight",'<path fill-rule="evenodd" d="M12.146 9.646a.5.5 0 01.708 0l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708-.708L14.793 13l-2.647-2.646a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4 13a.5.5 0 01.5-.5H15a.5.5 0 010 1H4.5A.5.5 0 014 13zm3.854-9.354a.5.5 0 010 .708L5.207 7l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 7a.5.5 0 01.5-.5h10.5a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),$=v("ArrowLeftShort",'<path fill-rule="evenodd" d="M9.854 6.646a.5.5 0 010 .708L7.207 10l2.647 2.646a.5.5 0 01-.708.708l-3-3a.5.5 0 010-.708l3-3a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6.5 10a.5.5 0 01.5-.5h6.5a.5.5 0 010 1H7a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),U=v("ArrowRepeat",'<path fill-rule="evenodd" d="M4 9.5a.5.5 0 00-.5.5 6.5 6.5 0 0012.13 3.25.5.5 0 00-.866-.5A5.5 5.5 0 014.5 10a.5.5 0 00-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.354 9.146a.5.5 0 00-.708 0l-2 2a.5.5 0 00.708.708L4 10.207l1.646 1.647a.5.5 0 00.708-.708l-2-2zM15.947 10.5a.5.5 0 00.5-.5 6.5 6.5 0 00-12.13-3.25.5.5 0 10.866.5A5.5 5.5 0 0115.448 10a.5.5 0 00.5.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M18.354 8.146a.5.5 0 00-.708 0L16 9.793l-1.646-1.647a.5.5 0 00-.708.708l2 2a.5.5 0 00.708 0l2-2a.5.5 0 000-.708z" clip-rule="evenodd"/>'),K=v("ArrowRight",'<path fill-rule="evenodd" d="M12.146 6.646a.5.5 0 01.708 0l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708-.708L14.793 10l-2.647-2.646a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4 10a.5.5 0 01.5-.5H15a.5.5 0 010 1H4.5A.5.5 0 014 10z" clip-rule="evenodd"/>'),G=v("ArrowRightShort",'<path fill-rule="evenodd" d="M10.146 6.646a.5.5 0 01.708 0l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708-.708L12.793 10l-2.647-2.646a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6 10a.5.5 0 01.5-.5H13a.5.5 0 010 1H6.5A.5.5 0 016 10z" clip-rule="evenodd"/>'),W=v("ArrowUp",'<path fill-rule="evenodd" d="M10 5.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V6a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.646 4.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L10 5.707 7.354 8.354a.5.5 0 11-.708-.708l3-3z" clip-rule="evenodd"/>'),Y=v("ArrowUpDown",'<path fill-rule="evenodd" d="M13 5.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V6a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.646 4.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L13 5.707l-2.646 2.647a.5.5 0 01-.708-.708l3-3zm-9 7a.5.5 0 01.708 0L7 14.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7 4.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V5a.5.5 0 01.5-.5z" clip-rule="evenodd"/>'),X=v("ArrowUpLeft",'<path fill-rule="evenodd" d="M4.5 6a.5.5 0 01.5-.5h5a.5.5 0 010 1H5.5V11a.5.5 0 01-1 0V6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.646 5.646a.5.5 0 01.708 0l9 9a.5.5 0 01-.708.708l-9-9a.5.5 0 010-.708z" clip-rule="evenodd"/>'),Q=v("ArrowUpRight",'<path fill-rule="evenodd" d="M8.5 6a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V6.5H9a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.354 5.646a.5.5 0 010 .708l-9 9a.5.5 0 01-.708-.708l9-9a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),J=v("ArrowUpShort",'<path fill-rule="evenodd" d="M10 7.5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V8a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.646 6.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L10 7.707l-2.646 2.647a.5.5 0 01-.708-.708l3-3z" clip-rule="evenodd"/>'),Z=v("ArrowsAngleContract",'<path fill-rule="evenodd" d="M11.5 4.036a.5.5 0 01.5.5v3.5h3.5a.5.5 0 010 1h-4a.5.5 0 01-.5-.5v-4a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M16.354 3.646a.5.5 0 010 .708l-4.5 4.5a.5.5 0 01-.708-.708l4.5-4.5a.5.5 0 01.708 0zm-7.5 7.5a.5.5 0 010 .708l-4.5 4.5a.5.5 0 01-.708-.708l4.5-4.5a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.036 11.5a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v4a.5.5 0 01-1 0V12h-3.5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),ee=v("ArrowsAngleExpand",'<path fill-rule="evenodd" d="M4 11.5a.5.5 0 01.5.5v3.5H8a.5.5 0 010 1H4a.5.5 0 01-.5-.5v-4a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.854 11.11a.5.5 0 010 .708l-4.5 4.5a.5.5 0 11-.708-.707l4.5-4.5a.5.5 0 01.708 0zm7.464-7.464a.5.5 0 010 .708l-4.5 4.5a.5.5 0 11-.707-.708l4.5-4.5a.5.5 0 01.707 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.5 4a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v4a.5.5 0 01-1 0V4.5H12a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),te=v("ArrowsCollapse",'<path fill-rule="evenodd" d="M4 10a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11A.5.5 0 014 10zm6-7a.5.5 0 01.5.5V8a.5.5 0 01-1 0V3.5A.5.5 0 0110 3z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.354 5.646a.5.5 0 010 .708l-2 2a.5.5 0 01-.708 0l-2-2a.5.5 0 11.708-.708L10 7.293l1.646-1.647a.5.5 0 01.708 0zM10 17a.5.5 0 00.5-.5V12a.5.5 0 00-1 0v4.5a.5.5 0 00.5.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.354 14.354a.5.5 0 000-.708l-2-2a.5.5 0 00-.708 0l-2 2a.5.5 0 00.708.708L10 12.707l1.646 1.647a.5.5 0 00.708 0z" clip-rule="evenodd"/>'),re=v("ArrowsExpand",'<path fill-rule="evenodd" d="M4 10a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11A.5.5 0 014 10zm6-1.5a.5.5 0 00.5-.5V3.5a.5.5 0 00-1 0V8a.5.5 0 00.5.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.354 5.854a.5.5 0 000-.708l-2-2a.5.5 0 00-.708 0l-2 2a.5.5 0 10.708.708L10 4.207l1.646 1.647a.5.5 0 00.708 0zM10 11.5a.5.5 0 01.5.5v4.5a.5.5 0 01-1 0V12a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.354 14.146a.5.5 0 010 .708l-2 2a.5.5 0 01-.708 0l-2-2a.5.5 0 01.708-.708L10 15.793l1.646-1.647a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),ne=v("ArrowsFullscreen",'<path fill-rule="evenodd" d="M4 11.5a.5.5 0 01.5.5v3.5H8a.5.5 0 010 1H4a.5.5 0 01-.5-.5v-4a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.854 11.11a.5.5 0 010 .708l-4.5 4.5a.5.5 0 11-.708-.707l4.5-4.5a.5.5 0 01.708 0zm7.464-7.464a.5.5 0 010 .708l-4.5 4.5a.5.5 0 11-.707-.708l4.5-4.5a.5.5 0 01.707 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.5 4a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v4a.5.5 0 01-1 0V4.5H12a.5.5 0 01-.5-.5zm4.5 7.5a.5.5 0 00-.5.5v3.5H12a.5.5 0 000 1h4a.5.5 0 00.5-.5v-4a.5.5 0 00-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.146 11.11a.5.5 0 000 .708l4.5 4.5a.5.5 0 00.708-.707l-4.5-4.5a.5.5 0 00-.708 0zM3.682 3.646a.5.5 0 000 .708l4.5 4.5a.5.5 0 10.707-.708l-4.5-4.5a.5.5 0 00-.707 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.5 4a.5.5 0 00-.5-.5H4a.5.5 0 00-.5.5v4a.5.5 0 001 0V4.5H8a.5.5 0 00.5-.5z" clip-rule="evenodd"/>'),oe=v("At",'<path fill-rule="evenodd" d="M15.106 9.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V7.206h-1.032v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907s-.601 1.914-1.538 1.914c-.895 0-1.442-.725-1.442-1.914z" clip-rule="evenodd"/>'),ie=v("Award",'<path d="M10 2l1.669.864 1.858.282.842 1.68 1.337 1.32L15.4 8l.306 1.854-1.337 1.32-.842 1.68-1.858.282L10 14l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L4.6 8l-.306-1.854 1.337-1.32.842-1.68 1.858-.282L10 2z"/><path d="M6 13.794V18l4-1 4 1v-4.206l-2.018.306L10 15.126 8.018 14.1 6 13.794z"/>'),ae=v("Backspace",'<path fill-rule="evenodd" d="M8.603 4h7.08a1 1 0 011 1v10a1 1 0 01-1 1h-7.08a1 1 0 01-.76-.35L3 10l4.844-5.65A1 1 0 018.603 4zm7.08-1a2 2 0 012 2v10a2 2 0 01-2 2h-7.08a2 2 0 01-1.519-.698L2.241 10.65a1 1 0 010-1.302L7.084 3.7A2 2 0 018.603 3h7.08z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.83 7.146a.5.5 0 000 .708l5 5a.5.5 0 00.707-.708l-5-5a.5.5 0 00-.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M13.537 7.146a.5.5 0 010 .708l-5 5a.5.5 0 01-.708-.708l5-5a.5.5 0 01.707 0z" clip-rule="evenodd"/>'),se=v("BackspaceFill",'<path fill-rule="evenodd" d="M17.683 5a2 2 0 00-2-2h-7.08a2 2 0 00-1.519.698L2.241 9.35a1 1 0 000 1.302l4.843 5.65A2 2 0 008.603 17h7.08a2 2 0 002-2V5zM7.829 7.854a.5.5 0 11.707-.708l2.147 2.147 2.146-2.147a.5.5 0 11.707.708L11.39 10l2.146 2.146a.5.5 0 01-.707.708l-2.146-2.147-2.147 2.147a.5.5 0 01-.707-.708L9.976 10 7.829 7.854z" clip-rule="evenodd"/>'),le=v("BackspaceReverse",'<path fill-rule="evenodd" d="M11.08 4H4a1 1 0 00-1 1v10a1 1 0 001 1h7.08a1 1 0 00.76-.35L16.682 10l-4.844-5.65A1 1 0 0011.08 4zM4 3a2 2 0 00-2 2v10a2 2 0 002 2h7.08a2 2 0 001.519-.698l4.843-5.651a1 1 0 000-1.302L12.6 3.7a2 2 0 00-1.52-.7H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.854 7.146a.5.5 0 010 .708l-5 5a.5.5 0 01-.708-.708l5-5a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6.146 7.146a.5.5 0 000 .708l5 5a.5.5 0 00.708-.708l-5-5a.5.5 0 00-.708 0z" clip-rule="evenodd"/>'),ce=v("BackspaceReverseFill",'<path fill-rule="evenodd" d="M2 5a2 2 0 012-2h7.08a2 2 0 011.519.698l4.843 5.651a1 1 0 010 1.302L12.6 16.3a2 2 0 01-1.52.7H4a2 2 0 01-2-2V5zm9.854 2.854a.5.5 0 00-.708-.708L9 9.293 6.854 7.146a.5.5 0 10-.708.708L8.293 10l-2.147 2.146a.5.5 0 00.708.708L9 10.707l2.146 2.147a.5.5 0 00.708-.708L9.707 10l2.147-2.146z" clip-rule="evenodd"/>'),ue=v("BarChart",'<path fill-rule="evenodd" d="M6 13H4v3h2v-3zm5-4H9v7h2V9zm5-5h-2v12h2V4zm-2-1a1 1 0 00-1 1v12a1 1 0 001 1h2a1 1 0 001-1V4a1 1 0 00-1-1h-2zM8 9a1 1 0 011-1h2a1 1 0 011 1v7a1 1 0 01-1 1H9a1 1 0 01-1-1V9zm-5 4a1 1 0 011-1h2a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3z" clip-rule="evenodd"/>'),de=v("BarChartFill",'<rect width="4" height="5" x="3" y="12" rx="1"/><rect width="4" height="9" x="8" y="8" rx="1"/><rect width="4" height="14" x="13" y="3" rx="1"/>'),he=v("Battery",'<path fill-rule="evenodd" d="M14 7H4a1 1 0 00-1 1v4a1 1 0 001 1h10a1 1 0 001-1V8a1 1 0 00-1-1zM4 6a2 2 0 00-2 2v4a2 2 0 002 2h10a2 2 0 002-2V8a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path d="M16.5 11.5a1.5 1.5 0 000-3v3z"/>'),fe=v("BatteryCharging",'<path d="M16.5 11.5a1.5 1.5 0 000-3v3z"/><path fill-rule="evenodd" d="M11.585 4.568a.5.5 0 01.226.579l-1.134 3.686h1.99a.5.5 0 01.364.843l-5.334 5.667a.5.5 0 01-.842-.49l1.135-3.686H6a.5.5 0 01-.364-.843l5.333-5.667a.5.5 0 01.616-.09z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.332 6H4a2 2 0 00-2 2v4a2 2 0 002 2h2.072l.307-1H4a1 1 0 01-1-1V8a1 1 0 011-1h3.391l.941-1zM6.45 8H4v4h1.313a1.5 1.5 0 01-.405-2.361L6.45 8zm.976 5l-.308 1H8.96l.21-.224h.001l.73-.776H8.53l-.085.09.028-.09H7.426zm1.354-1H7.733l.257-.833H6a.5.5 0 01-.364-.843l.793-.843L7.823 8h1.373l-2.039 2.167h1.51a.492.492 0 01.166.028.5.5 0 01.312.619L8.78 12zm.69 0h1.373l1.395-1.482.793-.842a.5.5 0 00-.364-.843h-1.99L10.933 8H9.887l-.166.54-.199.646a.5.5 0 00.478.647h1.51L9.47 12zm.725-5h1.046l.308-1H9.706l-.942 1h1.374l.085-.09-.028.09zm2.4-1l-.308 1H14a1 1 0 011 1v4a1 1 0 01-1 1h-2.724l-.942 1H14a2 2 0 002-2V8a2 2 0 00-2-2h-1.405zm-.378 6H14v-1.98a1.499 1.499 0 01-.241.341L12.217 12zM14 8.646V8h-.646a1.5 1.5 0 01.646.646z" clip-rule="evenodd"/>'),pe=v("BatteryFull",'<path fill-rule="evenodd" d="M14 7H4a1 1 0 00-1 1v4a1 1 0 001 1h10a1 1 0 001-1V8a1 1 0 00-1-1zM4 6a2 2 0 00-2 2v4a2 2 0 002 2h10a2 2 0 002-2V8a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path d="M4 8h10v4H4V8zm12.5 3.5a1.5 1.5 0 000-3v3z"/>'),ve=v("Bell",'<path d="M10 18a2 2 0 002-2H8a2 2 0 002 2z"/><path fill-rule="evenodd" d="M10 3.918l-.797.161A4.002 4.002 0 006 8c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C14.134 10.197 14 8.628 14 8a4.002 4.002 0 00-3.203-3.92L10 3.917zM16.22 14c.223.447.482.801.78 1H3c.299-.199.557-.553.78-1C4.68 12.2 5 8.88 5 8c0-2.42 1.72-4.44 4.005-4.901a1 1 0 111.99 0A5.002 5.002 0 0115 8c0 .88.32 4.2 1.22 6z" clip-rule="evenodd"/>'),me=v("BellFill",'<path d="M10 18a2 2 0 002-2H8a2 2 0 002 2zm.995-14.901a1 1 0 10-1.99 0A5.002 5.002 0 005 8c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>'),ge=v("BlockquoteLeft",'<path fill-rule="evenodd" d="M4 5.5a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm5 3a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm-5 3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path d="M5.734 8.352a6.586 6.586 0 00-.445.275 1.94 1.94 0 00-.346.299 1.38 1.38 0 00-.252.369c-.058.129-.1.295-.123.498h.282c.242 0 .431.06.568.182.14.117.21.29.21.521a.697.697 0 01-.187.463c-.12.14-.289.21-.503.21-.336 0-.577-.109-.721-.327-.145-.223-.217-.514-.217-.873 0-.254.055-.485.164-.692.11-.21.242-.398.399-.562.16-.168.33-.31.51-.428.179-.117.33-.213.45-.287l.211.352zm2.168 0a6.588 6.588 0 00-.445.275 1.94 1.94 0 00-.346.299c-.113.12-.199.246-.257.375a1.75 1.75 0 00-.118.492h.282c.242 0 .431.06.568.182.14.117.21.29.21.521a.697.697 0 01-.187.463c-.12.14-.289.21-.504.21-.335 0-.576-.109-.72-.327-.145-.223-.217-.514-.217-.873 0-.254.055-.485.164-.692.11-.21.242-.398.398-.562.16-.168.33-.31.51-.428.18-.117.33-.213.451-.287l.211.352z"/>'),be=v("BlockquoteRight",'<path fill-rule="evenodd" d="M4 5.5a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path d="M14.168 8.352c.184.105.332.197.445.275.114.074.229.174.346.299.11.117.193.24.252.369s.1.295.123.498h-.281c-.243 0-.432.06-.569.182-.14.117-.21.29-.21.521 0 .164.062.319.187.463.121.14.289.21.504.21.336 0 .576-.109.72-.327.145-.223.217-.514.217-.873 0-.254-.054-.485-.164-.692a2.436 2.436 0 00-.398-.562c-.16-.168-.33-.31-.51-.428-.18-.117-.33-.213-.451-.287l-.211.352zm-2.168 0c.184.105.332.197.445.275.114.074.229.174.346.299.113.12.2.246.258.375.055.125.094.289.117.492h-.281c-.242 0-.432.06-.569.182-.14.117-.21.29-.21.521 0 .164.062.319.187.463.121.14.289.21.504.21.336 0 .576-.109.72-.327.145-.223.217-.514.217-.873 0-.254-.054-.485-.164-.692a2.438 2.438 0 00-.398-.562c-.16-.168-.33-.31-.51-.428-.18-.117-.33-.213-.451-.287L12 8.352z"/>'),ye=v("Book",'<path fill-rule="evenodd" d="M5.214 3.072c1.599-.32 3.702-.363 5.14 1.074a.5.5 0 01.146.354v11a.5.5 0 01-.854.354c-.843-.844-2.115-1.059-3.47-.92-1.344.14-2.66.617-3.452 1.013A.5.5 0 012 15.5v-11a.5.5 0 01.276-.447L2.5 4.5l-.224-.447.002-.001.004-.002.013-.006a5.116 5.116 0 01.22-.103 12.958 12.958 0 012.7-.869zM3 4.82v9.908c.846-.343 1.944-.672 3.074-.788 1.143-.118 2.387-.023 3.426.56V4.718c-1.063-.929-2.631-.956-4.09-.664A11.958 11.958 0 003 4.82z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.786 3.072c-1.598-.32-3.702-.363-5.14 1.074A.5.5 0 009.5 4.5v11a.5.5 0 00.854.354c.844-.844 2.115-1.059 3.47-.92 1.344.14 2.66.617 3.452 1.013A.5.5 0 0018 15.5v-11a.5.5 0 00-.276-.447L17.5 4.5l.224-.447-.002-.001-.004-.002-.013-.006-.047-.023a12.582 12.582 0 00-.799-.34 12.96 12.96 0 00-2.073-.609zM17 4.82v9.908c-.846-.343-1.944-.672-3.074-.788-1.143-.118-2.386-.023-3.426.56V4.718c1.063-.929 2.631-.956 4.09-.664A11.956 11.956 0 0117 4.82z" clip-rule="evenodd"/>'),_e=v("BookHalfFill",'<path fill-rule="evenodd" d="M5.214 3.072c1.599-.32 3.702-.363 5.14 1.074a.5.5 0 01.146.354v11a.5.5 0 01-.854.354c-.843-.844-2.115-1.059-3.47-.92-1.344.14-2.66.617-3.452 1.013A.5.5 0 012 15.5v-11a.5.5 0 01.276-.447L2.5 4.5l-.224-.447.002-.001.004-.002.013-.006a5.116 5.116 0 01.22-.103 12.958 12.958 0 012.7-.869zM3 4.82v9.908c.846-.343 1.944-.672 3.074-.788 1.143-.118 2.387-.023 3.426.56V4.718c-1.063-.929-2.631-.956-4.09-.664A11.958 11.958 0 003 4.82z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.786 3.072c-1.598-.32-3.702-.363-5.14 1.074A.5.5 0 009.5 4.5v11a.5.5 0 00.854.354c.844-.844 2.115-1.059 3.47-.92 1.344.14 2.66.617 3.452 1.013A.5.5 0 0018 15.5v-11a.5.5 0 00-.276-.447L17.5 4.5l.224-.447-.002-.001-.004-.002-.013-.006-.047-.023a12.582 12.582 0 00-.799-.34 12.96 12.96 0 00-2.073-.609z" clip-rule="evenodd"/>'),we=v("Bookmark",'<path fill-rule="evenodd" d="M10 14l5 3V5a2 2 0 00-2-2H7a2 2 0 00-2 2v12l5-3zm-4 1.234l4-2.4 4 2.4V5a1 1 0 00-1-1H7a1 1 0 00-1 1v10.234z" clip-rule="evenodd"/>'),ke=v("BookmarkFill",'<path fill-rule="evenodd" d="M5 5a2 2 0 012-2h6a2 2 0 012 2v12l-5-3-5 3V5z" clip-rule="evenodd"/>'),Se=v("Bootstrap",'<path fill-rule="evenodd" d="M14 3H6a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3zM6 2a4 4 0 00-4 4v8a4 4 0 004 4h8a4 4 0 004-4V6a4 4 0 00-4-4H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10.537 14H7.062V5.545h3.398c1.588 0 2.543.809 2.543 2.11 0 .884-.65 1.675-1.482 1.816v.1c1.143.117 1.904.931 1.904 2.033 0 1.488-1.084 2.396-2.888 2.396zM8.375 6.658v2.467h1.558c1.16 0 1.764-.428 1.764-1.23 0-.78-.568-1.237-1.541-1.237H8.375zm1.898 6.229H8.375v-2.725h1.822c1.236 0 1.887.463 1.887 1.348 0 .896-.627 1.377-1.811 1.377z" clip-rule="evenodd"/>'),xe=v("BootstrapFill",'<path fill-rule="evenodd" d="M6.002 2a4 4 0 00-4 4v8a4 4 0 004 4h8a4 4 0 004-4V6a4 4 0 00-4-4h-8zm1.06 12h3.475c1.804 0 2.888-.908 2.888-2.396 0-1.102-.761-1.916-1.904-2.034v-.1c.832-.14 1.482-.93 1.482-1.816 0-1.3-.955-2.11-2.543-2.11H7.063V14zm1.313-4.875V6.658h1.78c.974 0 1.542.457 1.542 1.237 0 .802-.604 1.23-1.764 1.23H8.375zm0 3.762h1.898c1.184 0 1.81-.48 1.81-1.377 0-.885-.65-1.348-1.886-1.348H8.375v2.725z" clip-rule="evenodd"/>'),Oe=v("BootstrapReboot",'<path fill-rule="evenodd" d="M3.161 10a6.84 6.84 0 106.842-6.84.58.58 0 110-1.16 8 8 0 11-6.556 3.412l-.663-.577a.58.58 0 01.227-.997l2.52-.69a.58.58 0 01.728.633l-.332 2.592a.58.58 0 01-.956.364l-.643-.56A6.812 6.812 0 003.16 10zm5.228-.079V7.277h1.57c.881 0 1.416.499 1.416 1.32 0 .84-.505 1.324-1.386 1.324h-1.6zm0 3.75v-2.828h1.57l1.498 2.828h1.314l-1.646-3.006c.897-.3 1.427-1.106 1.427-2.1 0-1.37-.943-2.246-2.456-2.246H7.248v7.352h1.141z" clip-rule="evenodd"/>'),Te=v("BoxArrowBottomLeft",'<path fill-rule="evenodd" d="M15 3.5A1.5 1.5 0 0116.5 5v8a1.5 1.5 0 01-1.5 1.5h-4a.5.5 0 010-1h4a.5.5 0 00.5-.5V5a.5.5 0 00-.5-.5H7a.5.5 0 00-.5.5v4a.5.5 0 01-1 0V5A1.5 1.5 0 017 3.5h8zm-11 7a.5.5 0 00-.5.5v5a.5.5 0 00.5.5h5a.5.5 0 000-1H4.5V11a.5.5 0 00-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M3.646 16.354a.5.5 0 00.708 0l8-8a.5.5 0 00-.708-.708l-8 8a.5.5 0 000 .708z" clip-rule="evenodd"/>'),Ee=v("BoxArrowBottomRight",'<path fill-rule="evenodd" d="M5 3.5A1.5 1.5 0 003.5 5v8A1.5 1.5 0 005 14.5h4a.5.5 0 000-1H5a.5.5 0 01-.5-.5V5a.5.5 0 01.5-.5h8a.5.5 0 01.5.5v4a.5.5 0 001 0V5A1.5 1.5 0 0013 3.5H5zm11 7a.5.5 0 01.5.5v5a.5.5 0 01-.5.5h-5a.5.5 0 010-1h4.5V11a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M16.354 16.354a.5.5 0 01-.708 0l-8-8a.5.5 0 11.708-.708l8 8a.5.5 0 010 .708z" clip-rule="evenodd"/>'),Ce=v("BoxArrowDown",'<path fill-rule="evenodd" d="M6.646 13.646a.5.5 0 01.708 0L10 16.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 6.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V7a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 4A1.5 1.5 0 016 2.5h8A1.5 1.5 0 0115.5 4v7a1.5 1.5 0 01-1.5 1.5h-1.5a.5.5 0 010-1H14a.5.5 0 00.5-.5V4a.5.5 0 00-.5-.5H6a.5.5 0 00-.5.5v7a.5.5 0 00.5.5h1.5a.5.5 0 010 1H6A1.5 1.5 0 014.5 11V4z" clip-rule="evenodd"/>'),Ie=v("BoxArrowLeft",'<path fill-rule="evenodd" d="M6.354 13.354a.5.5 0 000-.708L3.707 10l2.647-2.646a.5.5 0 10-.708-.708l-3 3a.5.5 0 000 .708l3 3a.5.5 0 00.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M13.5 10a.5.5 0 00-.5-.5H4a.5.5 0 000 1h9a.5.5 0 00.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M16 15.5a1.5 1.5 0 001.5-1.5V6A1.5 1.5 0 0016 4.5H9A1.5 1.5 0 007.5 6v1.5a.5.5 0 001 0V6a.5.5 0 01.5-.5h7a.5.5 0 01.5.5v8a.5.5 0 01-.5.5H9a.5.5 0 01-.5-.5v-1.5a.5.5 0 00-1 0V14A1.5 1.5 0 009 15.5h7z" clip-rule="evenodd"/>'),je=v("BoxArrowRight",'<path fill-rule="evenodd" d="M13.646 13.354a.5.5 0 010-.708L16.293 10l-2.647-2.646a.5.5 0 01.708-.708l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6.5 10a.5.5 0 01.5-.5h9a.5.5 0 010 1H7a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4 15.5A1.5 1.5 0 012.5 14V6A1.5 1.5 0 014 4.5h7A1.5 1.5 0 0112.5 6v1.5a.5.5 0 01-1 0V6a.5.5 0 00-.5-.5H4a.5.5 0 00-.5.5v8a.5.5 0 00.5.5h7a.5.5 0 00.5-.5v-1.5a.5.5 0 011 0V14a1.5 1.5 0 01-1.5 1.5H4z" clip-rule="evenodd"/>'),Me=v("BoxArrowUp",'<path fill-rule="evenodd" d="M6.646 6.354a.5.5 0 00.708 0L10 3.707l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 13.5a.5.5 0 00.5-.5V4a.5.5 0 00-1 0v9a.5.5 0 00.5.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 16A1.5 1.5 0 006 17.5h8a1.5 1.5 0 001.5-1.5V9A1.5 1.5 0 0014 7.5h-1.5a.5.5 0 000 1H14a.5.5 0 01.5.5v7a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V9a.5.5 0 01.5-.5h1.5a.5.5 0 000-1H6A1.5 1.5 0 004.5 9v7z" clip-rule="evenodd"/>'),Re=v("BoxArrowUpLeft",'<path fill-rule="evenodd" d="M16.5 15a1.5 1.5 0 01-1.5 1.5H7A1.5 1.5 0 015.5 15v-4a.5.5 0 011 0v4a.5.5 0 00.5.5h8a.5.5 0 00.5-.5V7a.5.5 0 00-.5-.5h-4a.5.5 0 010-1h4A1.5 1.5 0 0116.5 7v8zm-7-11a.5.5 0 00-.5-.5H4a.5.5 0 00-.5.5v5a.5.5 0 001 0V4.5H9a.5.5 0 00.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M3.646 3.646a.5.5 0 000 .708l8 8a.5.5 0 00.708-.708l-8-8a.5.5 0 00-.708 0z" clip-rule="evenodd"/>'),Ae=v("BoxArrowUpRight",'<path fill-rule="evenodd" d="M3.5 15A1.5 1.5 0 005 16.5h8a1.5 1.5 0 001.5-1.5v-4a.5.5 0 00-1 0v4a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V7a.5.5 0 01.5-.5h4a.5.5 0 000-1H5A1.5 1.5 0 003.5 7v8zm7-11a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v5a.5.5 0 01-1 0V4.5H11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M16.354 3.646a.5.5 0 010 .708l-8 8a.5.5 0 01-.708-.708l8-8a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),Pe=v("Braces",'<path d="M4.114 10.063V9.9c1.005-.102 1.497-.615 1.497-1.6V6.503c0-1.094.39-1.538 1.354-1.538h.273V4h-.376C5.25 4 4.49 4.759 4.49 6.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538v-1.798c0-.984-.492-1.497-1.497-1.6zM15.886 9.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V9.332c-1.114 0-1.49-.362-1.49-1.456V6.352C15.51 4.759 14.75 4 13.138 4h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V8.3c0 .984.492 1.497 1.497 1.6z"/>'),Be=v("BrightnessFillHigh",'<circle cx="10" cy="10" r="4"/><path fill-rule="evenodd" d="M10 2a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 0110 2zm0 13a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zm8-5a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zM5 10a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zm10.657-5.657a.5.5 0 010 .707l-1.414 1.414a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm-9.193 9.193a.5.5 0 010 .707L5.05 15.657a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm9.193 2.121a.5.5 0 01-.707 0l-1.414-1.414a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707zM6.464 6.464a.5.5 0 01-.707 0L4.343 5.05a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707z" clip-rule="evenodd"/>'),De=v("BrightnessFillLow",'<circle cx="10" cy="10" r="4"/><circle cx="10" cy="4.5" r=".5"/><circle cx="10" cy="15.5" r=".5"/><circle cx="15.5" cy="10" r=".5" transform="rotate(90 15.5 10)"/><circle cx="4.5" cy="10" r=".5" transform="rotate(90 4.5 10)"/><circle cx="13.889" cy="6.111" r=".5" transform="rotate(45 13.89 6.11)"/><circle cx="6.111" cy="13.889" r=".5" transform="rotate(45 6.11 13.89)"/><circle cx="13.889" cy="13.889" r=".5" transform="rotate(135 13.89 13.89)"/><circle cx="6.111" cy="6.111" r=".5" transform="rotate(135 6.11 6.11)"/>'),Le=v("BrightnessHigh",'<path fill-rule="evenodd" d="M10 13a3 3 0 100-6 3 3 0 000 6zm0 1a4 4 0 100-8 4 4 0 000 8zm0-12a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 0110 2zm0 13a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zm8-5a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zM5 10a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zm10.657-5.657a.5.5 0 010 .707l-1.414 1.414a.5.5 0 11-.707-.707l1.414-1.414a.5.5 0 01.707 0zm-9.193 9.193a.5.5 0 010 .707L5.05 15.657a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm9.193 2.121a.5.5 0 01-.707 0l-1.414-1.414a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707zM6.464 6.464a.5.5 0 01-.707 0L4.343 5.05a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707z" clip-rule="evenodd"/>'),ze=v("BrightnessLow",'<path fill-rule="evenodd" d="M10 13a3 3 0 100-6 3 3 0 000 6zm0 1a4 4 0 100-8 4 4 0 000 8z" clip-rule="evenodd"/><circle cx="10" cy="4.5" r=".5"/><circle cx="10" cy="15.5" r=".5"/><circle cx="15.5" cy="10" r=".5" transform="rotate(90 15.5 10)"/><circle cx="4.5" cy="10" r=".5" transform="rotate(90 4.5 10)"/><circle cx="13.889" cy="6.111" r=".5" transform="rotate(45 13.89 6.11)"/><circle cx="6.111" cy="13.889" r=".5" transform="rotate(45 6.11 13.89)"/><circle cx="13.889" cy="13.889" r=".5" transform="rotate(135 13.89 13.89)"/><circle cx="6.111" cy="6.111" r=".5" transform="rotate(135 6.11 6.11)"/>'),Fe=v("Brush",'<path d="M17.213 3.018a.572.572 0 01.755.05.57.57 0 01.058.746c-.941 1.268-3.982 5.293-6.426 7.736a12.89 12.89 0 01-1.952 1.596c-.508.339-1.167.234-1.599-.197-.416-.416-.53-1.047-.213-1.543.347-.542.888-1.273 1.643-1.977 2.521-2.35 6.476-5.44 7.734-6.411z"/><path d="M9 14a2 2 0 01-2 2c-1 0-2 0-3.5-.5s.5-1 1-1.5 1.395-2 2.5-2a2 2 0 012 2z"/>'),Ne=v("Bucket",'<path fill-rule="evenodd" d="M10 3.5A4.5 4.5 0 005.5 8h-1a5.5 5.5 0 1111 0h-1A4.5 4.5 0 0010 3.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M3.61 7.687A.5.5 0 014 7.5h12a.5.5 0 01.488.608l-1.826 8.217a1.5 1.5 0 01-1.464 1.175H6.802a1.5 1.5 0 01-1.464-1.175L3.512 8.108a.5.5 0 01.098-.42zm1.013.813l1.691 7.608a.5.5 0 00.488.392h6.396a.5.5 0 00.488-.392l1.69-7.608H4.624z" clip-rule="evenodd"/>'),Ve=v("BucketFill",'<path fill-rule="evenodd" d="M10 3.5A4.5 4.5 0 005.5 8h-1a5.5 5.5 0 1111 0h-1A4.5 4.5 0 0010 3.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M3.61 7.687A.5.5 0 014 7.5h12a.5.5 0 01.488.608l-1.826 8.217a1.5 1.5 0 01-1.464 1.175H6.802a1.5 1.5 0 01-1.464-1.175L3.512 8.108a.5.5 0 01.098-.42z" clip-rule="evenodd"/>'),He=v("Building",'<path fill-rule="evenodd" d="M17.285 2.089a.5.5 0 01.215.411v15a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V16h-1v1.5a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5v-6a.5.5 0 01.418-.493l5.582-.93V5.5a.5.5 0 01.324-.468l8-3a.5.5 0 01.46.057zM9.5 5.846V10.5a.5.5 0 01-.418.493l-5.582.93V17h8v-1.5a.5.5 0 01.5-.5h2a.5.5 0 01.5.5V17h2V3.221l-7 2.625z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.5 17.5v-7h1v7h-1z" clip-rule="evenodd"/><path d="M4.5 13h1v1h-1v-1zm2 0h1v1h-1v-1zm-2 2h1v1h-1v-1zm2 0h1v1h-1v-1zm6-10h1v1h-1V5zm2 0h1v1h-1V5zm-4 2h1v1h-1V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zm-2 2h1v1h-1V9zm2 0h1v1h-1V9zm-4 0h1v1h-1V9zm0 2h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm-4 2h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"/>'),$e=v("Bullseye",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm0 1a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 15a5 5 0 100-10 5 5 0 000 10zm0 1a6 6 0 100-12 6 6 0 000 12z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 13a3 3 0 100-6 3 3 0 000 6zm0 1a4 4 0 100-8 4 4 0 000 8z" clip-rule="evenodd"/><path d="M11.5 10a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>'),Ue=v("Calendar",'<path fill-rule="evenodd" d="M16 2H4a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2zM3 5.857C3 5.384 3.448 5 4 5h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H4c-.552 0-1-.384-1-.857V5.857z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.5 9a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>'),qe=v("CalendarFill",'<path d="M2 4a2 2 0 012-2h12a2 2 0 012 2H2z"/><path fill-rule="evenodd" d="M2 5h16v11a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm6.5 4a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm-8 2a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm-8 2a1 1 0 11-2 0 1 1 0 012 0zm2 1a1 1 0 100-2 1 1 0 000 2zm4-1a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd"/>'),Ke=v("Camera",'<path d="M11 7c-1.657 0-4 1.343-4 3a4 4 0 014-4v1z"/><path fill-rule="evenodd" d="M16.333 5h-2.015A5.97 5.97 0 0011 4a5.972 5.972 0 00-3.318 1H3.667C2.747 5 2 5.746 2 6.667v6.666C2 14.253 2.746 15 3.667 15h4.015c.95.632 2.091 1 3.318 1a5.973 5.973 0 003.318-1h2.015c.92 0 1.667-.746 1.667-1.667V6.667C18 5.747 17.254 5 16.333 5zM3.5 7a.5.5 0 100-1 .5.5 0 000 1zm7.5 8a5 5 0 100-10 5 5 0 000 10z" clip-rule="evenodd"/><path d="M4 5a1 1 0 011-1h1a1 1 0 010 2H5a1 1 0 01-1-1z"/>'),Ge=v("CameraVideo",'<path fill-rule="evenodd" d="M4.667 5.5c-.645 0-1.167.522-1.167 1.167v6.666c0 .645.522 1.167 1.167 1.167h6.666c.645 0 1.167-.522 1.167-1.167V6.667c0-.645-.522-1.167-1.167-1.167H4.667zM2.5 6.667C2.5 5.47 3.47 4.5 4.667 4.5h6.666c1.197 0 2.167.97 2.167 2.167v6.666c0 1.197-.97 2.167-2.167 2.167H4.667A2.167 2.167 0 012.5 13.333V6.667z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M13.25 7.65l2.768-1.605a.318.318 0 01.482.263v7.384c0 .228-.26.393-.482.264l-2.767-1.605-.502.865 2.767 1.605c.859.498 1.984-.095 1.984-1.129V6.308c0-1.033-1.125-1.626-1.984-1.128L12.75 6.785l.502.865z" clip-rule="evenodd"/>'),We=v("CameraVideoFill",'<path d="M4.667 5h6.666C12.253 5 13 5.746 13 6.667v6.666c0 .92-.746 1.667-1.667 1.667H4.667C3.747 15 3 14.254 3 13.333V6.667C3 5.747 3.746 5 4.667 5z"/><path d="M9.404 10.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V6.308c0-.63-.692-1.01-1.233-.696L9.404 9.304a.802.802 0 000 1.393z"/>'),Ye=v("Capslock",'<path fill-rule="evenodd" d="M9.27 3.047a1 1 0 011.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H13.5v1a1 1 0 01-1 1h-5a1 1 0 01-1-1v-1H3.654c-.875 0-1.328-1.045-.73-1.684L9.27 3.047zm7.076 7.453L10 3.731 3.654 10.5H6.5a1 1 0 011 1v1h5v-1a1 1 0 011-1h2.846zm-9.846 5a1 1 0 011-1h5a1 1 0 011 1v1a1 1 0 01-1 1h-5a1 1 0 01-1-1v-1zm6 0h-5v1h5v-1z" clip-rule="evenodd"/>'),Xe=v("CapslockFill",'<path fill-rule="evenodd" d="M9.27 3.047a1 1 0 011.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H13.5v1a1 1 0 01-1 1h-5a1 1 0 01-1-1v-1H3.654c-.875 0-1.328-1.045-.73-1.684L9.27 3.047zM6.5 15.5a1 1 0 011-1h5a1 1 0 011 1v1a1 1 0 01-1 1h-5a1 1 0 01-1-1v-1z" clip-rule="evenodd"/>'),Qe=v("Chat",'<path fill-rule="evenodd" d="M8.207 13.293L7.5 14a5.5 5.5 0 110-11h5a5.5 5.5 0 110 11s-1.807 2.169-4.193 2.818C7.887 16.933 7.449 17 7 17c.291-.389.488-.74.617-1.052C8.149 14.649 7.5 14 7.5 14c.707-.707.708-.707.708-.706h.001l.002.003.004.004.01.01a1.184 1.184 0 01.074.084c.039.047.085.108.134.183.097.15.206.36.284.626.114.386.154.855.047 1.394.717-.313 1.37-.765 1.895-1.201a10.266 10.266 0 001.013-.969l.05-.056.01-.012m0 0A1 1 0 0112.5 13a4.5 4.5 0 100-9h-5a4.5 4.5 0 000 9 1 1 0 01.707.293" clip-rule="evenodd"/>'),Je=v("ChatFill",'<path fill-rule="evenodd" d="M7.5 14s.65.65.117 1.948A4.821 4.821 0 017 17c.449 0 .887-.067 1.307-.181C10.692 16.169 12.5 14 12.5 14a5.5 5.5 0 100-11h-5a5.5 5.5 0 100 11z" clip-rule="evenodd"/>'),Ze=v("Check",'<path fill-rule="evenodd" d="M15.854 5.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L8.5 12.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),et=v("CheckBox",'<path fill-rule="evenodd" d="M17.354 4.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L10 11.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M3.5 15A1.5 1.5 0 005 16.5h10a1.5 1.5 0 001.5-1.5v-5a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V5a.5.5 0 01.5-.5h8a.5.5 0 000-1H5A1.5 1.5 0 003.5 5v10z" clip-rule="evenodd"/>'),tt=v("CheckCircle",'<path fill-rule="evenodd" d="M17.354 4.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L10 11.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 4.5a5.5 5.5 0 105.5 5.5.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63.5.5 0 11-.5.865A5.472 5.472 0 0010 4.5z" clip-rule="evenodd"/>'),nt=v("ChevronCompactDown",'<path fill-rule="evenodd" d="M3.553 8.776a.5.5 0 01.67-.223L10 11.44l5.776-2.888a.5.5 0 11.448.894l-6 3a.5.5 0 01-.448 0l-6-3a.5.5 0 01-.223-.67z" clip-rule="evenodd"/>'),ot=v("ChevronCompactLeft",'<path fill-rule="evenodd" d="M11.224 3.553a.5.5 0 01.223.67L8.56 10l2.888 5.776a.5.5 0 11-.894.448l-3-6a.5.5 0 010-.448l3-6a.5.5 0 01.67-.223z" clip-rule="evenodd"/>'),it=v("ChevronCompactRight",'<path fill-rule="evenodd" d="M8.776 3.553a.5.5 0 01.671.223l3 6a.5.5 0 010 .448l-3 6a.5.5 0 11-.894-.448L11.44 10 8.553 4.224a.5.5 0 01.223-.671z" clip-rule="evenodd"/>'),at=v("ChevronCompactUp",'<path fill-rule="evenodd" d="M9.776 7.553a.5.5 0 01.448 0l6 3a.5.5 0 11-.448.894L10 8.56l-5.776 2.888a.5.5 0 11-.448-.894l6-3z" clip-rule="evenodd"/>'),st=v("ChevronDown",'<path fill-rule="evenodd" d="M3.646 6.646a.5.5 0 01.708 0L10 12.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>'),lt=v("ChevronLeft",'<path fill-rule="evenodd" d="M13.354 3.646a.5.5 0 010 .708L7.707 10l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),ct=v("ChevronRight",'<path fill-rule="evenodd" d="M6.646 3.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L12.293 10 6.646 4.354a.5.5 0 010-.708z" clip-rule="evenodd"/>'),ut=v("ChevronUp",'<path fill-rule="evenodd" d="M9.646 6.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L10 7.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"/>'),ht=v("Circle",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm0 1a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"/>'),ft=v("CircleFill",'<circle cx="10" cy="10" r="8"/>'),pt=v("CircleHalf",'<path fill-rule="evenodd" d="M10 17V3a7 7 0 000 14zm0 1a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"/>'),vt=v("CircleSlash",'<path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zM5.071 4.347a7.5 7.5 0 0110.582 10.582L5.071 4.347zm-.724.724a7.5 7.5 0 0010.582 10.582L4.347 5.071z" clip-rule="evenodd"/>'),mt=v("Clock",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm8-7a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 4a.5.5 0 01.5.5V10a.5.5 0 01-.5.5H5.5a.5.5 0 010-1h4v-5A.5.5 0 0110 4z" clip-rule="evenodd"/>'),gt=v("ClockFill",'<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM5.5 9.5h4v-5a.5.5 0 011 0V10a.5.5 0 01-.5.5H5.5a.5.5 0 010-1z" clip-rule="evenodd"/>'),bt=v("Cloud",'<path fill-rule="evenodd" d="M6.887 9.2l-.964-.165A2.5 2.5 0 105.5 14h10a1.5 1.5 0 00.237-2.982l-1.038-.164.216-1.028a4 4 0 10-7.843-1.587l-.185.96zm9.084.341a5 5 0 00-9.88-1.492A3.5 3.5 0 105.5 15h9.999a2.5 2.5 0 00.394-4.968c.033-.16.06-.324.077-.49z" clip-rule="evenodd"/>'),yt=v("CloudDownload",'<path d="M6.887 7.2l-.964-.165A2.5 2.5 0 105.5 12H8v1H5.5a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.501 2.501 0 0115.5 13H12v-1h3.5a1.5 1.5 0 00.237-2.981L14.7 8.854l.216-1.028a4 4 0 10-7.843-1.587l-.185.96z"/><path fill-rule="evenodd" d="M7 14.5a.5.5 0 01.707 0L10 16.793l2.293-2.293a.5.5 0 11.707.707l-2.646 2.647a.5.5 0 01-.708 0L7 15.207a.5.5 0 010-.707z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 8a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-8A.5.5 0 0110 8z" clip-rule="evenodd"/>'),_t=v("CloudFill",'<path fill-rule="evenodd" d="M5.5 15a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0115.5 15h-10z" clip-rule="evenodd"/>'),wt=v("CloudUpload",'<path d="M6.887 8.2l-.964-.165A2.5 2.5 0 105.5 13H8v1H5.5a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.501 2.501 0 0115.5 14H12v-1h3.5a1.5 1.5 0 00.237-2.982L14.7 9.854l.216-1.028a4 4 0 10-7.843-1.587l-.185.96z"/><path fill-rule="evenodd" d="M7 10.854a.5.5 0 00.707 0L10 8.56l2.293 2.293a.5.5 0 00.707-.707L10.354 7.5a.5.5 0 00-.708 0L7 10.146a.5.5 0 000 .708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 8a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-8A.5.5 0 0110 8z" clip-rule="evenodd"/>'),kt=v("Code",'<path fill-rule="evenodd" d="M7.854 6.146a.5.5 0 010 .708L4.707 10l3.147 3.146a.5.5 0 01-.708.708l-3.5-3.5a.5.5 0 010-.708l3.5-3.5a.5.5 0 01.708 0zm4.292 0a.5.5 0 000 .708L15.293 10l-3.147 3.146a.5.5 0 00.708.708l3.5-3.5a.5.5 0 000-.708l-3.5-3.5a.5.5 0 00-.708 0z" clip-rule="evenodd"/>'),St=v("CodeSlash",'<path fill-rule="evenodd" d="M6.854 6.146a.5.5 0 010 .708L3.707 10l3.147 3.146a.5.5 0 01-.708.708l-3.5-3.5a.5.5 0 010-.708l3.5-3.5a.5.5 0 01.708 0zm6.292 0a.5.5 0 000 .708L16.293 10l-3.147 3.146a.5.5 0 00.708.708l3.5-3.5a.5.5 0 000-.708l-3.5-3.5a.5.5 0 00-.708 0zm-.999-3.124a.5.5 0 01.33.625l-4 13a.5.5 0 11-.955-.294l4-13a.5.5 0 01.625-.33z" clip-rule="evenodd"/>'),xt=v("Columns",'<path fill-rule="evenodd" d="M17 4H3v12h14V4zM3 3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V4a1 1 0 00-1-1H3z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.5 16V4h1v12h-1zm0-8H3V7h6.5v1zm7.5 5h-6.5v-1H17v1z" clip-rule="evenodd"/>'),Ot=v("ColumnsGutters",'<path fill-rule="evenodd" d="M8 3H3v3h5V3zM3 2a1 1 0 00-1 1v3a1 1 0 001 1h5a1 1 0 001-1V3a1 1 0 00-1-1H3zm14 12h-5v3h5v-3zm-5-1a1 1 0 00-1 1v3a1 1 0 001 1h5a1 1 0 001-1v-3a1 1 0 00-1-1h-5zm-4-3H3v7h5v-7zM3 9a1 1 0 00-1 1v7a1 1 0 001 1h5a1 1 0 001-1v-7a1 1 0 00-1-1H3zm14-6h-5v7h5V3zm-5-1a1 1 0 00-1 1v7a1 1 0 001 1h5a1 1 0 001-1V3a1 1 0 00-1-1h-5z" clip-rule="evenodd"/>'),Tt=v("Command",'<path fill-rule="evenodd" d="M4 5.5A1.5 1.5 0 005.5 7H7V5.5a1.5 1.5 0 10-3 0zM8 8V5.5A2.5 2.5 0 105.5 8H8zm8-2.5A1.5 1.5 0 0114.5 7H13V5.5a1.5 1.5 0 013 0zM12 8V5.5A2.5 2.5 0 1114.5 8H12zm-8 6.5A1.5 1.5 0 015.5 13H7v1.5a1.5 1.5 0 01-3 0zM8 12v2.5A2.5 2.5 0 115.5 12H8zm8 2.5a1.5 1.5 0 00-1.5-1.5H13v1.5a1.5 1.5 0 003 0zM12 12v2.5a2.5 2.5 0 102.5-2.5H12z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 8H8v4h4V8zM7 7v6h6V7H7z" clip-rule="evenodd"/>'),Et=v("Compass",'<path fill-rule="evenodd" d="M10 17.016a6.5 6.5 0 100-13 6.5 6.5 0 000 13zm0 1a7.5 7.5 0 100-15 7.5 7.5 0 000 15z" clip-rule="evenodd"/><rect width="4" height="2" x="8" y="2" rx="1"/><path d="M8.94 9.44l4.95-2.83-2.83 4.95-4.95 2.83 2.83-4.95z"/>'),Ct=v("Cone",'<path d="M9.03 3.88c.252-1.01 1.688-1.01 1.94 0L14 16H6L9.03 3.88z"/><path fill-rule="evenodd" d="M3.5 16a.5.5 0 01.5-.5h12a.5.5 0 010 1H4a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),It=v("ConeStriped",'<path fill-rule="evenodd" d="M9.879 13.015a.5.5 0 01.242 0l6 1.5a.5.5 0 01.037.96l-6 2a.499.499 0 01-.316 0l-6-2a.5.5 0 01.037-.96l6-1.5z" clip-rule="evenodd"/><path d="M13.885 14.538l-.72-2.877c-.862.212-1.964.339-3.165.339s-2.303-.127-3.165-.339l-.72 2.877c-.073.292-.002.6.256.756.49.295 1.545.706 3.629.706s3.14-.411 3.63-.706c.257-.155.328-.464.255-.756zM11.97 6.88l.953 3.811C12.159 10.878 11.14 11 10 11c-1.14 0-2.159-.122-2.923-.309L8.03 6.88C8.635 6.957 9.3 7 10 7s1.365-.043 1.97-.12zm-.245-.978L10.97 2.88c-.252-1.01-1.688-1.01-1.94 0L8.275 5.9C8.8 5.965 9.382 6 10 6c.618 0 1.2-.036 1.725-.098z"/>'),jt=v("Controller",'<path fill-rule="evenodd" d="M13.119 4.693c.904.19 1.75.495 2.235.98.407.408.779 1.05 1.094 1.772.32.733.599 1.591.805 2.466.206.875.34 1.78.364 2.606.024.815-.059 1.602-.328 2.21a1.42 1.42 0 01-1.445.83c-.636-.067-1.115-.394-1.513-.773a11.307 11.307 0 01-.739-.809c-.126-.147-.25-.291-.368-.422-.728-.804-1.597-1.527-3.224-1.527-1.627 0-2.496.723-3.224 1.527-.119.131-.242.275-.368.422-.243.283-.494.576-.739.81-.398.378-.877.705-1.513.772a1.42 1.42 0 01-1.445-.83c-.27-.608-.352-1.395-.329-2.21.024-.826.16-1.73.365-2.606.206-.875.486-1.733.805-2.466.315-.722.687-1.364 1.094-1.772.486-.485 1.331-.79 2.235-.98.932-.196 2.03-.292 3.119-.292 1.089 0 2.187.096 3.119.292zm-6.032.979c-.877.185-1.469.443-1.733.708-.276.276-.587.783-.885 1.465a13.748 13.748 0 00-.748 2.295 12.35 12.35 0 00-.339 2.406c-.022.755.062 1.368.243 1.776a.42.42 0 00.426.24c.327-.034.61-.199.929-.502.212-.202.4-.423.615-.674.133-.156.276-.323.44-.505.826-.912 1.943-1.854 3.965-1.854s3.139.942 3.965 1.854c.164.182.307.35.44.505.214.25.403.472.615.674.318.303.601.468.929.503a.42.42 0 00.426-.241c.18-.408.265-1.02.243-1.776a12.353 12.353 0 00-.339-2.406 13.753 13.753 0 00-.748-2.295c-.298-.682-.61-1.19-.885-1.465-.264-.265-.856-.523-1.733-.708-.85-.179-1.877-.27-2.913-.27-1.036 0-2.063.091-2.913.27z" clip-rule="evenodd"/><path d="M13.5 8.026a.5.5 0 11-1 0 .5.5 0 011 0zm-1 1a.5.5 0 11-1 0 .5.5 0 011 0zm2 0a.5.5 0 11-1 0 .5.5 0 011 0zm-1 1.001a.5.5 0 11-1 0 .5.5 0 011 0zm-7-2.501h1v3h-1v-3z"/><path d="M5.5 8.526h3v1h-3v-1zM5.051 5.26a.5.5 0 01.354-.613l1.932-.518a.5.5 0 01.258.966l-1.932.518a.5.5 0 01-.612-.354zm9.976 0a.5.5 0 00-.353-.613l-1.932-.518a.5.5 0 10-.259.966l1.932.518a.5.5 0 00.612-.354z"/>'),Mt=v("CreditCard",'<path fill-rule="evenodd" d="M16 5H4a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V6a1 1 0 00-1-1zM4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4z" clip-rule="evenodd"/><rect width="3" height="3" x="4" y="11" rx="1"/><path d="M3 7h14v2H3z"/>'),Rt=v("Cursor",'<path fill-rule="evenodd" d="M16.081 4.182a.5.5 0 01.104.557l-5.657 12.727a.5.5 0 01-.917-.006L7.57 12.694l-4.766-2.042a.5.5 0 01-.006-.917L15.525 4.08a.5.5 0 01.556.103zM4.25 10.184l3.897 1.67a.5.5 0 01.262.263l1.67 3.897L14.743 5.52 4.25 10.184z" clip-rule="evenodd"/>'),At=v("CursorFill",'<path fill-rule="evenodd" d="M16.081 4.182a.5.5 0 01.104.557l-5.657 12.727a.5.5 0 01-.917-.006L7.57 12.694l-4.766-2.042a.5.5 0 01-.006-.917L15.525 4.08a.5.5 0 01.556.103z" clip-rule="evenodd"/>'),Pt=v("Dash",'<path fill-rule="evenodd" d="M5.5 10a.5.5 0 01.5-.5h8a.5.5 0 010 1H6a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Bt=v("Diamond",'<path fill-rule="evenodd" d="M5.1 2.7a.5.5 0 01.4-.2h9a.5.5 0 01.4.2l2.976 3.974c.149.185.156.45.01.644L10.4 17.3a.5.5 0 01-.8 0l-7.5-10a.5.5 0 010-.6l3-4zm11.386 3.785l-1.806-2.41-.776 2.413 2.582-.003zm-3.633.004l.961-2.989H6.186l.963 2.995 5.704-.006zM7.47 7.495l5.062-.005L10 15.366 7.47 7.495zm-1.371-.999l-.78-2.422-1.818 2.425 2.598-.003zM3.499 7.5l2.92-.003 2.193 6.82L3.5 7.5zm7.889 6.817l2.194-6.828 2.929-.003-5.123 6.831z" clip-rule="evenodd"/>'),Dt=v("DiamondHalf",'<path fill-rule="evenodd" d="M8.94 2.354a1.5 1.5 0 012.12 0l6.586 6.585a1.5 1.5 0 010 2.122l-6.585 6.585a1.5 1.5 0 01-2.122 0l-6.585-6.585a1.5 1.5 0 010-2.122l6.585-6.585zm1.06.56a.498.498 0 00-.354.147L3.061 9.646a.5.5 0 000 .707l6.585 6.586a.499.499 0 00.354.147V2.914z" clip-rule="evenodd"/>'),Lt=v("Display",'<path d="M7.75 15.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H13a.5.5 0 010 1H7a.5.5 0 010-1h.75z"/><path fill-rule="evenodd" d="M15.991 5H4c-.325 0-.502.078-.602.145a.758.758 0 00-.254.302A1.46 1.46 0 003 6.01V12c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 00.538.143L4.01 13H16c.325 0 .502-.078.602-.145a.758.758 0 00.254-.302 1.464 1.464 0 00.143-.538L17 11.99V6c0-.325-.078-.502-.145-.602a.757.757 0 00-.302-.254A1.46 1.46 0 0015.99 5zM16 4H4C2 4 2 6 2 6v6c0 2 2 2 2 2h12c2 0 2-2 2-2V6c0-2-2-2-2-2z" clip-rule="evenodd"/>'),zt=v("DisplayFill",'<path d="M7.75 15.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H13a.5.5 0 010 1H7a.5.5 0 010-1h.75z"/><path fill-rule="evenodd" d="M15.991 5H4c-.325 0-.502.078-.602.145a.758.758 0 00-.254.302A1.46 1.46 0 003 6.01V12c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 00.538.143L4.01 13H16c.325 0 .502-.078.602-.145a.758.758 0 00.254-.302 1.464 1.464 0 00.143-.538L17 11.99V6c0-.325-.078-.502-.145-.602a.757.757 0 00-.302-.254A1.46 1.46 0 0015.99 5zM16 4H4C2 4 2 6 2 6v6c0 2 2 2 2 2h12c2 0 2-2 2-2V6c0-2-2-2-2-2z" clip-rule="evenodd"/><path d="M4 6h12v6H4z"/>'),Ft=v("Document",'<path fill-rule="evenodd" d="M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z" clip-rule="evenodd"/>'),Nt=v("DocumentCode",'<path fill-rule="evenodd" d="M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10.646 7.646a.5.5 0 01.708 0l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708L12.293 10l-1.647-1.646a.5.5 0 010-.708zm-1.292 0a.5.5 0 00-.708 0l-2 2a.5.5 0 000 .708l2 2a.5.5 0 00.708-.708L7.707 10l1.647-1.646a.5.5 0 000-.708z" clip-rule="evenodd"/>'),Vt=v("DocumentDiff",'<path fill-rule="evenodd" d="M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.5 13a.5.5 0 01.5-.5h4a.5.5 0 010 1H8a.5.5 0 01-.5-.5zM10 6.5a.5.5 0 01.5.5v4a.5.5 0 01-1 0V7a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.5 9a.5.5 0 01.5-.5h4a.5.5 0 010 1H8a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Ht=v("DocumentRichtext",'<path fill-rule="evenodd" d="M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6.5 14a.5.5 0 01.5-.5h3a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm1.639-3.958l1.33.886 1.854-1.855a.25.25 0 01.289-.047L13.5 8v1.75a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5v-.5s1.54-1.274 1.639-1.208zM8.25 7a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd"/>'),$t=v("DocumentSpreadsheet",'<path fill-rule="evenodd" d="M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M15 8H5V7h10v1zm0 3H5v-1h10v1zm0 3H5v-1h10v1z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7 16V8h1v8H7zm4 0V8h1v8h-1z" clip-rule="evenodd"/>'),Ut=v("DocumentText",'<path fill-rule="evenodd" d="M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6.5 14a.5.5 0 01.5-.5h3a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),qt=v("Documents",'<path fill-rule="evenodd" d="M5 4h8a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5z" clip-rule="evenodd"/><path d="M7 2h8a2 2 0 012 2v10a2 2 0 01-2 2v-1a1 1 0 001-1V4a1 1 0 00-1-1H7a1 1 0 00-1 1H5a2 2 0 012-2z"/>'),Kt=v("DocumentsAlt",'<path fill-rule="evenodd" d="M5 3h8a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H5z" clip-rule="evenodd"/><path d="M15 6V5a2 2 0 012 2v6a2 2 0 01-2 2v-1a1 1 0 001-1V7a1 1 0 00-1-1z"/>'),Gt=v("Dot",'<path fill-rule="evenodd" d="M10 11.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"/>'),Wt=v("Download",'<path fill-rule="evenodd" d="M2.5 10a.5.5 0 01.5.5V14a1 1 0 001 1h12a1 1 0 001-1v-3.5a.5.5 0 011 0V14a2 2 0 01-2 2H4a2 2 0 01-2-2v-3.5a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7 9.5a.5.5 0 01.707 0L10 11.793 12.293 9.5a.5.5 0 01.707.707l-2.646 2.647a.5.5 0 01-.708 0L7 10.207A.5.5 0 017 9.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 3a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-8A.5.5 0 0110 3z" clip-rule="evenodd"/>'),Yt=v("EggFried",'<path fill-rule="evenodd" d="M15.665 8.113a1 1 0 01-.667-.977L15 7a4 4 0 00-6.483-3.136 1 1 0 01-.8.2 4 4 0 00-3.693 6.61 1 1 0 01.2 1 4 4 0 006.67 4.087 1 1 0 011.262-.152 2.5 2.5 0 003.715-2.905 1 1 0 01.341-1.113 2.001 2.001 0 00-.547-3.478zM16 7c0 .057 0 .113-.003.17a3.001 3.001 0 01.822 5.216 3.5 3.5 0 01-5.201 4.065 5 5 0 01-8.336-5.109A5 5 0 017.896 3.08 5 5 0 0116 7z" clip-rule="evenodd"/><circle cx="10" cy="10" r="3"/>'),Xt=v("Eject",'<path fill-rule="evenodd" d="M9.27 3.047a1 1 0 011.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H3.656c-.876 0-1.33-1.045-.73-1.684L9.27 3.047zm7.076 7.453L10 3.731 3.654 10.5h12.692zM2.5 13.5a1 1 0 011-1h13a1 1 0 011 1v1a1 1 0 01-1 1h-13a1 1 0 01-1-1v-1zm14 0h-13v1h13v-1z" clip-rule="evenodd"/>'),Qt=v("EjectFill",'<path fill-rule="evenodd" d="M9.27 3.047a1 1 0 011.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H3.656c-.876 0-1.33-1.045-.73-1.684L9.27 3.047zM2.5 13.5a1 1 0 011-1h13a1 1 0 011 1v1a1 1 0 01-1 1h-13a1 1 0 01-1-1v-1z" clip-rule="evenodd"/>'),Jt=v("Envelope",'<path fill-rule="evenodd" d="M16 5H4a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V6a1 1 0 00-1-1zM4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.071 6.243a.5.5 0 01.686-.172L10 10.417l7.243-4.346a.5.5 0 11.514.858L10 11.583 2.243 6.93a.5.5 0 01-.172-.686z" clip-rule="evenodd"/>'),Zt=v("EnvelopeFill",'<path d="M2.05 5.555L10 10.414l7.95-4.859A2 2 0 0016 4H4a2 2 0 00-1.95 1.555zM18 6.697l-5.875 3.59L18 13.743V6.697zm-.168 8.108l-6.675-3.926-1.157.707-1.157-.707-6.675 3.926A2 2 0 004 16h12a2 2 0 001.832-1.195zM2 13.743l5.875-3.456L2 6.697v7.046z"/>'),er=v("EnvelopeOpen",'<path fill-rule="evenodd" d="M2.243 8.929l.514-.858L10 12.417l7.243-4.346.514.858L10 13.583 2.243 8.93z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.184 12.68l-6.432 3.752-.504-.864 6.432-3.752.504.864zm1.632 0l6.432 3.752.504-.864-6.432-3.752-.504.864z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10.47 3.318a1 1 0 00-.94 0l-6 3.2A1 1 0 003 7.4V16a1 1 0 001 1h12a1 1 0 001-1V7.4a1 1 0 00-.53-.882l-6-3.2zm-1.41-.883a2 2 0 011.882 0l6 3.2A2 2 0 0118 7.4V16a2 2 0 01-2 2H4a2 2 0 01-2-2V7.4a2 2 0 011.059-1.765l6-3.2z" clip-rule="evenodd"/>'),rr=v("EnvelopeOpenFill",'<path fill-rule="evenodd" d="M10.941 2.435a2 2 0 00-1.882 0l-6 3.2A2 2 0 002 7.4v.125l8 4.889 8-4.889V7.4a2 2 0 00-1.059-1.765l-6-3.2zM18 8.697l-5.875 3.59L18 15.743V8.697zm-.168 8.108l-6.586-3.874-.088-.052-.897.548-.261.159-.26-.16-.897-.547-.09.052-6.585 3.874A2 2 0 004 18h12a2 2 0 001.832-1.195zM2 15.743l5.875-3.456L2 8.697v7.046z" clip-rule="evenodd"/>'),nr=v("Eye",'<path fill-rule="evenodd" d="M18 10s-3-5.5-8-5.5S2 10 2 10s3 5.5 8 5.5 8-5.5 8-5.5zM3.173 10a13.133 13.133 0 001.66 2.043C6.12 13.332 7.88 14.5 10 14.5c2.12 0 3.879-1.168 5.168-2.457A13.133 13.133 0 0016.828 10a13.133 13.133 0 00-1.66-2.043C13.879 6.668 12.119 5.5 10 5.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 003.172 10z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5zM6.5 10a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"/>'),or=v("EyeFill",'<path d="M12.5 10a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/><path fill-rule="evenodd" d="M2 10s3-5.5 8-5.5 8 5.5 8 5.5-3 5.5-8 5.5S2 10 2 10zm8 3.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z" clip-rule="evenodd"/>'),ir=v("EyeSlash",'<path d="M15.359 13.238C17.06 11.72 18 10 18 10s-3-5.5-8-5.5a7.028 7.028 0 00-2.79.588l.77.771A5.944 5.944 0 0110 5.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0116.828 10c-.058.087-.122.183-.195.288a13.14 13.14 0 01-1.465 1.755c-.165.165-.337.328-.517.486l.708.709z"/><path d="M13.297 11.176a3.5 3.5 0 00-4.474-4.474l.823.823a2.5 2.5 0 012.829 2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 01-4.474-4.474l.823.823a2.5 2.5 0 002.829 2.829z"/><path d="M5.35 7.47c-.18.16-.353.322-.518.487A13.134 13.134 0 003.172 10l.195.288c.335.48.83 1.12 1.465 1.755C6.121 13.332 7.881 14.5 10 14.5c.716 0 1.39-.133 2.02-.36l.77.772A7.027 7.027 0 0110 15.5c-5 0-8-5.5-8-5.5s.939-1.721 2.641-3.238l.708.709z"/><path fill-rule="evenodd" d="M15.646 16.354l-12-12 .708-.708 12 12-.708.707z" clip-rule="evenodd"/>'),ar=v("EyeSlashFill",'<path d="M12.79 14.912l-1.614-1.615a3.5 3.5 0 01-4.474-4.474l-2.06-2.06C2.938 8.278 2 10 2 10s3 5.5 8 5.5a7.027 7.027 0 002.79-.588zM7.21 5.088A7.028 7.028 0 0110 4.5c5 0 8 5.5 8 5.5s-.939 1.72-2.641 3.238l-2.062-2.062a3.5 3.5 0 00-4.474-4.474L7.21 5.088z"/><path d="M7.525 9.646a2.5 2.5 0 002.829 2.829l-2.83-2.829zm4.95.708l-2.829-2.83a2.5 2.5 0 012.829 2.829z"/><path fill-rule="evenodd" d="M15.646 16.354l-12-12 .708-.708 12 12-.708.707z" clip-rule="evenodd"/>'),sr=v("Filter",'<path fill-rule="evenodd" d="M7.5 13a.5.5 0 01.5-.5h4a.5.5 0 010 1H8a.5.5 0 01-.5-.5zm-2-3a.5.5 0 01.5-.5h8a.5.5 0 010 1H6a.5.5 0 01-.5-.5zm-2-3a.5.5 0 01.5-.5h12a.5.5 0 010 1H4a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),lr=v("Flag",'<path fill-rule="evenodd" d="M5.5 3a.5.5 0 01.5.5v13a.5.5 0 01-1 0v-13a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M5.762 4.558C6.735 3.909 7.348 3.5 8.5 3.5c.653 0 1.139.325 1.495.562l.032.022c.392.26.646.416.973.416.168 0 .356-.042.587-.126.187-.068.376-.153.593-.25.058-.027.117-.053.18-.08.57-.255 1.278-.544 2.14-.544a.5.5 0 01.5.5v6a.5.5 0 01-.5.5c-.638 0-1.18.21-1.734.457l-.159.07c-.22.1-.453.205-.678.287A2.718 2.718 0 0111 11.5c-.653 0-1.139-.325-1.495-.563l-.032-.021c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916a.5.5 0 11-.515-.858C6.735 9.909 7.348 9.5 8.5 9.5c.653 0 1.139.325 1.495.563l.032.021c.392.26.646.416.973.416.168 0 .356-.042.587-.126.187-.068.376-.153.593-.25.058-.027.117-.053.18-.08.456-.204 1-.43 1.64-.512V4.543c-.433.074-.83.234-1.234.414l-.159.07c-.22.1-.453.205-.678.287A2.72 2.72 0 0111 5.5c-.653 0-1.139-.325-1.495-.562l-.032-.022c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916a.5.5 0 01-.554-.832l.04-.026z" clip-rule="evenodd"/>'),cr=v("FlagFill",'<path fill-rule="evenodd" d="M5.5 3a.5.5 0 01.5.5v13a.5.5 0 01-1 0v-13a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M5.762 4.558C6.735 3.909 7.348 3.5 8.5 3.5c.653 0 1.139.325 1.495.562l.032.022c.392.26.646.416.973.416.168 0 .356-.042.587-.126.187-.068.376-.153.593-.25.058-.027.117-.053.18-.08.57-.255 1.278-.544 2.14-.544a.5.5 0 01.5.5v6a.5.5 0 01-.5.5c-.638 0-1.18.21-1.734.457l-.159.07c-.22.1-.453.205-.678.287A2.718 2.718 0 0111 11.5c-.653 0-1.139-.325-1.495-.563l-.032-.021c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916A.5.5 0 015.5 11V5a.5.5 0 01.223-.416l.04-.026z" clip-rule="evenodd"/>'),ur=v("Folder",'<path d="M11.828 6a3 3 0 01-2.12-.879l-.83-.828A1 1 0 008.173 4H4.5a1 1 0 00-1 .981L3.546 6h-1L2.5 5a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 0011.828 5v1z"/><path fill-rule="evenodd" d="M15.81 6H4.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91h10.348a1 1 0 00.995-.91l.637-7A1 1 0 0015.81 6zM4.19 5a2 2 0 00-1.992 2.181l.637 7A2 2 0 004.826 16h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0015.81 5H4.19z" clip-rule="evenodd"/>'),dr=v("FolderFill",'<path fill-rule="evenodd" d="M11.828 5h3.982a2 2 0 011.992 2.181l-.637 7A2 2 0 0115.174 16H4.826a2 2 0 01-1.991-1.819l-.637-7a1.99 1.99 0 01.342-1.31L2.5 5a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 0011.828 5zm-8.322.12C3.72 5.042 3.95 5 4.19 5h5.396l-.707-.707A1 1 0 008.172 4H4.5a1 1 0 00-1 .981l.006.139z" clip-rule="evenodd"/>'),fr=v("FolderSymlink",'<path d="M11.828 6a3 3 0 01-2.12-.879l-.83-.828A1 1 0 008.173 4H4.5a1 1 0 00-1 .981L3.546 6h-1L2.5 5a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 0011.828 5v1z"/><path fill-rule="evenodd" d="M15.81 6H4.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91h10.348a1 1 0 00.995-.91l.637-7A1 1 0 0015.81 6zM4.19 5a2 2 0 00-1.992 2.181l.637 7A2 2 0 004.826 16h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0015.81 5H4.19z" clip-rule="evenodd"/><path d="M10.616 12.24l3.182-1.969a.442.442 0 000-.742l-3.182-1.97c-.27-.166-.616.036-.616.372V8.7c-.857 0-3.429 0-4 4.8 1.429-2.7 4-2.4 4-2.4v.769c0 .336.346.538.616.371z"/>'),pr=v("FolderSymlinkFill",'<path fill-rule="evenodd" d="M15.81 5h-3.982a2 2 0 01-1.414-.586l-.828-.828A2 2 0 008.172 3H4.5a2 2 0 00-2 2l.04.87a1.99 1.99 0 00-.342 1.311l.637 7A2 2 0 004.826 16h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0015.81 5zM4.19 5c-.24 0-.47.042-.684.12L3.5 4.98a1 1 0 011-.98h3.672a1 1 0 01.707.293L9.586 5H4.19zm9.608 5.271l-3.182 1.97c-.27.166-.616-.036-.616-.372V11.1s-2.571-.3-4 2.4c.571-4.8 3.143-4.8 4-4.8v-.769c0-.336.346-.538.616-.371l3.182 1.969c.27.166.27.576 0 .742z" clip-rule="evenodd"/>'),vr=v("Fonts",'<path d="M14.258 5H5.747l-.082 2.46h.479c.26-1.544.758-1.783 2.693-1.845l.424-.013v7.827c0 .663-.144.82-1.3.923v.52h4.082v-.52c-1.162-.103-1.306-.26-1.306-.923V5.602l.43.013c1.935.062 2.434.301 2.694 1.846h.479L14.258 5z"/>'),mr=v("Forward",'<path fill-rule="evenodd" d="M11.502 7.513a.144.144 0 00-.202.134V8.65a.5.5 0 01-.5.5H4.5v2.9h6.3a.5.5 0 01.5.5v1.003c0 .108.11.176.202.134l3.984-2.933a.522.522 0 01.042-.028.147.147 0 000-.252.523.523 0 01-.042-.028l-3.984-2.933zm-1.202.134a1.144 1.144 0 011.767-.96l3.994 2.94a1.147 1.147 0 010 1.946l-3.994 2.94a1.144 1.144 0 01-1.767-.96v-.503H4a.5.5 0 01-.5-.5v-3.9a.5.5 0 01.5-.5h6.3v-.503z" clip-rule="evenodd"/>'),gr=v("ForwardFill",'<path d="M11.77 14.11l4.012-2.953a.647.647 0 000-1.114L11.771 7.09a.644.644 0 00-.971.557V8.65H4v3.9h6.8v1.003c0 .505.545.808.97.557z"/>'),yr=v("Gear",'<path fill-rule="evenodd" d="M10.837 3.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 016.377 5.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 01-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 011.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 012.692 1.115l.094.319c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 012.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 011.115-2.693l.319-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 01-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159a1.873 1.873 0 01-2.693-1.115l-.094-.319zm-2.633-.283c.527-1.79 3.064-1.79 3.592 0l.094.319a.873.873 0 001.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 00.52 1.255l.319.094c1.79.527 1.79 3.064 0 3.592l-.319.094a.873.873 0 00-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 00-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 00-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 00-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 00.52-1.255l-.16-.292c-.892-1.64.901-3.433 2.541-2.54l.292.159a.873.873 0 001.255-.52l.094-.319z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 7.754a2.246 2.246 0 100 4.492 2.246 2.246 0 000-4.492zM6.754 10a3.246 3.246 0 116.492 0 3.246 3.246 0 01-6.492 0z" clip-rule="evenodd"/>'),_r=v("GearFill",'<path fill-rule="evenodd" d="M11.405 3.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 01-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 01.872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 012.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 012.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 01.872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 01-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 01-2.105-.872l-.1-.34zM10 12.93a2.929 2.929 0 100-5.858 2.929 2.929 0 000 5.858z" clip-rule="evenodd"/>'),wr=v("GearWide",'<path fill-rule="evenodd" d="M10.932 2.724c-.243-.97-1.621-.97-1.864 0l-.072.286a.96.96 0 01-1.622.434l-.205-.211c-.695-.72-1.889-.03-1.614.932l.08.283a.96.96 0 01-1.187 1.188l-.283-.081c-.962-.275-1.651.919-.932 1.614l.211.205a.96.96 0 01-.434 1.622l-.286.072c-.97.243-.97 1.621 0 1.864l.286.072a.96.96 0 01.434 1.622l-.211.205c-.72.695-.03 1.889.932 1.614l.283-.08a.96.96 0 011.188 1.187l-.081.283c-.275.962.919 1.651 1.614.932l.205-.211a.96.96 0 011.622.434l.072.286c.243.97 1.621.97 1.864 0l.072-.286a.96.96 0 011.622-.434l.205.211c.695.72 1.889.03 1.614-.932l-.08-.283a.96.96 0 011.187-1.188l.283.081c.962.275 1.651-.919.932-1.614l-.211-.205a.96.96 0 01.434-1.622l.286-.072c.97-.243.97-1.621 0-1.864l-.286-.072a.96.96 0 01-.434-1.622l.211-.205c.72-.695.03-1.889-.932-1.614l-.283.08a.96.96 0 01-1.188-1.187l.081-.283c.275-.962-.919-1.651-1.614-.932l-.205.211a.96.96 0 01-1.622-.434l-.072-.286zM10 15a5 5 0 100-10 5 5 0 000 10z" clip-rule="evenodd"/>'),kr=v("GearWideConnected",'<path fill-rule="evenodd" d="M10.932 2.724c-.243-.97-1.621-.97-1.864 0l-.072.286a.96.96 0 01-1.622.434l-.205-.211c-.695-.72-1.889-.03-1.614.932l.08.283a.96.96 0 01-1.187 1.188l-.283-.081c-.962-.275-1.651.919-.932 1.614l.211.205a.96.96 0 01-.434 1.622l-.286.072c-.97.243-.97 1.621 0 1.864l.286.072a.96.96 0 01.434 1.622l-.211.205c-.72.695-.03 1.889.932 1.614l.283-.08a.96.96 0 011.188 1.187l-.081.283c-.275.962.919 1.651 1.614.932l.205-.211a.96.96 0 011.622.434l.072.286c.243.97 1.621.97 1.864 0l.072-.286a.96.96 0 011.622-.434l.205.211c.695.72 1.889.03 1.614-.932l-.08-.283a.96.96 0 011.187-1.188l.283.081c.962.275 1.651-.919.932-1.614l-.211-.205a.96.96 0 01.434-1.622l.286-.072c.97-.243.97-1.621 0-1.864l-.286-.072a.96.96 0 01-.434-1.622l.211-.205c.72-.695.03-1.889-.932-1.614l-.283.08a.96.96 0 01-1.188-1.187l.081-.283c.275-.962-.919-1.651-1.614-.932l-.205.211a.96.96 0 01-1.622-.434l-.072-.286zM10 15a5 5 0 100-10 5 5 0 000 10z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.375 10L6.6 6.3l.8-.6 2.85 3.8H15v1h-4.75L7.4 14.3l-.8-.6L9.375 10z" clip-rule="evenodd"/>'),Sr=v("Geo",'<path d="M13 6a3 3 0 11-6 0 3 3 0 016 0z"/><path d="M9.5 6h1v9a.5.5 0 01-1 0V6z"/><path fill-rule="evenodd" d="M8.489 14.095a.5.5 0 01-.383.594c-.565.123-1.003.292-1.286.472-.302.192-.32.321-.32.339 0 .013.005.085.146.21.14.124.372.26.701.383.655.245 1.593.407 2.653.407s1.998-.162 2.653-.407c.329-.124.56-.259.701-.383.14-.125.146-.197.146-.21 0-.018-.018-.147-.32-.339-.283-.18-.721-.35-1.286-.472a.5.5 0 11.212-.977c.63.137 1.193.34 1.61.606.4.253.784.645.784 1.182 0 .402-.219.724-.483.958-.264.235-.618.423-1.013.57-.793.298-1.855.472-3.004.472s-2.21-.174-3.004-.471c-.395-.148-.749-.337-1.013-.571-.264-.234-.483-.556-.483-.958 0-.537.384-.929.783-1.182.418-.266.98-.47 1.611-.606a.5.5 0 01.595.383z" clip-rule="evenodd"/>'),xr=v("GraphDown",'<path d="M2 2h1v16H2V2zm1 15h15v1H3v-1z"/><path fill-rule="evenodd" d="M16.39 11.041l-4.349-5.436L9 8.646 5.354 5l-.708.707L9 10.061l2.959-2.959 3.65 4.564.781-.625z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 11.854a.5.5 0 00.5.5h4a.5.5 0 00.5-.5v-4a.5.5 0 00-1 0v3.5h-3.5a.5.5 0 00-.5.5z" clip-rule="evenodd"/>'),Or=v("GraphUp",'<path d="M2 2h1v16H2V2zm1 15h15v1H3v-1z"/><path fill-rule="evenodd" d="M16.39 6.312l-4.349 5.437L9 8.707l-3.646 3.647-.708-.708L9 7.293l2.959 2.958 3.65-4.563.781.624z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 5.5a.5.5 0 01.5-.5h4a.5.5 0 01.5.5v4a.5.5 0 01-1 0V6h-3.5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Tr=v("Grid",'<path fill-rule="evenodd" d="M9.5 4.5a1 1 0 00-1-1h-4a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4zm-1 7h-4v4h4v-4zm7 0h-4v4h4v-4zm0-7h-4v4h4v-4zm-7 0h-4v4h4v-4zm2 0a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4zm-6 6a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 00-1-1h-4zm7 0a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 00-1-1h-4z" clip-rule="evenodd"/>'),Er=v("GridFill",'<rect width="6" height="6" x="3.5" y="10.5" rx="1"/><rect width="6" height="6" x="10.5" y="10.5" rx="1"/><rect width="6" height="6" x="10.5" y="3.5" rx="1"/><rect width="6" height="6" x="3.5" y="3.5" rx="1"/>'),Cr=v("Hammer",'<path d="M11.812 3.952a.5.5 0 01-.312.89c-1.671 0-2.852.596-3.616 1.185L6.857 7.073V8.21a.5.5 0 01-.146.354L5.426 9.853a.5.5 0 01-.709 0L2.146 7.274a.5.5 0 010-.706l1.286-1.29a.5.5 0 01.354-.146H4.84c1.664-1.904 3.375-2.27 4.716-2.091a5.008 5.008 0 012.076.782l.18.129z"/><path fill-rule="evenodd" d="M8.012 5.5a.5.5 0 01.359.165l9.146 8.646A.5.5 0 0117.5 15L16 16.5a.5.5 0 01-.756-.056L6.598 7.297a.5.5 0 01.048-.65l1-1a.5.5 0 01.366-.147z" clip-rule="evenodd"/>'),Ir=v("Hash",'<path d="M10.39 14.648a1.32 1.32 0 00-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304c.008-.04.016-.117.016-.164a.51.51 0 00-.516-.516.54.54 0 00-.539.43l-.523 2.554H9.617l.477-2.304c.008-.04.015-.117.015-.164a.512.512 0 00-.523-.516.539.539 0 00-.531.43L8.53 7.484H7.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H6.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H8.859l.532-2.563z"/>'),jr=v("Heart",'<path fill-rule="evenodd" d="M10 4.748l-.717-.737C7.6 2.281 4.514 2.878 3.4 5.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.837-3.362.314-4.385-1.114-2.175-4.2-2.773-5.883-1.043L10 4.748zM10 17C-5.333 6.868 5.279-1.04 9.824 3.143c.06.055.119.112.176.171a3.12 3.12 0 01.176-.17C14.72-1.042 25.333 6.867 10 17z" clip-rule="evenodd"/>'),Mr=v("HeartFill",'<path fill-rule="evenodd" d="M10 3.314C14.438-1.248 25.534 6.735 10 17-5.534 6.736 5.562-1.248 10 3.314z" clip-rule="evenodd"/>'),Rr=v("House",'<path fill-rule="evenodd" d="M9.646 3.146a.5.5 0 01.708 0l6 6a.5.5 0 01.146.354v7a.5.5 0 01-.5.5h-4.5a.5.5 0 01-.5-.5v-4H9v4a.5.5 0 01-.5.5H4a.5.5 0 01-.5-.5v-7a.5.5 0 01.146-.354l6-6zM4.5 9.707V16H8v-4a.5.5 0 01.5-.5h3a.5.5 0 01.5.5v4h3.5V9.707l-5.5-5.5-5.5 5.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M15 4.5V8l-2-2V4.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z" clip-rule="evenodd"/>'),Ar=v("HouseFill",'<path d="M8.5 12.995V16.5a.5.5 0 01-.5.5H4a.5.5 0 01-.5-.5v-7a.5.5 0 01.146-.354l6-6a.5.5 0 01.708 0l6 6a.5.5 0 01.146.354v7a.5.5 0 01-.5.5h-4a.5.5 0 01-.5-.5V13c0-.25-.25-.5-.5-.5H9c-.25 0-.5.25-.5.495z"/><path fill-rule="evenodd" d="M15 4.5V8l-2-2V4.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z" clip-rule="evenodd"/>'),Pr=v("Image",'<path fill-rule="evenodd" d="M16.002 4h-12a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1zm-12-1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2h-12z" clip-rule="evenodd"/><path d="M12.648 9.646a.5.5 0 01.577-.093l3.777 1.947V16h-14v-2l2.646-2.354a.5.5 0 01.63-.062l2.66 1.773 3.71-3.71z"/><path fill-rule="evenodd" d="M6.502 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" clip-rule="evenodd"/>'),Br=v("ImageAlt",'<path d="M12.648 8.646a.5.5 0 01.577-.093l4.777 3.947V17a1 1 0 01-1 1h-14a1 1 0 01-1-1v-2l3.646-4.354a.5.5 0 01.63-.062l2.66 2.773 3.71-4.71z"/><path fill-rule="evenodd" d="M6.5 7a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clip-rule="evenodd"/>'),Dr=v("ImageFill",'<path fill-rule="evenodd" d="M2.002 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2h-12a2 2 0 01-2-2V5zm1 9l2.646-2.354a.5.5 0 01.63-.062l2.66 1.773 3.71-3.71a.5.5 0 01.577-.094l3.777 1.947V15a1 1 0 01-1 1h-12a1 1 0 01-1-1v-1zm5-6.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" clip-rule="evenodd"/>'),Lr=v("Images",'<path fill-rule="evenodd" d="M14.002 6h-10a1 1 0 00-1 1v8a1 1 0 001 1h10a1 1 0 001-1V7a1 1 0 00-1-1zm-10-1a2 2 0 00-2 2v8a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-10z" clip-rule="evenodd"/><path d="M12.648 10.646a.5.5 0 01.577-.093l1.777 1.947V16h-12v-1l2.646-2.354a.5.5 0 01.63-.062l2.66 1.773 3.71-3.71z"/><path fill-rule="evenodd" d="M6.502 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM6 4h10a1 1 0 011 1v8a1 1 0 01-1 1v1a2 2 0 002-2V5a2 2 0 00-2-2H6a2 2 0 00-2 2h1a1 1 0 011-1z" clip-rule="evenodd"/>'),zr=v("Inbox",'<path fill-rule="evenodd" d="M5.81 6.063A1.5 1.5 0 016.98 5.5h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 11-.78.624l-3.7-4.624a.5.5 0 00-.39-.188H6.98a.5.5 0 00-.39.188l-3.7 4.624a.5.5 0 11-.78-.624l3.7-4.625z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.125 10.67a.5.5 0 01.375-.17H8a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124a1.5 1.5 0 01-1.489 1.314H3.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393zm.941.83l.32 2.562a.5.5 0 00.497.438h12.234a.5.5 0 00.496-.438l.32-2.562H12.45a2.5 2.5 0 01-4.9 0H3.066z" clip-rule="evenodd"/>'),Fr=v("InboxFill",'<path fill-rule="evenodd" d="M5.81 6.063A1.5 1.5 0 016.98 5.5h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 11-.78.624l-3.7-4.624a.5.5 0 00-.39-.188H6.98a.5.5 0 00-.39.188l-3.7 4.624a.5.5 0 11-.78-.624l3.7-4.625z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.125 10.67a.5.5 0 01.375-.17h5a.5.5 0 01.5.5c0 .828.625 2 2 2s2-1.172 2-2a.5.5 0 01.5-.5h5a.5.5 0 01.496.562l-.39 3.124a1.5 1.5 0 01-1.489 1.314H3.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393z" clip-rule="evenodd"/>'),Nr=v("Inboxes",'<path fill-rule="evenodd" d="M2.125 13.17A.5.5 0 012.5 13H8a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0116.117 18H3.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393zm.941.83l.32 2.562a.5.5 0 00.497.438h12.234a.5.5 0 00.496-.438l.32-2.562H12.45a2.5 2.5 0 01-4.9 0H3.066zM5.81 2.563A1.5 1.5 0 016.98 2h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 11-.78.624l-3.7-4.624A.5.5 0 0013.02 3H6.98a.5.5 0 00-.39.188l-3.7 4.624a.5.5 0 11-.78-.624l3.7-4.625z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.125 7.17A.5.5 0 012.5 7H8a.5.5 0 01.5.5 1.5 1.5 0 003 0A.5.5 0 0112 7h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0116.117 12H3.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393zm.941.83l.32 2.562a.5.5 0 00.497.438h12.234a.5.5 0 00.496-.438L16.933 8H12.45a2.5 2.5 0 01-4.9 0H3.066z" clip-rule="evenodd"/>'),Vr=v("InboxesFill",'<path fill-rule="evenodd" d="M2.125 13.17A.5.5 0 012.5 13H8a.5.5 0 01.5.5 1.5 1.5 0 003 0 .5.5 0 01.5-.5h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0116.117 18H3.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393zM5.81 2.563A1.5 1.5 0 016.98 2h6.04a1.5 1.5 0 011.17.563l3.7 4.625a.5.5 0 11-.78.624l-3.7-4.624A.5.5 0 0013.02 3H6.98a.5.5 0 00-.39.188l-3.7 4.624a.5.5 0 11-.78-.624l3.7-4.625z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.125 7.17A.5.5 0 012.5 7H8a.5.5 0 01.5.5 1.5 1.5 0 003 0A.5.5 0 0112 7h5.5a.5.5 0 01.496.562l-.39 3.124A1.5 1.5 0 0116.117 12H3.883a1.5 1.5 0 01-1.489-1.314l-.39-3.124a.5.5 0 01.121-.393z" clip-rule="evenodd"/>'),Hr=v("Info",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm8-7a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"/><path d="M10.93 8.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533l1.002-4.705z"/><circle cx="10" cy="6.5" r="1"/>'),$r=v("InfoFill",'<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533l1.002-4.705zM10 7.5a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>'),Ur=v("InfoSquare",'<path fill-rule="evenodd" d="M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path d="M10.93 8.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533l1.002-4.705z"/><circle cx="10" cy="6.5" r="1"/>'),qr=v("InfoSquareFill",'<path fill-rule="evenodd" d="M2 4a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V4zm8.93 4.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533l1.002-4.705zM10 7.5a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>'),Kr=v("Justify",'<path fill-rule="evenodd" d="M4 14.5a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Gr=v("JustifyLeft",'<path fill-rule="evenodd" d="M4 14.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Wr=v("JustifyRight",'<path fill-rule="evenodd" d="M8 14.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zm-4-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Yr=v("Kanban",'<path fill-rule="evenodd" d="M15.5 3h-11a1 1 0 00-1 1v12a1 1 0 001 1h11a1 1 0 001-1V4a1 1 0 00-1-1zm-11-1a2 2 0 00-2 2v12a2 2 0 002 2h11a2 2 0 002-2V4a2 2 0 00-2-2h-11z" clip-rule="evenodd"/><rect width="3" height="5" x="8.5" y="4" rx="1"/><rect width="3" height="9" x="4.5" y="4" rx="1"/><rect width="3" height="12" x="12.5" y="4" rx="1"/>'),Xr=v("KanbanFill",'<path fill-rule="evenodd" d="M4.5 2a2 2 0 00-2 2v12a2 2 0 002 2h11a2 2 0 002-2V4a2 2 0 00-2-2h-11zm5 2a1 1 0 00-1 1v3a1 1 0 001 1h1a1 1 0 001-1V5a1 1 0 00-1-1h-1zm-5 1a1 1 0 011-1h1a1 1 0 011 1v7a1 1 0 01-1 1h-1a1 1 0 01-1-1V5zm9-1a1 1 0 00-1 1v10a1 1 0 001 1h1a1 1 0 001-1V5a1 1 0 00-1-1h-1z" clip-rule="evenodd"/>'),Qr=v("Laptop",'<path fill-rule="evenodd" d="M15.5 4h-11a.5.5 0 00-.5.5v7a.5.5 0 00.5.5h11a.5.5 0 00.5-.5v-7a.5.5 0 00-.5-.5zm-11-1A1.5 1.5 0 003 4.5v7A1.5 1.5 0 004.5 13h11a1.5 1.5 0 001.5-1.5v-7A1.5 1.5 0 0015.5 3h-11z" clip-rule="evenodd"/><path d="M2.81 13.758A1 1 0 013.78 13h12.44a1 1 0 01.97.758l.5 2A1 1 0 0116.72 17H3.28a1 1 0 01-.97-1.242l.5-2z"/>'),Jr=v("LayoutSidebar",'<path fill-rule="evenodd" d="M16 4H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1zM4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M6 16V4h1v12H6z" clip-rule="evenodd"/>'),Zr=v("LayoutSidebarReverse",'<path fill-rule="evenodd" d="M16 4H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1zM4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M13 16V4h1v12h-1z" clip-rule="evenodd"/>'),en=v("LayoutSplit",'<path fill-rule="evenodd" d="M1.5 5A2.5 2.5 0 014 2.5h12A2.5 2.5 0 0118.5 5v10a2.5 2.5 0 01-2.5 2.5H4A2.5 2.5 0 011.5 15V5zM4 3.5A1.5 1.5 0 002.5 5v10A1.5 1.5 0 004 16.5h12a1.5 1.5 0 001.5-1.5V5A1.5 1.5 0 0016 3.5h-5.5v13h-1v-13H4z" clip-rule="evenodd"/>'),tn=v("List",'<path fill-rule="evenodd" d="M4.5 13.5A.5.5 0 015 13h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 9h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 5h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),rn=v("ListCheck",'<path fill-rule="evenodd" d="M7 13.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zM5.854 4.146a.5.5 0 010 .708l-1.5 1.5a.5.5 0 01-.708 0l-.5-.5a.5.5 0 11.708-.708L4 5.293l1.146-1.147a.5.5 0 01.708 0zm0 4a.5.5 0 010 .708l-1.5 1.5a.5.5 0 01-.708 0l-.5-.5a.5.5 0 11.708-.708L4 9.293l1.146-1.147a.5.5 0 01.708 0zm0 4a.5.5 0 010 .708l-1.5 1.5a.5.5 0 01-.708 0l-.5-.5a.5.5 0 01.708-.708l.146.147 1.146-1.147a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),nn=v("ListOl",'<path fill-rule="evenodd" d="M7 13.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path d="M3.713 13.865v-.474H4c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 01-.492.594v.033a.615.615 0 01.569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V11H3.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 00-.342.338v.041zM4.564 7h-.635V4.924h-.031l-.598.42v-.567l.629-.443h.635V7z"/>'),on=v("ListTask",'<path fill-rule="evenodd" d="M4 4.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5V5a.5.5 0 00-.5-.5H4zM5 5H4v1h1V5z" clip-rule="evenodd"/><path d="M7 5.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zM7.5 9a.5.5 0 000 1h9a.5.5 0 000-1h-9zm0 4a.5.5 0 000 1h9a.5.5 0 000-1h-9z"/><path fill-rule="evenodd" d="M3.5 9a.5.5 0 01.5-.5h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5H4a.5.5 0 01-.5-.5V9zM4 9h1v1H4V9zm0 3.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5H4zm1 .5H4v1h1v-1z" clip-rule="evenodd"/>'),an=v("ListUl",'<path fill-rule="evenodd" d="M7 13.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm-3 1a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>'),sn=v("Lock",'<path fill-rule="evenodd" d="M13.655 9H6.333c-.264 0-.398.068-.471.121a.73.73 0 00-.224.296 1.626 1.626 0 00-.138.59V15c0 .342.076.531.14.635.064.106.151.18.256.237a1.122 1.122 0 00.436.127l.013.001h7.322c.264 0 .398-.068.471-.121a.73.73 0 00.224-.296 1.627 1.627 0 00.138-.59V10c0-.342-.076-.531-.14-.635a.658.658 0 00-.255-.237 1.123 1.123 0 00-.45-.128zm.012-1H6.333C4.5 8 4.5 10 4.5 10v5c0 2 1.833 2 1.833 2h7.334c1.833 0 1.833-2 1.833-2v-5c0-2-1.833-2-1.833-2zM6.5 5a3.5 3.5 0 117 0v3h-1V5a2.5 2.5 0 00-5 0v3h-1V5z" clip-rule="evenodd"/>'),ln=v("LockFill",'<rect width="11" height="9" x="4.5" y="8" rx="2"/><path fill-rule="evenodd" d="M6.5 5a3.5 3.5 0 117 0v3h-1V5a2.5 2.5 0 00-5 0v3h-1V5z" clip-rule="evenodd"/>'),cn=v("Map",'<path fill-rule="evenodd" d="M17.817 2.613A.5.5 0 0118 3v13a.5.5 0 01-.402.49l-5 1a.502.502 0 01-.196 0L7.5 16.51l-4.902.98A.5.5 0 012 17V4a.5.5 0 01.402-.49l5-1a.5.5 0 01.196 0l4.902.98 4.902-.98a.5.5 0 01.415.103zM12 4.41l-4-.8v11.98l4 .8V4.41zm1 11.98l4-.8V3.61l-4 .8v11.98zm-6-.8V3.61l-4 .8v11.98l4-.8z" clip-rule="evenodd"/>'),un=v("Mic",'<path d="M7 5a3 3 0 016 0v5a3 3 0 11-6 0V5z"/><path fill-rule="evenodd" d="M5.5 8.5A.5.5 0 016 9v1a4 4 0 008 0V9a.5.5 0 011 0v1a5 5 0 01-4.5 4.975V17h3a.5.5 0 010 1h-7a.5.5 0 010-1h3v-2.025A5 5 0 015 10V9a.5.5 0 01.5-.5z" clip-rule="evenodd"/>'),dn=v("Moon",'<path d="M17.293 13.293A8 8 0 016.707 2.707a8.002 8.002 0 1010.586 10.586z"/>'),hn=v("MusicPlayer",'<path fill-rule="evenodd" d="M14 3H6a1 1 0 00-1 1v12a1 1 0 001 1h8a1 1 0 001-1V4a1 1 0 00-1-1zM6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M13 5H7v3h6V5zM7 4a1 1 0 00-1 1v3a1 1 0 001 1h6a1 1 0 001-1V5a1 1 0 00-1-1H7zm3 11a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/><circle cx="10" cy="13" r="1"/>'),fn=v("MusicPlayerFill",'<path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 1a1 1 0 011-1h6a1 1 0 011 1v2.5a1 1 0 01-1 1H7a1 1 0 01-1-1V5zm7 8a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/><circle cx="10" cy="13" r="1"/>'),pn=v("Option",'<path fill-rule="evenodd" d="M2.5 4.5A.5.5 0 013 4h4a.5.5 0 01.439.26L13.297 15H17a.5.5 0 010 1h-4a.5.5 0 01-.439-.26L6.703 5H3a.5.5 0 01-.5-.5zm10 0A.5.5 0 0113 4h4a.5.5 0 010 1h-4a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),vn=v("Outlet",'<path fill-rule="evenodd" d="M5.34 4.994c.275-.338.68-.494 1.074-.494h7.172c.393 0 .798.156 1.074.494.578.708 1.84 2.534 1.84 5.006 0 2.472-1.262 4.297-1.84 5.006-.276.338-.68.494-1.074.494H6.414c-.394 0-.799-.156-1.074-.494C4.762 14.297 3.5 12.472 3.5 10c0-2.472 1.262-4.298 1.84-5.006zm1.074.506a.376.376 0 00-.299.126C5.599 6.259 4.5 7.863 4.5 10c0 2.137 1.099 3.74 1.615 4.374.06.073.163.126.3.126h7.17c.137 0 .24-.053.3-.126.516-.633 1.615-2.237 1.615-4.374 0-2.137-1.099-3.74-1.615-4.374a.376.376 0 00-.3-.126h-7.17z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8 7.5a.5.5 0 01.5.5v1.5a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm4 0a.5.5 0 01.5.5v1.5a.5.5 0 01-1 0V8a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path d="M9 12v1h2v-1a1 1 0 10-2 0z"/>'),mn=v("Pause",'<path fill-rule="evenodd" d="M8 5.5a.5.5 0 01.5.5v8a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm4 0a.5.5 0 01.5.5v8a.5.5 0 01-1 0V6a.5.5 0 01.5-.5z" clip-rule="evenodd"/>'),gn=v("PauseFill",'<path d="M7.5 5.5A1.5 1.5 0 019 7v6a1.5 1.5 0 01-3 0V7a1.5 1.5 0 011.5-1.5zm5 0A1.5 1.5 0 0114 7v6a1.5 1.5 0 01-3 0V7a1.5 1.5 0 011.5-1.5z"/>'),bn=v("Pen",'<path fill-rule="evenodd" d="M7.707 15.707a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391L12.086 4.5a2 2 0 012.828 0l.586.586a2 2 0 010 2.828l-7.793 7.793zM5 13l7.793-7.793a1 1 0 011.414 0l.586.586a1 1 0 010 1.414L7 15l-3 1 1-3z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.854 4.56a.5.5 0 00-.708 0L7.854 7.855a.5.5 0 11-.708-.708l3.293-3.292a1.5 1.5 0 012.122 0l.293.292a.5.5 0 11-.708.708l-.292-.293z" clip-rule="evenodd"/><path d="M15.293 3.207a1 1 0 011.414 0l.03.03a1 1 0 01.03 1.383L15.5 6 14 4.5l1.293-1.293z"/>'),yn=v("Pencil",'<path fill-rule="evenodd" d="M13.293 3.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM14 4l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.146 8.354l-2.5-2.5.708-.708 2.5 2.5-.708.708zM5 12v.5a.5.5 0 00.5.5H6v.5a.5.5 0 00.5.5H7v.5a.5.5 0 00.5.5H8v-1.5a.5.5 0 00-.5-.5H7v-.5a.5.5 0 00-.5-.5H5z" clip-rule="evenodd"/>'),_n=v("People",'<path fill-rule="evenodd" d="M17 16s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.995-.944v-.002zM9.022 15h7.956a.274.274 0 00.014-.002l.008-.002c-.002-.264-.167-1.03-.76-1.72C15.688 12.629 14.718 12 13 12c-1.717 0-2.687.63-3.24 1.276-.593.69-.759 1.457-.76 1.72a1.05 1.05 0 00.022.004zm7.973.056v-.002zM13 9a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0zm-7.064 4.28a5.873 5.873 0 00-1.23-.247A7.334 7.334 0 007 11c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 017 15c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM6.92 12c-1.668.02-2.615.64-3.16 1.276C3.163 13.97 3 14.739 3 15h3c0-1.045.323-2.086.92-3zM3.5 7.5a3 3 0 116 0 3 3 0 01-6 0zm3-2a2 2 0 100 4 2 2 0 000-4z" clip-rule="evenodd"/>'),wn=v("PeopleFill",'<path fill-rule="evenodd" d="M9 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H9zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 017 15c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 007 11c-4 0-5 3-5 4s1 1 1 1h4.216zM6.5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clip-rule="evenodd"/>'),kn=v("Person",'<path fill-rule="evenodd" d="M15 16s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002zM5.022 15h9.956a.274.274 0 00.014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C13.516 12.68 12.289 12 10 12c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 00.022.004zm9.974.056v-.002zM10 9a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/>'),Sn=v("PersonFill",'<path fill-rule="evenodd" d="M5 16s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H5zm5-6a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>'),xn=v("Phone",'<path fill-rule="evenodd" d="M13 3H7a1 1 0 00-1 1v11a1 1 0 001 1h6a1 1 0 001-1V4a1 1 0 00-1-1zM7 2a2 2 0 00-2 2v11a2 2 0 002 2h6a2 2 0 002-2V4a2 2 0 00-2-2H7z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 15a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>'),On=v("PhoneLandscape",'<path fill-rule="evenodd" d="M3.5 6.5v6a1 1 0 001 1h11a1 1 0 001-1v-6a1 1 0 00-1-1h-11a1 1 0 00-1 1zm-1 6a2 2 0 002 2h11a2 2 0 002-2v-6a2 2 0 00-2-2h-11a2 2 0 00-2 2v6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M15.5 9.5a1 1 0 10-2 0 1 1 0 002 0z" clip-rule="evenodd"/>'),Tn=v("PieChart",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm0 1a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.5 9.793V3h1v6.5H17v1h-6.793l-4.853 4.854-.708-.708L9.5 9.793z" clip-rule="evenodd"/>'),En=v("PieChartFill",'<path d="M17.985 10.5h-7.778l-5.5 5.5a8 8 0 0013.277-5.5zM4 15.292A8 8 0 019.5 2.015v7.778l-5.5 5.5zm6.5-13.277V9.5h7.485A8.001 8.001 0 0010.5 2.015z"/>'),Cn=v("Play",'<path fill-rule="evenodd" d="M12.804 10L7 6.633v6.734L12.804 10zm.792-.696a.802.802 0 010 1.392l-6.363 3.692C6.713 14.69 6 14.345 6 13.692V6.308c0-.653.713-.998 1.233-.696l6.363 3.692z" clip-rule="evenodd"/>'),In=v("PlayFill",'<path d="M13.596 10.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V6.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 010 1.393z"/>'),jn=v("Plug",'<path d="M6 7h8v3a4 4 0 01-8 0V7z"/><path fill-rule="evenodd" d="M8 3.5a.5.5 0 01.5.5v3a.5.5 0 01-1 0V4a.5.5 0 01.5-.5zm4 0a.5.5 0 01.5.5v3a.5.5 0 01-1 0V4a.5.5 0 01.5-.5zM9.115 15.651c.256-.511.385-1.408.385-2.651h1c0 1.257-.121 2.36-.49 3.099-.191.381-.47.707-.87.877-.401.17-.845.15-1.298-.002-.961-.32-1.534-.175-1.851.046-.33.23-.491.615-.491.98h-1c0-.635.278-1.353.918-1.8.653-.456 1.58-.561 2.74-.174.297.099.478.078.592.03.115-.05.244-.161.365-.405z" clip-rule="evenodd"/>'),Mn=v("Plus",'<path fill-rule="evenodd" d="M10 5.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H6a.5.5 0 010-1h3.5V6a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.5 10a.5.5 0 01.5-.5h4a.5.5 0 010 1h-3.5V14a.5.5 0 01-1 0v-4z" clip-rule="evenodd"/>'),Rn=v("Power",'<path fill-rule="evenodd" d="M7.578 6.437a5 5 0 104.922.044l.5-.865a6 6 0 11-5.908-.053l.486.874z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.5 10V3h1v7h-1z" clip-rule="evenodd"/>'),An=v("Question",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm8-7a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd"/><path d="M7.25 8.033h1.32c0-.781.458-1.384 1.36-1.384.685 0 1.313.343 1.313 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.007.463h1.307v-.355c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.326 0-2.786.647-2.754 2.533zm1.562 5.516c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>'),Pn=v("QuestionFill",'<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.57 8.033H7.25C7.22 6.147 8.68 5.5 10.006 5.5c1.397 0 2.673.73 2.673 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.355H9.117l-.007-.463c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.901 0-1.358.603-1.358 1.384zm1.251 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" clip-rule="evenodd"/>'),Bn=v("QuestionSquare",'<path fill-rule="evenodd" d="M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path d="M7.25 8.033h1.32c0-.781.458-1.384 1.36-1.384.685 0 1.313.343 1.313 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.007.463h1.307v-.355c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.326 0-2.786.647-2.754 2.533zm1.562 5.516c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>'),Dn=v("QuestionSquareFill",'<path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm4.57 6.033H7.25C7.22 6.147 8.68 5.5 10.006 5.5c1.397 0 2.673.73 2.673 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.355H9.117l-.007-.463c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.901 0-1.358.603-1.358 1.384zm1.251 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" clip-rule="evenodd"/>'),Ln=v("Reply",'<path fill-rule="evenodd" d="M11.502 7.013a.144.144 0 00-.202.134V8.3a.5.5 0 01-.5.5c-.667 0-2.013.005-3.3.822-.984.624-1.99 1.76-2.595 3.876 1.02-.983 2.185-1.516 3.205-1.799a8.745 8.745 0 011.921-.306 7.468 7.468 0 01.798.008h.013l.005.001h.001l-.048.498.05-.498a.5.5 0 01.45.498v1.153c0 .108.11.176.202.134l3.984-2.933a.522.522 0 01.042-.028.147.147 0 000-.252.51.51 0 01-.042-.028l-3.984-2.933zM10.3 12.386a7.745 7.745 0 00-1.923.277c-1.326.368-2.896 1.201-3.94 3.08a.5.5 0 01-.933-.305c.464-3.71 1.886-5.662 3.46-6.66 1.245-.79 2.527-.942 3.336-.971v-.66a1.144 1.144 0 011.767-.96l3.994 2.94a1.147 1.147 0 010 1.946l-3.994 2.94a1.144 1.144 0 01-1.767-.96v-.667z" clip-rule="evenodd"/>'),zn=v("ReplyAll",'<path fill-rule="evenodd" d="M10.002 7.013a.144.144 0 00-.202.134V8.3a.5.5 0 01-.5.5c-.667 0-2.013.005-3.3.822-.984.624-1.99 1.76-2.595 3.876 1.02-.983 2.185-1.516 3.205-1.799a8.745 8.745 0 011.921-.306 7.47 7.47 0 01.798.008h.013l.005.001h.001L9.3 11.9l.05-.498a.5.5 0 01.45.498v1.153c0 .108.11.176.202.134l3.984-2.933a.522.522 0 01.042-.028.147.147 0 000-.252.51.51 0 01-.042-.028l-3.984-2.933zM8.8 12.386a7.745 7.745 0 00-1.923.277c-1.326.368-2.896 1.201-3.94 3.08a.5.5 0 01-.933-.305c.464-3.71 1.886-5.662 3.46-6.66 1.245-.79 2.527-.942 3.336-.971v-.66a1.144 1.144 0 011.767-.96l3.994 2.94a1.147 1.147 0 010 1.946l-3.994 2.94a1.144 1.144 0 01-1.767-.96v-.667z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.868 6.293a.5.5 0 01.7-.106l3.993 2.94a1.147 1.147 0 010 1.946l-3.994 2.94a.5.5 0 11-.593-.805l4.012-2.954a.523.523 0 01.042-.028.147.147 0 000-.252.512.512 0 01-.042-.028l-4.012-2.954a.5.5 0 01-.106-.699z" clip-rule="evenodd"/>'),Fn=v("ReplyAllFill",'<path d="M10.079 13.9l4.568-3.281a.719.719 0 000-1.238L10.079 6.1A.716.716 0 009 6.719V8c-1.5 0-6 0-7 8 2.5-4.5 7-4 7-4v1.281c0 .56.606.898 1.079.62z"/><path fill-rule="evenodd" d="M12.868 6.293a.5.5 0 01.7-.106l3.993 2.94a1.147 1.147 0 010 1.946l-3.994 2.94a.5.5 0 11-.593-.805l4.012-2.954a.523.523 0 01.042-.028.147.147 0 000-.252.512.512 0 01-.042-.028l-4.012-2.954a.5.5 0 01-.106-.699z" clip-rule="evenodd"/>'),Nn=v("ReplyFill",'<path d="M11.079 13.9l4.568-3.281a.719.719 0 000-1.238L11.079 6.1A.716.716 0 0010 6.719V8c-1.5 0-6 0-7 8 2.5-4.5 7-4 7-4v1.281c0 .56.606.898 1.079.62z"/>'),Vn=v("Screwdriver",'<path fill-rule="evenodd" d="M2 3l1-1 3.081 2.2a1 1 0 01.419.815v.07a1 1 0 00.293.708L12.5 11.5l.914-.305a1 1 0 011.023.242l3.356 3.356a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.414 0l-3.356-3.356a1 1 0 01-.242-1.023l.305-.914-5.707-5.707a1 1 0 00-.707-.293h-.071a1 1 0 01-.814-.419L2 3zm11.354 9.646a.5.5 0 00-.708.708l3 3a.5.5 0 00.708-.708l-3-3z" clip-rule="evenodd"/>'),Hn=v("Search",'<path fill-rule="evenodd" d="M12.442 12.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8.5 14a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM15 8.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" clip-rule="evenodd"/>'),$n=v("Shield",'<path fill-rule="evenodd" d="M7.443 3.991a60.17 60.17 0 00-2.725.802.454.454 0 00-.315.366C3.87 9.056 5.1 11.9 6.567 13.773c.736.94 1.533 1.636 2.197 2.093.333.228.626.394.857.5.116.053.21.089.282.11A.73.73 0 0010 16.5a.774.774 0 00.097-.023c.072-.022.166-.058.282-.111.23-.106.524-.272.857-.5a10.198 10.198 0 002.197-2.093C14.9 11.9 16.13 9.056 15.597 5.159a.454.454 0 00-.315-.366c-.626-.2-1.682-.526-2.725-.802C11.491 3.71 10.51 3.5 10 3.5c-.51 0-1.49.21-2.557.491zm-.256-.966C8.23 2.749 9.337 2.5 10 2.5c.662 0 1.77.249 2.813.525 1.066.282 2.14.614 2.772.815.528.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.367 9.365a11.192 11.192 0 01-2.418 2.3 6.942 6.942 0 01-1.007.586c-.27.124-.558.225-.796.225s-.527-.101-.796-.225a6.908 6.908 0 01-1.007-.586 11.192 11.192 0 01-2.418-2.3c-1.611-2.058-2.94-5.168-2.367-9.365A1.454 1.454 0 014.415 3.84a61.113 61.113 0 012.772-.815z" clip-rule="evenodd"/>'),Un=v("ShieldFill",'<path fill-rule="evenodd" d="M7.187 3.025C8.23 2.749 9.337 2.5 10 2.5c.662 0 1.77.249 2.813.525 1.066.282 2.14.614 2.772.815.528.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.367 9.365a11.192 11.192 0 01-2.418 2.3 6.942 6.942 0 01-1.007.586c-.27.124-.558.225-.796.225s-.527-.101-.796-.225a6.908 6.908 0 01-1.007-.586 11.192 11.192 0 01-2.418-2.3c-1.611-2.058-2.94-5.168-2.367-9.365A1.454 1.454 0 014.415 3.84a61.113 61.113 0 012.772-.815z" clip-rule="evenodd"/>'),qn=v("ShieldLock",'<path fill-rule="evenodd" d="M7.443 3.991a60.17 60.17 0 00-2.725.802.454.454 0 00-.315.366C3.87 9.056 5.1 11.9 6.567 13.773c.736.94 1.533 1.636 2.197 2.093.333.228.626.394.857.5.116.053.21.089.282.11A.73.73 0 0010 16.5a.774.774 0 00.097-.023c.072-.022.166-.058.282-.111.23-.106.524-.272.857-.5a10.198 10.198 0 002.197-2.093C14.9 11.9 16.13 9.056 15.597 5.159a.454.454 0 00-.315-.366c-.626-.2-1.682-.526-2.725-.802C11.491 3.71 10.51 3.5 10 3.5c-.51 0-1.49.21-2.557.491zm-.256-.966C8.23 2.749 9.337 2.5 10 2.5c.662 0 1.77.249 2.813.525 1.066.282 2.14.614 2.772.815.528.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.367 9.365a11.192 11.192 0 01-2.418 2.3 6.942 6.942 0 01-1.007.586c-.27.124-.558.225-.796.225s-.527-.101-.796-.225a6.908 6.908 0 01-1.007-.586 11.192 11.192 0 01-2.418-2.3c-1.611-2.058-2.94-5.168-2.367-9.365A1.454 1.454 0 014.415 3.84a61.113 61.113 0 012.772-.815z" clip-rule="evenodd"/><path d="M11.5 8.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/><path d="M9.41 10.034a.5.5 0 01.494-.417h.156a.5.5 0 01.492.414l.347 2a.5.5 0 01-.493.585h-.835a.5.5 0 01-.493-.582l.333-2z"/>'),Kn=v("ShieldLockFill",'<path fill-rule="evenodd" d="M7.187 3.025C8.23 2.749 9.337 2.5 10 2.5c.662 0 1.77.249 2.813.525a61.1 61.1 0 012.772.815c.527.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.368 9.365a11.19 11.19 0 01-2.417 2.3 6.942 6.942 0 01-1.007.586c-.27.124-.558.225-.796.225s-.527-.101-.796-.225a6.908 6.908 0 01-1.007-.586 11.192 11.192 0 01-2.418-2.3c-1.611-2.058-2.94-5.168-2.367-9.365A1.454 1.454 0 014.415 3.84a61.105 61.105 0 012.772-.815zm3.328 6.884a1.5 1.5 0 10-1.06-.011.5.5 0 00-.044.136l-.333 2a.5.5 0 00.493.582h.835a.5.5 0 00.493-.585l-.347-2a.501.501 0 00-.037-.122z" clip-rule="evenodd"/>'),Gn=v("ShieldShaded",'<path fill-rule="evenodd" d="M7.443 3.991a60.17 60.17 0 00-2.725.802.454.454 0 00-.315.366C3.87 9.056 5.1 11.9 6.567 13.773c.736.94 1.533 1.636 2.197 2.093.333.228.626.394.857.5.116.053.21.089.282.11A.73.73 0 0010 16.5a.774.774 0 00.097-.023c.072-.022.166-.058.282-.111a5.94 5.94 0 00.857-.5 10.198 10.198 0 002.197-2.093C14.9 11.9 16.13 9.056 15.597 5.159a.454.454 0 00-.315-.366c-.626-.2-1.682-.526-2.725-.802C11.491 3.71 10.51 3.5 10 3.5c-.51 0-1.49.21-2.557.491zm-.256-.966C8.23 2.749 9.337 2.5 10 2.5c.662 0 1.77.249 2.813.525 1.066.282 2.14.614 2.772.815.528.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.367 9.365a11.192 11.192 0 01-2.418 2.3 6.942 6.942 0 01-1.007.586c-.27.124-.558.225-.796.225s-.526-.101-.796-.225a6.908 6.908 0 01-1.007-.586 11.192 11.192 0 01-2.418-2.3c-1.611-2.058-2.94-5.168-2.367-9.365A1.454 1.454 0 014.415 3.84a61.105 61.105 0 012.772-.815z" clip-rule="evenodd"/><path d="M10 4.25c.909 0 3.188.685 4.254 1.022a.94.94 0 01.656.773c.814 6.424-4.13 9.452-4.91 9.452V4.25z"/>'),Wn=v("Shift",'<path fill-rule="evenodd" d="M9.27 4.047a1 1 0 011.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H13.5v3a1 1 0 01-1 1h-5a1 1 0 01-1-1v-3H3.654c-.875 0-1.328-1.045-.73-1.684L9.27 4.047zm7.076 7.453L10 4.731 3.654 11.5H6.5a1 1 0 011 1v3h5v-3a1 1 0 011-1h2.846z" clip-rule="evenodd"/>'),Yn=v("ShiftFill",'<path fill-rule="evenodd" d="M9.27 4.047a1 1 0 011.46 0l6.345 6.769c.6.639.146 1.684-.73 1.684H13.5v3a1 1 0 01-1 1h-5a1 1 0 01-1-1v-3H3.654c-.875 0-1.328-1.045-.73-1.684L9.27 4.047z" clip-rule="evenodd"/>'),Xn=v("SkipBackward",'<path fill-rule="evenodd" d="M2.5 5.5A.5.5 0 013 6v3.248l6.267-3.636c.52-.302 1.233.043 1.233.696v2.94l6.267-3.636c.52-.302 1.233.043 1.233.696v7.384c0 .653-.713.998-1.233.696L10.5 10.752v2.94c0 .653-.713.998-1.233.696L3 10.752V14a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm7 1.133L3.696 10 9.5 13.367V6.633zm7.5 0L11.196 10 17 13.367V6.633z" clip-rule="evenodd"/>'),Qn=v("SkipBackwardFill",'<path stroke="currentColor" stroke-linecap="round" d="M14 6v8"/><path d="M13.596 10.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V6.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 010 1.393z"/>'),Jn=v("SkipEnd",'<path fill-rule="evenodd" d="M14 5.5a.5.5 0 01.5.5v8a.5.5 0 01-1 0V6a.5.5 0 01.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.804 10L7 6.633v6.734L12.804 10zm.792-.696a.802.802 0 010 1.392l-6.363 3.692C6.713 14.69 6 14.345 6 13.692V6.308c0-.653.713-.998 1.233-.696l6.363 3.692z" clip-rule="evenodd"/>'),Zn=v("SkipEndFill",'<path stroke="currentColor" stroke-linecap="round" d="M2.5 6v8"/><path d="M2.904 10.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V6.308c0-.63-.693-1.01-1.233-.696L2.904 9.304a.802.802 0 000 1.393z"/><path d="M10.404 10.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V6.308c0-.63-.692-1.01-1.233-.696l-6.363 3.692a.802.802 0 000 1.393z"/>'),eo=v("SkipForward",'<path fill-rule="evenodd" d="M17.5 5.5a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-3.248l-6.267 3.636c-.52.302-1.233-.043-1.233-.696v-2.94l-6.267 3.636C2.713 14.69 2 14.345 2 13.692V6.308c0-.653.713-.998 1.233-.696L9.5 9.248v-2.94c0-.653.713-.998 1.233-.696L17 9.248V6a.5.5 0 01.5-.5zM3 6.633v6.734L8.804 10 3 6.633zm7.5 0v6.734L16.304 10 10.5 6.633z" clip-rule="evenodd"/>'),to=v("SkipForwardFill",'<path stroke="currentColor" stroke-linecap="round" d="M17.5 6v8"/><path d="M9.596 10.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V6.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 010 1.393z"/><path d="M17.096 10.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V6.308c0-.63.693-1.01 1.233-.696l6.363 3.692a.802.802 0 010 1.393z"/>'),ro=v("SkipStart",'<path fill-rule="evenodd" d="M6.5 5.5A.5.5 0 006 6v8a.5.5 0 001 0V6a.5.5 0 00-.5-.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.696 10L13.5 6.633v6.734L7.696 10zm-.792-.696a.802.802 0 000 1.392l6.363 3.692c.52.302 1.233-.043 1.233-.696V6.308c0-.653-.713-.998-1.233-.696L6.904 9.304z" clip-rule="evenodd"/>'),no=v("SkipStartFill",'<path stroke="currentColor" stroke-linecap="round" d="M6.5 6v8"/><path d="M6.903 10.697l6.364 3.692c.54.313 1.232-.066 1.232-.697V6.308c0-.63-.692-1.01-1.232-.696L6.903 9.304a.802.802 0 000 1.393z"/>'),oo=v("Speaker",'<path d="M11 6a1 1 0 11-2 0 1 1 0 012 0zm-2.5 6.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"/><path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm6 4a2 2 0 11-4 0 2 2 0 014 0zm-2 3a3.5 3.5 0 100 7 3.5 3.5 0 000-7z" clip-rule="evenodd"/>'),io=v("Square",'<path fill-rule="evenodd" d="M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/>'),ao=v("SquareFill",'<rect width="16" height="16" x="2" y="2" rx="2"/>'),so=v("SquareHalf",'<path fill-rule="evenodd" d="M10 3H4a1 1 0 00-1 1v12a1 1 0 001 1h6V3zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/>'),lo=v("Star",'<path fill-rule="evenodd" d="M4.866 16.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696-2.184-4.327a.513.513 0 00-.927 0L7.354 7.12l-4.898.696c-.441.062-.612.636-.282.95l3.522 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 00-.163-.505L3.71 8.745l4.052-.576a.525.525 0 00.393-.288l1.847-3.658 1.846 3.658c.08.157.226.264.393.288l4.053.575-2.907 2.77a.564.564 0 00-.163.506l.694 3.957-3.686-1.894a.503.503 0 00-.461 0z" clip-rule="evenodd"/>'),co=v("StarFill",'<path d="M5.612 17.443c-.386.198-.824-.149-.746-.592l.83-4.73-3.522-3.356c-.33-.314-.16-.888.282-.95l4.898-.696 2.184-4.327c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L10 15.187l-4.389 2.256z"/>'),uo=v("StarHalf",'<path fill-rule="evenodd" d="M7.354 7.119l2.184-4.327A.516.516 0 0110 2.5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0118 8.32a.55.55 0 01-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L10 15.187l-4.389 2.256a.52.52 0 01-.146.05c-.341.06-.668-.254-.6-.642l.83-4.73-3.522-3.356a.55.55 0 01-.172-.403.59.59 0 01.084-.302.513.513 0 01.37-.245l4.898-.696zM10 14.027c.08 0 .16.018.232.056l3.686 1.894-.694-3.957a.564.564 0 01.163-.505l2.907-2.77-4.053-.576a.525.525 0 01-.393-.288l-1.847-3.658-.001.003v9.8z" clip-rule="evenodd"/>'),ho=v("Stop",'<path fill-rule="evenodd" d="M5.5 7A1.5 1.5 0 017 5.5h6A1.5 1.5 0 0114.5 7v6a1.5 1.5 0 01-1.5 1.5H7A1.5 1.5 0 015.5 13V7zM7 6.5a.5.5 0 00-.5.5v6a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V7a.5.5 0 00-.5-.5H7z" clip-rule="evenodd"/>'),fo=v("StopFill",'<path d="M7 5.5h6A1.5 1.5 0 0114.5 7v6a1.5 1.5 0 01-1.5 1.5H7A1.5 1.5 0 015.5 13V7A1.5 1.5 0 017 5.5z"/>'),po=v("Stopwatch",'<path fill-rule="evenodd" d="M10 17a6 6 0 100-12 6 6 0 000 12zm0 1a7 7 0 100-14 7 7 0 000 14z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 6.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H6.5a.5.5 0 010-1h3V7a.5.5 0 01.5-.5zm-2.5-4A.5.5 0 018 2h4a.5.5 0 010 1H8a.5.5 0 01-.5-.5z" clip-rule="evenodd"/><path d="M9 3h2v2H9V3z"/>'),vo=v("StopwatchFill",'<path fill-rule="evenodd" d="M7.5 2.5A.5.5 0 018 2h4a.5.5 0 010 1h-1v1.07A7.002 7.002 0 0110 18 7 7 0 019 4.07V3H8a.5.5 0 01-.5-.5zm3 4.5a.5.5 0 00-1 0v3.5h-3a.5.5 0 000 1H10a.5.5 0 00.5-.5V7z" clip-rule="evenodd"/>'),mo=v("Sun",'<path d="M5.5 10a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"/><path fill-rule="evenodd" d="M10.202 2.28a.25.25 0 00-.404 0l-.91 1.255a.25.25 0 01-.334.067L7.232 2.79a.25.25 0 00-.374.155l-.36 1.508a.25.25 0 01-.282.189l-1.532-.244a.25.25 0 00-.286.286l.244 1.532a.25.25 0 01-.189.282l-1.508.36a.25.25 0 00-.155.374l.812 1.322a.25.25 0 01-.067.333l-1.256.91a.25.25 0 000 .405l1.256.91a.25.25 0 01.067.334l-.812 1.322a.25.25 0 00.155.374l1.508.36a.25.25 0 01.19.282l-.245 1.532a.25.25 0 00.286.286l1.532-.244a.25.25 0 01.282.189l.36 1.508a.25.25 0 00.374.155l1.322-.812a.25.25 0 01.333.067l.91 1.256a.25.25 0 00.405 0l.91-1.256a.25.25 0 01.334-.067l1.322.812a.25.25 0 00.374-.155l.36-1.508a.25.25 0 01.282-.19l1.532.245a.25.25 0 00.286-.286l-.244-1.532a.25.25 0 01.189-.282l1.508-.36a.25.25 0 00.155-.374l-.812-1.322a.25.25 0 01.067-.333l1.256-.91a.25.25 0 000-.405l-1.256-.91a.25.25 0 01-.067-.334l.812-1.322a.25.25 0 00-.155-.374l-1.508-.36a.25.25 0 01-.19-.282l.245-1.532a.25.25 0 00-.286-.286l-1.532.244a.25.25 0 01-.282-.189l-.36-1.509a.25.25 0 00-.374-.154l-1.322.812a.25.25 0 01-.333-.067l-.91-1.256zM10 4.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z" clip-rule="evenodd"/>'),go=v("Table",'<path fill-rule="evenodd" d="M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M17 6H3V5h14v1z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7 17.5v-14h1v14H7zm5 0v-14h1v14h-1z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M17 10H3V9h14v1zm0 4H3v-1h14v1z" clip-rule="evenodd"/><path d="M2 4a2 2 0 012-2h12a2 2 0 012 2v2H2V4z"/>'),bo=v("Tablet",'<path fill-rule="evenodd" d="M14 3.5H6a1 1 0 00-1 1v11a1 1 0 001 1h8a1 1 0 001-1v-11a1 1 0 00-1-1zm-8-1a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2v-11a2 2 0 00-2-2H6z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 15.5a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>'),yo=v("TabletLandscape",'<path fill-rule="evenodd" d="M3.5 6v8a1 1 0 001 1h11a1 1 0 001-1V6a1 1 0 00-1-1h-11a1 1 0 00-1 1zm-1 8a2 2 0 002 2h11a2 2 0 002-2V6a2 2 0 00-2-2h-11a2 2 0 00-2 2v8z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M15.5 10a1 1 0 10-2 0 1 1 0 002 0z" clip-rule="evenodd"/>'),_o=v("Tag",'<path fill-rule="evenodd" d="M2.5 4A1.5 1.5 0 014 2.5h4.586a1.5 1.5 0 011.06.44l7 7a1.5 1.5 0 010 2.12l-4.585 4.586a1.5 1.5 0 01-2.122 0l-7-7a1.5 1.5 0 01-.439-1.06V4zM4 3.5a.5.5 0 00-.5.5v4.586a.5.5 0 00.146.353l7 7a.5.5 0 00.708 0l4.585-4.585a.5.5 0 000-.708l-7-7a.5.5 0 00-.353-.146H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M4.5 6.5a2 2 0 114 0 2 2 0 01-4 0zm2-1a1 1 0 100 2 1 1 0 000-2z" clip-rule="evenodd"/>'),wo=v("TagFill",'<path fill-rule="evenodd" d="M4 3a1 1 0 00-1 1v4.586a1 1 0 00.293.707l7 7a1 1 0 001.414 0l4.586-4.586a1 1 0 000-1.414l-7-7A1 1 0 008.586 3H4zm4 3.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" clip-rule="evenodd"/>'),ko=v("Terminal",'<path fill-rule="evenodd" d="M16 4H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1zM4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M8 11a.5.5 0 01.5-.5h3a.5.5 0 010 1h-3A.5.5 0 018 11zM5.146 6.146a.5.5 0 01.708 0l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708L6.793 8.5 5.146 6.854a.5.5 0 010-.708z" clip-rule="evenodd"/>'),So=v("TerminalFill",'<path fill-rule="evenodd" d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm9.5 5.5h-3a.5.5 0 000 1h3a.5.5 0 000-1zm-6.354-.354L6.793 8.5 5.146 6.854a.5.5 0 11.708-.708l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708z" clip-rule="evenodd"/>'),xo=v("TextCenter",'<path fill-rule="evenodd" d="M6 14.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zm-2-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm2-3a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zm-2-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Oo=v("TextIndentLeft",'<path fill-rule="evenodd" d="M4 5.5a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm.646 2.146a.5.5 0 01.708 0l2 2a.5.5 0 010 .708l-2 2a.5.5 0 01-.708-.708L6.293 10 4.646 8.354a.5.5 0 010-.708zM9 8.5a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm-5 3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),To=v("TextIndentRight",'<path fill-rule="evenodd" d="M4 5.5a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm10.646 2.146a.5.5 0 01.708.708L13.707 10l1.647 1.646a.5.5 0 01-.708.708l-2-2a.5.5 0 010-.708l2-2zM4 8.5a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h6a.5.5 0 010 1h-6a.5.5 0 01-.5-.5zm0 3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Eo=v("TextLeft",'<path fill-rule="evenodd" d="M4 14.5a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5zm0-3a.5.5 0 01.5-.5h11a.5.5 0 010 1h-11a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Co=v("TextRight",'<path stroke="currentColor" stroke-linecap="round" d="M8.5 14.5h7m-11-3h11m-7-3h7m-11-3h11"/>'),Io=v("ThreeDots",'<path fill-rule="evenodd" d="M5 11.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" clip-rule="evenodd"/>'),jo=v("ThreeDotsVertical",'<path fill-rule="evenodd" d="M11.5 15a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" clip-rule="evenodd"/>'),Mo=v("ToggleOff",'<path fill-rule="evenodd" d="M13 6a4 4 0 010 8h-3a4.992 4.992 0 002-4 4.992 4.992 0 00-2-4h3zm-6 8a4 4 0 110-8 4 4 0 010 8zm-5-4a5 5 0 005 5h6a5 5 0 000-10H7a5 5 0 00-5 5z" clip-rule="evenodd"/>'),Ro=v("ToggleOn",'<path fill-rule="evenodd" d="M7 5a5 5 0 000 10h6a5 5 0 000-10H7zm6 9a4 4 0 100-8 4 4 0 000 8z" clip-rule="evenodd"/>'),Ao=v("Toggles",'<path fill-rule="evenodd" d="M13.5 3h-7a2.5 2.5 0 000 5h7a2.5 2.5 0 000-5zm-7-1a3.5 3.5 0 100 7h7a3.5 3.5 0 100-7h-7zm0 9a3.5 3.5 0 100 7h7a3.5 3.5 0 100-7h-7zm7 6a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 5.5a3.5 3.5 0 11-7 0 3.5 3.5 0 017 0zM6.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clip-rule="evenodd"/>'),Po=v("Tools",'<path fill-rule="evenodd" d="M2 3l1-1 3.081 2.2a1 1 0 01.419.815v.07a1 1 0 00.293.708L12.5 11.5l.914-.305a1 1 0 011.023.242l3.356 3.356a1 1 0 010 1.414l-1.586 1.586a1 1 0 01-1.414 0l-3.356-3.356a1 1 0 01-.242-1.023l.305-.914-5.707-5.707a1 1 0 00-.707-.293h-.071a1 1 0 01-.814-.419L2 3zm11.354 9.646a.5.5 0 00-.708.708l3 3a.5.5 0 00.708-.708l-3-3z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M17.898 4.223a3.003 3.003 0 01-3.679 3.674L7.878 14.15a3 3 0 11-2.027-2.027l6.252-6.341a3 3 0 013.675-3.68l-2.142 2.142L14 6l1.757.364 2.141-2.141zm-13.37 9.019L5 13l.471.242.529.026.287.445.445.287.026.529L7 15l-.242.471-.026.529-.445.287-.287.445-.529.026L5 17l-.471-.242L4 16.732l-.287-.445L3.268 16l-.026-.529L3 15l.242-.471.026-.529.445-.287.287-.445.529-.026z" clip-rule="evenodd"/>'),Bo=v("Trash",'<path d="M7.5 7.5A.5.5 0 018 8v6a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V8a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V8z"/><path fill-rule="evenodd" d="M16.5 5a1 1 0 01-1 1H15v9a2 2 0 01-2 2H7a2 2 0 01-2-2V6h-.5a1 1 0 01-1-1V4a1 1 0 011-1H8a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM6.118 6L6 6.059V15a1 1 0 001 1h6a1 1 0 001-1V6.059L13.882 6H6.118zM4.5 5V4h11v1h-11z" clip-rule="evenodd"/>'),Do=v("TrashFill",'<path fill-rule="evenodd" d="M4.5 3a1 1 0 00-1 1v1a1 1 0 001 1H5v9a2 2 0 002 2h6a2 2 0 002-2V6h.5a1 1 0 001-1V4a1 1 0 00-1-1H12a1 1 0 00-1-1H9a1 1 0 00-1 1H4.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM10 7a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 0110 7zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z" clip-rule="evenodd"/>'),Lo=v("Triangle",'<path fill-rule="evenodd" d="M9.938 4.016a.146.146 0 00-.054.057L3.027 15.74a.176.176 0 00-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 00.066-.017.163.163 0 00.055-.06.176.176 0 00-.003-.183L10.12 4.073a.146.146 0 00-.054-.057.13.13 0 00-.063-.016.13.13 0 00-.064.016zm1.043-.45a1.13 1.13 0 00-1.96 0L2.166 15.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L10.982 3.566z" clip-rule="evenodd"/>'),zo=v("TriangleFill",'<path fill-rule="evenodd" d="M9.022 3.566a1.13 1.13 0 011.96 0l6.857 11.667c.457.778-.092 1.767-.98 1.767H3.144c-.889 0-1.437-.99-.98-1.767L9.022 3.566z" clip-rule="evenodd"/>'),Fo=v("TriangleHalf",'<path fill-rule="evenodd" d="M9.938 4.016a.146.146 0 00-.054.057L3.027 15.74a.176.176 0 00-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017l6.857-.017V4a.13.13 0 00-.064.016zm1.043-.45a1.13 1.13 0 00-1.96 0L2.166 15.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L10.982 3.566z" clip-rule="evenodd"/>'),No=v("Trophy",'<path d="M5 3h10c-.495 3.467-.5 10-5 10S5.495 6.467 5 3zm0 15a1 1 0 011-1h8a1 1 0 011 1H5zm2-1a1 1 0 011-1h4a1 1 0 011 1H7z"/><path fill-rule="evenodd" d="M14.5 5a2 2 0 100 4 2 2 0 000-4zm-3 2a3 3 0 116 0 3 3 0 01-6 0zm-6-2a2 2 0 100 4 2 2 0 000-4zm-3 2a3 3 0 116 0 3 3 0 01-6 0z" clip-rule="evenodd"/><path d="M9 12h2v4H9v-4z"/><path d="M12 13c0 .552-.895 1-2 1s-2-.448-2-1 .895-1 2-1 2 .448 2 1z"/>'),Vo=v("Tv",'<path fill-rule="evenodd" d="M2.216 6H1.5v-.04l.005-.083a2.957 2.957 0 01.298-1.102c.154-.309.394-.633.763-.88C2.94 3.648 3.413 3.5 4 3.5h12.039l.083.005a2.958 2.958 0 011.102.298c.309.154.633.394.88.763.248.373.396.847.396 1.434v6H18h.5v.039l-.005.083a2.957 2.957 0 01-.298 1.102 2.257 2.257 0 01-.763.88c-.373.248-.847.396-1.434.396H3.961l-.083-.005a2.956 2.956 0 01-1.102-.298 2.254 2.254 0 01-.88-.763C1.648 13.06 1.5 12.588 1.5 12V6h.716zm.284.002v-.008l.003-.044a1.959 1.959 0 01.195-.726c.095-.191.23-.367.423-.495.19-.127.466-.229.879-.229h12.006l.044.003a1.958 1.958 0 01.726.195c.191.095.367.23.495.423.127.19.229.466.229.879v6.006l-.003.044a1.959 1.959 0 01-.195.726c-.095.191-.23.367-.423.495-.19.127-.466.229-.879.229H3.994l-.044-.003a1.96 1.96 0 01-.726-.195 1.256 1.256 0 01-.495-.423c-.127-.19-.229-.466-.229-.879V6.002zM4.003 13.5zm.497 2A.5.5 0 015 15h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>'),Ho=v("TvFill",'<path fill-rule="evenodd" d="M4.5 15.5A.5.5 0 015 15h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zM4 4h12s2 0 2 2v6s0 2-2 2H4s-2 0-2-2V6s0-2 2-2z" clip-rule="evenodd"/>'),$o=v("Type",'<path d="M4.244 15.081l.944-2.803H8.66l.944 2.803h1.257L7.54 5.75H6.322L3 15.081h1.244zm2.7-7.923l1.395 4.157h-2.83L6.91 7.158h.034zm9.146 7.027h.035v.896h1.128v-4.956c0-1.51-1.114-2.345-2.646-2.345-1.736 0-2.59.916-2.666 2.174h1.108c.068-.718.595-1.19 1.517-1.19.971 0 1.518.52 1.518 1.463v.732H14.19c-1.647.007-2.522.8-2.522 2.058 0 1.319.957 2.18 2.345 2.18 1.06 0 1.716-.43 2.078-1.011zm-1.763.035c-.752 0-1.456-.397-1.456-1.244 0-.65.424-1.115 1.408-1.115h1.805v.834c0 .896-.752 1.525-1.757 1.525z"/>'),Uo=v("TypeBold",'<path d="M10.21 15c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 001.852-2.14c0-1.51-1.162-2.46-3.014-2.46H5.843V15h4.368zM7.908 6.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H7.908V6.673zm0 6.788v-2.864h1.73c1.216 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H7.907z"/>'),qo=v("TypeH1",'<path d="M10.637 15V5.669H9.379V9.62H4.758V5.67H3.5V15h1.258v-4.273h4.62V15h1.259zm5.329 0V5.669h-1.244L12.5 7.316v1.265l2.16-1.565h.062V15h1.244z"/>'),Ko=v("TypeH2",'<path d="M9.638 15V5.669H8.38V9.62H3.759V5.67H2.5V15h1.258v-4.273h4.62V15h1.259zm3.022-6.733v-.048c0-.889.63-1.668 1.716-1.668.957 0 1.675.608 1.675 1.572 0 .855-.554 1.504-1.067 2.085l-3.513 3.999V15H17.5v-1.094h-4.245v-.075l2.481-2.844c.875-.998 1.586-1.784 1.586-2.953 0-1.463-1.155-2.556-2.919-2.556-1.941 0-2.966 1.326-2.966 2.74v.049h1.223z"/>'),Go=v("TypeH3",'<path d="M9.637 15V5.669H8.379V9.62H3.758V5.67H2.5V15h1.258v-4.273h4.62V15h1.259zm3.625-4.273h1.018c1.142 0 1.935.67 1.949 1.675.013 1.005-.78 1.737-2.01 1.73-1.08-.007-1.853-.588-1.935-1.32h-1.176c.069 1.327 1.224 2.386 3.083 2.386 1.935 0 3.343-1.155 3.309-2.789-.027-1.51-1.251-2.16-2.037-2.249v-.068c.704-.123 1.764-.91 1.723-2.229-.035-1.353-1.176-2.4-2.954-2.385-1.873.006-2.857 1.162-2.898 2.358h1.196c.062-.69.711-1.299 1.696-1.299.998 0 1.695.622 1.695 1.525.007.922-.718 1.592-1.695 1.592h-.964v1.073z"/>'),Wo=v("TypeItalic",'<path d="M9.991 13.674l1.538-7.219c.123-.595.246-.71 1.347-.807l.11-.52H9.211l-.11.52c1.06.096 1.128.212 1.005.807L8.57 13.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"/>'),Yo=v("TypeStrikethrough",'<path d="M10.527 15.164c-2.153 0-3.589-1.107-3.705-2.81h1.23c.144 1.06 1.129 1.703 2.544 1.703 1.34 0 2.31-.705 2.31-1.675 0-.827-.547-1.374-1.914-1.675l-.946-.207h3.45c.468.437.675.994.675 1.697 0 1.826-1.436 2.967-3.644 2.967zM8.602 8.5H7.167a2.776 2.776 0 01-.099-.76c0-1.627 1.436-2.768 3.48-2.768 1.969 0 3.39 1.175 3.445 2.85h-1.23c-.11-1.08-.964-1.743-2.25-1.743-1.23 0-2.18.602-2.18 1.607 0 .31.083.581.27.814z"/><path fill-rule="evenodd" d="M17 10.5H3v-1h14v1z" clip-rule="evenodd"/>'),Xo=v("TypeUnderline",'<path d="M7.313 5.136h-1.23v6.405c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V5.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57-1.709 0-2.687-1.08-2.687-2.57V5.136z"/><path fill-rule="evenodd" d="M14.5 17h-9v-1h9v1z" clip-rule="evenodd"/>'),Qo=v("Unlock",'<path fill-rule="evenodd" d="M11.655 9H4.333c-.264 0-.398.068-.471.121a.73.73 0 00-.224.296 1.626 1.626 0 00-.138.59V15c0 .342.076.531.14.635.064.106.151.18.256.237a1.122 1.122 0 00.436.127l.013.001h7.322c.264 0 .398-.068.471-.121a.73.73 0 00.224-.296 1.627 1.627 0 00.138-.59V10c0-.342-.076-.531-.14-.635a.658.658 0 00-.255-.237 1.123 1.123 0 00-.45-.128zm.012-1H4.333C2.5 8 2.5 10 2.5 10v5c0 2 1.833 2 1.833 2h7.334c1.833 0 1.833-2 1.833-2v-5c0-2-1.833-2-1.833-2zM10.5 5a3.5 3.5 0 117 0v3h-1V5a2.5 2.5 0 00-5 0v3h-1V5z" clip-rule="evenodd"/>'),Jo=v("UnlockFill",'<path d="M2.5 10a2 2 0 012-2h7a2 2 0 012 2v5a2 2 0 01-2 2h-7a2 2 0 01-2-2v-5z"/><path fill-rule="evenodd" d="M10.5 5a3.5 3.5 0 117 0v3h-1V5a2.5 2.5 0 00-5 0v3h-1V5z" clip-rule="evenodd"/>'),Zo=v("Upload",'<path fill-rule="evenodd" d="M2.5 10a.5.5 0 01.5.5V14a1 1 0 001 1h12a1 1 0 001-1v-3.5a.5.5 0 011 0V14a2 2 0 01-2 2H4a2 2 0 01-2-2v-3.5a.5.5 0 01.5-.5zM7 6.854a.5.5 0 00.707 0L10 4.56l2.293 2.293A.5.5 0 1013 6.146L10.354 3.5a.5.5 0 00-.708 0L7 6.146a.5.5 0 000 .708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 4a.5.5 0 01.5.5v8a.5.5 0 01-1 0v-8A.5.5 0 0110 4z" clip-rule="evenodd"/>'),ei=v("VolumeDown",'<path fill-rule="evenodd" d="M10.717 5.55A.5.5 0 0111 6v8a.5.5 0 01-.812.39L7.825 12.5H5.5A.5.5 0 015 12V8a.5.5 0 01.5-.5h2.325l2.363-1.89a.5.5 0 01.529-.06zM10 7.04L8.312 8.39A.5.5 0 018 8.5H6v3h2a.5.5 0 01.312.11L10 12.96V7.04z" clip-rule="evenodd"/><path d="M12.707 13.182A4.486 4.486 0 0014.025 10a4.486 4.486 0 00-1.318-3.182L12 7.525A3.489 3.489 0 0113.025 10c0 .966-.392 1.841-1.025 2.475l.707.707z"/>'),ti=v("VolumeDownFill",'<path fill-rule="evenodd" d="M10.717 5.55A.5.5 0 0111 6v8a.5.5 0 01-.812.39L7.825 12.5H5.5A.5.5 0 015 12V8a.5.5 0 01.5-.5h2.325l2.363-1.89a.5.5 0 01.529-.06z" clip-rule="evenodd"/><path d="M12.707 13.182A4.486 4.486 0 0014.025 10a4.486 4.486 0 00-1.318-3.182L12 7.525A3.489 3.489 0 0113.025 10c0 .966-.392 1.841-1.025 2.475l.707.707z"/>'),ri=v("VolumeMute",'<path fill-rule="evenodd" d="M8.717 5.55A.5.5 0 019 6v8a.5.5 0 01-.812.39L5.825 12.5H3.5A.5.5 0 013 12V8a.5.5 0 01.5-.5h2.325l2.363-1.89a.5.5 0 01.529-.06zM8 7.04L6.312 8.39A.5.5 0 016 8.5H4v3h2a.5.5 0 01.312.11L8 12.96V7.04zm7.854.606a.5.5 0 010 .708l-4 4a.5.5 0 01-.708-.708l4-4a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.146 7.646a.5.5 0 000 .708l4 4a.5.5 0 00.708-.708l-4-4a.5.5 0 00-.708 0z" clip-rule="evenodd"/>'),ni=v("VolumeMuteFill",'<path fill-rule="evenodd" d="M8.717 5.55A.5.5 0 019 6v8a.5.5 0 01-.812.39L5.825 12.5H3.5A.5.5 0 013 12V8a.5.5 0 01.5-.5h2.325l2.363-1.89a.5.5 0 01.529-.06zm7.137 1.596a.5.5 0 010 .708l-4 4a.5.5 0 01-.708-.708l4-4a.5.5 0 01.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.146 7.146a.5.5 0 000 .708l4 4a.5.5 0 00.708-.708l-4-4a.5.5 0 00-.708 0z" clip-rule="evenodd"/>'),oi=v("VolumeUp",'<path fill-rule="evenodd" d="M8.717 5.55A.5.5 0 019 6v8a.5.5 0 01-.812.39L5.825 12.5H3.5A.5.5 0 013 12V8a.5.5 0 01.5-.5h2.325l2.363-1.89a.5.5 0 01.529-.06zM8 7.04L6.312 8.39A.5.5 0 016 8.5H4v3h2a.5.5 0 01.312.11L8 12.96V7.04z" clip-rule="evenodd"/><path d="M13.536 16.01a8.473 8.473 0 002.49-6.01 8.473 8.473 0 00-2.49-6.01l-.708.707A7.476 7.476 0 0115.025 10c0 2.071-.84 3.946-2.197 5.303l.708.707z"/><path d="M12.121 14.596A6.48 6.48 0 0014.025 10a6.48 6.48 0 00-1.904-4.596l-.707.707A5.483 5.483 0 0113.025 10a5.483 5.483 0 01-1.61 3.89l.706.706z"/><path d="M10.707 13.182A4.486 4.486 0 0012.025 10a4.486 4.486 0 00-1.318-3.182L10 7.525A3.489 3.489 0 0111.025 10c0 .966-.392 1.841-1.025 2.475l.707.707z"/>'),ii=v("VolumeUpFill",'<path d="M13.536 16.01a8.473 8.473 0 002.49-6.01 8.473 8.473 0 00-2.49-6.01l-.708.707A7.476 7.476 0 0115.025 10c0 2.071-.84 3.946-2.197 5.303l.708.707z"/><path d="M12.121 14.596A6.48 6.48 0 0014.025 10a6.48 6.48 0 00-1.904-4.596l-.707.707A5.483 5.483 0 0113.025 10a5.483 5.483 0 01-1.61 3.89l.706.706z"/><path d="M10.707 13.182A4.486 4.486 0 0012.025 10a4.486 4.486 0 00-1.318-3.182L10 7.525A3.489 3.489 0 0111.025 10c0 .966-.392 1.841-1.025 2.475l.707.707z"/><path fill-rule="evenodd" d="M8.717 5.55A.5.5 0 019 6v8a.5.5 0 01-.812.39L5.825 12.5H3.5A.5.5 0 013 12V8a.5.5 0 01.5-.5h2.325l2.363-1.89a.5.5 0 01.529-.06z" clip-rule="evenodd"/>'),ai=v("Wallet",'<path fill-rule="evenodd" d="M3.5 5a.5.5 0 00-.5.5v2h5a.5.5 0 01.5.5c0 .253.08.644.306.958.207.288.557.542 1.194.542.637 0 .987-.254 1.194-.542.226-.314.306-.705.306-.958a.5.5 0 01.5-.5h5v-2a.5.5 0 00-.5-.5h-13zM17 8.5h-4.551a2.678 2.678 0 01-.443 1.042c-.393.546-1.043.958-2.006.958-.963 0-1.613-.412-2.006-.958A2.679 2.679 0 017.551 8.5H3v6a.5.5 0 00.5.5h13a.5.5 0 00.5-.5v-6zm-15-3A1.5 1.5 0 013.5 4h13A1.5 1.5 0 0118 5.5v9a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 012 14.5v-9z" clip-rule="evenodd"/>'),si=v("Watch",'<path fill-rule="evenodd" d="M6 16.333v-1.86A5.985 5.985 0 014 10c0-1.777.772-3.374 2-4.472V3.667C6 2.747 6.746 2 7.667 2h4.666C13.253 2 14 2.746 14 3.667v1.86A5.985 5.985 0 0116 10a5.985 5.985 0 01-2 4.472v1.861c0 .92-.746 1.667-1.667 1.667H7.667C6.747 18 6 17.254 6 16.333zM15 10a5 5 0 10-10 0 5 5 0 0010 0z" clip-rule="evenodd"/><rect width="1" height="2" x="15.5" y="9" rx=".5"/><path fill-rule="evenodd" d="M10 6.5a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H8a.5.5 0 010-1h1.5V7a.5.5 0 01.5-.5z" clip-rule="evenodd"/>'),ci=v("Wifi",'<path fill-rule="evenodd" d="M8.858 13.858A1.991 1.991 0 0110 13.5c.425 0 .818.132 1.142.358L10 15l-1.142-1.142z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.731 14.024l.269.269.269-.269a1.506 1.506 0 00-.538 0zm-1.159-.576A2.49 2.49 0 0110 13c.53 0 1.023.165 1.428.448a.5.5 0 01.068.763l-1.143 1.143a.5.5 0 01-.707 0L8.504 14.21a.5.5 0 01.354-.853v.5l-.286-.41zM10 11.5a4.478 4.478 0 00-2.7.9.5.5 0 01-.6-.8c.919-.69 2.062-1.1 3.3-1.1s2.381.41 3.3 1.1a.5.5 0 01-.6.8 4.478 4.478 0 00-2.7-.9zm0-3c-1.833 0-3.51.657-4.814 1.748a.5.5 0 11-.642-.766A8.468 8.468 0 0110 7.5c2.076 0 3.98.745 5.456 1.982a.5.5 0 01-.642.766A7.468 7.468 0 0010 8.5z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M10 5.5c-2.657 0-5.082.986-6.932 2.613a.5.5 0 11-.66-.75A11.458 11.458 0 0110 4.5c2.91 0 5.567 1.08 7.592 2.862a.5.5 0 11-.66.751A10.458 10.458 0 0010 5.5z" clip-rule="evenodd"/>'),ui=v("Window",'<path fill-rule="evenodd" d="M16 4H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V5a1 1 0 00-1-1zM4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M17 8H3V7h14v1z" clip-rule="evenodd"/><path d="M5 5.5a.5.5 0 11-1 0 .5.5 0 011 0zm1.5 0a.5.5 0 11-1 0 .5.5 0 011 0zm1.5 0a.5.5 0 11-1 0 .5.5 0 011 0z"/>'),di=v("Wrench",'<path fill-rule="evenodd" d="M2.102 4.223A3.004 3.004 0 005 8c.27 0 .532-.036.78-.103l6.342 6.252A3.003 3.003 0 0015 18a3 3 0 10-.851-5.878L7.897 5.781A3.004 3.004 0 004.223 2.1l2.141 2.142L6 6l-1.757.364-2.141-2.141zm13.37 9.019L15 13l-.471.242-.529.026-.287.445-.445.287-.026.529L13 15l.242.471.026.529.445.287.287.445.529.026L15 17l.471-.242.529-.026.287-.445.445-.287.026-.529L17 15l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z" clip-rule="evenodd"/>'),hi=v("X",'<path fill-rule="evenodd" d="M5.646 5.646a.5.5 0 000 .708l8 8a.5.5 0 00.708-.708l-8-8a.5.5 0 00-.708 0z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14.354 5.646a.5.5 0 010 .708l-8 8a.5.5 0 01-.708-.708l8-8a.5.5 0 01.708 0z" clip-rule="evenodd"/>'),fi=v("XCircle",'<path fill-rule="evenodd" d="M10 17a7 7 0 100-14 7 7 0 000 14zm0 1a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12.646 13.354l-6-6 .708-.708 6 6-.708.708z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M7.354 13.354l6-6-.708-.708-6 6 .708.708z" clip-rule="evenodd"/>'),pi=v("XCircleFill",'<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7.354 6.646L10 9.293l2.646-2.647a.5.5 0 01.708.708L10.707 10l2.647 2.646a.5.5 0 01-.708.708L10 10.707l-2.646 2.647a.5.5 0 01-.708-.708L9.293 10 6.646 7.354a.5.5 0 11.708-.708z" clip-rule="evenodd"/>'),vi=v("XOctagon",'<path fill-rule="evenodd" d="M6.54 2.146A.5.5 0 016.893 2h6.214a.5.5 0 01.353.146l4.394 4.394a.5.5 0 01.146.353v6.214a.5.5 0 01-.146.353l-4.394 4.394a.5.5 0 01-.353.146H6.893a.5.5 0 01-.353-.146L2.146 13.46A.5.5 0 012 13.107V6.893a.5.5 0 01.146-.353L6.54 2.146zM7.1 3L3 7.1v5.8L7.1 17h5.8l4.1-4.1V7.1L12.9 3H7.1z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.293 10L6.646 7.354l.708-.708L10 9.293l2.646-2.647.708.708L10.707 10l2.647 2.646-.707.708L10 10.707l-2.646 2.647-.708-.707L9.293 10z" clip-rule="evenodd"/>'),mi=v("XOctagonFill",'<path fill-rule="evenodd" d="M13.46 2.146A.5.5 0 0013.107 2H6.893a.5.5 0 00-.353.146L2.146 6.54A.5.5 0 002 6.893v6.214a.5.5 0 00.146.353l4.394 4.394a.5.5 0 00.353.146h6.214a.5.5 0 00.353-.146l4.394-4.394a.5.5 0 00.146-.353V6.893a.5.5 0 00-.146-.353L13.46 2.146zm-6.106 4.5L10 9.293l2.646-2.647a.5.5 0 01.708.708L10.707 10l2.647 2.646a.5.5 0 01-.708.708L10 10.707l-2.646 2.647a.5.5 0 01-.708-.708L9.293 10 6.646 7.354a.5.5 0 11.708-.708z" clip-rule="evenodd"/>'),gi=v("XSquare",'<path fill-rule="evenodd" d="M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M9.293 10L6.646 7.354l.708-.708L10 9.293l2.646-2.647.708.708L10.707 10l2.647 2.646-.708.708L10 10.707l-2.646 2.647-.708-.707L9.293 10z" clip-rule="evenodd"/>'),bi=v("XSquareFill",'<path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm3.354 4.646L10 9.293l2.646-2.647a.5.5 0 01.708.708L10.707 10l2.647 2.646a.5.5 0 01-.708.708L10 10.707l-2.646 2.647a.5.5 0 01-.708-.708L9.293 10 6.646 7.354a.5.5 0 11.708-.708z" clip-rule="evenodd"/>')},function(e,t,r){"use strict";r.d(t,"k",(function(){return d})),r.d(t,"f",(function(){return h})),r.d(t,"l",(function(){return f})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return m})),r.d(t,"j",(function(){return y})),r.d(t,"g",(function(){return _})),r.d(t,"b",(function(){return w})),r.d(t,"c",(function(){return k})),r.d(t,"d",(function(){return S})),r.d(t,"i",(function(){return x})),r.d(t,"h",(function(){return O}));r(83),r(84),r(9);var n=r(53),o=r(36),l=function(e){return Object(n.a)(e)},c=function(e){return Object.prototype.toString.call(e).slice(8,-1)},d=function(e){return void 0===e},h=function(e){return null===e},f=function(e){return d(e)||h(e)},v=function(e){return"function"===l(e)},m=function(e){return"boolean"===l(e)},y=function(e){return"string"===l(e)},_=function(e){return"number"===l(e)},w=function(e){return e instanceof Date},k=function(e){return e instanceof Event},S=function(e){return e instanceof o.a},x=function(e){return"RegExp"===c(e)},O=function(e){return!f(e)&&v(e.then)&&v(e.catch)}},,function(e,t,r){"use strict";var n=r(17);t.a=n.default},function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return f})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return _})),r.d(t,"l",(function(){return w})),r.d(t,"i",(function(){return k})),r.d(t,"o",(function(){return S})),r.d(t,"j",(function(){return x})),r.d(t,"k",(function(){return O})),r.d(t,"b",(function(){return T})),r.d(t,"m",(function(){return E})),r.d(t,"n",(function(){return C})),r.d(t,"d",(function(){return I}));r(14);var n=r(2),o=r(53),l=(r(83),r(84),r(10),r(9),r(13),r(374),r(375),r(12),r(376),r(5));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h=function(){return Object.assign.apply(Object,arguments)},f=function(e,t){return Object.create(e,t)},v=function(e,t){return Object.defineProperties(e,t)},m=function(e,t,r){return Object.defineProperty(e,t,r)},y=function(e){return Object.freeze(e)},_=function(e){return Object.getOwnPropertyNames(e)},w=function(e){return Object.keys(e)},k=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},S=function(e){return Object.prototype.toString.call(e)},x=function(e){return null!==e&&"object"===Object(o.a)(e)},O=function(e){return"[object Object]"===Object.prototype.toString.call(e)},T=function(e){return d({},e)},E=function(e,t){return w(e).filter((function(e){return-1===t.indexOf(e)})).reduce((function(t,r){return d({},t,Object(n.a)({},r,e[r]))}),{})},C=function(){return{enumerable:!0,configurable:!1,writable:!1}},I=function e(t){return w(t).forEach((function(r){var n=t[r];t[r]=n&&(O(n)||Object(l.d)(n))?e(n):n})),y(t)}},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c}));r(115),r(377);var n=function(){return Array.from.apply(Array,arguments)},o=function(e){return Array.isArray(e)},l=function(e,t){return-1!==e.indexOf(t)},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.prototype.concat.apply([],t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=function(){return(n=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=/-(\w)/g,l=/:(.*)/,c=/;(?![^(]*\))/g;function d(e,t){return t?t.toUpperCase():""}function s(e){for(var s,a={},t=0,r=e.split(c);t<r.length;t++){var n=r[t].split(l),i=n[0],h=n[1];(i=i.trim())&&("string"==typeof h&&(h=h.trim()),a[(s=i,s.replace(o,d))]=h)}return a}function a(){for(var e,t,a={},r=arguments.length;r--;)for(var o=0,l=Object.keys(arguments[r]);o<l.length;o++)switch(e=l[o]){case"class":case"style":case"directives":if(Array.isArray(a[e])||(a[e]=[]),"style"===e){var i=void 0;i=Array.isArray(arguments[r].style)?arguments[r].style:[arguments[r].style];for(var c=0;c<i.length;c++){var d=i[c];"string"==typeof d&&(i[c]=s(d))}arguments[r].style=i}a[e]=a[e].concat(arguments[r][e]);break;case"staticClass":if(!arguments[r][e])break;void 0===a[e]&&(a[e]=""),a[e]&&(a[e]+=" "),a[e]+=arguments[r][e].trim();break;case"on":case"nativeOn":a[e]||(a[e]={});for(var p=0,h=Object.keys(arguments[r][e]||{});p<h.length;p++)t=h[p],a[e][t]?a[e][t]=[].concat(a[e][t],arguments[r][e][t]):a[e][t]=arguments[r][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":a[e]||(a[e]={}),a[e]=n({},arguments[r][e],a[e]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:a[e]||(a[e]=arguments[r][e])}return a}},function(e,t,r){"use strict";r(14),r(12),r(10),r(9),r(13),r(34);var n=r(2),o=r(3),l=r(31),c=r(40),d=r(67),h=r(27),object=r(4),f=r(5),v=r(1),m=r(18),y=r(88),_="BvConfig",w=function(){function e(){Object(l.a)(this,e),this.$_config={},this.$_cachedBreakpoints=null}return Object(c.a)(e,[{key:"getDefaults",value:function(){return this.defaults}},{key:"setConfig",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(object.k)(t)){var r=Object(object.h)(t);r.forEach((function(r){if(Object(object.i)(y.a,r)){var n=t[r];if("breakpoints"===r){var o=t.breakpoints;!Object(f.d)(o)||o.length<2||o.some((function(b){return!Object(v.j)(b)||0===b.length}))?Object(m.a)('"breakpoints" must be an array of at least 2 breakpoint names',_):e.$_config.breakpoints=Object(d.a)(o)}else if(Object(object.k)(n)){Object(object.h)(n).forEach((function(t){Object(object.i)(y.a[r],t)?(e.$_config[r]=e.$_config[r]||{},Object(v.k)(n[t])||(e.$_config[r][t]=Object(d.a)(n[t]))):Object(m.a)('Unknown config property "'.concat(r,".").concat(t,'"'),_)}))}}else Object(m.a)('Unknown config property "'.concat(r,'"'),_)}))}}},{key:"resetConfig",value:function(){this.$_config={}}},{key:"getConfig",value:function(){return Object(d.a)(this.$_config)}},{key:"getConfigValue",value:function(e){return Object(d.a)(Object(h.a)(this.$_config,e,Object(h.a)(y.a,e)))}},{key:"defaults",get:function(){return y.a}}],[{key:"Defaults",get:function(){return y.a}}]),e}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;t.prototype.$bvConfig=o.a.prototype.$bvConfig=t.prototype.$bvConfig||o.a.prototype.$bvConfig||new w,t.prototype.$bvConfig.setConfig(e)},S=r(11);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return M})),r.d(t,"c",(function(){return R}));var T,E,C=(T=!1,E=["Multiple instances of Vue detected!","You may need to set up an alias for Vue in your bundler config.","See: https://bootstrap-vue.js.org/docs#using-module-bundlers"].join("\n"),function(e){T||o.a===e||S.k||Object(m.a)(E),T=!0}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=e.directives,n=e.plugins,o=function e(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.installed||(e.installed=!0,C(o),k(l,o),B(o,t),L(o,r),A(o,n))};return o.installed=!1,o},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=e.directives,n=e.plugins,o=function e(o){e.installed||(e.installed=!0,C(o),B(o,t),L(o,r),A(o,n))};return o.installed=!1,o},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O({},t,{install:I(e)})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O({},t,{install:j(e)})},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in t)r&&t[r]&&e.use(t[r])},P=function(e,t,r){e&&t&&r&&e.component(t,r)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var component in t)P(e,component,t[component])},D=function(e,t,r){e&&t&&r&&e.directive(t.replace(/^VB/,"B"),r)},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in t)D(e,r,t[r])}},function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"e",(function(){return m})),r.d(t,"d",(function(){return y})),r.d(t,"i",(function(){return _})),r.d(t,"a",(function(){return w})),r.d(t,"f",(function(){return k})),r.d(t,"h",(function(){return S})),r.d(t,"g",(function(){return x})),r.d(t,"c",(function(){return O}));r(83),r(84),r(9),r(34);var n=r(1),o=r(5),l=r(4),c=/^\s+/,d=/[-/\\^$*+?.()|[\]{}]/g,h=/-(\w)/g,f=/\B([A-Z])/g,v=function(e){return e.replace(f,"-$1").toLowerCase()},m=function(e){return(e=v(e).replace(h,(function(e,t){return t?t.toUpperCase():""}))).charAt(0).toUpperCase()+e.slice(1)},y=function(e){return(e=Object(n.j)(e)?e.trim():String(e)).charAt(0).toLowerCase()+e.slice(1)},_=function(e){return(e=Object(n.j)(e)?e.trim():String(e)).charAt(0).toUpperCase()+e.slice(1)},w=function(e){return e.replace(d,"\\$&")},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Object(n.l)(e)?"":Object(o.d)(e)||Object(l.k)(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e)},S=function(e){return k(e).replace(c,"")},x=function(e){return k(e).trim()},O=function(e){return k(e).toLowerCase()}},,,function(e,t,r){"use strict";(function(e){r.d(t,"i",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"g",(function(){return c})),r.d(t,"d",(function(){return d})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return v})),r.d(t,"e",(function(){return m})),r.d(t,"h",(function(){return y})),r.d(t,"f",(function(){return _})),r.d(t,"c",(function(){return w})),r.d(t,"a",(function(){return k}));r(9);var n="undefined"!=typeof window,o="undefined"!=typeof document,l="undefined"!=typeof navigator,c="undefined"!=typeof Promise,d="undefined"!=typeof MutationObserver||"undefined"!=typeof WebKitMutationObserver||"undefined"!=typeof MozMutationObserver,h=n&&o&&l,f=h?window.navigator.userAgent.toLowerCase():"",v=f.indexOf("jsdom")>0,m=(/msie|trident/.test(f),function(){var e=!1;if(h)try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()),y=h&&("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0),_=h&&Boolean(window.PointerEvent||window.MSPointerEvent),w=h&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,k=function(){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=void 0!==e&&e&&e.env||{};return t?n[t]||r:n}("BOOTSTRAP_VUE_NO_WARN")}}).call(this,r(152))},,,,function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l}));var n=function(e){return parseInt(e,10)},o=function(e){return parseFloat(e)},l=function(e,t){return o(e).toFixed(n(t)||0)}},function(e,t,r){"use strict";t.a=function(e){return e}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return d}));var n=r(11),o=function(e){var source=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(n.a)()||console.warn("[BootstrapVue warn]: ".concat(source?"".concat(source," - "):"").concat(e))},l=function(source){return!n.j&&(o("".concat(source,": Can not be called during SSR.")),!0)},c=function(source){return!n.g&&(o("".concat(source,": Requires Promise support.")),!0)},d=function(source){return!n.d&&(o("".concat(source,": Requires MutationObserver support.")),!0)}},,function(e,t,r){(function(t,r,n){var o;o=function(){var e,o,l;return function e(t,r,n){function s(o,u){if(!r[o]){if(!t[o]){var a="function"==typeof _dereq_&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return s(r||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function r(e){var r=new t(e),n=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),n}e.any=function(e){return r(e)},e.prototype.any=function(){return r(this)}}},{}],2:[function(e,r,n){"use strict";var o;try{throw new Error}catch(e){o=e}var l=e("./schedule"),c=e("./queue"),d=e("./util");function h(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l}function f(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function v(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function m(e){this._normalQueue._pushOne(e),this._queueTick()}function y(e){for(;e.length()>0;)_(e)}function _(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var r=e.shift(),n=e.shift();t.call(r,n)}}h.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},h.prototype.hasCustomScheduler=function(){return this._customScheduler},h.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},h.prototype.disableTrampolineIfNecessary=function(){d.hasDevTools&&(this._trampolineEnabled=!1)},h.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},h.prototype.fatalError=function(e,r){r?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},h.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout((function(){e(t)}),0);else try{this._schedule((function(){e(t)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},d.hasDevTools?(h.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?f.call(this,e,t,r):this._schedule((function(){setTimeout((function(){e.call(t,r)}),100)}))},h.prototype.invoke=function(e,t,r){this._trampolineEnabled?v.call(this,e,t,r):this._schedule((function(){e.call(t,r)}))},h.prototype.settlePromises=function(e){this._trampolineEnabled?m.call(this,e):this._schedule((function(){e._settlePromises()}))}):(h.prototype.invokeLater=f,h.prototype.invoke=v,h.prototype.settlePromises=m),h.prototype._drainQueues=function(){y(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,y(this._lateQueue)},h.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},h.prototype._reset=function(){this._isTickUsed=!1},r.exports=h,r.exports.firstLineError=o},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){var o=!1,l=function(e,t){this._reject(t)},c=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(l,l,null,this,e)},d=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},h=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(l){o||(o=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var f=r(l),v=new e(t);v._propagateFrom(this,1);var m=this._target();if(v._setBoundTo(f),f instanceof e){var y={promiseRejectionQueued:!1,promise:v,target:m,bindingPromise:f};m._then(t,c,void 0,v,y),f._then(d,h,void 0,v,y),v._setOnCancel(f)}else v._resolveCallback(m);return v},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,r){return e.resolve(r).bind(t)}}},{}],4:[function(e,t,r){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var o=e("./promise")();o.noConflict=function(){try{Promise===o&&(Promise=n)}catch(e){}return o},t.exports=o},{"./promise":22}],5:[function(e,t,r){"use strict";var n=Object.create;if(n){var o=n(null),l=n(null);o[" size"]=l[" size"]=0}t.exports=function(t){var r=e("./util"),n=r.canEvaluate;function o(e){return function(e,n){var o;if(null!=e&&(o=e[n]),"function"!=typeof o){var l="Object "+r.classString(e)+" has no method '"+r.toString(n)+"'";throw new t.TypeError(l)}return o}(e,this.pop()).apply(e,this)}function l(e){return e[this]}function c(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}r.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(o,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=c;else if(n){var r=(void 0)(e);t=null!==r?r:l}else t=l;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,r){"use strict";t.exports=function(t,r,n,o){var l=e("./util"),c=l.tryCatch,d=l.errorObj,h=t._async;t.prototype.break=t.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var r=e._cancellationParent;if(null==r||!r._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),h.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(l.isArray(e))for(var i=0;i<e.length;++i)this._doInvokeOnCancel(e[i],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=c(e).call(this._boundValue());r===d&&(this._attachExtraTrace(r.e),h.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),h.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,r){"use strict";t.exports=function(t){var r=e("./util"),n=e("./es5").keys,o=r.tryCatch,l=r.errorObj;return function(e,c,d){return function(h){var f=d._boundValue();e:for(var i=0;i<e.length;++i){var v=e[i];if(v===Error||null!=v&&v.prototype instanceof Error){if(h instanceof v)return o(c).call(f,h)}else if("function"==typeof v){var m=o(v).call(f,h);if(m===l)return m;if(m)return o(c).call(f,h)}else if(r.isObject(h)){for(var y=n(v),_=0;_<y.length;++_){var w=y[_];if(v[w]!=h[w])continue e}return o(c).call(f,h)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,r){"use strict";t.exports=function(e){var t=!1,r=[];function n(){this._trace=new n.CapturedTrace(o())}function o(){var e=r.length-1;if(e>=0)return r[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var e=r.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},n.CapturedTrace=null,n.create=function(){if(t)return new n},n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var r=e.prototype._pushContext,l=e.prototype._popContext,c=e._peekContext,d=e.prototype._peekContext,h=e.prototype._promiseCreated;n.deactivateLongStackTraces=function(){e.prototype._pushContext=r,e.prototype._popContext=l,e._peekContext=c,e.prototype._peekContext=d,e.prototype._promiseCreated=h,t=!1},t=!0,e.prototype._pushContext=n.prototype._pushContext,e.prototype._popContext=n.prototype._popContext,e._peekContext=e.prototype._peekContext=o,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},n}},{}],9:[function(e,r,n){"use strict";r.exports=function(r,n){var o,l,c,d=r._getDomain,h=r._async,f=e("./errors").Warning,v=e("./util"),m=e("./es5"),y=v.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,w=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,S=null,x=null,O=!1,T=!(0==v.env("BLUEBIRD_DEBUG")),E=!(0==v.env("BLUEBIRD_WARNINGS")||!T&&!v.env("BLUEBIRD_WARNINGS")),C=!(0==v.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!v.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=v.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!v.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},r.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout((function(){e._notifyUnhandledRejection()}),1)}},r.prototype._notifyUnhandledRejectionIsHandled=function(){Z("rejectionHandled",o,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),Z("unhandledRejection",l,e,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},r.prototype._warn=function(e,t,r){return Y(e,t,r||this)},r.onPossiblyUnhandledRejection=function(e){var t=d();l="function"==typeof e?null===t?e:v.domainBind(t,e):void 0},r.onUnhandledRejectionHandled=function(e){var t=d();o="function"==typeof e?null===t?e:v.domainBind(t,e):void 0};var j=function(){};r.longStackTraces=function(){if(h.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!se.longStackTraces&&te()){var e=r.prototype._captureStackTrace,t=r.prototype._attachExtraTrace,o=r.prototype._dereferenceTrace;se.longStackTraces=!0,j=function(){if(h.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");r.prototype._captureStackTrace=e,r.prototype._attachExtraTrace=t,r.prototype._dereferenceTrace=o,n.deactivateLongStackTraces(),h.enableTrampoline(),se.longStackTraces=!1},r.prototype._captureStackTrace=K,r.prototype._attachExtraTrace=G,r.prototype._dereferenceTrace=W,n.activateLongStackTraces(),h.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return se.longStackTraces&&te()};var M=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return v.global.dispatchEvent(e),function(e,t){var r={detail:t,cancelable:!0};m.defineProperty(r,"promise",{value:t.promise}),m.defineProperty(r,"reason",{value:t.reason});var n=new CustomEvent(e.toLowerCase(),r);return!v.global.dispatchEvent(n)}}return"function"==typeof Event?(e=new Event("CustomEvent"),v.global.dispatchEvent(e),function(e,t){var r=new Event(e.toLowerCase(),{cancelable:!0});return r.detail=t,m.defineProperty(r,"promise",{value:t.promise}),m.defineProperty(r,"reason",{value:t.reason}),!v.global.dispatchEvent(r)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),v.global.dispatchEvent(e),function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e.toLowerCase(),!1,!0,t),!v.global.dispatchEvent(r)})}catch(e){}return function(){return!1}}(),R=v.isNode?function(){return t.emit.apply(t,arguments)}:v.global?function(e){var t="on"+e.toLowerCase(),r=v.global[t];return!!r&&(r.apply(v.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function A(e,t){return{promise:t}}var P={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(e,t,r){return{promise:t,child:r}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,r){return{reason:t,promise:r}},rejectionHandled:A},B=function(e){var t=!1;try{t=R.apply(null,arguments)}catch(e){h.throwLater(e),t=!0}var r=!1;try{r=M(e,P[e].apply(null,arguments))}catch(e){h.throwLater(e),r=!0}return r||t};function D(){return!1}function L(e,t,r){var n=this;try{e(t,r,(function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+v.toString(e));n._attachCancellationCallback(e)}))}catch(e){return e}}function z(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?v.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function F(){return this._onCancelField}function N(e){this._onCancelField=e}function V(){this._cancellationParent=void 0,this._onCancelField=void 0}function H(e,t){if(0!=(1&t)){this._cancellationParent=e;var r=e._branchesRemainingToCancel;void 0===r&&(r=0),e._branchesRemainingToCancel=r+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}r.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?r.longStackTraces():!e.longStackTraces&&r.hasLongStackTraces()&&j()),"warnings"in e){var t=e.warnings;se.warnings=!!t,I=se.warnings,v.isObject(t)&&"wForgottenReturn"in t&&(I=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!se.cancellation){if(h.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=V,r.prototype._propagateFrom=H,r.prototype._onCancel=F,r.prototype._setOnCancel=N,r.prototype._attachCancellationCallback=z,r.prototype._execute=L,$=H,se.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!se.monitoring?(se.monitoring=!0,r.prototype._fireEvent=B):!e.monitoring&&se.monitoring&&(se.monitoring=!1,r.prototype._fireEvent=D)),r},r.prototype._fireEvent=D,r.prototype._execute=function(e,t,r){try{e(t,r)}catch(e){return e}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(e){},r.prototype._attachCancellationCallback=function(e){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._dereferenceTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(e,t){};var $=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function U(){var e=this._boundTo;return void 0!==e&&e instanceof r?e.isFulfilled()?e.value():void 0:e}function K(){this._trace=new ie(this._peekContext())}function G(e,t){if(y(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=Q(e);v.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n")),v.notEnumerableProp(e,"__stackCleaned__",!0)}}}function W(){this._trace=void 0}function Y(e,t,n){if(se.warnings){var o,l=new f(e);if(t)n._attachExtraTrace(l);else if(se.longStackTraces&&(o=r._peekContext()))o.attachExtraTrace(l);else{var c=Q(l);l.stack=c.message+"\n"+c.stack.join("\n")}B("warning",l)||J(l,"",!0)}}function X(e){for(var t=[],i=0;i<e.length;++i){var line=e[i],r="    (No stack trace)"===line||S.test(line),n=r&&re(line);r&&!n&&(O&&" "!==line.charAt(0)&&(line="    "+line),t.push(line))}return t}function Q(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),i=0;i<t.length;++i){var line=t[i];if("    (No stack trace)"===line||S.test(line))break}return i>0&&"SyntaxError"!=e.name&&(t=t.slice(i)),t}(e):["    (No stack trace)"],{message:r,stack:"SyntaxError"==e.name?t:X(t)}}function J(e,title,t){if("undefined"!=typeof console){var r;if(v.isObject(e)){var n=e.stack;r=title+x(n,e)}else r=title+String(e);"function"==typeof c?c(r,t):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(e,t,r,n){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(n):t(r,n))}catch(e){h.throwLater(e)}"unhandledRejection"===e?B(e,r,n)||o||J(r,"Unhandled rejection "):B(e,n)}function ee(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():v.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function te(){return"function"==typeof ae}var re=function(){return!1},ne=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function oe(line){var e=line.match(ne);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function ie(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ae(this,ie),t>32&&this.uncycle()}v.inherits(ie,Error),n.CapturedTrace=ie,ie.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},i=0,n=this;void 0!==n;++i)t.push(n),n=n._parent;for(i=(e=this._length=i)-1;i>=0;--i){var o=t[i].stack;void 0===r[o]&&(r[o]=i)}for(i=0;i<e;++i){var l=r[t[i].stack];if(void 0!==l&&l!==i){l>0&&(t[l-1]._parent=void 0,t[l-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var c=i>0?t[i-1]:this;l<e-1?(c._parent=t[l+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var d=c._length+1,h=i-2;h>=0;--h)t[h]._length=d,d++;return}}}},ie.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=Q(e),r=t.message,n=[t.stack],o=this;void 0!==o;)n.push(X(o.stack.split("\n"))),o=o._parent;!function(e){for(var t=e[0],i=1;i<e.length;++i){for(var r=e[i],n=t.length-1,o=t[n],l=-1,c=r.length-1;c>=0;--c)if(r[c]===o){l=c;break}for(c=l;c>=0;--c){var line=r[c];if(t[n]!==line)break;t.pop(),n--}t=r}}(n),function(e){for(var i=0;i<e.length;++i)(0===e[i].length||i+1<e.length&&e[i][0]===e[i+1][0])&&(e.splice(i,1),i--)}(n),v.notEnumerableProp(e,"stack",function(e,t){for(var i=0;i<t.length-1;++i)t[i].push("From previous event:"),t[i]=t[i].join("\n");return i<t.length&&(t[i]=t[i].join("\n")),e+"\n"+t.join("\n")}(r,n)),v.notEnumerableProp(e,"__stackCleaned__",!0)}};var ae=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():ee(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,S=e,x=t;var r=Error.captureStackTrace;return re=function(line){return _.test(line)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var n,o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return S=/@/,x=t,O=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){n="stack"in e}return"stack"in o||!n||"number"!=typeof Error.stackTraceLimit?(x=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?ee(t):t.toString()},null):(S=e,x=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(c=function(e){console.warn(e)},v.isNode&&t.stderr.isTTY?c=function(e,t){var r=t?"[33m":"[31m";console.warn(r+e+"[0m\n")}:v.isNode||"string"!=typeof(new Error).stack||(c=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var se={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return C&&r.longStackTraces(),{longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return $},boundValueFunction:function(){return U},checkForgottenReturns:function(e,t,r,n,o){if(void 0===e&&null!==t&&I){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&n._bitField))return;r&&(r+=" ");var l="",c="";if(t._trace){for(var d=t._trace.stack.split("\n"),h=X(d),i=h.length-1;i>=0;--i){var line=h[i];if(!w.test(line)){var f=line.match(k);f&&(l="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0){var v=h[0];for(i=0;i<d.length;++i)if(d[i]===v){i>0&&(c="\n"+d[i-1]);break}}}var m="a promise was created in a "+r+"handler "+l+"but was not returned from it, see http://goo.gl/rRqMUw"+c;n._warn(m,!0,t)}},setBounds:function(e,t){if(te()){for(var r,n,o=(e.stack||"").split("\n"),l=(t.stack||"").split("\n"),c=-1,d=-1,i=0;i<o.length;++i)if(h=oe(o[i])){r=h.fileName,c=h.line;break}for(i=0;i<l.length;++i){var h;if(h=oe(l[i])){n=h.fileName,d=h.line;break}}c<0||d<0||!r||!n||r!==n||c>=d||(re=function(line){if(_.test(line))return!0;var e=oe(line);return!!(e&&e.fileName===r&&c<=e.line&&e.line<=d)})}},warn:Y,deprecated:function(e,t){var r=e+" is deprecated and will be removed in a future version.";return t&&(r+=" Use "+t+" instead."),Y(r)},CapturedTrace:ie,fireDomEvent:M,fireGlobalEvent:R}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,r){"use strict";t.exports=function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1],n=function(){throw t};return this.caught(e,n)},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();var o=function(){return n};return this.caught(r,o)}}},{}],11:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.reduce,n=e.all;function o(){return n(this)}e.prototype.each=function(e){return r(this,e,t,0)._then(o,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,n){return r(e,n,t,0)._then(o,void 0,void 0,e,void 0)},e.mapSeries=function(e,n){return r(e,n,t,t)}}},{}],12:[function(e,t,r){"use strict";var n,o,l=e("./es5"),c=l.freeze,d=e("./util"),h=d.inherits,f=d.notEnumerableProp;function v(e,t){function r(n){if(!(this instanceof r))return new r(n);f(this,"message","string"==typeof n?n:t),f(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return h(r,Error),r}var m=v("Warning","warning"),y=v("CancellationError","cancellation error"),_=v("TimeoutError","timeout error"),w=v("AggregateError","aggregate error");try{n=TypeError,o=RangeError}catch(e){n=v("TypeError","type error"),o=v("RangeError","range error")}for(var k="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<k.length;++i)"function"==typeof Array.prototype[k[i]]&&(w.prototype[k[i]]=Array.prototype[k[i]]);l.defineProperty(w.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),w.prototype.isOperational=!0;var S=0;function x(e){if(!(this instanceof x))return new x(e);f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}w.prototype.toString=function(){var e=Array(4*S+1).join(" "),t="\n"+e+"AggregateError of:\n";S++,e=Array(4*S+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",n=r.split("\n"),o=0;o<n.length;++o)n[o]=e+n[o];t+=(r=n.join("\n"))+"\n"}return S--,t},h(x,Error);var O=Error.__BluebirdErrorTypes__;O||(O=c({CancellationError:y,TimeoutError:_,OperationalError:x,RejectionError:x,AggregateError:w}),l.defineProperty(Error,"__BluebirdErrorTypes__",{value:O,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:n,RangeError:o,CancellationError:O.CancellationError,OperationalError:O.OperationalError,TimeoutError:O.TimeoutError,AggregateError:O.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(e,t,r){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var o={}.hasOwnProperty,l={}.toString,c={}.constructor.prototype,d=function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t};t.exports={isArray:function(e){try{return"[object Array]"===l.call(e)}catch(e){return!1}},keys:d,names:d,defineProperty:function(e,t,desc){return e[t]=desc.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return c}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,n){return r(this,e,n,t)},e.filter=function(e,n,o){return r(e,n,o,t)}}},{}],15:[function(e,t,r){"use strict";t.exports=function(t,r,n){var o=e("./util"),l=t.CancellationError,c=o.errorObj,d=e("./catch_filter")(n);function h(e,t,r){this.promise=e,this.type=t,this.handler=r,this.called=!1,this.cancelPromise=null}function f(e){this.finallyHandler=e}function v(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function m(){return _.call(this,this.promise._target()._settledValue())}function y(e){if(!v(this,e))return c.e=e,c}function _(e){var o=this.promise,d=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?d.call(o._boundValue()):d.call(o._boundValue(),e);if(h===n)return h;if(void 0!==h){o._setReturnedNonUndefined();var _=r(h,o);if(_ instanceof t){if(null!=this.cancelPromise){if(_._isCancelled()){var w=new l("late cancellation observer");return o._attachExtraTrace(w),c.e=w,c}_.isPending()&&_._attachCancellationCallback(new f(this))}return _._then(m,y,void 0,this,void 0)}}}return o.isRejected()?(v(this),c.e=e,c):(v(this),e)}return h.prototype.isFinallyHandler=function(){return 0===this.type},f.prototype._resultCancelled=function(){v(this.finallyHandler)},t.prototype._passThrough=function(e,t,r,n){return"function"!=typeof e?this.then():this._then(r,n,void 0,new h(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,_,_)},t.prototype.tap=function(e){return this._passThrough(e,1,_)},t.prototype.tapCatch=function(e){var r=arguments.length;if(1===r)return this._passThrough(e,1,void 0,_);var i,n=new Array(r-1),l=0;for(i=0;i<r-1;++i){var c=arguments[i];if(!o.isObject(c))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+o.classString(c)));n[l++]=c}n.length=l;var h=arguments[i];return this._passThrough(d(n,h,this),1,void 0,_)},h}},{"./catch_filter":7,"./util":36}],16:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l,c){var d=e("./errors").TypeError,h=e("./util"),f=h.errorObj,v=h.tryCatch,m=[];function y(e,r,o,l){if(c.cancellation()){var d=new t(n),h=this._finallyPromise=new t(n);this._promise=d.lastly((function(){return h})),d._captureStackTrace(),d._setOnCancel(this)}else(this._promise=new t(n))._captureStackTrace();this._stack=l,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof o?[o].concat(m):m,this._yieldedPromise=null,this._cancellationPhase=!1}h.inherits(y,l),y.prototype._isResolved=function(){return null===this._promise},y.prototype._cleanup=function(){this._promise=this._generator=null,c.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},y.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=v(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=v(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},y.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=v(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},y.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=v(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},y.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},y.prototype.promise=function(){return this._promise},y.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},y.prototype._continue=function(e){var r=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n);var l=o(n,this._promise);if(l instanceof t||null!==(l=function(e,r,n){for(var i=0;i<r.length;++i){n._pushContext();var l=v(r[i])(e);if(n._popContext(),l===f){n._pushContext();var c=t.reject(f.e);return n._popContext(),c}var d=o(l,n);if(d instanceof t)return d}return null}(l,this._yieldHandlers,this._promise))){var c=(l=l._target())._bitField;0==(50397184&c)?(this._yieldedPromise=l,l._proxy(this,null)):0!=(33554432&c)?t._async.invoke(this._promiseFulfilled,this,l._value()):0!=(16777216&c)?t._async.invoke(this._promiseRejected,this,l._reason()):this._promiseCancelled()}else this._promiseRejected(new d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new d("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,n=y,o=(new Error).stack;return function(){var t=e.apply(this,arguments),l=new n(void 0,void 0,r,o),c=l.promise();return l._generator=t,l._promiseFulfilled(void 0),c}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+h.classString(e));m.push(e)},t.spawn=function(e){if(c.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new y(e,this),o=n.promise();return n._run(t.spawn),o}}},{"./errors":12,"./util":36}],17:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l,c){var d=e("./util");d.canEvaluate,d.tryCatch,d.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var o=new r(n).promise();return void 0!==e?o.spread(e):o}}},{"./util":36}],18:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l,c){var d=t._getDomain,h=e("./util"),f=h.tryCatch,v=h.errorObj,m=t._async;function y(e,t,r,n){this.constructor$(e),this._promise._captureStackTrace();var o=d();this._callback=null===o?t:h.domainBind(o,t),this._preservedValues=n===l?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],m.invoke(this._asyncInit,this,void 0)}function map(e,r,o,l){if("function"!=typeof r)return n("expecting a function but got "+h.classString(r));var c=0;if(void 0!==o){if("object"!=typeof o||null===o)return t.reject(new TypeError("options argument must be an object but it is "+h.classString(o)));if("number"!=typeof o.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+h.classString(o.concurrency)));c=o.concurrency}return new y(e,r,c="number"==typeof c&&isFinite(c)&&c>=1?c:0,l).promise()}h.inherits(y,r),y.prototype._asyncInit=function(){this._init$(void 0,-2)},y.prototype._init=function(){},y.prototype._promiseFulfilled=function(e,r){var n=this._values,l=this.length(),d=this._preservedValues,h=this._limit;if(r<0){if(n[r=-1*r-1]=e,h>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(h>=1&&this._inFlight>=h)return n[r]=e,this._queue.push(r),!1;null!==d&&(d[r]=e);var m=this._promise,y=this._callback,_=m._boundValue();m._pushContext();var w=f(y).call(_,e,r,l),k=m._popContext();if(c.checkForgottenReturns(w,k,null!==d?"Promise.filter":"Promise.map",m),w===v)return this._reject(w.e),!0;var S=o(w,this._promise);if(S instanceof t){var x=(S=S._target())._bitField;if(0==(50397184&x))return h>=1&&this._inFlight++,n[r]=S,S._proxy(this,-1*(r+1)),!1;if(0==(33554432&x))return 0!=(16777216&x)?(this._reject(S._reason()),!0):(this._cancel(),!0);w=S._value()}n[r]=w}return++this._totalResolved>=l&&(null!==d?this._filter(n,d):this._resolve(n),!0)},y.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(r[n],n)}},y.prototype._filter=function(e,t){for(var r=t.length,n=new Array(r),o=0,i=0;i<r;++i)e[i]&&(n[o++]=t[i]);n.length=o,this._resolve(n)},y.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return map(this,e,t,null)},t.map=function(e,t,r,n){return map(e,t,r,n)}}},{"./util":36}],19:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l){var c=e("./util"),d=c.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+c.classString(e));return function(){var n=new t(r);n._captureStackTrace(),n._pushContext();var o=d(e).apply(this,arguments),c=n._popContext();return l.checkForgottenReturns(o,c,"Promise.method",n),n._resolveFromSyncValue(o),n}},t.attempt=t.try=function(e){if("function"!=typeof e)return o("expecting a function but got "+c.classString(e));var n,h=new t(r);if(h._captureStackTrace(),h._pushContext(),arguments.length>1){l.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],v=arguments[2];n=c.isArray(f)?d(e).apply(v,f):d(e).call(v,f)}else n=d(e)();var m=h._popContext();return l.checkForgottenReturns(n,m,"Promise.try",h),h._resolveFromSyncValue(n),h},t.prototype._resolveFromSyncValue=function(e){e===c.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,r){"use strict";var n=e("./util"),o=n.maybeWrapAsError,l=e("./errors").OperationalError,c=e("./es5"),d=/^(?:name|message|stack|cause)$/;function h(e){var t;if(function(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}(e)){(t=new l(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var r=c.keys(e),i=0;i<r.length;++i){var o=r[i];d.test(o)||(t[o]=e[o])}return t}return n.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(r,n){if(null!==e){if(r){var l=h(o(r));e._attachExtraTrace(l),e._reject(l)}else if(t){var c=[].slice.call(arguments,1);e._fulfill(c)}else e._fulfill(n);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){"use strict";t.exports=function(t){var r=e("./util"),n=t._async,o=r.tryCatch,l=r.errorObj;function c(e,t){if(!r.isArray(e))return d.call(this,e,t);var c=o(t).apply(this._boundValue(),[null].concat(e));c===l&&n.throwLater(c.e)}function d(e,t){var r=this._boundValue(),c=void 0===e?o(t).call(r,null):o(t).call(r,null,e);c===l&&n.throwLater(c.e)}function h(e,t){if(!e){var r=new Error(e+"");r.cause=e,e=r}var c=o(t).call(this._boundValue(),e);c===l&&n.throwLater(c.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var r=d;void 0!==t&&Object(t).spread&&(r=c),this._then(r,h,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,r,n){"use strict";r.exports=function(){var n=function(){return new w("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},o=function(){return new D.PromiseInspection(this._target())},l=function(e){return D.reject(new w(e))};function c(){}var d,h={},f=e("./util");d=f.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},f.notEnumerableProp(D,"_getDomain",d);var v=e("./es5"),m=e("./async"),y=new m;v.defineProperty(D,"_async",{value:y});var _=e("./errors"),w=D.TypeError=_.TypeError;D.RangeError=_.RangeError;var k=D.CancellationError=_.CancellationError;D.TimeoutError=_.TimeoutError,D.OperationalError=_.OperationalError,D.RejectionError=_.OperationalError,D.AggregateError=_.AggregateError;var S=function(){},x={},O={},T=e("./thenables")(D,S),E=e("./promise_array")(D,S,T,l,c),C=e("./context")(D),I=C.create,j=e("./debuggability")(D,C),M=(j.CapturedTrace,e("./finally")(D,T,O)),R=e("./catch_filter")(O),A=e("./nodeback"),P=f.errorObj,B=f.tryCatch;function D(e){e!==S&&function(e,t){if(null==e||e.constructor!==D)throw new w("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new w("expecting a function but got "+f.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function L(e){this.promise._resolveCallback(e)}function z(e){this.promise._rejectCallback(e,!1)}function F(e){var p=new D(S);p._fulfillmentHandler0=e,p._rejectionHandler0=e,p._promise0=e,p._receiver0=e}return D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,r=new Array(t-1),n=0;for(i=0;i<t-1;++i){var o=arguments[i];if(!f.isObject(o))return l("Catch statement predicate: expecting an object but got "+f.classString(o));r[n++]=o}if(r.length=n,"function"!=typeof(e=arguments[i]))throw new w("The last argument to .catch() must be a function, got "+f.toString(e));return this.then(void 0,R(r,e,this))}return this.then(void 0,e)},D.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},D.prototype.then=function(e,t){if(j.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+f.classString(e);arguments.length>1&&(r+=", "+f.classString(t)),this._warn(r)}return this._then(e,t,void 0,void 0,void 0)},D.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},D.prototype.spread=function(e){return"function"!=typeof e?l("expecting a function but got "+f.classString(e)):this.all()._then(e,void 0,void 0,x,void 0)},D.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},D.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},D.prototype.error=function(e){return this.caught(f.originatesFromRejection,e)},D.getNewLibraryCopy=r.exports,D.is=function(e){return e instanceof D},D.fromNode=D.fromCallback=function(e){var t=new D(S);t._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=B(e)(A(t,r));return n===P&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},D.all=function(e){return new E(e).promise()},D.cast=function(e){var t=T(e);return t instanceof D||((t=new D(S))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(e){var t=new D(S);return t._captureStackTrace(),t._rejectCallback(e,!0),t},D.setScheduler=function(e){if("function"!=typeof e)throw new w("expecting a function but got "+f.classString(e));return y.setScheduler(e)},D.prototype._then=function(e,t,r,n,o){var l=void 0!==o,c=l?o:new D(S),h=this._target(),v=h._bitField;l||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&v)?this._boundValue():h===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var m=d();if(0!=(50397184&v)){var _,w,x=h._settlePromiseCtx;0!=(33554432&v)?(w=h._rejectionHandler0,_=e):0!=(16777216&v)?(w=h._fulfillmentHandler0,_=t,h._unsetRejectionIsUnhandled()):(x=h._settlePromiseLateCancellationObserver,w=new k("late cancellation observer"),h._attachExtraTrace(w),_=t),y.invoke(x,h,{handler:null===m?_:"function"==typeof _&&f.domainBind(m,_),promise:c,receiver:n,value:w})}else h._addCallbacks(e,t,c,n,m);return c},D.prototype._length=function(){return 65535&this._bitField},D.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},D.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},D.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},D.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},D.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},D.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},D.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},D.prototype._isFinal=function(){return(4194304&this._bitField)>0},D.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},D.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},D.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},D.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},D.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==h)return void 0===t&&this._isBound()?this._boundValue():t},D.prototype._promiseAt=function(e){return this[4*e-4+2]},D.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},D.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},D.prototype._boundValue=function(){},D.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,r=e._rejectionHandler0,n=e._promise0,o=e._receiverAt(0);void 0===o&&(o=h),this._addCallbacks(t,r,n,o,null)},D.prototype._migrateCallbackAt=function(e,t){var r=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),o=e._promiseAt(t),l=e._receiverAt(t);void 0===l&&(l=h),this._addCallbacks(r,n,o,l,null)},D.prototype._addCallbacks=function(e,t,r,n,o){var l=this._length();if(l>=65531&&(l=0,this._setLength(0)),0===l)this._promise0=r,this._receiver0=n,"function"==typeof e&&(this._fulfillmentHandler0=null===o?e:f.domainBind(o,e)),"function"==typeof t&&(this._rejectionHandler0=null===o?t:f.domainBind(o,t));else{var base=4*l-4;this[base+2]=r,this[base+3]=n,"function"==typeof e&&(this[base+0]=null===o?e:f.domainBind(o,e)),"function"==typeof t&&(this[base+1]=null===o?t:f.domainBind(o,t))}return this._setLength(l+1),l},D.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},D.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(n(),!1);var r=T(e,this);if(!(r instanceof D))return this._fulfill(e);t&&this._propagateFrom(r,2);var o=r._target();if(o!==this){var l=o._bitField;if(0==(50397184&l)){var c=this._length();c>0&&o._migrateCallback0(this);for(var i=1;i<c;++i)o._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else if(0!=(33554432&l))this._fulfill(o._value());else if(0!=(16777216&l))this._reject(o._reason());else{var d=new k("late cancellation observer");o._attachExtraTrace(d),this._reject(d)}}else this._reject(n())}},D.prototype._rejectCallback=function(e,t,r){var n=f.ensureErrorObject(e),o=n===e;if(!o&&!r&&j.warnings()){var l="a promise was rejected with a non-error: "+f.classString(e);this._warn(l,!0)}this._attachExtraTrace(n,!!t&&o),this._reject(e)},D.prototype._resolveFromExecutor=function(e){if(e!==S){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(e,(function(e){t._resolveCallback(e)}),(function(e){t._rejectCallback(e,r)}));r=!1,this._popContext(),void 0!==n&&t._rejectCallback(n,!0)}},D.prototype._settlePromiseFromHandler=function(e,t,r,n){var o=n._bitField;if(0==(65536&o)){var l;n._pushContext(),t===x?r&&"number"==typeof r.length?l=B(e).apply(this._boundValue(),r):(l=P).e=new w("cannot .spread() a non-array: "+f.classString(r)):l=B(e).call(t,r);var c=n._popContext();0==(65536&(o=n._bitField))&&(l===O?n._reject(r):l===P?n._rejectCallback(l.e,!1):(j.checkForgottenReturns(l,c,"",n,this),n._resolveCallback(l)))}},D.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},D.prototype._followee=function(){return this._rejectionHandler0},D.prototype._setFollowee=function(e){this._rejectionHandler0=e},D.prototype._settlePromise=function(e,t,r,n){var l=e instanceof D,d=this._bitField,h=0!=(134217728&d);0!=(65536&d)?(l&&e._invokeInternalOnCancel(),r instanceof M&&r.isFinallyHandler()?(r.cancelPromise=e,B(t).call(r,n)===P&&e._reject(P.e)):t===o?e._fulfill(o.call(r)):r instanceof c?r._promiseCancelled(e):l||e instanceof E?e._cancel():r.cancel()):"function"==typeof t?l?(h&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,n,e)):t.call(r,n,e):r instanceof c?r._isResolved()||(0!=(33554432&d)?r._promiseFulfilled(n,e):r._promiseRejected(n,e)):l&&(h&&e._setAsyncGuaranteed(),0!=(33554432&d)?e._fulfill(n):e._reject(n))},D.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,r=e.promise,n=e.receiver,o=e.value;"function"==typeof t?r instanceof D?this._settlePromiseFromHandler(t,n,o,r):t.call(n,o,r):r instanceof D&&r._reject(o)},D.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},D.prototype._settlePromise0=function(e,t,r){var n=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,e,o,t)},D.prototype._clearCallbackDataAtIndex=function(e){var base=4*e-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=void 0},D.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var r=n();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():y.settlePromises(this),this._dereferenceTrace())}},D.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return y.fatalError(e,f.isNode);(65535&t)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled()}},D.prototype._fulfillPromises=function(e,t){for(var i=1;i<e;i++){var r=this._fulfillmentHandlerAt(i),n=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(n,r,o,t)}},D.prototype._rejectPromises=function(e,t){for(var i=1;i<e;i++){var r=this._rejectionHandlerAt(i),n=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(n,r,o,t)}},D.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,e),this._rejectPromises(t,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},D.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&v.defineProperty(D.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),D.defer=D.pending=function(){return j.deprecated("Promise.defer","new Promise"),{promise:new D(S),resolve:L,reject:z}},f.notEnumerableProp(D,"_makeSelfResolutionError",n),e("./method")(D,S,T,l,j),e("./bind")(D,S,T,j),e("./cancel")(D,E,l,j),e("./direct_resolve")(D),e("./synchronous_inspection")(D),e("./join")(D,E,T,S,y,d),D.Promise=D,D.version="3.5.5",e("./call_get.js")(D),e("./generators.js")(D,l,S,T,c,j),e("./map.js")(D,E,l,T,S,j),e("./nodeify.js")(D),e("./promisify.js")(D,S),e("./props.js")(D,E,T,l),e("./race.js")(D,S,T,l),e("./reduce.js")(D,E,l,T,S,j),e("./settle.js")(D,E,j),e("./some.js")(D,E,l),e("./timers.js")(D,S,j),e("./using.js")(D,l,T,I,S,j),e("./any.js")(D),e("./each.js")(D,S),e("./filter.js")(D,S),f.toFastProperties(D),f.toFastProperties(D.prototype),F({a:1}),F({b:2}),F({c:3}),F(1),F((function(){})),F(void 0),F(!1),F(new D(S)),j.setBounds(m.firstLineError,f.lastLineError),D}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l){var c=e("./util");function d(e){var n=this._promise=new t(r);e instanceof t&&n._propagateFrom(e,3),n._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return c.isArray,c.inherits(d,l),d.prototype.length=function(){return this._length},d.prototype.promise=function(){return this._promise},d.prototype._init=function e(r,l){var d=n(this._values,this._promise);if(d instanceof t){var h=(d=d._target())._bitField;if(this._values=d,0==(50397184&h))return this._promise._setAsyncGuaranteed(),d._then(e,this._reject,void 0,this,l);if(0==(33554432&h))return 0!=(16777216&h)?this._reject(d._reason()):this._cancel();d=d._value()}if(null!==(d=c.asArray(d)))0!==d.length?this._iterate(d):-5===l?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(l));else{var f=o("expecting an array or an iterable object but got "+c.classString(d)).reason();this._promise._rejectCallback(f,!1)}},d.prototype._iterate=function(e){var r=this.getActualLength(e.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var o=this._promise,l=!1,c=null,i=0;i<r;++i){var d=n(e[i],o);c=d instanceof t?(d=d._target())._bitField:null,l?null!==c&&d.suppressUnhandledRejections():null!==c?0==(50397184&c)?(d._proxy(this,i),this._values[i]=d):l=0!=(33554432&c)?this._promiseFulfilled(d._value(),i):0!=(16777216&c)?this._promiseRejected(d._reason(),i):this._promiseCancelled(i):l=this._promiseFulfilled(d,i)}l||o._setAsyncGuaranteed()},d.prototype._isResolved=function(){return null===this._values},d.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},d.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},d.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},d.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},d.prototype._promiseCancelled=function(){return this._cancel(),!0},d.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},d.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var i=0;i<e.length;++i)e[i]instanceof t&&e[i].cancel()}},d.prototype.shouldCopyValues=function(){return!0},d.prototype.getActualLength=function(e){return e},d}},{"./util":36}],24:[function(e,t,r){"use strict";t.exports=function(t,r){var n={},o=e("./util"),l=e("./nodeback"),c=o.withAppended,d=o.maybeWrapAsError,h=o.canEvaluate,f=e("./errors").TypeError,v={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),y=function(e){return o.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function _(e){return!m.test(e)}function w(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function k(e,t,r){var n=o.getDataPropertyOrDefault(e,t+r,v);return!!n&&w(n)}function S(e,t,r,filter){for(var n=o.inheritedDataKeys(e),l=[],i=0;i<n.length;++i){var c=n[i],d=e[c],h=filter===y||y(c);"function"!=typeof d||w(d)||k(e,c,t)||!filter(c,d,e,h)||l.push(c,d)}return function(e,t,r){for(var i=0;i<e.length;i+=2){var n=e[i];if(r.test(n))for(var o=n.replace(r,""),l=0;l<e.length;l+=2)if(e[l]===o)throw new f("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(l,t,r),l}var x=h?void 0:function(e,h,f,v,m,y){var _=function(){return this}(),w=e;function k(){var o=h;h===n&&(o=this);var f=new t(r);f._captureStackTrace();var v="string"==typeof w&&this!==_?this[w]:e,m=l(f,y);try{v.apply(o,c(arguments,m))}catch(e){f._rejectCallback(d(e),!0,!0)}return f._isFateSealed()||f._setAsyncGuaranteed(),f}return"string"==typeof w&&(e=v),o.notEnumerableProp(k,"__isPromisified__",!0),k};function O(e,t,filter,r,l){for(var c=new RegExp(t.replace(/([$])/,"\\$")+"$"),d=S(e,t,c,filter),i=0,h=d.length;i<h;i+=2){var f=d[i],v=d[i+1],m=f+t;if(r===x)e[m]=x(f,n,f,v,t,l);else{var y=r(v,(function(){return x(f,n,f,v,t,l)}));o.notEnumerableProp(y,"__isPromisified__",!0),e[m]=y}}return o.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new f("expecting a function but got "+o.classString(e));if(w(e))return e;var r=function(e,t,r){return x(e,t,void 0,e,null,r)}(e,void 0===(t=Object(t)).context?n:t.context,!!t.multiArgs);return o.copyDescriptors(e,r,_),r},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new f("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(t=Object(t)).multiArgs,n=t.suffix;"string"!=typeof n&&(n="Async");var filter=t.filter;"function"!=typeof filter&&(filter=y);var l=t.promisifier;if("function"!=typeof l&&(l=x),!o.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var c=o.inheritedDataKeys(e),i=0;i<c.length;++i){var d=e[c[i]];"constructor"!==c[i]&&o.isClass(d)&&(O(d.prototype,n,filter,l,r),O(d,n,filter,l,r))}return O(e,n,filter,l,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,r){"use strict";t.exports=function(t,r,n,o){var l,c=e("./util"),d=c.isObject,h=e("./es5");"function"==typeof Map&&(l=Map);var f=function(){var e=0,t=0;function r(r,n){this[e]=r,this[e+t]=n,e++}return function(map){t=map.size,e=0;var n=new Array(2*map.size);return map.forEach(r,n),n}}();function v(e){var t,r=!1;if(void 0!==l&&e instanceof l)t=f(e),r=!0;else{var n=h.keys(e),o=n.length;t=new Array(2*o);for(var i=0;i<o;++i){var c=n[i];t[i]=e[c],t[i+o]=c}}this.constructor$(t),this._isMap=r,this._init$(void 0,r?-6:-3)}function m(e){var r,l=n(e);return d(l)?(r=l instanceof t?l._then(t.props,void 0,void 0,void 0,void 0):new v(l).promise(),l instanceof t&&r._propagateFrom(l,2),r):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}c.inherits(v,r),v.prototype._init=function(){},v.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var r;if(this._isMap)r=function(e){for(var t=new l,r=e.length/2|0,i=0;i<r;++i){var n=e[r+i],o=e[i];t.set(n,o)}return t}(this._values);else{r={};for(var n=this.length(),i=0,o=this.length();i<o;++i)r[this._values[i+n]]=this._values[i]}return this._resolve(r),!0}return!1},v.prototype.shouldCopyValues=function(){return!1},v.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return m(this)},t.props=function(e){return m(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,r){"use strict";function n(e){this._capacity=e,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(e){return this._capacity<e},n.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},n.prototype.push=function(e,t,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var o=this._front+n-3;this._checkCapacity(n);var l=this._capacity-1;this[o+0&l]=e,this[o+1&l]=t,this[o+2&l]=r,this._length=n},n.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,r,n,o){for(var l=0;l<o;++l)r[l+n]=e[l+t],e[l+t]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=n},{}],27:[function(e,t,r){"use strict";t.exports=function(t,r,n,o){var l=e("./util");function c(e,d){var h,f=n(e);if(f instanceof t)return(h=f).then((function(e){return c(e,h)}));if(null===(e=l.asArray(e)))return o("expecting an array or an iterable object but got "+l.classString(e));var v=new t(r);void 0!==d&&v._propagateFrom(d,3);for(var m=v._fulfill,y=v._reject,i=0,_=e.length;i<_;++i){var w=e[i];(void 0!==w||i in e)&&t.cast(w)._then(m,y,void 0,v,null)}return v}t.race=function(e){return c(e,void 0)},t.prototype.race=function(){return c(this,void 0)}}},{"./util":36}],28:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l,c){var d=t._getDomain,h=e("./util"),f=h.tryCatch;function v(e,r,n,o){this.constructor$(e);var c=d();this._fn=null===c?r:h.domainBind(c,r),void 0!==n&&(n=t.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=o===l?Array(this._length):0===o?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function m(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function y(e,t,r,o){return"function"!=typeof t?n("expecting a function but got "+h.classString(t)):new v(e,t,r,o).promise()}function _(e){this.accum=e,this.array._gotAccum(e);var r=o(this.value,this.array._promise);return r instanceof t?(this.array._currentCancellable=r,r._then(w,void 0,void 0,this,void 0)):w.call(this,r)}function w(e){var r,n=this.array,o=n._promise,l=f(n._fn);o._pushContext(),(r=void 0!==n._eachValues?l.call(o._boundValue(),e,this.index,this.length):l.call(o._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=r);var d=o._popContext();return c.checkForgottenReturns(r,d,void 0!==n._eachValues?"Promise.each":"Promise.reduce",o),r}h.inherits(v,r),v.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==l&&this._eachValues.push(e)},v.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},v.prototype._init=function(){},v.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},v.prototype.shouldCopyValues=function(){return!1},v.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},v.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},v.prototype._iterate=function(e){var r,i;this._values=e;var n=e.length;if(void 0!==this._initialValue?(r=this._initialValue,i=0):(r=t.resolve(e[0]),i=1),this._currentCancellable=r,!r.isRejected())for(;i<n;++i){var o={accum:null,value:e[i],index:i,length:n,array:this};r=r._then(_,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(m,m,void 0,r,this)},t.prototype.reduce=function(e,t){return y(this,e,t,null)},t.reduce=function(e,t,r,n){return y(e,t,r,n)}}},{"./util":36}],29:[function(e,o,l){"use strict";var c,div,d,h,f,v=e("./util"),m=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var y=r.setImmediate,_=t.nextTick;c=v.isRecentNode?function(e){y.call(r,e)}:function(e){_.call(t,e)}}else if("function"==typeof m&&"function"==typeof m.resolve){var w=m.resolve();c=function(e){w.then(e)}}else c="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?(div=document.createElement("div"),d={attributes:!0},h=!1,f=document.createElement("div"),new MutationObserver((function(){div.classList.toggle("foo"),h=!1})).observe(f,d),function(e){var t=new MutationObserver((function(){t.disconnect(),e()}));t.observe(div,d),h||(h=!0,f.classList.toggle("foo"))}):void 0!==n?function(e){n(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};o.exports=c},{"./util":36}],30:[function(e,t,r){"use strict";t.exports=function(t,r,n){var o=t.PromiseInspection;function l(e){this.constructor$(e)}e("./util").inherits(l,r),l.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},l.prototype._promiseFulfilled=function(e,t){var r=new o;return r._bitField=33554432,r._settledValueField=e,this._promiseResolved(t,r)},l.prototype._promiseRejected=function(e,t){var r=new o;return r._bitField=16777216,r._settledValueField=e,this._promiseResolved(t,r)},t.settle=function(e){return n.deprecated(".settle()",".reflect()"),new l(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,r){"use strict";t.exports=function(t,r,n){var o=e("./util"),l=e("./errors").RangeError,c=e("./errors").AggregateError,d=o.isArray,h={};function f(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function v(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new f(e),o=r.promise();return r.setHowMany(t),r.init(),o}o.inherits(f,r),f.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=d(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},f.prototype.init=function(){this._initialized=!0,this._init()},f.prototype.setUnwrap=function(){this._unwrap=!0},f.prototype.howMany=function(){return this._howMany},f.prototype.setHowMany=function(e){this._howMany=e},f.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},f.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},f.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(h),this._checkOutcome())},f.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,i=this.length();i<this._values.length;++i)this._values[i]!==h&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},f.prototype._fulfilled=function(){return this._totalResolved},f.prototype._rejected=function(){return this._values.length-this.length()},f.prototype._addRejected=function(e){this._values.push(e)},f.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},f.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},f.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new l(t)},f.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return v(e,t)},t.prototype.some=function(e){return v(this,e)},t._SomePromiseArray=f}},{"./errors":12,"./util":36}],32:[function(e,t,r){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},l=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},c=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},d=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return c.call(this._target())},e.prototype.isRejected=function(){return l.call(this._target())},e.prototype.isFulfilled=function(){return o.call(this._target())},e.prototype.isResolved=function(){return d.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,r){"use strict";t.exports=function(t,r){var n=e("./util"),o=n.errorObj,l=n.isObject,c={}.hasOwnProperty;return function(e,d){if(l(e)){if(e instanceof t)return e;var h=function(e){try{return function(e){return e.then}(e)}catch(e){return o.e=e,o}}(e);if(h===o){d&&d._pushContext();var f=t.reject(h.e);return d&&d._popContext(),f}if("function"==typeof h)return function(e){try{return c.call(e,"_promise0")}catch(e){return!1}}(e)?(f=new t(r),e._then(f._fulfill,f._reject,void 0,f,null),f):function(e,l,c){var d=new t(r),h=d;c&&c._pushContext(),d._captureStackTrace(),c&&c._popContext();var f=n.tryCatch(l).call(e,(function(e){d&&(d._resolveCallback(e),d=null)}),(function(e){d&&(d._rejectCallback(e,!1,!0),d=null)}));return d&&f===o&&(d._rejectCallback(f.e,!0,!0),d=null),h}(e,h,d)}return e}}},{"./util":36}],34:[function(e,t,r){"use strict";t.exports=function(t,r,n){var o=e("./util"),l=t.TimeoutError;function c(e){this.handle=e}c.prototype._resultCancelled=function(){clearTimeout(this.handle)};var d=function(e){return h(+this).thenReturn(e)},h=t.delay=function(e,o){var l,h;return void 0!==o?(l=t.resolve(o)._then(d,null,null,e,void 0),n.cancellation()&&o instanceof t&&l._setOnCancel(o)):(l=new t(r),h=setTimeout((function(){l._fulfill()}),+e),n.cancellation()&&l._setOnCancel(new c(h)),l._captureStackTrace()),l._setAsyncGuaranteed(),l};function f(e){return clearTimeout(this.handle),e}function v(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return h(e,this)},t.prototype.timeout=function(e,t){var r,d;e=+e;var h=new c(setTimeout((function(){r.isPending()&&function(e,t,r){var n;n="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),o.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._reject(n),null!=r&&r.cancel()}(r,t,d)}),e));return n.cancellation()?(d=this.then(),(r=d._then(f,v,void 0,h,void 0))._setOnCancel(h)):r=this._then(f,v,void 0,h,void 0),r}}},{"./util":36}],35:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,l,c){var d=e("./util"),h=e("./errors").TypeError,f=e("./util").inherits,v=d.errorObj,m=d.tryCatch,y={};function _(e){setTimeout((function(){throw e}),0)}function w(e,r){var i=0,o=e.length,c=new t(l);return function l(){if(i>=o)return c._fulfill();var d=function(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[i++]);if(d instanceof t&&d._isDisposable()){try{d=n(d._getDisposer().tryDispose(r),e.promise)}catch(e){return _(e)}if(d instanceof t)return d._then(l,_,null,null,null)}l()}(),c}function k(data,e,t){this._data=data,this._promise=e,this._context=t}function S(e,t,r){this.constructor$(e,t,r)}function x(e){return k.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function O(e){this.length=e,this.promise=null,this[e-1]=null}k.prototype.data=function(){return this._data},k.prototype.promise=function(){return this._promise},k.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},k.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=t!==y?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},k.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},f(S,k),S.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},O.prototype._resultCancelled=function(){for(var e=this.length,i=0;i<e;++i){var r=this[i];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return r("you must pass at least 2 arguments to Promise.using");var input,o=arguments[e-1];if("function"!=typeof o)return r("expecting a function but got "+d.classString(o));var l=!0;2===e&&Array.isArray(arguments[0])?(e=(input=arguments[0]).length,l=!1):(input=arguments,e--);for(var h=new O(e),i=0;i<e;++i){var f=input[i];if(k.isDisposer(f)){var y=f;(f=f.promise())._setDisposable(y)}else{var _=n(f);_ instanceof t&&(f=_._then(x,null,null,{resources:h,index:i},void 0))}h[i]=f}var S=new Array(h.length);for(i=0;i<S.length;++i)S[i]=t.resolve(h[i]).reflect();var T=t.all(S).then((function(e){for(var i=0;i<e.length;++i){var t=e[i];if(t.isRejected())return v.e=t.error(),v;if(!t.isFulfilled())return void T.cancel();e[i]=t.value()}E._pushContext(),o=m(o);var r=l?o.apply(void 0,e):o(e),n=E._popContext();return c.checkForgottenReturns(r,n,"Promise.using",E),r})),E=T.lastly((function(){var e=new t.PromiseInspection(T);return w(h,e)}));return h.promise=E,E._setOnCancel(h),E},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new S(e,this,o());throw new h}}},{"./errors":12,"./util":36}],36:[function(e,n,o){"use strict";var l=e("./es5"),c="undefined"==typeof navigator,d={e:{}},h,f="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:void 0!==this?this:null;function v(){try{var e=h;return h=null,e.apply(this,arguments)}catch(e){return d.e=e,d}}function m(e){return h=e,v}var y=function(e,t){var r={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function _(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function w(e){return"function"==typeof e||"object"==typeof e&&null!==e}function k(e){return _(e)?new Error(P(e)):e}function S(e,t){var i,r=e.length,n=new Array(r+1);for(i=0;i<r;++i)n[i]=e[i];return n[i]=t,n}function x(e,t,r){if(!l.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var desc=Object.getOwnPropertyDescriptor(e,t);return null!=desc?null==desc.get&&null==desc.set?desc.value:r:void 0}function O(e,t,r){if(_(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return l.defineProperty(e,t,n),e}function T(e){throw e}var E=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1};if(l.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var n=[],o=Object.create(null);null!=e&&!t(e);){var c;try{c=r(e)}catch(e){return n}for(var i=0;i<c.length;++i){var d=c[i];if(!o[d]){o[d]=!0;var desc=Object.getOwnPropertyDescriptor(e,d);null!=desc&&null==desc.get&&null==desc.set&&n.push(d)}}e=l.getPrototypeOf(e)}return n}}var n={}.hasOwnProperty;return function(r){if(t(r))return[];var o=[];e:for(var l in r)if(n.call(r,l))o.push(l);else{for(var i=0;i<e.length;++i)if(n.call(e[i],l))continue e;o.push(l)}return o}}(),C=/this\s*\.\s*\S+\s*=/;function I(e){try{if("function"==typeof e){var t=l.names(e.prototype),r=l.isES5&&t.length>1,n=t.length>0&&!(1===t.length&&"constructor"===t[0]),o=C.test(e+"")&&l.names(e).length>0;if(r||n||o)return!0}return!1}catch(e){return!1}}function j(e){function t(){}t.prototype=e;var r=new t;function n(){return typeof r.foo}return n(),n(),e}var M=/^[a-z$_][a-z$_0-9]*$/i;function R(e){return M.test(e)}function A(e,t,r){for(var n=new Array(e),i=0;i<e;++i)n[i]=t+i+r;return n}function P(e){try{return e+""}catch(e){return"[no string representation]"}}function B(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function D(e){try{O(e,"isOperational",!0)}catch(e){}}function L(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function z(e){return B(e)&&l.propertyIsWritable(e,"stack")}var F="stack"in new Error?function(e){return z(e)?e:new Error(P(e))}:function(e){if(z(e))return e;try{throw new Error(P(e))}catch(e){return e}};function N(e){return{}.toString.call(e)}function V(e,t,filter){for(var r=l.names(e),i=0;i<r.length;++i){var n=r[i];if(filter(n))try{l.defineProperty(t,n,l.getDescriptor(e,n))}catch(e){}}}var H=function(e){return l.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var $="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,r=[],n=e[Symbol.iterator]();!(t=n.next()).done;)r.push(t.value);return r};H=function(e){return l.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?$(e):null}}var U=void 0!==t&&"[object process]"===N(t).toLowerCase(),K=void 0!==t&&void 0!==t.env;function G(e){return K?t.env[e]:void 0}function W(){if("function"==typeof Promise)try{var e=new Promise((function(){}));if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function Y(e,t){return e.bind(t)}var X={isClass:I,isIdentifier:R,inheritedDataKeys:E,getDataPropertyOrDefault:x,thrower:T,isArray:l.isArray,asArray:H,notEnumerableProp:O,isPrimitive:_,isObject:w,isError:B,canEvaluate:c,errorObj:d,tryCatch:m,inherits:y,withAppended:S,maybeWrapAsError:k,toFastProperties:j,filledRange:A,toString:P,canAttachTrace:z,ensureErrorObject:F,originatesFromRejection:L,markAsOriginatingFromRejection:D,classString:N,copyDescriptors:V,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,hasEnvVariables:K,env:G,global:f,getNativePromise:W,domainBind:Y},Q;X.isRecentNode=X.isNode&&(t.versions&&t.versions.node?Q=t.versions.node.split(".").map(Number):t.version&&(Q=t.version.split(".").map(Number)),0===Q[0]&&Q[1]>10||Q[0]>0),X.isNode&&X.toFastProperties(t);try{throw new Error}catch(e){X.lastLineError=e}n.exports=X},{"./es5":13}]},{},[4])(4)},e.exports=o(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,r(152),r(24),r(256).setImmediate)},function(e,t,r){"use strict";var n=d(r(104)),o=d(r(96)),l=d(r(65)),c=d(r(20));function d(e){return e&&e.__esModule?e:{default:e}}var h=r(423);e.exports.encodeParams=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.substring(1)},e.exports.encodeUri=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e=e.replace(r,encodeURIComponent(t[r])));return e},e.exports.map=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=t(e[i]);return r},e.exports.filter=function(e,t){for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r},e.exports.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},e.exports.values=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},e.exports.forEach=function(e,t){for(var i=0;i<e.length;i++)t(e[i],i)},e.exports.findElement=function(e,t,r){var i=void 0;if(r){for(i=e.length-1;i>=0;i--)if(t(e[i],i,e))return e[i]}else for(i=0;i<e.length;i++)if(t(e[i],i,e))return e[i]},e.exports.removeElement=function(e,t,r){var i=void 0,n=void 0;if(r){for(i=e.length-1;i>=0;i--)if(t(e[i],i,e))return n=e[i],e.splice(i,1),n}else for(i=0;i<e.length;i++)if(t(e[i],i,e))return n=e[i],e.splice(i,1),n;return!1},e.exports.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},e.exports.isArray=function(e){return Array.isArray?Array.isArray(e):Boolean(e&&e.constructor===Array)},e.exports.checkObjectHasKeys=function(e,t){for(var i=0;i<t.length;i++)if(!e.hasOwnProperty(t[i]))throw new Error("Missing required key: "+t[i])},e.exports.checkObjectHasNoAdditionalKeys=function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&-1===t.indexOf(r))throw new Error("Unknown key: "+r)},e.exports.deepCopy=function(e){return JSON.parse((0,l.default)(e))};var f=e.exports.deepCompare=function(e,t){if(e===t)return!0;if((void 0===e?"undefined":(0,o.default)(e))!==(void 0===t?"undefined":(0,o.default)(t)))return!1;if("number"==typeof e&&isNaN(e)&&isNaN(t))return!0;if(null===e||null===t)return e===t;if(!(e instanceof Object))return!1;if(e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(e instanceof RegExp||e instanceof Date)return e.toString()===t.toString();if(e instanceof Array){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!f(e[i],t[i]))return!1}else{var p=void 0;for(p in t)if(t.hasOwnProperty(p)!==e.hasOwnProperty(p))return!1;for(p in t){if(t.hasOwnProperty(p)!==e.hasOwnProperty(p))return!1;if(!f(e[p],t[p]))return!1}}return!0};e.exports.extend=function(){for(var e=arguments[0]||{},i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)e[t]=source[t]}return e},e.exports.runPolyfills=function(){Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],o=arguments.length>=2?arguments[1]:void 0,i=0;i<r;i++)if(i in t){var l=t[i];e.call(o,l,i,t)&&n.push(l)}return n}),Array.prototype.map||(Array.prototype.map=function(e,t){var r=void 0,n=void 0;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),l=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");arguments.length>1&&(r=t);var c=new Array(l);for(n=0;n<l;){var d,h;n in o&&(d=o[n],h=e.call(r,d,n,o),c[n]=h),n++}return c}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var r=void 0,n=void 0;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),l=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=t),n=0;n<l;){var c;n in o&&(c=o[n],e.call(r,c,n,o)),n++}})},e.exports.inherits=function(e,t){"function"!=typeof n.default&&(Object.create=function(){function e(){}var t=Object.prototype.hasOwnProperty;return function(r){if("object"!=(void 0===r?"undefined":(0,o.default)(r)))throw new TypeError("Object prototype may only be an Object or null");e.prototype=r;var n=new e;if(e.prototype=null,arguments.length>1){var l=Object(arguments[1]);for(var c in l)t.call(l,c)&&(n[c]=l[c])}return n}}()),e.super_=t,e.prototype=(0,n.default)(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},e.exports.isNumber=function(e){return"number"==typeof e&&isFinite(e)},e.exports.removeHiddenChars=function(e){return h(e.normalize("NFD").replace(v,""))};var v=/[\u200B-\u200D\u0300-\u036f\uFEFF\s]/g;function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}e.exports.escapeRegExp=m,e.exports.globToRegexp=function(e,t){t="boolean"!=typeof t||t;var r=m(e);return r=(r=r.replace(/\\\*/g,".*")).replace(/\?/g,"."),t&&(r=r.replace(/\\\[(!|)(.*)\\]/g,(function(e,t,r,n,o){return"["+(t?"^":"")+r.replace(/\\-/,"-")+"]"}))),r},e.exports.ensureNoTrailingSlash=function(e){return e&&e.endsWith("/")?e.substr(0,e.length-1):e},e.exports.sleep=function(e,t){return new c.default((function(r){setTimeout(r,e,t)}))},e.exports.isNullOrUndefined=function(e){return null==e},e.exports.defer=function(){var e=void 0,t=void 0,r=new c.default((function(r,n){e=r,t=n}));return{resolve:e,reject:t,promise:r}}},function(e,t,r){"use strict";var n=r(171),o=n.getLogger("matrix");o.setLevel(n.levels.DEBUG),e.exports=o},,,,function(e,t,r){e.exports={default:r(430),__esModule:!0}},function(e,t,r){"use strict";r(45),r(34);var n=r(16),o=r(5),l=r(4),c=/\[(\d+)]/g;t.a=function(e,path){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(path=Object(o.d)(path)?path.join("."):path)||!Object(l.j)(e))return t;if(path in e)return e[path];var r=(path=String(path).replace(c,".$1")).split(".").filter(n.a);return 0===r.length?t:r.every((function(t){return Object(l.j)(e)&&t in e&&null!=(e=e[t])}))?e:t}},,function(e,t,r){e.exports=r(403)},,,,,,function(e,t,r){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),l=/Edge\/(\d+)/.exec(e),c=n||o||l,d=c&&(n?document.documentMode||6:+(l||o)[1]),h=!l&&/WebKit\//.test(e),f=h&&/Qt\/\d+\.\d+/.test(e),v=!l&&/Chrome\//.test(e),m=/Opera\//.test(e),y=/Apple Computer/.test(navigator.vendor),_=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),w=/PhantomJS/.test(e),k=!l&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),S=/Android/.test(e),x=k||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),O=k||/Mac/.test(t),T=/\bCrOS\b/.test(e),E=/win/i.test(t),C=m&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(m=!1,h=!0);var I=O&&(f||m&&(null==C||C<12.11)),j=r||c&&d>=9;function M(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var R,A=function(e,t){var r=e.className,n=M(t).exec(r);if(n){var o=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(o?n[1]+o:"")}};function P(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function B(e,t){return P(e).appendChild(t)}function D(e,content,t,style){var r=document.createElement(e);if(t&&(r.className=t),style&&(r.style.cssText=style),"string"==typeof content)r.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)r.appendChild(content[i]);return r}function L(e,content,t,style){var r=D(e,content,t,style);return r.setAttribute("role","presentation"),r}function z(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function F(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function N(e,t){var r=e.className;M(t).test(r)||(e.className+=(r?" ":"")+t)}function V(a,b){for(var e=a.split(" "),i=0;i<e.length;i++)e[i]&&!M(e[i]).test(b)&&(b+=" "+e[i]);return b}R=document.createRange?function(e,t,r,n){var o=document.createRange();return o.setEnd(n||e,r),o.setStart(e,t),o}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var H=function(e){e.select()};function $(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function U(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function K(e,t,r,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=n||0,l=o||0;;){var c=e.indexOf("\t",i);if(c<0||c>=t)return l+(t-i);l+=c-i,l+=r-l%r,i=c+1}}k?H=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:c&&(H=function(e){try{e.select()}catch(e){}});var G=function(){this.id=null,this.f=null,this.time=0,this.handler=$(this.onTimeout,this)};function W(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}G.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},G.prototype.set=function(e,t){this.f=t;var time=+new Date+e;(!this.id||time<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=time)};var Y={toString:function(){return"CodeMirror.Pass"}},X={scroll:!1},Q={origin:"*mouse"},J={origin:"+move"};function Z(e,t,r){for(var n=0,col=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||col+l>=t)return n+Math.min(l,t-col);if(col+=o-n,n=o+1,(col+=r-col%r)>=t)return n}}var ee=[""];function te(e){for(;ee.length<=e;)ee.push(re(ee)+" ");return ee[e]}function re(e){return e[e.length-1]}function map(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=t(e[i],i);return r}function ne(){}function oe(base,e){var t;return Object.create?t=Object.create(base):(ne.prototype=base,t=new ne),e&&U(e,t),t}var ie=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ae(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ie.test(e))}function se(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ae(e))||t.test(e):ae(e)}function le(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ce=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ue(e){return e.charCodeAt(0)>=768&&ce.test(e)}function de(e,t,r){for(;(r<0?t>0:t<e.length)&&ue(e.charAt(t));)t+=r;return t}function he(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var o=(t+r)/2,l=n<0?Math.ceil(o):Math.floor(o);if(l==t)return e(l)?t:r;e(l)?r=l:t=l+n}}var fe=null;function pe(e,t,r){var n;fe=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:fe=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:fe=i)}return null!=n?n:fe}var ve=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,o=/[1n]/;function l(e,t,r){this.level=e,this.from=t,this.to=r}return function(c,d){var h="ltr"==d?"L":"R";if(0==c.length||"ltr"==d&&!e.test(c))return!1;for(var code,f=c.length,v=[],i=0;i<f;++i)v.push((code=c.charCodeAt(i))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(code):1424<=code&&code<=1524?"R":1536<=code&&code<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(code-1536):1774<=code&&code<=2220?"r":8192<=code&&code<=8203?"w":8204==code?"b":"L");for(var m=0,y=h;m<f;++m){var _=v[m];"m"==_?v[m]=y:y=_}for(var w=0,k=h;w<f;++w){var S=v[w];"1"==S&&"r"==k?v[w]="n":r.test(S)&&(k=S,"r"==S&&(v[w]="R"))}for(var x=1,O=v[0];x<f-1;++x){var T=v[x];"+"==T&&"1"==O&&"1"==v[x+1]?v[x]="1":","!=T||O!=v[x+1]||"1"!=O&&"n"!=O||(v[x]=O),O=T}for(var E=0;E<f;++E){var C=v[E];if(","==C)v[E]="N";else if("%"==C){var I=void 0;for(I=E+1;I<f&&"%"==v[I];++I);for(var j=E&&"!"==v[E-1]||I<f&&"1"==v[I]?"1":"N",M=E;M<I;++M)v[M]=j;E=I-1}}for(var R=0,A=h;R<f;++R){var P=v[R];"L"==A&&"1"==P?v[R]="L":r.test(P)&&(A=P)}for(var B=0;B<f;++B)if(t.test(v[B])){var D=void 0;for(D=B+1;D<f&&t.test(v[D]);++D);for(var L="L"==(B?v[B-1]:h),z=L==("L"==(D<f?v[D]:h))?L?"L":"R":h,F=B;F<D;++F)v[F]=z;B=D-1}for(var N,V=[],H=0;H<f;)if(n.test(v[H])){var $=H;for(++H;H<f&&n.test(v[H]);++H);V.push(new l(0,$,H))}else{var U=H,K=V.length,G="rtl"==d?1:0;for(++H;H<f&&"L"!=v[H];++H);for(var W=U;W<H;)if(o.test(v[W])){U<W&&(V.splice(K,0,new l(1,U,W)),K+=G);var Y=W;for(++W;W<H&&o.test(v[W]);++W);V.splice(K,0,new l(2,Y,W)),K+=G,U=W}else++W;U<H&&V.splice(K,0,new l(1,U,H))}return"ltr"==d&&(1==V[0].level&&(N=c.match(/^\s+/))&&(V[0].from=N[0].length,V.unshift(new l(0,0,N[0].length))),1==re(V).level&&(N=c.match(/\s+$/))&&(re(V).to-=N[0].length,V.push(new l(0,f-N[0].length,f)))),"rtl"==d?V.reverse():V}}();function me(line,e){var t=line.order;return null==t&&(t=line.order=ve(line.text,e)),t}var ge=[],be=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var map=e._handlers||(e._handlers={});map[t]=(map[t]||ge).concat(r)}};function ye(e,t){return e._handlers&&e._handlers[t]||ge}function _e(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var map=e._handlers,n=map&&map[t];if(n){var o=W(n,r);o>-1&&(map[t]=n.slice(0,o).concat(n.slice(o+1)))}}}function we(e,t){var r=ye(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ke(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),we(e,r||t.type,e,t),Ce(t)||t.codemirrorIgnore}function Se(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==W(r,t[i])&&r.push(t[i])}function xe(e,t){return ye(e,t).length>0}function Oe(e){e.prototype.on=function(e,t){be(this,e,t)},e.prototype.off=function(e,t){_e(this,e,t)}}function Te(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ee(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ie(e){Te(e),Ee(e)}function je(e){return e.target||e.srcElement}function Me(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),O&&e.ctrlKey&&1==b&&(b=3),b}var Re,Ae,Pe=function(){if(c&&d<9)return!1;var div=D("div");return"draggable"in div||"dragDrop"in div}();function Be(e){if(null==Re){var t=D("span","");B(e,D("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Re=t.offsetWidth<=1&&t.offsetHeight>2&&!(c&&d<8))}var r=Re?D("span",""):D("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function De(e){if(null!=Ae)return Ae;var t=B(e,document.createTextNode("AA")),r=R(t,0,1).getBoundingClientRect(),n=R(t,1,2).getBoundingClientRect();return P(e),!(!r||r.left==r.right)&&(Ae=n.right-r.right<3)}var Le,ze=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var line=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),rt=line.indexOf("\r");-1!=rt?(r.push(line.slice(0,rt)),t+=rt+1):(r.push(line),t=o+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Fe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ne="oncopy"in(Le=D("div"))||(Le.setAttribute("oncopy","return;"),"function"==typeof Le.oncopy),Ve=null,He={},$e={};function Ue(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),He[e]=t}function qe(e){if("string"==typeof e&&$e.hasOwnProperty(e))e=$e[e];else if(e&&"string"==typeof e.name&&$e.hasOwnProperty(e.name)){var t=$e[e.name];"string"==typeof t&&(t={name:t}),(e=oe(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return qe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return qe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ke(e,t){t=qe(t);var r=He[t.name];if(!r)return Ke(e,"text/plain");var n=r(e,t);if(Ge.hasOwnProperty(t.name)){var o=Ge[t.name];for(var l in o)o.hasOwnProperty(l)&&(n.hasOwnProperty(l)&&(n["_"+l]=n[l]),n[l]=o[l])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var c in t.modeProps)n[c]=t.modeProps[c];return n}var Ge={};function We(e,t){U(t,Ge.hasOwnProperty(e)?Ge[e]:Ge[e]={})}function Ye(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),r[n]=o}return r}function Xe(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Qe(e,t,r){return!e.startState||e.startState(t,r)}var Je=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Ze(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var i=0;;++i){var n=r.children[i],o=n.chunkSize();if(t<o){r=n;break}t-=o}return r.lines[t]}function et(e,t,r){var n=[],o=t.line;return e.iter(t.line,r.line+1,(function(line){var text=line.text;o==r.line&&(text=text.slice(0,r.ch)),o==t.line&&(text=text.slice(t.ch)),n.push(text),++o})),n}function tt(e,t,r){var n=[];return e.iter(t,r,(function(line){n.push(line.text)})),n}function nt(line,e){var t=e-line.height;if(t)for(var r=line;r;r=r.parent)r.height+=t}function ot(line){if(null==line.parent)return null;for(var e=line.parent,t=W(e.lines,line),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)t+=r.children[i].chunkSize();return t+e.first}function it(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],l=o.height;if(t<l){e=o;continue e}t-=l,r+=o.chunkSize()}return r}while(!e.lines);for(var i=0;i<e.lines.length;++i){var c=e.lines[i].height;if(t<c)break;t-=c}return r+i}function at(e,t){return t>=e.first&&t<e.first+e.size}function st(e,i){return String(e.lineNumberFormatter(i+e.firstLineNumber))}function lt(line,e,t){if(void 0===t&&(t=null),!(this instanceof lt))return new lt(line,e,t);this.line=line,this.ch=e,this.sticky=t}function ct(a,b){return a.line-b.line||a.ch-b.ch}function ut(a,b){return a.sticky==b.sticky&&0==ct(a,b)}function ht(e){return lt(e.line,e.ch)}function ft(a,b){return ct(a,b)<0?b:a}function pt(a,b){return ct(a,b)<0?a:b}function vt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mt(e,t){if(t.line<e.first)return lt(e.first,0);var r=e.first+e.size-1;return t.line>r?lt(r,Ze(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?lt(e.line,t):r<0?lt(e.line,0):e}(t,Ze(e,t.line).text.length)}function gt(e,t){for(var r=[],i=0;i<t.length;i++)r[i]=mt(e,t[i]);return r}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Je.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Je.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=K(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?K(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return K(this.string,null,this.tabSize)-(this.lineStart?K(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(pattern,e,t){if("string"!=typeof pattern){var r=this.string.slice(this.pos).match(pattern);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var n=function(e){return t?e.toLowerCase():e};if(n(this.string.substr(this.pos,pattern.length))==n(pattern))return!1!==e&&(this.pos+=pattern.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var bt=function(e,t){this.state=e,this.lookAhead=t},yt=function(e,t,line,r){this.state=t,this.doc=e,this.line=line,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function _t(e,line,t,r){var n=[e.state.modeGen],o={};It(e,line.text,e.doc.mode,t,(function(e,style){return n.push(e,style)}),o,r);for(var l=t.state,c=function(r){t.baseTokens=n;var c=e.state.overlays[r],i=1,d=0;t.state=!0,It(e,line.text,c.mode,t,(function(e,style){for(var t=i;d<e;){var r=n[i];r>e&&n.splice(i,1,e,n[i+1],r),i+=2,d=Math.min(e,r)}if(style)if(c.opaque)n.splice(t,i-t,e,"overlay "+style),i=t+2;else for(;t<i;t+=2){var o=n[t+1];n[t+1]=(o?o+" ":"")+"overlay "+style}}),o),t.state=l,t.baseTokens=null,t.baseTokenPos=1},d=0;d<e.state.overlays.length;++d)c(d);return{styles:n,classes:o.bgClass||o.textClass?o:null}}function wt(e,line,t){if(!line.styles||line.styles[0]!=e.state.modeGen){var r=kt(e,ot(line)),n=line.text.length>e.options.maxHighlightLength&&Ye(e.doc.mode,r.state),o=_t(e,line,r);n&&(r.state=n),line.stateAfter=r.save(!n),line.styles=o.styles,o.classes?line.styleClasses=o.classes:line.styleClasses&&(line.styleClasses=null),t===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return line.styles}function kt(e,t,r){var n=e.doc,o=e.display;if(!n.mode.startState)return new yt(n,!0,t);var l=function(e,t,r){for(var n,o,l=e.doc,c=r?-1:t-(e.doc.mode.innerMode?1e3:100),d=t;d>c;--d){if(d<=l.first)return l.first;var line=Ze(l,d-1),h=line.stateAfter;if(h&&(!r||d+(h instanceof bt?h.lookAhead:0)<=l.modeFrontier))return d;var f=K(line.text,null,e.options.tabSize);(null==o||n>f)&&(o=d-1,n=f)}return o}(e,t,r),c=l>n.first&&Ze(n,l-1).stateAfter,d=c?yt.fromSaved(n,c,l):new yt(n,Qe(n.mode),l);return n.iter(l,t,(function(line){St(e,line.text,d);var r=d.line;line.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?d.save():null,d.nextLine()})),r&&(n.modeFrontier=d.line),d}function St(e,text,t,r){var n=e.doc.mode,o=new Je(text,e.options.tabSize,t);for(o.start=o.pos=r||0,""==text&&xt(n,t.state);!o.eol();)Ot(n,o,t.state),o.start=o.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Xe(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Ot(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Xe(e,r).mode);var style=e.token(t,r);if(t.pos>t.start)return style}throw new Error("Mode "+e.name+" failed to advance stream.")}yt.prototype.lookAhead=function(e){var line=this.doc.getLine(this.line+e);return null!=line&&e>this.maxLookAhead&&(this.maxLookAhead=e),line},yt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},yt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},yt.fromSaved=function(e,t,line){return t instanceof bt?new yt(e,Ye(e.mode,t.state),line,t.lookAhead):new yt(e,Ye(e.mode,t),line)},yt.prototype.save=function(e){var t=!1!==e?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new bt(t,this.maxLookAhead):t};var Tt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Et(e,t,r,n){var style,o,l=e.doc,c=l.mode,line=Ze(l,(t=mt(l,t)).line),d=kt(e,t.line,r),h=new Je(line.text,e.options.tabSize,d);for(n&&(o=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,style=Ot(c,h,d.state),n&&o.push(new Tt(h,style,Ye(l.mode,d.state)));return n?o:new Tt(h,style,d.state)}function Ct(e,output){if(e)for(;;){var t=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;e=e.slice(0,t.index)+e.slice(t.index+t[0].length);var r=t[1]?"bgClass":"textClass";null==output[r]?output[r]=t[2]:new RegExp("(?:^|s)"+t[2]+"(?:$|s)").test(output[r])||(output[r]+=" "+t[2])}return e}function It(e,text,t,r,n,o,l){var c=t.flattenSpans;null==c&&(c=e.options.flattenSpans);var style,d=0,h=null,f=new Je(text,e.options.tabSize,r),v=e.options.addModeClass&&[null];for(""==text&&Ct(xt(t,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(c=!1,l&&St(e,text,r,f.pos),f.pos=text.length,style=null):style=Ct(Ot(t,f,r.state,v),o),v){var m=v[0].name;m&&(style="m-"+(style?m+" "+style:m))}if(!c||h!=style){for(;d<f.start;)n(d=Math.min(f.start,d+5e3),h);h=style}f.start=f.pos}for(;d<f.pos;){var y=Math.min(f.pos,d+5e3);n(y,h),d=y}}var jt=!1,Mt=!1;function Rt(marker,e,t){this.marker=marker,this.from=e,this.to=t}function At(e,marker){if(e)for(var i=0;i<e.length;++i){var span=e[i];if(span.marker==marker)return span}}function Pt(e,span){for(var t,i=0;i<e.length;++i)e[i]!=span&&(t||(t=[])).push(e[i]);return t}function Bt(e,t){if(t.full)return null;var r=at(e,t.from.line)&&Ze(e,t.from.line).markedSpans,n=at(e,t.to.line)&&Ze(e,t.to.line).markedSpans;if(!r&&!n)return null;var o=t.from.ch,l=t.to.ch,c=0==ct(t.from,t.to),d=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var span=e[i],marker=span.marker;if(null==span.from||(marker.inclusiveLeft?span.from<=t:span.from<t)||span.from==t&&"bookmark"==marker.type&&(!r||!span.marker.insertLeft)){var o=null==span.to||(marker.inclusiveRight?span.to>=t:span.to>t);(n||(n=[])).push(new Rt(marker,span.from,o?null:span.to))}}return n}(r,o,c),h=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var span=e[i],marker=span.marker;if(null==span.to||(marker.inclusiveRight?span.to>=t:span.to>t)||span.from==t&&"bookmark"==marker.type&&(!r||span.marker.insertLeft)){var o=null==span.from||(marker.inclusiveLeft?span.from<=t:span.from<t);(n||(n=[])).push(new Rt(marker,o?null:span.from-t,null==span.to?null:span.to-t))}}return n}(n,l,c),f=1==t.text.length,v=re(t.text).length+(f?o:0);if(d)for(var i=0;i<d.length;++i){var span=d[i];if(null==span.to){var m=At(h,span.marker);m?f&&(span.to=null==m.to?null:m.to+v):span.to=o}}if(h)for(var y=0;y<h.length;++y){var _=h[y];null!=_.to&&(_.to+=v),null==_.from?At(d,_.marker)||(_.from=v,f&&(d||(d=[])).push(_)):(_.from+=v,f&&(d||(d=[])).push(_))}d&&(d=Dt(d)),h&&h!=d&&(h=Dt(h));var w=[d];if(!f){var k,S=t.text.length-2;if(S>0&&d)for(var x=0;x<d.length;++x)null==d[x].to&&(k||(k=[])).push(new Rt(d[x].marker,null,null));for(var O=0;O<S;++O)w.push(k);w.push(h)}return w}function Dt(e){for(var i=0;i<e.length;++i){var span=e[i];null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty&&e.splice(i--,1)}return e.length?e:null}function Lt(line){var e=line.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(line);line.markedSpans=null}}function zt(line,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(line);line.markedSpans=e}}function Ft(marker){return marker.inclusiveLeft?-1:0}function Nt(marker){return marker.inclusiveRight?1:0}function Vt(a,b){var e=a.lines.length-b.lines.length;if(0!=e)return e;var t=a.find(),r=b.find(),n=ct(t.from,r.from)||Ft(a)-Ft(b);if(n)return-n;var o=ct(t.to,r.to)||Nt(a)-Nt(b);return o||b.id-a.id}function Ht(line,e){var t,r=Mt&&line.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)(n=r[i]).marker.collapsed&&null==(e?n.from:n.to)&&(!t||Vt(t,n.marker)<0)&&(t=n.marker);return t}function $t(line){return Ht(line,!0)}function Ut(line){return Ht(line,!1)}function qt(line,e){var t,r=Mt&&line.markedSpans;if(r)for(var i=0;i<r.length;++i){var n=r[i];n.marker.collapsed&&(null==n.from||n.from<e)&&(null==n.to||n.to>e)&&(!t||Vt(t,n.marker)<0)&&(t=n.marker)}return t}function Kt(e,t,r,n,marker){var line=Ze(e,t),o=Mt&&line.markedSpans;if(o)for(var i=0;i<o.length;++i){var l=o[i];if(l.marker.collapsed){var c=l.marker.find(0),d=ct(c.from,r)||Ft(l.marker)-Ft(marker),h=ct(c.to,n)||Nt(l.marker)-Nt(marker);if(!(d>=0&&h<=0||d<=0&&h>=0)&&(d<=0&&(l.marker.inclusiveRight&&marker.inclusiveLeft?ct(c.to,r)>=0:ct(c.to,r)>0)||d>=0&&(l.marker.inclusiveRight&&marker.inclusiveLeft?ct(c.from,n)<=0:ct(c.from,n)<0)))return!0}}}function Gt(line){for(var e;e=$t(line);)line=e.find(-1,!0).line;return line}function Wt(e,t){var line=Ze(e,t),r=Gt(line);return line==r?t:ot(r)}function Yt(e,t){if(t>e.lastLine())return t;var r,line=Ze(e,t);if(!Xt(e,line))return t;for(;r=Ut(line);)line=r.find(1,!0).line;return ot(line)+1}function Xt(e,line){var t=Mt&&line.markedSpans;if(t)for(var r=void 0,i=0;i<t.length;++i)if((r=t[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Qt(e,line,r))return!0}}function Qt(e,line,span){if(null==span.to){var t=span.marker.find(1,!0);return Qt(e,t.line,At(t.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var r=void 0,i=0;i<line.markedSpans.length;++i)if((r=line.markedSpans[i]).marker.collapsed&&!r.marker.widgetNode&&r.from==span.to&&(null==r.to||r.to!=span.from)&&(r.marker.inclusiveLeft||span.marker.inclusiveRight)&&Qt(e,line,r))return!0}function Jt(e){for(var t=0,r=(e=Gt(e)).parent,i=0;i<r.lines.length;++i){var line=r.lines[i];if(line==e)break;t+=line.height}for(var p=r.parent;p;p=(r=p).parent)for(var n=0;n<p.children.length;++n){var o=p.children[n];if(o==r)break;t+=o.height}return t}function Zt(line){if(0==line.height)return 0;for(var e,t=line.text.length,r=line;e=$t(r);){var n=e.find(0,!0);r=n.from.line,t+=n.from.ch-n.to.ch}for(r=line;e=Ut(r);){var o=e.find(0,!0);t-=r.text.length-o.from.ch,t+=(r=o.to.line).text.length-o.to.ch}return t}function er(e){var t=e.display,r=e.doc;t.maxLine=Ze(r,r.first),t.maxLineLength=Zt(t.maxLine),t.maxLineChanged=!0,r.iter((function(line){var e=Zt(line);e>t.maxLineLength&&(t.maxLineLength=e,t.maxLine=line)}))}var rr=function(text,e,t){this.text=text,zt(this,e),this.height=t?t(this):1};function nr(line){line.parent=null,Lt(line)}rr.prototype.lineNo=function(){return ot(this)},Oe(rr);var or={},ir={};function ar(style,e){if(!style||/^\s*$/.test(style))return null;var t=e.addModeClass?ir:or;return t[style]||(t[style]=style.replace(/\S+/g,"cm-$&"))}function sr(e,t){var content=L("span",null,null,h?"padding-right: .1px":null),r={pre:L("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var line=i?t.rest[i-1]:t.line,n=void 0;r.pos=0,r.addToken=cr,De(e.display.measure)&&(n=me(line,e.doc.direction))&&(r.addToken=ur(r.addToken,n)),r.map=[],fr(line,r,wt(e,line,t!=e.display.externalMeasured&&ot(line))),line.styleClasses&&(line.styleClasses.bgClass&&(r.bgClass=V(line.styleClasses.bgClass,r.bgClass||"")),line.styleClasses.textClass&&(r.textClass=V(line.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Be(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(h){var o=r.content.lastChild;(/\bcm-tab\b/.test(o.className)||o.querySelector&&o.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return we(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=V(r.pre.className,r.textClass||"")),r}function lr(e){var t=D("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function cr(e,text,style,t,r,n,o){if(text){var content,l=e.splitSpaces?function(text,e){if(text.length>1&&!/  /.test(text))return text;for(var t=e,r="",i=0;i<text.length;i++){var n=text.charAt(i);" "!=n||!t||i!=text.length-1&&32!=text.charCodeAt(i+1)||(n=""),r+=n,t=" "==n}return r}(text,e.trailingSpace):text,h=e.cm.state.specialChars,f=!1;if(h.test(text)){content=document.createDocumentFragment();for(var v=0;;){h.lastIndex=v;var m=h.exec(text),y=m?m.index-v:text.length-v;if(y){var _=document.createTextNode(l.slice(v,v+y));c&&d<9?content.appendChild(D("span",[_])):content.appendChild(_),e.map.push(e.pos,e.pos+y,_),e.col+=y,e.pos+=y}if(!m)break;v+=y+1;var w=void 0;if("\t"==m[0]){var k=e.cm.options.tabSize,S=k-e.col%k;(w=content.appendChild(D("span",te(S),"cm-tab"))).setAttribute("role","presentation"),w.setAttribute("cm-text","\t"),e.col+=S}else"\r"==m[0]||"\n"==m[0]?((w=content.appendChild(D("span","\r"==m[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",m[0]),e.col+=1):((w=e.cm.options.specialCharPlaceholder(m[0])).setAttribute("cm-text",m[0]),c&&d<9?content.appendChild(D("span",[w])):content.appendChild(w),e.col+=1);e.map.push(e.pos,e.pos+1,w),e.pos++}}else e.col+=text.length,content=document.createTextNode(l),e.map.push(e.pos,e.pos+text.length,content),c&&d<9&&(f=!0),e.pos+=text.length;if(e.trailingSpace=32==l.charCodeAt(text.length-1),style||t||r||f||n){var x=style||"";t&&(x+=t),r&&(x+=r);var O=D("span",[content],x,n);if(o)for(var T in o)o.hasOwnProperty(T)&&"style"!=T&&"class"!=T&&O.setAttribute(T,o[T]);return e.content.appendChild(O)}e.content.appendChild(content)}}function ur(e,t){return function(r,text,style,n,o,l,c){style=style?style+" cm-force-border":"cm-force-border";for(var d=r.pos,h=d+text.length;;){for(var f=void 0,i=0;i<t.length&&!((f=t[i]).to>d&&f.from<=d);i++);if(f.to>=h)return e(r,text,style,n,o,l,c);e(r,text.slice(0,f.to-d),style,n,null,l,c),n=null,text=text.slice(f.to-d),d=f.to}}}function dr(e,t,marker,r){var n=!r&&marker.widgetNode;n&&e.map.push(e.pos,e.pos+t,n),!r&&e.cm.display.input.needsContentAttribute&&(n||(n=e.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",marker.id)),n&&(e.cm.display.input.setUneditable(n),e.content.appendChild(n)),e.pos+=t,e.trailingSpace=!1}function fr(line,e,t){var r=line.markedSpans,n=line.text,o=0;if(r)for(var style,l,c,d,h,f,v,m=n.length,y=0,i=1,text="",_=0;;){if(_==y){c=d=h=l="",v=null,f=null,_=1/0;for(var w=[],k=void 0,S=0;S<r.length;++S){var x=r[S],O=x.marker;if("bookmark"==O.type&&x.from==y&&O.widgetNode)w.push(O);else if(x.from<=y&&(null==x.to||x.to>y||O.collapsed&&x.to==y&&x.from==y)){if(null!=x.to&&x.to!=y&&_>x.to&&(_=x.to,d=""),O.className&&(c+=" "+O.className),O.css&&(l=(l?l+";":"")+O.css),O.startStyle&&x.from==y&&(h+=" "+O.startStyle),O.endStyle&&x.to==_&&(k||(k=[])).push(O.endStyle,x.to),O.title&&((v||(v={})).title=O.title),O.attributes)for(var T in O.attributes)(v||(v={}))[T]=O.attributes[T];O.collapsed&&(!f||Vt(f.marker,O)<0)&&(f=x)}else x.from>y&&_>x.from&&(_=x.from)}if(k)for(var E=0;E<k.length;E+=2)k[E+1]==_&&(d+=" "+k[E]);if(!f||f.from==y)for(var C=0;C<w.length;++C)dr(e,0,w[C]);if(f&&(f.from||0)==y){if(dr(e,(null==f.to?m+1:f.to)-y,f.marker,null==f.from),null==f.to)return;f.to==y&&(f=!1)}}if(y>=m)break;for(var I=Math.min(m,_);;){if(text){var j=y+text.length;if(!f){var M=j>I?text.slice(0,I-y):text;e.addToken(e,M,style?style+c:c,h,y+M.length==_?d:"",l,v)}if(j>=I){text=text.slice(I-y),y=I;break}y=j,h=""}text=n.slice(o,o=t[i++]),style=ar(t[i++],e.cm.options)}}else for(var R=1;R<t.length;R+=2)e.addToken(e,n.slice(o,o=t[R]),ar(t[R+1],e.cm.options))}function pr(e,line,t){this.line=line,this.rest=function(line){for(var e,t;e=Ut(line);)line=e.find(1,!0).line,(t||(t=[])).push(line);return t}(line),this.size=this.rest?ot(re(this.rest))-t+1:1,this.node=this.text=null,this.hidden=Xt(e,line)}function vr(e,t,r){for(var n,o=[],l=t;l<r;l=n){var view=new pr(e.doc,Ze(e.doc,l),l);n=l+view.size,o.push(view)}return o}var mr=null,gr=null;function yr(e,t){var r=ye(e,t);if(r.length){var n,o=Array.prototype.slice.call(arguments,2);mr?n=mr.delayedCallbacks:gr?n=gr:(n=gr=[],setTimeout(_r,0));for(var l=function(i){n.push((function(){return r[i].apply(null,o)}))},i=0;i<r.length;++i)l(i)}}function _r(){var e=gr;gr=null;for(var i=0;i<e.length;++i)e[i]()}function wr(e,t,r,n){for(var o=0;o<t.changes.length;o++){var l=t.changes[o];"text"==l?xr(e,t):"gutter"==l?Tr(e,t,r,n):"class"==l?Or(e,t):"widget"==l&&Er(e,t,n)}t.changes=null}function kr(e){return e.node==e.text&&(e.node=D("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),c&&d<8&&(e.node.style.zIndex=2)),e.node}function Sr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):sr(e,t)}function xr(e,t){var r=t.text.className,n=Sr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Or(e,t)):r&&(t.text.className=r)}function Or(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=kr(t);t.background=n.insertBefore(D("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?kr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Tr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=kr(t);t.gutterBackground=D("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var c=kr(t),d=t.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(d),c.insertBefore(d,t.text),t.line.gutterClass&&(d.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=d.appendChild(D("div",st(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var h=0;h<e.display.gutterSpecs.length;++h){var f=e.display.gutterSpecs[h].className,v=l.hasOwnProperty(f)&&l[f];v&&d.appendChild(D("div",[v],"CodeMirror-gutter-elt","left: "+n.gutterLeft[f]+"px; width: "+n.gutterWidth[f]+"px"))}}}function Er(e,t,r){t.alignable&&(t.alignable=null);for(var n=M("CodeMirror-linewidget"),o=t.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,n.test(o.className)&&t.node.removeChild(o);Ir(e,t,r)}function Cr(e,t,r,n){var o=Sr(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),Or(e,t),Tr(e,t,r,n),Ir(e,t,n),t.node}function Ir(e,t,r){if(jr(e,t.line,t,r,!0),t.rest)for(var i=0;i<t.rest.length;i++)jr(e,t.rest[i],t,r,!1)}function jr(e,line,t,r,n){if(line.widgets)for(var o=kr(t),i=0,l=line.widgets;i<l.length;++i){var c=l[i],d=D("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||d.setAttribute("cm-ignore-events","true"),Mr(c,d,t,r),e.display.input.setUneditable(d),n&&c.above?o.insertBefore(d,t.gutter||t.text):o.appendChild(d),yr(c,"redraw")}}function Mr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Rr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!z(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),B(t.display.measure,D("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Ar(e,t){for(var r=je(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Pr(e){return e.lineSpace.offsetTop}function Br(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Dr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=B(e.measure,D("pre","x","CodeMirror-line-like")),style=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(e.cachedPaddingH=data),data}function Lr(e){return 30-e.display.nativeBarWidth}function zr(e){return e.display.scroller.clientWidth-Lr(e)-e.display.barWidth}function Fr(e){return e.display.scroller.clientHeight-Lr(e)-e.display.barHeight}function Nr(e,line,t){if(e.line==line)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==line)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(ot(e.rest[r])>t)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Vr(e,line,t,r){return Ur(e,$r(e,line),t,r)}function Hr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[kn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function $r(e,line){var t=ot(line),view=Hr(e,t);view&&!view.text?view=null:view&&view.changes&&(wr(e,view,t,gn(e)),e.curOp.forceUpdate=!0),view||(view=function(e,line){var t=ot(line=Gt(line)),view=e.display.externalMeasured=new pr(e.doc,line,t);view.lineN=t;var r=view.built=sr(e,view);return view.text=r.pre,B(e.display.lineMeasure,r.pre),view}(e,line));var r=Nr(view,line,t);return{line:line,view:view,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ur(e,t,r,n,o){t.before&&(r=-1);var l,h=r+(n||"");return t.cache.hasOwnProperty(h)?l=t.cache[h]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,rect){var r=e.options.lineWrapping,n=r&&zr(e);if(!t.measure.heights||r&&t.measure.width!=n){var o=t.measure.heights=[];if(r){t.measure.width=n;for(var l=t.text.firstChild.getClientRects(),i=0;i<l.length-1;i++){var c=l[i],d=l[i+1];Math.abs(c.bottom-d.bottom)>2&&o.push((c.bottom+d.top)/2-rect.top)}}o.push(rect.bottom-rect.top)}}(e,t.view,t.rect),t.hasHeights=!0),(l=function(e,t,r,n){var rect,o=Gr(t.map,r,n),l=o.node,h=o.start,f=o.end,v=o.collapse;if(3==l.nodeType){for(var m=0;m<4;m++){for(;h&&ue(t.line.text.charAt(o.coverStart+h));)--h;for(;o.coverStart+f<o.coverEnd&&ue(t.line.text.charAt(o.coverStart+f));)++f;if((rect=c&&d<9&&0==h&&f==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Wr(R(l,h,f).getClientRects(),n)).left||rect.right||0==h)break;f=h,h-=1,v="right"}c&&d<11&&(rect=function(e,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ve)return Ve;var t=B(e,D("span","x")),r=t.getBoundingClientRect(),n=R(t,0,1).getBoundingClientRect();return Ve=Math.abs(r.left-n.left)>1}(e))return rect;var t=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*t,right:rect.right*t,top:rect.top*r,bottom:rect.bottom*r}}(e.display.measure,rect))}else{var y;h>0&&(v=n="right"),rect=e.options.lineWrapping&&(y=l.getClientRects()).length>1?y["right"==n?y.length-1:0]:l.getBoundingClientRect()}if(c&&d<9&&!h&&(!rect||!rect.left&&!rect.right)){var _=l.parentNode.getClientRects()[0];rect=_?{left:_.left,right:_.left+mn(e.display),top:_.top,bottom:_.bottom}:Kr}for(var w=rect.top-t.rect.top,k=rect.bottom-t.rect.top,S=(w+k)/2,x=t.view.measure.heights,i=0;i<x.length-1&&!(S<x[i]);i++);var O=i?x[i-1]:0,T=x[i],E={left:("right"==v?rect.right:rect.left)-t.rect.left,right:("left"==v?rect.left:rect.right)-t.rect.left,top:O,bottom:T};return rect.left||rect.right||(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=w,E.rbottom=k),E}(e,t,r,n)).bogus||(t.cache[h]=l)),{left:l.left,right:l.right,top:o?l.rtop:l.top,bottom:o?l.rbottom:l.bottom}}var qr,Kr={left:0,right:0,top:0,bottom:0};function Gr(map,e,t){for(var r,n,o,l,c,d,i=0;i<map.length;i+=3)if(c=map[i],d=map[i+1],e<c?(n=0,o=1,l="left"):e<d?o=1+(n=e-c):(i==map.length-3||e==d&&map[i+3]>e)&&(n=(o=d-c)-1,e>=d&&(l="right")),null!=n){if(r=map[i+2],c==d&&t==(r.insertLeft?"left":"right")&&(l=t),"left"==t&&0==n)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;)r=map[2+(i-=3)],l="left";if("right"==t&&n==d-c)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;)r=map[(i+=3)+2],l="right";break}return{node:r,start:n,end:o,collapse:l,coverStart:c,coverEnd:d}}function Wr(e,t){var rect=Kr;if("left"==t)for(var i=0;i<e.length&&(rect=e[i]).left==rect.right;i++);else for(var r=e.length-1;r>=0&&(rect=e[r]).left==rect.right;r--);return rect}function Yr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var i=0;i<e.rest.length;i++)e.measure.caches[i]={}}function Xr(e){e.display.externalMeasure=null,P(e.display.lineMeasure);for(var i=0;i<e.display.view.length;i++)Yr(e.display.view[i])}function Qr(e){Xr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Jr(){return v&&S?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Zr(){return v&&S?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function en(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=Rr(e.widgets[i]));return t}function tn(e,t,rect,r,n){if(!n){var o=en(t);rect.top+=o,rect.bottom+=o}if("line"==r)return rect;r||(r="local");var l=Jt(t);if("local"==r?l+=Pr(e.display):l-=e.display.viewOffset,"page"==r||"window"==r){var c=e.display.lineSpace.getBoundingClientRect();l+=c.top+("window"==r?0:Zr());var d=c.left+("window"==r?0:Jr());rect.left+=d,rect.right+=d}return rect.top+=l,rect.bottom+=l,rect}function rn(e,t,r){if("div"==r)return t;var n=t.left,o=t.top;if("page"==r)n-=Jr(),o-=Zr();else if("local"==r||!r){var l=e.display.sizer.getBoundingClientRect();n+=l.left,o+=l.top}var c=e.display.lineSpace.getBoundingClientRect();return{left:n-c.left,top:o-c.top}}function nn(e,t,r,n,o){return n||(n=Ze(e.doc,t.line)),tn(e,n,Vr(e,n,t.ch,o),r)}function on(e,t,r,n,o,l){function c(t,c){var d=Ur(e,o,t,c?"right":"left",l);return c?d.left=d.right:d.right=d.left,tn(e,n,d,r)}n=n||Ze(e.doc,t.line),o||(o=$r(e,n));var d=me(n,e.doc.direction),h=t.ch,f=t.sticky;if(h>=n.text.length?(h=n.text.length,f="before"):h<=0&&(h=0,f="after"),!d)return c("before"==f?h-1:h,"before"==f);function v(e,t,r){return c(r?e-1:e,1==d[t].level!=r)}var m=pe(d,h,f),y=fe,_=v(h,m,"before"==f);return null!=y&&(_.other=v(h,y,"before"!=f)),_}function an(e,t){var r=0;t=mt(e.doc,t),e.options.lineWrapping||(r=mn(e.display)*t.ch);var n=Ze(e.doc,t.line),o=Jt(n)+Pr(e.display);return{left:r,right:r,top:o,bottom:o+n.height}}function sn(line,e,t,r,n){var o=lt(line,e,t);return o.xRel=n,r&&(o.outside=r),o}function ln(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return sn(n.first,0,null,-1,-1);var o=it(n,r),l=n.first+n.size-1;if(o>l)return sn(n.first+n.size-1,Ze(n,l).text.length,null,1,1);t<0&&(t=0);for(var c=Ze(n,o);;){var d=hn(e,c,o,t,r),h=qt(c,d.ch+(d.xRel>0||d.outside>0?1:0));if(!h)return d;var f=h.find(1);if(f.line==o)return f;c=Ze(n,o=f.line)}}function cn(e,t,r,n){n-=en(t);var o=t.text.length,l=he((function(t){return Ur(e,r,t-1).bottom<=n}),o,0);return{begin:l,end:o=he((function(t){return Ur(e,r,t).top>n}),l,o)}}function un(e,t,r,n){return r||(r=$r(e,t)),cn(e,t,r,tn(e,t,Ur(e,r,n),"line").top)}function dn(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function hn(e,t,r,n,o){o-=Jt(t);var l=$r(e,t),c=en(t),d=0,h=t.text.length,f=!0,v=me(t,e.doc.direction);if(v){var m=(e.options.lineWrapping?pn:fn)(e,t,r,l,v,n,o);d=(f=1!=m.level)?m.from:m.to-1,h=f?m.to:m.from-1}var y,_,w=null,k=null,S=he((function(t){var r=Ur(e,l,t);return r.top+=c,r.bottom+=c,!!dn(r,n,o,!1)&&(r.top<=o&&r.left<=n&&(w=t,k=r),!0)}),d,h),x=!1;if(k){var O=n-k.left<k.right-n,T=O==f;S=w+(T?0:1),_=T?"after":"before",y=O?k.left:k.right}else{f||S!=h&&S!=d||S++,_=0==S?"after":S==t.text.length?"before":Ur(e,l,S-(f?1:0)).bottom+c<=o==f?"after":"before";var E=on(e,lt(r,S,_),"line",t,l);y=E.left,x=o<E.top?-1:o>=E.bottom?1:0}return sn(r,S=de(t.text,S,1),_,x,n-y)}function fn(e,t,r,n,o,l,c){var d=he((function(i){var d=o[i],h=1!=d.level;return dn(on(e,lt(r,h?d.to:d.from,h?"before":"after"),"line",t,n),l,c,!0)}),0,o.length-1),h=o[d];if(d>0){var f=1!=h.level,v=on(e,lt(r,f?h.from:h.to,f?"after":"before"),"line",t,n);dn(v,l,c,!0)&&v.top>c&&(h=o[d-1])}return h}function pn(e,t,r,n,o,l,c){var d=cn(e,t,n,c),h=d.begin,f=d.end;/\s/.test(t.text.charAt(f-1))&&f--;for(var v=null,m=null,i=0;i<o.length;i++){var p=o[i];if(!(p.from>=f||p.to<=h)){var y=Ur(e,n,1!=p.level?Math.min(f,p.to)-1:Math.max(h,p.from)).right,_=y<l?l-y+1e9:y-l;(!v||m>_)&&(v=p,m=_)}}return v||(v=o[o.length-1]),v.from<h&&(v={from:h,to:v.to,level:v.level}),v.to>f&&(v={from:v.from,to:f,level:v.level}),v}function vn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==qr){qr=D("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)qr.appendChild(document.createTextNode("x")),qr.appendChild(D("br"));qr.appendChild(document.createTextNode("x"))}B(e.measure,qr);var t=qr.offsetHeight/50;return t>3&&(e.cachedTextHeight=t),P(e.measure),t||1}function mn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=D("span","xxxxxxxxxx"),pre=D("pre",[t],"CodeMirror-line-like");B(e.measure,pre);var rect=t.getBoundingClientRect(),r=(rect.right-rect.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function gn(e){for(var t=e.display,r={},n={},o=t.gutters.clientLeft,l=t.gutters.firstChild,i=0;l;l=l.nextSibling,++i){var c=e.display.gutterSpecs[i].className;r[c]=l.offsetLeft+l.clientLeft+o,n[c]=l.clientWidth}return{fixedPos:bn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function bn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function yn(e){var th=vn(e.display),t=e.options.lineWrapping,r=t&&Math.max(5,e.display.scroller.clientWidth/mn(e.display)-3);return function(line){if(Xt(e.doc,line))return 0;var n=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(n+=line.widgets[i].height);return t?n+(Math.ceil(line.text.length/r)||1)*th:n+th}}function _n(e){var t=e.doc,r=yn(e);t.iter((function(line){var e=r(line);e!=line.height&&nt(line,e)}))}function wn(e,t,r,n){var o=e.display;if(!r&&"true"==je(t).getAttribute("cm-not-content"))return null;var l,c,d=o.lineSpace.getBoundingClientRect();try{l=t.clientX-d.left,c=t.clientY-d.top}catch(t){return null}var line,h=ln(e,l,c);if(n&&h.xRel>0&&(line=Ze(e.doc,h.line).text).length==h.ch){var f=K(line,line.length,e.options.tabSize)-line.length;h=lt(h.line,Math.max(0,Math.round((l-Dr(e.display).left)/mn(e.display))-f))}return h}function kn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var view=e.display.view,i=0;i<view.length;i++)if((t-=view[i].size)<0)return i}function Sn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&r<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Mt&&Wt(e.doc,t)<o.viewTo&&On(e);else if(r<=o.viewFrom)Mt&&Yt(e.doc,r+n)>o.viewFrom?On(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&r>=o.viewTo)On(e);else if(t<=o.viewFrom){var l=Tn(e,r,r+n,1);l?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=n):On(e)}else if(r>=o.viewTo){var c=Tn(e,t,t,-1);c?(o.view=o.view.slice(0,c.index),o.viewTo=c.lineN):On(e)}else{var d=Tn(e,t,t,-1),h=Tn(e,r,r+n,1);d&&h?(o.view=o.view.slice(0,d.index).concat(vr(e,d.lineN,h.lineN)).concat(o.view.slice(h.index)),o.viewTo+=n):On(e)}var f=o.externalMeasured;f&&(r<f.lineN?f.lineN+=n:t<f.lineN+f.size&&(o.externalMeasured=null))}function xn(e,line,t){e.curOp.viewChanged=!0;var r=e.display,n=e.display.externalMeasured;if(n&&line>=n.lineN&&line<n.lineN+n.size&&(r.externalMeasured=null),!(line<r.viewFrom||line>=r.viewTo)){var o=r.view[kn(e,line)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==W(l,t)&&l.push(t)}}}function On(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Tn(e,t,r,n){var o,l=kn(e,t),view=e.display.view;if(!Mt||r==e.doc.first+e.doc.size)return{index:l,lineN:r};for(var c=e.display.viewFrom,i=0;i<l;i++)c+=view[i].size;if(c!=t){if(n>0){if(l==view.length-1)return null;o=c+view[l].size-t,l++}else o=c-t;t+=o,r+=o}for(;Wt(e.doc,r)!=r;){if(l==(n<0?0:view.length-1))return null;r+=n*view[l-(n<0?1:0)].size,l+=n}return{index:l,lineN:r}}function En(e){for(var view=e.display.view,t=0,i=0;i<view.length;i++){var r=view[i];r.hidden||r.node&&!r.changes||++t}return t}function Cn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function In(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},o=n.cursors=document.createDocumentFragment(),l=n.selection=document.createDocumentFragment(),i=0;i<r.sel.ranges.length;i++)if(t||i!=r.sel.primIndex){var c=r.sel.ranges[i];if(!(c.from().line>=e.display.viewTo||c.to().line<e.display.viewFrom)){var d=c.empty();(d||e.options.showCursorWhenSelecting)&&jn(e,c.head,o),d||Rn(e,c,l)}}return n}function jn(e,head,output){var t=on(e,head,"div",null,null,!e.options.singleCursorHeightPerLine),cursor=output.appendChild(D("div","","CodeMirror-cursor"));if(cursor.style.left=t.left+"px",cursor.style.top=t.top+"px",cursor.style.height=Math.max(0,t.bottom-t.top)*e.options.cursorHeight+"px",t.other){var r=output.appendChild(D("div","","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=t.other.left+"px",r.style.top=t.other.top+"px",r.style.height=.85*(t.other.bottom-t.other.top)+"px"}}function Mn(a,b){return a.top-b.top||a.left-b.left}function Rn(e,t,output){var r=e.display,n=e.doc,o=document.createDocumentFragment(),l=Dr(e.display),c=l.left,d=Math.max(r.sizerWidth,zr(e)-r.sizer.offsetLeft)-l.right,h="ltr"==n.direction;function f(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?d-e:r)+"px;\n                             height: "+(n-t)+"px"))}function v(line,t,r){var o,l,v=Ze(n,line),m=v.text.length;function y(t,r){return nn(e,lt(line,t),"div",v,r)}function _(t,r,n){var o=un(e,v,null,t),l="ltr"==r==("after"==n)?"left":"right";return y("after"==n?o.begin:o.end-(/\s/.test(v.text.charAt(o.end-1))?2:1),l)[l]}var w=me(v,n.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var l=e[i];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",i),o=!0)}o||n(t,r,"ltr")}(w,t||0,null==r?m:r,(function(e,n,v,i){var k="ltr"==v,S=y(e,k?"left":"right"),x=y(n-1,k?"right":"left"),O=null==t&&0==e,T=null==r&&n==m,E=0==i,C=!w||i==w.length-1;if(x.top-S.top<=3){var I=(h?T:O)&&C,j=(h?O:T)&&E?c:(k?S:x).left,M=I?d:(k?x:S).right;f(j,S.top,M-j,S.bottom)}else{var R,A,P,B;k?(R=h&&O&&E?c:S.left,A=h?d:_(e,v,"before"),P=h?c:_(n,v,"after"),B=h&&T&&C?d:x.right):(R=h?_(e,v,"before"):c,A=!h&&O&&E?d:S.right,P=!h&&T&&C?c:x.left,B=h?_(n,v,"after"):d),f(R,S.top,A-R,S.bottom),S.bottom<x.top&&f(c,S.bottom,null,x.top),f(P,x.top,B-P,x.bottom)}(!o||Mn(S,o)<0)&&(o=S),Mn(x,o)<0&&(o=x),(!l||Mn(S,l)<0)&&(l=S),Mn(x,l)<0&&(l=x)})),{start:o,end:l}}var m=t.from(),y=t.to();if(m.line==y.line)v(m.line,m.ch,y.ch);else{var _=Ze(n,m.line),w=Ze(n,y.line),k=Gt(_)==Gt(w),S=v(m.line,m.ch,k?_.text.length+1:null).end,x=v(y.line,k?0:null,y.ch).start;k&&(S.top<x.top-2?(f(S.right,S.top,null,S.bottom),f(c,x.top,x.left,x.bottom)):f(S.right,S.top,x.left-S.right,S.bottom)),S.bottom<x.top&&f(c,S.bottom,null,x.top)}output.appendChild(o)}function An(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Pn(e){e.state.focused||(e.display.input.focus(),Dn(e))}function Bn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Ln(e))}),100)}function Dn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(we(e,"focus",e,t),e.state.focused=!0,N(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),h&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),An(e))}function Ln(e,t){e.state.delayingBlurEvent||(e.state.focused&&(we(e,"blur",e,t),e.state.focused=!1,A(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function zn(e){for(var t=e.display,r=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var n=t.view[i],o=e.options.lineWrapping,l=void 0,h=0;if(!n.hidden){if(c&&d<8){var f=n.node.offsetTop+n.node.offsetHeight;l=f-r,r=f}else{var v=n.node.getBoundingClientRect();l=v.bottom-v.top,!o&&n.text.firstChild&&(h=n.text.firstChild.getBoundingClientRect().right-v.left-1)}var m=n.line.height-l;if((m>.005||m<-.005)&&(nt(n.line,l),Fn(n.line),n.rest))for(var y=0;y<n.rest.length;y++)Fn(n.rest[y]);if(h>e.display.sizerWidth){var _=Math.ceil(h/mn(e.display));_>e.display.maxLineLength&&(e.display.maxLineLength=_,e.display.maxLine=n.line,e.display.maxLineChanged=!0)}}}}function Fn(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i){var e=line.widgets[i],t=e.node.parentNode;t&&(e.height=t.offsetHeight)}}function Nn(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Pr(e));var o=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,l=it(t,n),c=it(t,o);if(r&&r.ensure){var d=r.ensure.from.line,h=r.ensure.to.line;d<l?(l=d,c=it(t,Jt(Ze(t,d))+e.wrapper.clientHeight)):Math.min(h,t.lastLine())>=c&&(l=it(t,Jt(Ze(t,h))-e.wrapper.clientHeight),c=h)}return{from:l,to:Math.max(c,l+1)}}function Vn(e,rect){var t=e.display,r=vn(e.display);rect.top<0&&(rect.top=0);var n=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:t.scroller.scrollTop,o=Fr(e),l={};rect.bottom-rect.top>o&&(rect.bottom=rect.top+o);var c=e.doc.height+Br(t),d=rect.top<r,h=rect.bottom>c-r;if(rect.top<n)l.scrollTop=d?0:rect.top;else if(rect.bottom>n+o){var f=Math.min(rect.top,(h?c:rect.bottom)-o);f!=n&&(l.scrollTop=f)}var v=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:t.scroller.scrollLeft,m=zr(e)-(e.options.fixedGutter?t.gutters.offsetWidth:0),y=rect.right-rect.left>m;return y&&(rect.right=rect.left+m),rect.left<10?l.scrollLeft=0:rect.left<v?l.scrollLeft=Math.max(0,rect.left-(y?0:10)):rect.right>m+v-3&&(l.scrollLeft=rect.right+(y?0:10)-m),l}function Hn(e,t){null!=t&&(qn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function $n(e){qn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Un(e,t,r){null==t&&null==r||qn(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function qn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Kn(e,an(e,t.from),an(e,t.to),t.margin))}function Kn(e,t,r,n){var o=Vn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Un(e,o.scrollLeft,o.scrollTop)}function Gn(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||wo(e,{top:t}),Wn(e,t,!0),r&&wo(e),mo(e,100))}function Wn(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Yn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,xo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Xn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Br(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Lr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Qn=function(e,t,r){this.cm=r;var n=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),be(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),be(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,c&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Qn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Qn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Qn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Qn.prototype.zeroWidthHack=function(){var e=O&&!_?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new G,this.disableVert=new G},Qn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,(function n(){var o=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},Qn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Jn=function(){};function Zn(e,t){t||(t=Xn(e));var r=e.display.barWidth,n=e.display.barHeight;eo(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&zn(e),eo(e,Xn(e)),r=e.display.barWidth,n=e.display.barHeight}function eo(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Jn.prototype.update=function(){return{bottom:0,right:0}},Jn.prototype.setScrollLeft=function(){},Jn.prototype.setScrollTop=function(){},Jn.prototype.clear=function(){};var to={native:Qn,null:Jn};function ro(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new to[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),be(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?Yn(e,t):Gn(e,t)}),e),e.display.scrollbars.addClass&&N(e.display.wrapper,e.display.scrollbars.addClass)}var no=0;function oo(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++no},t=e.curOp,mr?mr.ops.push(t):t.ownsGroup=mr={ops:[t],delayedCallbacks:[]}}function io(e){var t=e.curOp;t&&function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var r=0;r<e.ops.length;r++){var n=e.ops[r];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(i<t.length)}(r)}finally{mr=null,t(r)}}(t,(function(e){for(var i=0;i<e.ops.length;i++)e.ops[i].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)ao(t[i]);for(var r=0;r<t.length;r++)so(t[r]);for(var n=0;n<t.length;n++)lo(t[n]);for(var o=0;o<t.length;o++)co(t[o]);for(var l=0;l<t.length;l++)uo(t[l])}(e)}))}function ao(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Lr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Lr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&er(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new bo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function so(e){e.updatedDisplay=e.mustUpdate&&yo(e.cm,e.update)}function lo(e){var t=e.cm,r=t.display;e.updatedDisplay&&zn(t),e.barMeasure=Xn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Vr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Lr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-zr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function co(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Yn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==F();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Zn(t,e.barMeasure),e.updatedDisplay&&So(t,e.barMeasure),e.selectionChanged&&An(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Pn(e.cm)}function uo(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&_o(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Wn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Yn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,rect){if(!ke(e,"scrollCursorIntoView")){var t=e.display,r=t.sizer.getBoundingClientRect(),n=null;if(rect.top+r.top<0?n=!0:rect.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n&&!w){var o=D("div","",null,"position: absolute;\n                         top: "+(rect.top-t.viewOffset-Pr(e.display))+"px;\n                         height: "+(rect.bottom-rect.top+Lr(e)+t.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(n),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,r,n){var rect;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?lt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?lt(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,c=on(e,t),d=r&&r!=t?on(e,r):c,h=Vn(e,rect={left:Math.min(c.left,d.left),top:Math.min(c.top,d.top)-n,right:Math.max(c.left,d.left),bottom:Math.max(c.bottom,d.bottom)+n}),f=e.doc.scrollTop,v=e.doc.scrollLeft;if(null!=h.scrollTop&&(Gn(e,h.scrollTop),Math.abs(e.doc.scrollTop-f)>1&&(l=!0)),null!=h.scrollLeft&&(Yn(e,h.scrollLeft),Math.abs(e.doc.scrollLeft-v)>1&&(l=!0)),!l)break}return rect}(t,mt(n,e.scrollToPos.from),mt(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var i=0;i<o.length;++i)o[i].lines.length||we(o[i],"hide");if(l)for(var c=0;c<l.length;++c)l[c].lines.length&&we(l[c],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&we(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ho(e,t){if(e.curOp)return t();oo(e);try{return t()}finally{io(e)}}function fo(e,t){return function(){if(e.curOp)return t.apply(e,arguments);oo(e);try{return t.apply(e,arguments)}finally{io(e)}}}function po(e){return function(){if(this.curOp)return e.apply(this,arguments);oo(this);try{return e.apply(this,arguments)}finally{io(this)}}}function vo(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);oo(t);try{return e.apply(this,arguments)}finally{io(t)}}}function mo(e,time){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(time,$(go,e))}function go(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=kt(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(line){if(n.line>=e.display.viewFrom){var l=line.styles,c=line.text.length>e.options.maxHighlightLength?Ye(t.mode,n.state):null,d=_t(e,line,n,!0);c&&(n.state=c),line.styles=d.styles;var h=line.styleClasses,f=d.classes;f?line.styleClasses=f:h&&(line.styleClasses=null);for(var v=!l||l.length!=line.styles.length||h!=f&&(!h||!f||h.bgClass!=f.bgClass||h.textClass!=f.textClass),i=0;!v&&i<l.length;++i)v=l[i]!=line.styles[i];v&&o.push(n.line),line.stateAfter=n.save(),n.nextLine()}else line.text.length<=e.options.maxHighlightLength&&St(e,line.text,n),line.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return mo(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&ho(e,(function(){for(var i=0;i<o.length;i++)xn(e,o[i],"text")}))}}var bo=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Nn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=zr(e),this.force=r,this.dims=gn(e),this.events=[]};function yo(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return On(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==En(e))return!1;Oo(e)&&(On(e),t.dims=gn(e));var o=n.first+n.size,l=Math.max(t.visible.from-e.options.viewportMargin,n.first),c=Math.min(o,t.visible.to+e.options.viewportMargin);r.viewFrom<l&&l-r.viewFrom<20&&(l=Math.max(n.first,r.viewFrom)),r.viewTo>c&&r.viewTo-c<20&&(c=Math.min(o,r.viewTo)),Mt&&(l=Wt(e.doc,l),c=Yt(e.doc,c));var d=l!=r.viewFrom||c!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=vr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=vr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(kn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(vr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,kn(e,r)))),n.viewTo=r}(e,l,c),r.viewOffset=Jt(Ze(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var f=En(e);if(!d&&0==f&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var v=function(e){if(e.hasFocus())return null;var t=F();if(!t||!z(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&z(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return f>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,o=e.options.lineNumbers,l=n.lineDiv,c=l.firstChild;function d(t){var r=t.nextSibling;return h&&O&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var view=n.view,f=n.viewFrom,i=0;i<view.length;i++){var v=view[i];if(v.hidden);else if(v.node&&v.node.parentNode==l){for(;c!=v.node;)c=d(c);var m=o&&null!=t&&t<=f&&v.lineNumber;v.changes&&(W(v.changes,"gutter")>-1&&(m=!1),wr(e,v,f,r)),m&&(P(v.lineNumber),v.lineNumber.appendChild(document.createTextNode(st(e.options,f)))),c=v.node.nextSibling}else{var y=Cr(e,v,f,r);l.insertBefore(y,c)}f+=v.size}for(;c;)c=d(c)}(e,r.updateLineNumbers,t.dims),f>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=F()&&(e.activeElt.focus(),e.anchorNode&&z(document.body,e.anchorNode)&&z(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(v),P(r.cursorDiv),P(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,d&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,mo(e,400)),r.updateLineNumbers=null,!0}function _o(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=zr(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Br(e.display)-Fr(e),r.top)}),t.visible=Nn(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&yo(e,t);n=!1){zn(e);var o=Xn(e);Cn(e),Zn(e,o),So(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function wo(e,t){var r=new bo(e,t);if(yo(e,r)){zn(e),_o(e,r);var n=Xn(e);Cn(e),Zn(e,n),So(e,n),r.finish()}}function ko(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function So(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Lr(e)+"px"}function xo(e){var t=e.display,view=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=bn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,o=r+"px",i=0;i<view.length;i++)if(!view[i].hidden){e.options.fixedGutter&&(view[i].gutter&&(view[i].gutter.style.left=o),view[i].gutterBackground&&(view[i].gutterBackground.style.left=o));var l=view[i].alignable;if(l)for(var c=0;c<l.length;c++)l[c].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+n+"px")}}function Oo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=st(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var o=n.measure.appendChild(D("div",[D("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,c=o.offsetWidth-l;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(l,n.lineGutter.offsetWidth-c)+1,n.lineNumWidth=n.lineNumInnerWidth+c,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ko(e.display),!0}return!1}function To(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],style=null;if("string"!=typeof o&&(style=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:style})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Eo(e){var t=e.gutters,r=e.gutterSpecs;P(t),e.lineGutter=null;for(var i=0;i<r.length;++i){var n=r[i],o=n.className,style=n.style,l=t.appendChild(D("div",null,"CodeMirror-gutter "+o));style&&(l.style.cssText=style),"CodeMirror-linenumbers"==o&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ko(e)}function Co(e){Eo(e.display),Sn(e),xo(e)}function Io(e,t,input,n){var o=this;this.input=input,o.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=D("div",null,"CodeMirror-cursors"),o.measure=D("div",null,"CodeMirror-measure"),o.lineMeasure=D("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=D("div",[l],null,"position: relative"),o.sizer=D("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=D("div",null,null,"position: absolute; height: 30px; width: 1px;"),o.gutters=D("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=D("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=D("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),c&&d<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),h||r&&x||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=To(n.gutters,n.lineNumbers),Eo(o),input.init(o)}bo.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},bo.prototype.finish=function(){for(var i=0;i<this.events.length;i++)we.apply(null,this.events[i])};var jo=0,Mo=null;function Ro(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Ao(e){var t=Ro(e);return t.x*=Mo,t.y*=Mo,t}function Po(e,t){var n=Ro(t),o=n.x,l=n.y,c=e.display,d=c.scroller,f=d.scrollWidth>d.clientWidth,v=d.scrollHeight>d.clientHeight;if(o&&f||l&&v){if(l&&O&&h)e:for(var y=t.target,view=c.view;y!=d;y=y.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==y){e.display.currentWheelTarget=y;break e}if(o&&!r&&!m&&null!=Mo)return l&&v&&Gn(e,Math.max(0,d.scrollTop+l*Mo)),Yn(e,Math.max(0,d.scrollLeft+o*Mo)),(!l||l&&v)&&Te(t),void(c.wheelStartX=null);if(l&&null!=Mo){var _=l*Mo,w=e.doc.scrollTop,k=w+c.wrapper.clientHeight;_<0?w=Math.max(0,w+_-50):k=Math.min(e.doc.height,k+_+50),wo(e,{top:w,bottom:k})}jo<20&&(null==c.wheelStartX?(c.wheelStartX=d.scrollLeft,c.wheelStartY=d.scrollTop,c.wheelDX=o,c.wheelDY=l,setTimeout((function(){if(null!=c.wheelStartX){var e=d.scrollLeft-c.wheelStartX,t=d.scrollTop-c.wheelStartY,r=t&&c.wheelDY&&t/c.wheelDY||e&&c.wheelDX&&e/c.wheelDX;c.wheelStartX=c.wheelStartY=null,r&&(Mo=(Mo*jo+r)/(jo+1),++jo)}}),200)):(c.wheelDX+=o,c.wheelDY+=l))}}c?Mo=-.53:r?Mo=15:v?Mo=-.7:y&&(Mo=-1/3);var Bo=function(e,t){this.ranges=e,this.primIndex=t};Bo.prototype.primary=function(){return this.ranges[this.primIndex]},Bo.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var t=this.ranges[i],r=e.ranges[i];if(!ut(t.anchor,r.anchor)||!ut(t.head,r.head))return!1}return!0},Bo.prototype.deepCopy=function(){for(var e=[],i=0;i<this.ranges.length;i++)e[i]=new Do(ht(this.ranges[i].anchor),ht(this.ranges[i].head));return new Bo(e,this.primIndex)},Bo.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},Bo.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=this.ranges[i];if(ct(t,r.from())>=0&&ct(e,r.to())<=0)return i}return-1};var Do=function(e,head){this.anchor=e,this.head=head};function Lo(e,t,r){var n=e&&e.options.selectionsMayTouch,o=t[r];t.sort((function(a,b){return ct(a.from(),b.from())})),r=W(t,o);for(var i=1;i<t.length;i++){var l=t[i],c=t[i-1],d=ct(c.to(),l.from());if(n&&!l.empty()?d>0:d>=0){var h=pt(c.from(),l.from()),f=ft(c.to(),l.to()),v=c.empty()?l.from()==l.head:c.from()==c.head;i<=r&&--r,t.splice(--i,2,new Do(v?f:h,v?h:f))}}return new Bo(t,r)}function zo(e,head){return new Bo([new Do(e,head||e)],0)}function Fo(e){return e.text?lt(e.from.line+e.text.length-1,re(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function No(e,t){if(ct(e,t.from)<0)return e;if(ct(e,t.to)<=0)return Fo(t);var line=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Fo(t).ch-t.to.ch),lt(line,r)}function Vo(e,t){for(var r=[],i=0;i<e.sel.ranges.length;i++){var n=e.sel.ranges[i];r.push(new Do(No(n.anchor,t),No(n.head,t)))}return Lo(e.cm,r,e.sel.primIndex)}function Ho(e,t,r){return e.line==t.line?lt(r.line,e.ch-t.ch+r.ch):lt(r.line+(e.line-t.line),e.ch)}function $o(e){e.doc.mode=Ke(e.options,e.doc.modeOption),Uo(e)}function Uo(e){e.doc.iter((function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,mo(e,100),e.state.modeGen++,e.curOp&&Sn(e)}function qo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==re(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ko(e,t,r,n){function o(e){return r?r[e]:null}function l(line,text,e){!function(line,text,e,t){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),Lt(line),zt(line,e);var r=t?t(line):1;r!=line.height&&nt(line,r)}(line,text,e,n),yr(line,"change",line,t)}function c(e,t){for(var r=[],i=e;i<t;++i)r.push(new rr(text[i],o(i),n));return r}var d=t.from,h=t.to,text=t.text,f=Ze(e,d.line),v=Ze(e,h.line),m=re(text),y=o(text.length-1),_=h.line-d.line;if(t.full)e.insert(0,c(0,text.length)),e.remove(text.length,e.size-text.length);else if(qo(e,t)){var w=c(0,text.length-1);l(v,v.text,y),_&&e.remove(d.line,_),w.length&&e.insert(d.line,w)}else if(f==v)if(1==text.length)l(f,f.text.slice(0,d.ch)+m+f.text.slice(h.ch),y);else{var k=c(1,text.length-1);k.push(new rr(m+f.text.slice(h.ch),y,n)),l(f,f.text.slice(0,d.ch)+text[0],o(0)),e.insert(d.line+1,k)}else if(1==text.length)l(f,f.text.slice(0,d.ch)+text[0]+v.text.slice(h.ch),o(0)),e.remove(d.line+1,_);else{l(f,f.text.slice(0,d.ch)+text[0],o(0)),l(v,m+v.text.slice(h.ch),y);var S=c(1,text.length-1);_>1&&e.remove(d.line+1,_-1),e.insert(d.line+1,S)}yr(e,"change",e,t)}function Go(e,t,r){!function e(n,o,l){if(n.linked)for(var i=0;i<n.linked.length;++i){var c=n.linked[i];if(c.doc!=o){var d=l&&c.sharedHist;r&&!d||(t(c.doc,d),e(c.doc,n,d))}}}(e,null,!0)}function Wo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,_n(e),$o(e),Yo(e),e.options.lineWrapping||er(e),e.options.mode=t.modeOption,Sn(e)}function Yo(e){("rtl"==e.doc.direction?N:A)(e.display.lineDiv,"CodeMirror-rtl")}function Xo(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Qo(e,t){var r={from:ht(t.from),to:Fo(t),text:et(e,t.from,t.to)};return ri(e,r,t.from.line,t.to.line+1),Go(e,(function(e){return ri(e,r,t.from.line,t.to.line+1)}),!0),r}function Jo(e){for(;e.length&&re(e).ranges;)e.pop()}function Zo(e,t,r,n){var o=e.history;o.undone.length=0;var l,c,time=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>time-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(l=function(e,t){return t?(Jo(e.done),re(e.done)):e.done.length&&!re(e.done).ranges?re(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),re(e.done)):void 0}(o,o.lastOp==n)))c=re(l.changes),0==ct(t.from,t.to)&&0==ct(t.from,c.to)?c.to=Fo(t):l.changes.push(Qo(e,t));else{var d=re(o.done);for(d&&d.ranges||ti(e.sel,o.done),l={changes:[Qo(e,t)],generation:o.generation},o.done.push(l);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(r),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=time,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,c||we(e,"historyAdded")}function ei(e,t,r,n){var o=e.history,l=n&&n.origin;r==o.lastSelOp||l&&o.lastSelOrigin==l&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==l||function(e,t,r,n){var o=t.charAt(0);return"*"==o||"+"==o&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,l,re(o.done),t))?o.done[o.done.length-1]=t:ti(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=l,o.lastSelOp=r,n&&!1!==n.clearRedo&&Jo(o.undone)}function ti(e,t){var r=re(t);r&&r.ranges&&r.equals(e)||t.push(e)}function ri(e,t,r,n){var o=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(line){line.markedSpans&&((o||(o=t["spans_"+e.id]={}))[l]=line.markedSpans),++l}))}function ni(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function oi(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ni(r[i]));return n}(e,t),n=Bt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var c=0;c<l.length;++c){for(var span=l[c],d=0;d<o.length;++d)if(o[d].marker==span.marker)continue e;o.push(span)}else l&&(r[i]=l)}return r}function ii(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?Bo.prototype.deepCopy.call(o):o);else{var l=o.changes,c=[];n.push({changes:c});for(var d=0;d<l.length;++d){var h=l[d],f=void 0;if(c.push({from:h.from,to:h.to,text:h.text}),t)for(var v in h)(f=v.match(/^spans_(\d+)$/))&&W(t,Number(f[1]))>-1&&(re(c)[v]=h[v],delete h[v])}}}return n}function ai(e,head,t,r){if(r){var n=e.anchor;if(t){var o=ct(head,n)<0;o!=ct(t,n)<0?(n=head,head=t):o!=ct(head,t)<0&&(head=t)}return new Do(n,head)}return new Do(t||head,head)}function si(e,head,t,r,n){null==n&&(n=e.cm&&(e.cm.display.shift||e.extend)),fi(e,new Bo([ai(e.sel.primary(),head,t,n)],0),r)}function ci(e,t,r){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)n[i]=ai(e.sel.ranges[i],t[i],null,o);fi(e,Lo(e.cm,n,e.sel.primIndex),r)}function ui(e,i,t,r){var n=e.sel.ranges.slice(0);n[i]=t,fi(e,Lo(e.cm,n,e.sel.primIndex),r)}function di(e,t,head,r){fi(e,zo(t,head),r)}function hi(e,t,r){var n=e.history.done,o=re(n);o&&o.ranges?(n[n.length-1]=t,pi(e,t,r)):fi(e,t,r)}function fi(e,t,r){pi(e,t,r),ei(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function pi(e,t,r){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new Do(mt(e,t[i].anchor),mt(e,t[i].head))},origin:r&&r.origin};return we(e,"beforeSelectionChange",e,n),e.cm&&we(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Lo(e.cm,n.ranges,n.ranges.length-1):t}(e,t,r));var n=r&&r.bias||(ct(t.primary().head,e.sel.primary().head)<0?-1:1);vi(e,gi(e,t,n,!0)),r&&!1===r.scroll||!e.cm||$n(e.cm)}function vi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Se(e.cm)),yr(e,"cursorActivity",e))}function mi(e){vi(e,gi(e,e.sel,null,!1))}function gi(e,t,r,n){for(var o,i=0;i<t.ranges.length;i++){var l=t.ranges[i],c=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],d=yi(e,l.anchor,c&&c.anchor,r,n),h=yi(e,l.head,c&&c.head,r,n);(o||d!=l.anchor||h!=l.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new Do(d,h))}return o?Lo(e.cm,o,t.primIndex):t}function bi(e,t,r,n,o){var line=Ze(e,t.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var l=line.markedSpans[i],c=l.marker,d="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,h="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==l.from||(d?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(h?l.to>=t.ch:l.to>t.ch))){if(o&&(we(c,"beforeCursorEnter"),c.explicitlyCleared)){if(line.markedSpans){--i;continue}break}if(!c.atomic)continue;if(r){var f=c.find(n<0?1:-1),v=void 0;if((n<0?h:d)&&(f=_i(e,f,-n,f&&f.line==t.line?line:null)),f&&f.line==t.line&&(v=ct(f,r))&&(n<0?v<0:v>0))return bi(e,f,t,n,o)}var m=c.find(n<0?-1:1);return(n<0?d:h)&&(m=_i(e,m,n,m.line==t.line?line:null)),m?bi(e,m,t,n,o):null}}return t}function yi(e,t,r,n,o){var l=n||1,c=bi(e,t,r,l,o)||!o&&bi(e,t,r,l,!0)||bi(e,t,r,-l,o)||!o&&bi(e,t,r,-l,!0);return c||(e.cantEdit=!0,lt(e.first,0))}function _i(e,t,r,line){return r<0&&0==t.ch?t.line>e.first?mt(e,lt(t.line-1)):null:r>0&&t.ch==(line||Ze(e,t.line)).text.length?t.line<e.first+e.size-1?lt(t.line+1,0):null:new lt(t.line,t.ch+r)}function wi(e){e.setSelection(lt(e.firstLine(),0),lt(e.lastLine()),X)}function ki(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,text,o){t&&(n.from=mt(e,t)),r&&(n.to=mt(e,r)),text&&(n.text=text),void 0!==o&&(n.origin=o)}),we(e,"beforeChange",e,n),e.cm&&we(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Si(e,t,r){if(e.cm){if(!e.cm.curOp)return fo(e.cm,Si)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=ki(e,t,!0))){var n=jt&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;!mark.readOnly||n&&-1!=W(n,mark)||(n||(n=[])).push(mark)}})),!n)return null;for(var o=[{from:t,to:r}],i=0;i<n.length;++i)for(var l=n[i],c=l.find(0),d=0;d<o.length;++d){var p=o[d];if(!(ct(p.to,c.from)<0||ct(p.from,c.to)>0)){var h=[d,1],f=ct(p.from,c.from),v=ct(p.to,c.to);(f<0||!l.inclusiveLeft&&!f)&&h.push({from:p.from,to:c.from}),(v>0||!l.inclusiveRight&&!v)&&h.push({from:c.to,to:p.to}),o.splice.apply(o,h),d+=h.length-3}}return o}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)xi(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else xi(e,t)}}function xi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ct(t.from,t.to)){var r=Vo(e,t);Zo(e,t,r,e.cm?e.cm.curOp.id:NaN),Ei(e,t,r,Bt(e,t));var n=[];Go(e,(function(e,r){r||-1!=W(n,e.history)||(Mi(e.history,t),n.push(e.history)),Ei(e,t,null,Bt(e,t))}))}}function Oi(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var o,l=e.history,c=e.sel,source="undo"==t?l.done:l.undone,d="undo"==t?l.undone:l.done,i=0;i<source.length&&(o=source[i],r?!o.ranges||o.equals(e.sel):o.ranges);i++);if(i!=source.length){for(l.lastOrigin=l.lastSelOrigin=null;;){if(!(o=source.pop()).ranges){if(n)return void source.push(o);break}if(ti(o,d),r&&!o.equals(e.sel))return void fi(e,o,{clearRedo:!1});c=o}var h=[];ti(c,d),d.push({changes:h,generation:l.generation}),l.generation=o.generation||++l.maxGeneration;for(var filter=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),f=function(i){var r=o.changes[i];if(r.origin=t,filter&&!ki(e,r,!1))return source.length=0,{};h.push(Qo(e,r));var n=i?Vo(e,r):re(source);Ei(e,r,n,oi(e,r)),!i&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Fo(r)});var l=[];Go(e,(function(e,t){t||-1!=W(l,e.history)||(Mi(e.history,r),l.push(e.history)),Ei(e,r,null,oi(e,r))}))},v=o.changes.length-1;v>=0;--v){var m=f(v);if(m)return m.v}}}}function Ti(e,t){if(0!=t&&(e.first+=t,e.sel=new Bo(map(e.sel.ranges,(function(e){return new Do(lt(e.anchor.line+t,e.anchor.ch),lt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Sn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)xn(e.cm,n,"gutter")}}function Ei(e,t,r,n){if(e.cm&&!e.cm.curOp)return fo(e.cm,Ei)(e,t,r,n);if(t.to.line<e.first)Ti(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Ti(e,o),t={from:lt(e.first,0),to:lt(t.to.line+o,t.to.ch),text:[re(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:lt(l,Ze(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=et(e,t.from,t.to),r||(r=Vo(e,t)),e.cm?function(e,t,r){var n=e.doc,o=e.display,l=t.from,c=t.to,d=!1,h=l.line;e.options.lineWrapping||(h=ot(Gt(Ze(n,l.line))),n.iter(h,c.line+1,(function(line){if(line==o.maxLine)return d=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&Se(e),Ko(n,t,r,yn(e)),e.options.lineWrapping||(n.iter(h,l.line+t.text.length,(function(line){var e=Zt(line);e>o.maxLineLength&&(o.maxLine=line,o.maxLineLength=e,o.maxLineChanged=!0,d=!1)})),d&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,line=t-1;line>r;line--){var n=Ze(e,line).stateAfter;if(n&&(!(n instanceof bt)||line+n.lookAhead<t)){r=line+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,l.line),mo(e,400);var f=t.text.length-(c.line-l.line)-1;t.full?Sn(e):l.line!=c.line||1!=t.text.length||qo(e.doc,t)?Sn(e,l.line,c.line+1,f):xn(e,l.line,"text");var v=xe(e,"changes"),m=xe(e,"change");if(m||v){var y={from:l,to:c,text:t.text,removed:t.removed,origin:t.origin};m&&yr(e,"change",e,y),v&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(y)}e.display.selForContextMenu=null}(e.cm,t,n):Ko(e,t,n),pi(e,r,X),e.cantEdit&&yi(e,lt(e.firstLine(),0))&&(e.cantEdit=!1)}}function Ci(e,code,t,r,n){var o;r||(r=t),ct(r,t)<0&&(t=(o=[r,t])[0],r=o[1]),"string"==typeof code&&(code=e.splitLines(code)),Si(e,{from:t,to:r,text:code,origin:n})}function Ii(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ji(e,t,r,n){for(var i=0;i<e.length;++i){var sub=e[i],o=!0;if(sub.ranges){sub.copied||((sub=e[i]=sub.deepCopy()).copied=!0);for(var l=0;l<sub.ranges.length;l++)Ii(sub.ranges[l].anchor,t,r,n),Ii(sub.ranges[l].head,t,r,n)}else{for(var c=0;c<sub.changes.length;++c){var d=sub.changes[c];if(r<d.from.line)d.from=lt(d.from.line+n,d.from.ch),d.to=lt(d.to.line+n,d.to.ch);else if(t<=d.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function Mi(e,t){var r=t.from.line,n=t.to.line,o=t.text.length-(n-r)-1;ji(e.done,r,n,o),ji(e.undone,r,n,o)}function Ri(e,t,r,n){var o=t,line=t;return"number"==typeof t?line=Ze(e,vt(e,t)):o=ot(t),null==o?null:(n(line,o)&&e.cm&&xn(e.cm,o,r),line)}function Ai(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function Pi(e){this.children=e;for(var t=0,r=0,i=0;i<e.length;++i){var n=e[i];t+=n.chunkSize(),r+=n.height,n.parent=this}this.size=t,this.height=r,this.parent=null}Do.prototype.from=function(){return pt(this.anchor,this.head)},Do.prototype.to=function(){return ft(this.anchor,this.head)},Do.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ai.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,r=e+t;i<r;++i){var line=this.lines[i];this.height-=line.height,nr(line),yr(line,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},Pi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var r=this.children[i],n=r.chunkSize();if(e<n){var o=Math.min(t,n-e),l=r.height;if(r.removeInner(e,o),this.height-=l-r.height,n==o&&(this.children.splice(i--,1),r.parent=null),0==(t-=o))break;e=0}else e-=n}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ai))){var c=[];this.collapse(c),this.children=[new Ai(c)],this.children[0].parent=this}},collapse:function(e){for(var i=0;i<this.children.length;++i)this.children[i].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<=o){if(n.insertInner(e,t,r),n.lines&&n.lines.length>50){for(var l=n.lines.length%25+25,c=l;c<n.lines.length;){var d=new Ai(n.lines.slice(c,c+=25));n.height-=d.height,this.children.splice(++i,0,d),d.parent=this}n.lines=n.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Pi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=W(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new Pi(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var l=Math.min(t,o-e);if(n.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var Bi=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function Di(e,line,t){Jt(line)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Hn(e,t)}Bi.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,line=this.line,r=ot(line);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(line.widgets=null);var n=Rr(this);nt(line,Math.max(0,line.height-n)),e&&(ho(e,(function(){Di(e,line,-n),xn(e,r,"widget")})),yr(e,"lineWidgetCleared",e,this,r))}},Bi.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,line=this.line;this.height=null;var n=Rr(this)-t;n&&(Xt(this.doc,line)||nt(line,line.height+n),r&&ho(r,(function(){r.curOp.forceUpdate=!0,Di(r,line,n),yr(r,"lineWidgetChanged",r,e,ot(line))})))},Oe(Bi);var Li=0,zi=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Li};function Fi(e,t,r,n,o){if(n&&n.shared)return function(e,t,r,n,o){(n=U(n)).shared=!1;var l=[Fi(e,t,r,n,o)],c=l[0],d=n.widgetNode;return Go(e,(function(e){d&&(n.widgetNode=d.cloneNode(!0)),l.push(Fi(e,mt(e,t),mt(e,r),n,o));for(var i=0;i<e.linked.length;++i)if(e.linked[i].isParent)return;c=re(l)})),new Ni(l,c)}(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return fo(e.cm,Fi)(e,t,r,n,o);var marker=new zi(e,o),l=ct(t,r);if(n&&U(n,marker,!1),l>0||0==l&&!1!==marker.clearWhenEmpty)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=L("span",[marker.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||marker.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(Kt(e,t.line,t,r,marker)||t.line!=r.line&&Kt(e,r.line,t,r,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mt=!0}marker.addToHistory&&Zo(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var c,d=t.line,h=e.cm;if(e.iter(d,r.line+1,(function(line){h&&marker.collapsed&&!h.options.lineWrapping&&Gt(line)==h.display.maxLine&&(c=!0),marker.collapsed&&d!=t.line&&nt(line,0),function(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],span.marker.attachLine(line)}(line,new Rt(marker,d==t.line?t.ch:null,d==r.line?r.ch:null)),++d})),marker.collapsed&&e.iter(t.line,r.line+1,(function(line){Xt(e,line)&&nt(line,0)})),marker.clearOnEnter&&be(marker,"beforeCursorEnter",(function(){return marker.clear()})),marker.readOnly&&(jt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),marker.collapsed&&(marker.id=++Li,marker.atomic=!0),h){if(c&&(h.curOp.updateMaxLine=!0),marker.collapsed)Sn(h,t.line,r.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title)for(var i=t.line;i<=r.line;i++)xn(h,i,"text");marker.atomic&&mi(h.doc),yr(h,"markerAdded",h,marker)}return marker}zi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&oo(e),xe(this,"clear")){var r=this.find();r&&yr(this,"clear",r.from,r.to)}for(var n=null,o=null,i=0;i<this.lines.length;++i){var line=this.lines[i],span=At(line.markedSpans,this);e&&!this.collapsed?xn(e,ot(line),"text"):e&&(null!=span.to&&(o=ot(line)),null!=span.from&&(n=ot(line))),line.markedSpans=Pt(line.markedSpans,span),null==span.from&&this.collapsed&&!Xt(this.doc,line)&&e&&nt(line,vn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Gt(this.lines[l]),d=Zt(c);d>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=d,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Sn(e,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&mi(e.doc)),e&&yr(e,"markerCleared",e,this,n,o),t&&io(e),this.parent&&this.parent.clear()}},zi.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var line=this.lines[i],span=At(line.markedSpans,this);if(null!=span.from&&(r=lt(t?line:ot(line),span.from),-1==e))return r;if(null!=span.to&&(n=lt(t?line:ot(line),span.to),1==e))return n}return r&&{from:r,to:n}},zi.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&ho(n,(function(){var line=t.line,o=ot(t.line),view=Hr(n,o);if(view&&(Yr(view),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Xt(r.doc,line)&&null!=r.height){var l=r.height;r.height=null;var c=Rr(r)-l;c&&nt(line,line.height+c)}yr(n,"markerChanged",n,e)}))},zi.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=W(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)},zi.prototype.detachLine=function(line){if(this.lines.splice(W(this.lines,line),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Oe(zi);var Ni=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function Vi(e){return e.findMarks(lt(e.first,0),e.clipPos(lt(e.lastLine())),(function(e){return e.parent}))}function Hi(e){for(var t=function(i){var marker=e[i],t=[marker.primary.doc];Go(marker.primary.doc,(function(e){return t.push(e)}));for(var r=0;r<marker.markers.length;r++){var n=marker.markers[r];-1==W(t,n.doc)&&(n.parent=null,marker.markers.splice(r--,1))}},i=0;i<e.length;i++)t(i)}Ni.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();yr(this,"clear")}},Ni.prototype.find=function(e,t){return this.primary.find(e,t)},Oe(Ni);var $i=0,Ui=function(text,e,t,r,n){if(!(this instanceof Ui))return new Ui(text,e,t,r,n);null==t&&(t=0),Pi.call(this,[new Ai([new rr("",null)])]),this.first=t,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=t;var o=lt(t,0);this.sel=zo(o),this.history=new Xo(null),this.id=++$i,this.modeOption=e,this.lineSep=r,this.direction="rtl"==n?"rtl":"ltr",this.extend=!1,"string"==typeof text&&(text=this.splitLines(text)),Ko(this,{from:o,to:o,text:text}),fi(this,zo(o),X)};Ui.prototype=oe(Pi.prototype,{constructor:Ui,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,i=0;i<t.length;++i)r+=t[i].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=tt(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:vo((function(code){var e=lt(this.first,0),t=this.first+this.size-1;Si(this,{from:e,to:lt(t,Ze(this,t).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0),this.cm&&Un(this.cm,0,0),fi(this,zo(e),X)})),replaceRange:function(code,e,t,r){Ci(this,code,e=mt(this,e),t=t?mt(this,t):e,r)},getRange:function(e,t,r){var n=et(this,mt(this,e),mt(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(line){var e=this.getLineHandle(line);return e&&e.text},getLineHandle:function(line){if(at(this,line))return Ze(this,line)},getLineNumber:function(line){return ot(line)},getLineHandleVisualStart:function(line){return"number"==typeof line&&(line=Ze(this,line)),Gt(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vo((function(line,e,t){di(this,mt(this,"number"==typeof line?lt(line,e||0):line),null,t)})),setSelection:vo((function(e,head,t){di(this,mt(this,e),mt(this,head||e),t)})),extendSelection:vo((function(head,e,t){si(this,mt(this,head),e&&mt(this,e),t)})),extendSelections:vo((function(e,t){ci(this,gt(this,e),t)})),extendSelectionsBy:vo((function(e,t){ci(this,gt(this,map(this.sel.ranges,e)),t)})),setSelections:vo((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Do(mt(this,e[i].anchor),mt(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),fi(this,Lo(this.cm,n,t),r)}})),addSelection:vo((function(e,head,t){var r=this.sel.ranges.slice(0);r.push(new Do(mt(this,e),mt(this,head||e))),fi(this,Lo(this.cm,r,r.length-1),t)})),getSelection:function(e){for(var t,r=this.sel.ranges,i=0;i<r.length;i++){var n=et(this,r[i].from(),r[i].to());t=t?t.concat(n):n}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,i=0;i<r.length;i++){var n=et(this,r[i].from(),r[i].to());!1!==e&&(n=n.join(e||this.lineSeparator())),t[i]=n}return t},replaceSelection:function(code,e,t){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=code;this.replaceSelections(r,e,t||"+input")},replaceSelections:vo((function(code,e,t){for(var r=[],n=this.sel,i=0;i<n.ranges.length;i++){var o=n.ranges[i];r[i]={from:o.from(),to:o.to(),text:this.splitLines(code[i]),origin:t}}for(var l=e&&"end"!=e&&function(e,t,r){for(var n=[],o=lt(e.first,0),l=o,i=0;i<t.length;i++){var c=t[i],d=Ho(c.from,o,l),h=Ho(Fo(c),o,l);if(o=c.to,l=h,"around"==r){var f=e.sel.ranges[i],v=ct(f.head,f.anchor)<0;n[i]=new Do(v?h:d,v?d:h)}else n[i]=new Do(d,d)}return new Bo(n,e.sel.primIndex)}(this,r,e),c=r.length-1;c>=0;c--)Si(this,r[c]);l?hi(this,l):this.cm&&$n(this.cm)})),undo:vo((function(){Oi(this,"undo")})),redo:vo((function(){Oi(this,"redo")})),undoSelection:vo((function(){Oi(this,"undo",!0)})),redoSelection:vo((function(){Oi(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Xo(this.history.maxGeneration),Go(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ii(this.history.done),undone:ii(this.history.undone)}},setHistory:function(e){var t=this.history=new Xo(this.history.maxGeneration);t.done=ii(e.done.slice(0),null,!0),t.undone=ii(e.undone.slice(0),null,!0)},setGutterMarker:vo((function(line,e,t){return Ri(this,line,"gutter",(function(line){var r=line.gutterMarkers||(line.gutterMarkers={});return r[e]=t,!t&&le(r)&&(line.gutterMarkers=null),!0}))})),clearGutter:vo((function(e){var t=this;this.iter((function(line){line.gutterMarkers&&line.gutterMarkers[e]&&Ri(t,line,"gutter",(function(){return line.gutterMarkers[e]=null,le(line.gutterMarkers)&&(line.gutterMarkers=null),!0}))}))})),lineInfo:function(line){var e;if("number"==typeof line){if(!at(this,line))return null;if(e=line,!(line=Ze(this,line)))return null}else if(null==(e=ot(line)))return null;return{line:e,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:vo((function(e,t,r){return Ri(this,e,"gutter"==t?"gutter":"class",(function(line){var e="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(line[e]){if(M(r).test(line[e]))return!1;line[e]+=" "+r}else line[e]=r;return!0}))})),removeLineClass:vo((function(e,t,r){return Ri(this,e,"gutter"==t?"gutter":"class",(function(line){var e="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",n=line[e];if(!n)return!1;if(null==r)line[e]=null;else{var o=n.match(M(r));if(!o)return!1;var l=o.index+o[0].length;line[e]=n.slice(0,o.index)+(o.index&&l!=n.length?" ":"")+n.slice(l)||null}return!0}))})),addLineWidget:vo((function(e,t,r){return function(e,t,r,n){var o=new Bi(e,r,n),l=e.cm;return l&&o.noHScroll&&(l.display.alignWidgets=!0),Ri(e,t,"widget",(function(line){var t=line.widgets||(line.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=line,l&&!Xt(e,line)){var r=Jt(line)<e.scrollTop;nt(line,line.height+Rr(o)),r&&Hn(l,o.height),l.curOp.forceUpdate=!0}return!0})),l&&yr(l,"lineWidgetAdded",l,o,"number"==typeof t?t:ot(t)),o}(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Fi(this,mt(this,e),mt(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Fi(this,e=mt(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Ze(this,(e=mt(this,e)).line).markedSpans;if(r)for(var i=0;i<r.length;++i){var span=r[i];(null==span.from||span.from<=e.ch)&&(null==span.to||span.to>=e.ch)&&t.push(span.marker.parent||span.marker)}return t},findMarks:function(e,t,filter){e=mt(this,e),t=mt(this,t);var r=[],n=e.line;return this.iter(e.line,t.line+1,(function(line){var o=line.markedSpans;if(o)for(var i=0;i<o.length;i++){var span=o[i];null!=span.to&&n==e.line&&e.ch>=span.to||null==span.from&&n!=e.line||null!=span.from&&n==t.line&&span.from>=t.ch||filter&&!filter(span.marker)||r.push(span.marker.parent||span.marker)}++n})),r},getAllMarks:function(){var e=[];return this.iter((function(line){var t=line.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&e.push(t[i].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(line){var o=line.text.length+n;if(o>e)return t=e,!0;e-=o,++r})),mt(this,lt(r,t))},indexFromPos:function(e){var t=(e=mt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(line){t+=line.text.length+r})),t},copy:function(e){var t=new Ui(tt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ui(tt(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var marker=t[i],r=marker.find(),n=e.clipPos(r.from),o=e.clipPos(r.to);if(ct(n,o)){var l=Fi(e,n,o,marker.primary,marker.primary.type);marker.markers.push(l),l.parent=marker}}}(n,Vi(this)),n},unlinkDoc:function(e){if(e instanceof Fa&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i)if(this.linked[i].doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Hi(Vi(this));break}if(e.history==this.history){var t=[e.id];Go(e,(function(e){return t.push(e.id)}),!0),e.history=new Xo(null),e.history.done=ii(this.history.done,t),e.history.undone=ii(this.history.undone,t)}},iterLinkedDocs:function(e){Go(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ze(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:vo((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(line){return line.order=null})),this.cm&&ho(t=this.cm,(function(){Yo(t),Sn(t)})))}))}),Ui.prototype.eachLine=Ui.prototype.iter;var qi=0;function Ki(e){var t=this;if(Gi(t),!ke(t,e)&&!Ar(t.display,e)){Te(e),c&&(qi=+new Date);var r=wn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,text=Array(o),l=0,d=function(){++l==o&&fo(t,(function(){var e={from:r=mt(t.doc,r),to:r,text:t.doc.splitLines(text.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Si(t.doc,e),hi(t.doc,zo(mt(t.doc,r),mt(t.doc,Fo(e))))}))()},h=function(e,i){if(t.options.allowDropFileTypes&&-1==W(t.options.allowDropFileTypes,e.type))d();else{var r=new FileReader;r.onerror=function(){return d()},r.onload=function(){var content=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(content)?d():(text[i]=content,d())},r.readAsText(e)}},i=0;i<n.length;i++)h(n[i],i);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var v;if(t.state.draggingText&&!t.state.draggingText.copy&&(v=t.listSelections()),pi(t.doc,zo(r,r)),v)for(var m=0;m<v.length;++m)Ci(t.doc,"",v[m].anchor,v[m].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Gi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Wi(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&r.push(n)}r.length&&r[0].operation((function(){for(var i=0;i<r.length;i++)e(r[i])}))}}var Yi=!1;function Xi(){var e;Yi||(be(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Wi(Qi)}),100))})),be(window,"blur",(function(){return Wi(Ln)})),Yi=!0)}function Qi(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ji={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},i=0;i<10;i++)Ji[i+48]=Ji[i+96]=String(i);for(var Zi=65;Zi<=90;Zi++)Ji[Zi]=String.fromCharCode(Zi);for(var ea=1;ea<=12;ea++)Ji[ea+111]=Ji[ea+63235]="F"+ea;var ta={};function ra(e){var t,r,n,o,l=e.split(/-(?!$)/);e=l[l.length-1];for(var i=0;i<l.length-1;i++){var c=l[i];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else{if(!/^s(hift)?$/i.test(c))throw new Error("Unrecognized modifier name: "+c);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function na(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var o=map(r.split(" "),ra),i=0;i<o.length;i++){var l=void 0,c=void 0;i==o.length-1?(c=o.join(" "),l=n):(c=o.slice(0,i+1).join(" "),l="...");var d=t[c];if(d){if(d!=l)throw new Error("Inconsistent bindings for "+c)}else t[c]=l}delete e[r]}for(var h in t)e[h]=t[h];return e}function oa(e,map,t,r){var n=(map=la(map)).call?map.call(e,r):map[e];if(!1===n)return"nothing";if("..."===n)return"multi";if(null!=n&&t(n))return"handled";if(map.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map.fallthrough))return oa(e,map.fallthrough,t,r);for(var i=0;i<map.fallthrough.length;i++){var o=oa(e,map.fallthrough[i],t,r);if(o)return o}}}function ia(e){var t="string"==typeof e?e:Ji[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function aa(e,t,r){var base=e;return t.altKey&&"Alt"!=base&&(e="Alt-"+e),(I?t.metaKey:t.ctrlKey)&&"Ctrl"!=base&&(e="Ctrl-"+e),(I?t.ctrlKey:t.metaKey)&&"Cmd"!=base&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=base&&(e="Shift-"+e),e}function sa(e,t){if(m&&34==e.keyCode&&e.char)return!1;var r=Ji[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),aa(r,e,t))}function la(e){return"string"==typeof e?ta[e]:e}function ca(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&ct(o.from,re(n).to)<=0;){var l=n.pop();if(ct(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}ho(e,(function(){for(var i=n.length-1;i>=0;i--)Ci(e.doc,"",n[i].from,n[i].to,"+delete");$n(e)}))}function ua(line,e,t){var r=de(line.text,e+t,t);return r<0||r>line.text.length?null:r}function da(line,e,t){var r=ua(line,e.ch,t);return null==r?null:new lt(e.line,r,t<0?"after":"before")}function ha(e,t,r,n,o){if(e){"rtl"==t.doc.direction&&(o=-o);var l=me(r,t.doc.direction);if(l){var c,d=o<0?re(l):l[0],h=o<0==(1==d.level)?"after":"before";if(d.level>0||"rtl"==t.doc.direction){var f=$r(t,r);c=o<0?r.text.length-1:0;var v=Ur(t,f,c).top;c=he((function(e){return Ur(t,f,e).top==v}),o<0==(1==d.level)?d.from:d.to-1,c),"before"==h&&(c=ua(r,c,1))}else c=o<0?d.to:d.from;return new lt(n,c,h)}}return new lt(n,o<0?r.text.length:0,o<0?"before":"after")}ta.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ta.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ta.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ta.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ta.default=O?ta.macDefault:ta.pcDefault;var fa={selectAll:wi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),X)},killLine:function(e){return ca(e,(function(t){if(t.empty()){var r=Ze(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:lt(t.head.line+1,0)}:{from:t.head,to:lt(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return ca(e,(function(t){return{from:lt(t.from().line,0),to:mt(e.doc,lt(t.to().line+1,0))}}))},delLineLeft:function(e){return ca(e,(function(e){return{from:lt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return ca(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return ca(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(lt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(lt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return pa(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return va(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var line=Ze(e.doc,t),r=function(line){for(var e;e=Ut(line);)line=e.find(1,!0).line;return line}(line);return r!=line&&(t=ot(r)),ha(!0,e,line,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),J)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),J)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?va(e,t.head):n}),J)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),col=K(e.getLine(o.line),o.ch,n);t.push(te(n-col%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ho(e,(function(){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)if(t[i].empty()){var n=t[i].head,line=Ze(e.doc,n.line).text;if(line)if(n.ch==line.length&&(n=new lt(n.line,n.ch-1)),n.ch>0)n=new lt(n.line,n.ch+1),e.replaceRange(line.charAt(n.ch-1)+line.charAt(n.ch-2),lt(n.line,n.ch-2),n,"+transpose");else if(n.line>e.doc.first){var o=Ze(e.doc,n.line-1).text;o&&(n=new lt(n.line,1),e.replaceRange(line.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),lt(n.line-1,o.length-1),n,"+transpose"))}r.push(new Do(n,n))}e.setSelections(r)}))},newlineAndIndent:function(e){return ho(e,(function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);$n(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function pa(e,t){var line=Ze(e.doc,t),r=Gt(line);return r!=line&&(t=ot(r)),ha(!0,e,r,t,1)}function va(e,t){var r=pa(e,t.line),line=Ze(e.doc,r.line),n=me(line,e.doc.direction);if(!n||0==n[0].level){var o=Math.max(r.ch,line.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return lt(r.line,l?0:o,r.sticky)}return r}function ma(e,t,r){if("string"==typeof t&&!(t=fa[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),o=t(e)!=Y}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}var ga=new G;function ba(e,t,r,n){var o=e.state.keySeq;if(o){if(ia(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ga.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),ya(e,o+" "+t,r,n))return!0}return ya(e,t,r,n)}function ya(e,t,r,n){var o=function(e,t,r){for(var i=0;i<e.state.keyMaps.length;i++){var n=oa(t,e.state.keyMaps[i],r,e);if(n)return n}return e.options.extraKeys&&oa(t,e.options.extraKeys,r,e)||oa(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&yr(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(Te(r),An(e)),!!o}function _a(e,t){var r=sa(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?ba(e,"Shift-"+r,t,(function(b){return ma(e,b,!0)}))||ba(e,r,t,(function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return ma(e,b)})):ba(e,r,t,(function(b){return ma(e,b)})))}var wa=null;function ka(e){var t=this;if(t.curOp.focus=F(),!ke(t,e)){c&&d<11&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;t.display.shift=16==code||e.shiftKey;var n=_a(t,e);m&&(wa=n?code:null,!n&&88==code&&!Ne&&(O?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),r&&!O&&!n&&46==code&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=code||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(A(t,"CodeMirror-crosshair"),_e(document,"keyup",r),_e(document,"mouseover",r))}N(t,"CodeMirror-crosshair"),be(document,"keyup",r),be(document,"mouseover",r)}(t)}}function Sa(e){16==e.keyCode&&(this.doc.sel.shift=!1),ke(this,e)}function xa(e){var t=this;if(!(Ar(t.display,e)||ke(t,e)||e.ctrlKey&&!e.altKey||O&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(m&&r==wa)return wa=null,void Te(e);if(!m||e.which&&!(e.which<10)||!_a(t,e)){var o=String.fromCharCode(null==n?r:n);"\b"!=o&&(function(e,t,r){return ba(e,"'"+r+"'",t,(function(b){return ma(e,b,!0)}))}(t,e,o)||t.display.input.onKeyPress(e))}}}var Oa,Ta,Ea=function(time,e,button){this.time=time,this.pos=e,this.button=button};function Ca(e){var t=this,r=t.display;if(!(ke(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Ar(r,e))h||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!Ma(t,e)){var n=wn(t,e),button=Me(e),o=n?function(e,button){var t=+new Date;return Ta&&Ta.compare(t,e,button)?(Oa=Ta=null,"triple"):Oa&&Oa.compare(t,e,button)?(Ta=new Ea(t,e,button),Oa=null,"double"):(Oa=new Ea(t,e,button),Ta=null,"single")}(n,button):"single";window.focus(),1==button&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,button,t,r,n){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ba(e,aa(o=(1==button?"Left":2==button?"Middle":"Right")+o,n),n,(function(r){if("string"==typeof r&&(r=fa[r]),!r)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=r(e,t)!=Y}finally{e.state.suppressEdits=!1}return n}))}(t,button,n,o,e)||(1==button?n?function(e,t,r,n){c?setTimeout($(Pn,e),0):e.curOp.focus=F();var o,l=function(e,t,r){var option=e.getOption("configureMouse"),n=option?option(e,t,r):{};if(null==n.unit){var rect=T?r.shiftKey&&r.metaKey:r.altKey;n.unit=rect?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==n.extend||e.doc.extend)&&(n.extend=e.doc.extend||r.shiftKey),null==n.addNew&&(n.addNew=O?r.metaKey:r.ctrlKey),null==n.moveOnDrag&&(n.moveOnDrag=!(O?r.altKey:r.ctrlKey)),n}(e,r,n),f=e.doc.sel;e.options.dragDrop&&Pe&&!e.isReadOnly()&&"single"==r&&(o=f.contains(t))>-1&&(ct((o=f.ranges[o]).from(),t)<0||t.xRel>0)&&(ct(o.to(),t)>0||t.xRel<0)?function(e,t,r,n){var o=e.display,l=!1,f=fo(e,(function(t){h&&(o.scroller.draggable=!1),e.state.draggingText=!1,_e(o.wrapper.ownerDocument,"mouseup",f),_e(o.wrapper.ownerDocument,"mousemove",v),_e(o.scroller,"dragstart",m),_e(o.scroller,"drop",f),l||(Te(t),n.addNew||si(e.doc,r,null,null,n.extend),h||c&&9==d?setTimeout((function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()}),20):o.input.focus())})),v=function(e){l=l||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},m=function(){return l=!0};h&&(o.scroller.draggable=!0),e.state.draggingText=f,f.copy=!n.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),be(o.wrapper.ownerDocument,"mouseup",f),be(o.wrapper.ownerDocument,"mousemove",v),be(o.scroller,"dragstart",m),be(o.scroller,"drop",f),Bn(e),setTimeout((function(){return o.input.focus()}),20)}(e,n,t,l):function(e,t,r,n){var o=e.display,l=e.doc;Te(t);var c,d,h=l.sel,f=h.ranges;if(n.addNew&&!n.extend?(d=l.sel.contains(r),c=d>-1?f[d]:new Do(r,r)):(c=l.sel.primary(),d=l.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Do(r,r)),r=wn(e,t,!0,!0),d=-1;else{var v=Ia(e,r,n.unit);c=n.extend?ai(c,v.anchor,v.head,n.extend):v}n.addNew?-1==d?(d=f.length,fi(l,Lo(e,f.concat([c]),d),{scroll:!1,origin:"*mouse"})):f.length>1&&f[d].empty()&&"char"==n.unit&&!n.extend?(fi(l,Lo(e,f.slice(0,d).concat(f.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=l.sel):ui(l,d,c,Q):(d=0,fi(l,new Bo([c],0),Q),h=l.sel);var m=r;function y(t){if(0!=ct(m,t))if(m=t,"rectangle"==n.unit){for(var o=[],f=e.options.tabSize,v=K(Ze(l,r.line).text,r.ch,f),y=K(Ze(l,t.line).text,t.ch,f),_=Math.min(v,y),w=Math.max(v,y),line=Math.min(r.line,t.line),k=Math.min(e.lastLine(),Math.max(r.line,t.line));line<=k;line++){var text=Ze(l,line).text,S=Z(text,_,f);_==w?o.push(new Do(lt(line,S),lt(line,S))):text.length>S&&o.push(new Do(lt(line,S),lt(line,Z(text,w,f))))}o.length||o.push(new Do(r,r)),fi(l,Lo(e,h.ranges.slice(0,d).concat(o),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var head,x=c,O=Ia(e,t,n.unit),T=x.anchor;ct(O.anchor,T)>0?(head=O.head,T=pt(x.from(),O.anchor)):(head=O.anchor,T=ft(x.to(),O.head));var E=h.ranges.slice(0);E[d]=function(e,t){var r=t.anchor,head=t.head,n=Ze(e.doc,r.line);if(0==ct(r,head)&&r.sticky==head.sticky)return t;var o=me(n);if(!o)return t;var l=pe(o,r.ch,r.sticky),c=o[l];if(c.from!=r.ch&&c.to!=r.ch)return t;var d,h=l+(c.from==r.ch==(1!=c.level)?0:1);if(0==h||h==o.length)return t;if(head.line!=r.line)d=(head.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var f=pe(o,head.ch,head.sticky),v=f-l||(head.ch-r.ch)*(1==c.level?-1:1);d=f==h-1||f==h?v<0:v>0}var m=o[h+(d?-1:0)],y=d==(1==m.level),_=y?m.from:m.to,w=y?"after":"before";return r.ch==_&&r.sticky==w?t:new Do(new lt(r.line,_,w),head)}(e,new Do(mt(l,T),head)),fi(l,Lo(e,E,d),Q)}}var _=o.wrapper.getBoundingClientRect(),w=0;function k(t){e.state.selectingText=!1,w=1/0,t&&(Te(t),o.input.focus()),_e(o.wrapper.ownerDocument,"mousemove",S),_e(o.wrapper.ownerDocument,"mouseup",x),l.history.lastSelOrigin=null}var S=fo(e,(function(t){0!==t.buttons&&Me(t)?function t(r){var c=++w,d=wn(e,r,!0,"rectangle"==n.unit);if(d)if(0!=ct(d,m)){e.curOp.focus=F(),y(d);var h=Nn(o,l);(d.line>=h.to||d.line<h.from)&&setTimeout(fo(e,(function(){w==c&&t(r)})),150)}else{var f=r.clientY<_.top?-20:r.clientY>_.bottom?20:0;f&&setTimeout(fo(e,(function(){w==c&&(o.scroller.scrollTop+=f,t(r))})),50)}}(t):k(t)})),x=fo(e,k);e.state.selectingText=x,be(o.wrapper.ownerDocument,"mousemove",S),be(o.wrapper.ownerDocument,"mouseup",x)}(e,n,t,l)}(t,n,o,e):je(e)==r.scroller&&Te(e):2==button?(n&&si(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==button&&(j?t.display.input.onContextMenu(e):Bn(t)))}}function Ia(e,t,r){if("char"==r)return new Do(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Do(lt(t.line,0),mt(e.doc,lt(t.line+1,0)));var n=r(e,t);return new Do(n.from,n.to)}function ja(e,t,r,n){var o,l;if(t.touches)o=t.touches[0].clientX,l=t.touches[0].clientY;else try{o=t.clientX,l=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Te(t);var c=e.display,d=c.lineDiv.getBoundingClientRect();if(l>d.bottom||!xe(e,r))return Ce(t);l-=d.top-c.viewOffset;for(var i=0;i<e.display.gutterSpecs.length;++i){var g=c.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=o)return we(e,r,e,it(e.doc,l),e.display.gutterSpecs[i].className,t),Ce(t)}}function Ma(e,t){return ja(e,t,"gutterClick",!0)}function Ra(e,t){Ar(e.display,t)||function(e,t){return!!xe(e,"gutterContextMenu")&&ja(e,t,"gutterContextMenu",!1)}(e,t)||ke(e,t,"contextmenu")||j||e.display.input.onContextMenu(t)}function Aa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Qr(e)}Ea.prototype.compare=function(time,e,button){return this.time+400>time&&0==ct(e,this.pos)&&button==this.button};var Pa={toString:function(){return"CodeMirror.Init"}},Ba={},Da={};function La(e,t,r){if(!t!=!(r&&r!=Pa)){var n=e.display.dragFunctions,o=t?be:_e;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.enter),o(e.display.scroller,"dragover",n.over),o(e.display.scroller,"dragleave",n.leave),o(e.display.scroller,"drop",n.drop)}}function za(e){e.options.lineWrapping?(N(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(A(e.display.wrapper,"CodeMirror-wrap"),er(e)),_n(e),Sn(e),Qr(e),setTimeout((function(){return Zn(e)}),100)}function Fa(e,t){var r=this;if(!(this instanceof Fa))return new Fa(e,t);this.options=t=t?U(t):{},U(Ba,t,!1);var n=t.value;"string"==typeof n?n=new Ui(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var input=new Fa.inputStyles[t.inputStyle](this),o=this.display=new Io(e,n,input,t);for(var l in o.wrapper.CodeMirror=this,Aa(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ro(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new G,keySeq:null,specialChars:null},t.autofocus&&!x&&o.input.focus(),c&&d<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(e){var t=e.display;be(t.scroller,"mousedown",fo(e,Ca)),be(t.scroller,"dblclick",c&&d<11?fo(e,(function(t){if(!ke(e,t)){var r=wn(e,t);if(r&&!Ma(e,t)&&!Ar(e.display,t)){Te(t);var n=e.findWordAt(r);si(e.doc,n.anchor,n.head)}}})):function(t){return ke(e,t)||Te(t)}),be(t.scroller,"contextmenu",(function(t){return Ra(e,t)})),be(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||Ra(e,r)}));var r,n={end:0};function o(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function l(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}be(t.scroller,"touchstart",(function(o){if(!ke(e,o)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(o)&&!Ma(e,o)){t.input.ensurePolled(),clearTimeout(r);var l=+new Date;t.activeTouch={start:l,moved:!1,prev:l-n.end<=300?n:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),be(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),be(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!Ar(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var c,d=e.coordsChar(t.activeTouch,"page");c=!n.prev||l(n,n.prev)?new Do(d,d):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(d):new Do(lt(d.line,0),mt(e.doc,lt(d.line+1,0))),e.setSelection(c.anchor,c.head),e.focus(),Te(r)}o()})),be(t.scroller,"touchcancel",o),be(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Gn(e,t.scroller.scrollTop),Yn(e,t.scroller.scrollLeft,!0),we(e,"scroll",e))})),be(t.scroller,"mousewheel",(function(t){return Po(e,t)})),be(t.scroller,"DOMMouseScroll",(function(t){return Po(e,t)})),be(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ke(e,t)||Ie(t)},over:function(t){ke(e,t)||(function(e,t){var r=wn(e,t);if(r){var n=document.createDocumentFragment();jn(e,r,n),e.display.dragCursor||(e.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),B(e.display.dragCursor,n)}}(e,t),Ie(t))},start:function(t){return function(e,t){if(c&&(!e.state.draggingText||+new Date-qi<100))Ie(t);else if(!ke(e,t)&&!Ar(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!y)){var img=D("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(img.width=img.height=1,e.display.wrapper.appendChild(img),img._top=img.offsetTop),t.dataTransfer.setDragImage(img,0,0),m&&img.parentNode.removeChild(img)}}(e,t)},drop:fo(e,Ki),leave:function(t){ke(e,t)||Gi(e)}};var h=t.input.getField();be(h,"keyup",(function(t){return Sa.call(e,t)})),be(h,"keydown",fo(e,ka)),be(h,"keypress",fo(e,xa)),be(h,"focus",(function(t){return Dn(e,t)})),be(h,"blur",(function(t){return Ln(e,t)}))}(this),Xi(),oo(this),this.curOp.forceUpdate=!0,Wo(this,n),t.autofocus&&!x||this.hasFocus()?setTimeout($(Dn,this),20):Ln(this),Da)Da.hasOwnProperty(l)&&Da[l](this,t[l],Pa);Oo(this),t.finishInit&&t.finishInit(this);for(var i=0;i<Na.length;++i)Na[i](this);io(this),h&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Fa.defaults=Ba,Fa.optionHandlers=Da;var Na=[];function Va(e,t,r,n){var o,l=e.doc;null==r&&(r="add"),"smart"==r&&(l.mode.indent?o=kt(e,t).state:r="prev");var c=e.options.tabSize,line=Ze(l,t),d=K(line.text,null,c);line.stateAfter&&(line.stateAfter=null);var h,f=line.text.match(/^\s*/)[0];if(n||/\S/.test(line.text)){if("smart"==r&&((h=l.mode.indent(o,line.text.slice(f.length),line.text))==Y||h>150)){if(!n)return;r="prev"}}else h=0,r="not";"prev"==r?h=t>l.first?K(Ze(l,t-1).text,null,c):0:"add"==r?h=d+e.options.indentUnit:"subtract"==r?h=d-e.options.indentUnit:"number"==typeof r&&(h=d+r),h=Math.max(0,h);var v="",m=0;if(e.options.indentWithTabs)for(var i=Math.floor(h/c);i;--i)m+=c,v+="\t";if(m<h&&(v+=te(h-m)),v!=f)return Ci(l,v,lt(t,0),lt(t,f.length),"+input"),line.stateAfter=null,!0;for(var y=0;y<l.sel.ranges.length;y++){var _=l.sel.ranges[y];if(_.head.line==t&&_.head.ch<f.length){var w=lt(t,f.length);ui(l,y,new Do(w,w));break}}}Fa.defineInitHook=function(e){return Na.push(e)};var Ha=null;function $a(e){Ha=e}function Ua(e,t,r,n,o){var l=e.doc;e.display.shift=!1,n||(n=l.sel);var c=+new Date-200,d="paste"==o||e.state.pasteIncoming>c,h=ze(t),f=null;if(d&&n.ranges.length>1)if(Ha&&Ha.text.join("\n")==t){if(n.ranges.length%Ha.text.length==0){f=[];for(var i=0;i<Ha.text.length;i++)f.push(l.splitLines(Ha.text[i]))}}else h.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(f=map(h,(function(e){return[e]})));for(var v=e.curOp.updateInput,m=n.ranges.length-1;m>=0;m--){var y=n.ranges[m],_=y.from(),w=y.to();y.empty()&&(r&&r>0?_=lt(_.line,_.ch-r):e.state.overwrite&&!d?w=lt(w.line,Math.min(Ze(l,w.line).text.length,w.ch+re(h).length)):d&&Ha&&Ha.lineWise&&Ha.text.join("\n")==t&&(_=w=lt(_.line,0)));var k={from:_,to:w,text:f?f[m%f.length]:h,origin:o||(d?"paste":e.state.cutIncoming>c?"cut":"+input")};Si(e.doc,k),yr(e,"inputRead",e,k)}t&&!d&&Ka(e,t),$n(e),e.curOp.updateInput<2&&(e.curOp.updateInput=v),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function qa(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||ho(t,(function(){return Ua(t,r,0,null,"paste")})),!0}function Ka(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,i=r.ranges.length-1;i>=0;i--){var n=r.ranges[i];if(!(n.head.ch>100||i&&r.ranges[i-1].head.line==n.head.line)){var o=e.getModeAt(n.head),l=!1;if(o.electricChars){for(var c=0;c<o.electricChars.length;c++)if(t.indexOf(o.electricChars.charAt(c))>-1){l=Va(e,n.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ze(e.doc,n.head.line).text.slice(0,n.head.ch))&&(l=Va(e,n.head.line,"smart"));l&&yr(e,"electricInput",e,n.head.line)}}}function Ga(e){for(var text=[],t=[],i=0;i<e.doc.sel.ranges.length;i++){var line=e.doc.sel.ranges[i].head.line,r={anchor:lt(line,0),head:lt(line+1,0)};t.push(r),text.push(e.getRange(r.anchor,r.head))}return{text:text,ranges:t}}function Wa(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Ya(){var e=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),div=D("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?e.style.width="1000px":e.setAttribute("wrap","off"),k&&(e.style.border="1px solid black"),Wa(e),div}function Xa(e,t,r,n,o){var l=t,c=r,d=Ze(e,t.line),h=o&&"rtl"==e.direction?-r:r;function f(n){var l,c;if(null==(l=o?function(e,line,t,r){var n=me(line,e.doc.direction);if(!n)return da(line,t,r);t.ch>=line.text.length?(t.ch=line.text.length,t.sticky="before"):t.ch<=0&&(t.ch=0,t.sticky="after");var o=pe(n,t.ch,t.sticky),l=n[o];if("ltr"==e.doc.direction&&l.level%2==0&&(r>0?l.to>t.ch:l.from<t.ch))return da(line,t,r);var c,d=function(e,t){return ua(line,e instanceof lt?e.ch:e,t)},h=function(t){return e.options.lineWrapping?(c=c||$r(e,line),un(e,line,c,t)):{begin:0,end:line.text.length}},f=h("before"==t.sticky?d(t,-1):t.ch);if("rtl"==e.doc.direction||1==l.level){var v=1==l.level==r<0,m=d(t,v?1:-1);if(null!=m&&(v?m<=l.to&&m<=f.end:m>=l.from&&m>=f.begin)){var y=v?"before":"after";return new lt(t.line,m,y)}}var _=function(e,r,o){for(var l=function(e,r){return r?new lt(t.line,d(e,1),"before"):new lt(t.line,e,"after")};e>=0&&e<n.length;e+=r){var c=n[e],h=r>0==(1!=c.level),f=h?o.begin:d(o.end,-1);if(c.from<=f&&f<c.to)return l(f,h);if(f=h?c.from:d(c.to,-1),o.begin<=f&&f<o.end)return l(f,h)}},w=_(o+r,r,f);if(w)return w;var k=r>0?f.end:d(f.begin,-1);return null==k||r>0&&k==line.text.length||!(w=_(r>0?0:n.length-1,r,h(k)))?null:w}(e.cm,d,t,r):da(d,t,r))){if(n||(c=t.line+h)<e.first||c>=e.first+e.size||(t=new lt(c,t.ch,t.sticky),!(d=Ze(e,c))))return!1;t=ha(o,e.cm,d,t.line,h)}else t=l;return!0}if("char"==n)f();else if("column"==n)f(!0);else if("word"==n||"group"==n)for(var v=null,m="group"==n,y=e.cm&&e.cm.getHelper(t,"wordChars"),_=!0;!(r<0)||f(!_);_=!1){var w=d.text.charAt(t.ch)||"\n",k=se(w,y)?"w":m&&"\n"==w?"n":!m||/\s/.test(w)?null:"p";if(!m||_||k||(k="s"),v&&v!=k){r<0&&(r=1,f(),t.sticky="after");break}if(k&&(v=k),r>0&&!f(!_))break}var S=yi(e,t,l,c,!0);return ut(l,S)&&(S.hitSide=!0),S}function Qa(e,t,r,n){var o,l,c=e.doc,d=t.left;if("page"==n){var h=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),f=Math.max(h-.5*vn(e.display),3);o=(r>0?t.bottom:t.top)+r*f}else"line"==n&&(o=r>0?t.bottom+3:t.top-3);for(;(l=ln(e,d,o)).outside;){if(r<0?o<=0:o>=c.height){l.hitSide=!0;break}o+=5*r}return l}var Ja=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new G,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Za(e,t){var view=Hr(e,t.line);if(!view||view.hidden)return null;var line=Ze(e.doc,t.line),r=Nr(view,line,t.line),n=me(line,e.doc.direction),o="left";n&&(o=pe(n,t.ch)%2?"right":"left");var l=Gr(r.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function es(e,t){return t&&(e.bad=!0),e}function ts(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return es(e.clipPos(lt(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return rs(o,t,r)}}function rs(e,t,r){var n=e.text.firstChild,o=!1;if(!t||!z(n,t))return es(lt(ot(e.line),0),!0);if(t==n&&(o=!0,t=n.childNodes[r],r=0,!t)){var line=e.rest?re(e.rest):e.line;return es(lt(ot(line),line.text.length),o)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,r&&(r=l.nodeValue.length));c.parentNode!=n;)c=c.parentNode;var d=e.measure,h=d.maps;function f(t,r,n){for(var i=-1;i<(h?h.length:0);i++)for(var map=i<0?d.map:h[i],o=0;o<map.length;o+=3){var l=map[o+2];if(l==t||l==r){var line=ot(i<0?e.line:e.rest[i]),c=map[o]+n;return(n<0||l!=t)&&(c=map[o+(n?1:0)]),lt(line,c)}}}var v=f(l,c,r);if(v)return es(v,o);for(var m=c.nextSibling,y=l?l.nodeValue.length-r:0;m;m=m.nextSibling){if(v=f(m,m.firstChild,0))return es(lt(v.line,v.ch-y),o);y+=m.textContent.length}for(var _=c.previousSibling,w=r;_;_=_.previousSibling){if(v=f(_,_.firstChild,-1))return es(lt(v.line,v.ch+w),o);w+=_.textContent.length}}Ja.prototype.init=function(e){var t=this,input=this,r=input.cm,div=input.div=e.lineDiv;function n(e){if(!ke(r,e)){if(r.somethingSelected())$a({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ga(r);$a({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,X),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var content=Ha.text.join("\n");if(e.clipboardData.setData("Text",content),e.clipboardData.getData("Text")==content)return void e.preventDefault()}var n=Ya(),o=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),o.value=Ha.text.join("\n");var l=document.activeElement;H(o),setTimeout((function(){r.display.lineSpace.removeChild(n),l.focus(),l==div&&input.showPrimarySelection()}),50)}}Wa(div,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),be(div,"paste",(function(e){ke(r,e)||qa(e,r)||d<=11&&setTimeout(fo(r,(function(){return t.updateFromDOM()})),20)})),be(div,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),be(div,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),be(div,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),be(div,"touchstart",(function(){return input.forceCompositionEnd()})),be(div,"input",(function(){t.composing||t.readFromDOMSoon()})),be(div,"copy",n),be(div,"cut",n)},Ja.prototype.prepareSelection=function(){var e=In(this.cm,!1);return e.focus=this.cm.state.focused,e},Ja.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ja.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ja.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),o=n.from(),l=n.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||l.line<t.display.viewFrom)e.removeAllRanges();else{var c=ts(t,e.anchorNode,e.anchorOffset),d=ts(t,e.focusNode,e.focusOffset);if(!c||c.bad||!d||d.bad||0!=ct(pt(c,d),o)||0!=ct(ft(c,d),l)){var view=t.display.view,h=o.line>=t.display.viewFrom&&Za(t,o)||{node:view[0].measure.map[2],offset:0},f=l.line<t.display.viewTo&&Za(t,l);if(!f){var v=view[view.length-1].measure,map=v.maps?v.maps[v.maps.length-1]:v.map;f={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}if(h&&f){var m,y=e.rangeCount&&e.getRangeAt(0);try{m=R(h.node,h.offset,f.offset,f.node)}catch(e){}m&&(!r&&t.state.focused?(e.collapse(h.node,h.offset),m.collapsed||(e.removeAllRanges(),e.addRange(m))):(e.removeAllRanges(),e.addRange(m)),y&&null==e.anchorNode?e.addRange(y):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ja.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ja.prototype.showMultipleSelections=function(e){B(this.cm.display.cursorDiv,e.cursors),B(this.cm.display.selectionDiv,e.selection)},Ja.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ja.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return z(this.div,t)},Ja.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ja.prototype.blur=function(){this.div.blur()},Ja.prototype.getField=function(){return this.div},Ja.prototype.supportsTouch=function(){return!0},Ja.prototype.receivedFocus=function(){var input=this;this.selectionInEditor()?this.pollSelection():ho(this.cm,(function(){return input.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,e))}))},Ja.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ja.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(S&&v&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=ts(t,e.anchorNode,e.anchorOffset),head=ts(t,e.focusNode,e.focusOffset);r&&head&&ho(t,(function(){fi(t.doc,zo(r,head),X),(r.bad||head.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ja.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,o=n.display,l=n.doc.sel.primary(),c=l.from(),d=l.to();if(0==c.ch&&c.line>n.firstLine()&&(c=lt(c.line-1,Ze(n.doc,c.line-1).length)),d.ch==Ze(n.doc,d.line).text.length&&d.line<n.lastLine()&&(d=lt(d.line+1,0)),c.line<o.viewFrom||d.line>o.viewTo-1)return!1;c.line==o.viewFrom||0==(e=kn(n,c.line))?(t=ot(o.view[0].line),r=o.view[0].node):(t=ot(o.view[e].line),r=o.view[e-1].node.nextSibling);var h,f,v=kn(n,d.line);if(v==o.view.length-1?(h=o.viewTo-1,f=o.lineDiv.lastChild):(h=ot(o.view[v+1].line)-1,f=o.view[v+1].node.previousSibling),!r)return!1;for(var m=n.doc.splitLines(function(e,t,r,n,o){var text="",l=!1,c=e.doc.lineSeparator(),d=!1;function h(){l&&(text+=c,d&&(text+=c),l=d=!1)}function f(e){e&&(h(),text+=e)}function v(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void f(r);var m,y=t.getAttribute("cm-marker");if(y){var _=e.findMarks(lt(n,0),lt(o+1,0),(k=+y,function(marker){return marker.id==k}));return void(_.length&&(m=_[0].find(0))&&f(et(e.doc,m.from,m.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;var w=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;w&&h();for(var i=0;i<t.childNodes.length;i++)v(t.childNodes[i]);/^(pre|p)$/i.test(t.nodeName)&&(d=!0),w&&(l=!0)}else 3==t.nodeType&&f(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var k}for(;v(t),t!=r;)t=t.nextSibling,d=!1;return text}(n,r,f,t,h)),y=et(n.doc,lt(t,0),lt(h,Ze(n.doc,h).text.length));m.length>1&&y.length>1;)if(re(m)==re(y))m.pop(),y.pop(),h--;else{if(m[0]!=y[0])break;m.shift(),y.shift(),t++}for(var _=0,w=0,k=m[0],S=y[0],x=Math.min(k.length,S.length);_<x&&k.charCodeAt(_)==S.charCodeAt(_);)++_;for(var O=re(m),T=re(y),E=Math.min(O.length-(1==m.length?_:0),T.length-(1==y.length?_:0));w<E&&O.charCodeAt(O.length-w-1)==T.charCodeAt(T.length-w-1);)++w;if(1==m.length&&1==y.length&&t==c.line)for(;_&&_>c.ch&&O.charCodeAt(O.length-w-1)==T.charCodeAt(T.length-w-1);)_--,w++;m[m.length-1]=O.slice(0,O.length-w).replace(/^\u200b+/,""),m[0]=m[0].slice(_).replace(/\u200b+$/,"");var C=lt(t,_),I=lt(h,y.length?re(y).length-w:0);return m.length>1||m[0]||ct(C,I)?(Ci(n.doc,m,C,I,"+input"),!0):void 0},Ja.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ja.prototype.reset=function(){this.forceCompositionEnd()},Ja.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ja.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ja.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ho(this.cm,(function(){return Sn(e.cm)}))},Ja.prototype.setUneditable=function(e){e.contentEditable="false"},Ja.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||fo(this.cm,Ua)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ja.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ja.prototype.onContextMenu=function(){},Ja.prototype.resetPosition=function(){},Ja.prototype.needsContentAttribute=!0;var ns=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new G,this.hasSelection=!1,this.composing=null};ns.prototype.init=function(e){var t=this,input=this,r=this.cm;this.createField(e);var n=this.textarea;function o(e){if(!ke(r,e)){if(r.somethingSelected())$a({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ga(r);$a({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,X):(input.prevInput="",n.value=t.text.join("\n"),H(n))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),k&&(n.style.width="0px"),be(n,"input",(function(){c&&d>=9&&t.hasSelection&&(t.hasSelection=null),input.poll()})),be(n,"paste",(function(e){ke(r,e)||qa(e,r)||(r.state.pasteIncoming=+new Date,input.fastPoll())})),be(n,"cut",o),be(n,"copy",o),be(e.scroller,"paste",(function(t){if(!Ar(e,t)&&!ke(r,t)){if(!n.dispatchEvent)return r.state.pasteIncoming=+new Date,void input.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,n.dispatchEvent(o)}})),be(e.lineSpace,"selectstart",(function(t){Ar(e,t)||Te(t)})),be(n,"compositionstart",(function(){var e=r.getCursor("from");input.composing&&input.composing.range.clear(),input.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),be(n,"compositionend",(function(){input.composing&&(input.poll(),input.composing.range.clear(),input.composing=null)}))},ns.prototype.createField=function(e){this.wrapper=Ya(),this.textarea=this.wrapper.firstChild},ns.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=In(e);if(e.options.moveInputWithCursor){var o=on(e,r.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),c=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+c.top-l.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+c.left-l.left))}return n},ns.prototype.showSelection=function(e){var t=this.cm.display;B(t.cursorDiv,e.cursors),B(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ns.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var content=t.getSelection();this.textarea.value=content,t.state.focused&&H(this.textarea),c&&d>=9&&(this.hasSelection=content)}else e||(this.prevInput=this.textarea.value="",c&&d>=9&&(this.hasSelection=null))}},ns.prototype.getField=function(){return this.textarea},ns.prototype.supportsTouch=function(){return!1},ns.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!x||F()!=this.textarea))try{this.textarea.focus()}catch(e){}},ns.prototype.blur=function(){this.textarea.blur()},ns.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ns.prototype.receivedFocus=function(){this.slowPoll()},ns.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ns.prototype.fastPoll=function(){var e=!1,input=this;input.pollingFast=!0,input.polling.set(20,(function p(){input.poll()||e?(input.pollingFast=!1,input.slowPoll()):(e=!0,input.polling.set(60,p))}))},ns.prototype.poll=function(){var e=this,t=this.cm,input=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Fe(input)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var text=input.value;if(text==r&&!t.somethingSelected())return!1;if(c&&d>=9&&this.hasSelection===text||O&&/[\uf700-\uf7ff]/.test(text))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var n=text.charCodeAt(0);if(8203!=n||r||(r=""),8666==n)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(r.length,text.length);o<l&&r.charCodeAt(o)==text.charCodeAt(o);)++o;return ho(t,(function(){Ua(t,text.slice(o),r.length-o,null,e.composing?"*compose":null),text.length>1e3||text.indexOf("\n")>-1?input.value=e.prevInput="":e.prevInput=text,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ns.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ns.prototype.onKeyPress=function(){c&&d>=9&&(this.hasSelection=null),this.fastPoll()},ns.prototype.onContextMenu=function(e){var input=this,t=input.cm,r=t.display,n=input.textarea;input.contextMenuPending&&input.contextMenuPending();var o=wn(t,e),l=r.scroller.scrollTop;if(o&&!m){t.options.resetSelectionOnContextMenu&&-1==t.doc.sel.contains(o)&&fo(t,fi)(t.doc,zo(o),X);var f,v=n.style.cssText,y=input.wrapper.style.cssText,_=input.wrapper.offsetParent.getBoundingClientRect();if(input.wrapper.style.cssText="position: static",n.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-_.top-5)+"px; left: "+(e.clientX-_.left-5)+"px;\n      z-index: 1000; background: "+(c?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",h&&(f=window.scrollY),r.input.focus(),h&&window.scrollTo(null,f),r.input.reset(),t.somethingSelected()||(n.value=input.prevInput=" "),input.contextMenuPending=S,r.selForContextMenu=t.doc.sel,clearTimeout(r.detectingSelectAll),c&&d>=9&&k(),j){Ie(e);var w=function(){_e(window,"mouseup",w),setTimeout(S,20)};be(window,"mouseup",w)}else setTimeout(S,50)}function k(){if(null!=n.selectionStart){var e=t.somethingSelected(),o=""+(e?n.value:"");n.value="",n.value=o,input.prevInput=e?"":"",n.selectionStart=1,n.selectionEnd=o.length,r.selForContextMenu=t.doc.sel}}function S(){if(input.contextMenuPending==S&&(input.contextMenuPending=!1,input.wrapper.style.cssText=y,n.style.cssText=v,c&&d<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=n.selectionStart)){(!c||c&&d<9)&&k();var i=0,e=function(){r.selForContextMenu==t.doc.sel&&0==n.selectionStart&&n.selectionEnd>0&&""==input.prevInput?fo(t,wi)(t):i++<10?r.detectingSelectAll=setTimeout(e,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(e,200)}}},ns.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ns.prototype.setUneditable=function(){},ns.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function option(r,n,o,l){e.defaults[r]=n,o&&(t[r]=l?function(e,t,r){r!=Pa&&o(e,t,r)}:o)}e.defineOption=option,e.Init=Pa,option("value","",(function(e,t){return e.setValue(t)}),!0),option("mode",null,(function(e,t){e.doc.modeOption=t,$o(e)}),!0),option("indentUnit",2,$o,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,(function(e){Uo(e),Qr(e),Sn(e)}),!0),option("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(line){for(var e=0;;){var o=line.text.indexOf(t,e);if(-1==o)break;e=o+t.length,r.push(lt(n,o))}n++}));for(var i=r.length-1;i>=0;i--)Ci(e.doc,t,r[i],lt(r[i].line,r[i].ch+t.length))}})),option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Pa&&e.refresh()})),option("specialCharPlaceholder",lr,(function(e){return e.refresh()}),!0),option("electricChars",!0),option("inputStyle",x?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),option("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),option("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),option("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),option("rtlMoveVisually",!E),option("wholeLineUpdateBefore",!0),option("theme","default",(function(e){Aa(e),Co(e)}),!0),option("keyMap","default",(function(e,t,r){var n=la(t),o=r!=Pa&&la(r);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)})),option("extraKeys",null),option("configureMouse",null),option("lineWrapping",!1,za,!0),option("gutters",[],(function(e,t){e.display.gutterSpecs=To(t,e.options.lineNumbers),Co(e)}),!0),option("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?bn(e.display)+"px":"0",e.refresh()}),!0),option("coverGutterNextToScrollbar",!1,(function(e){return Zn(e)}),!0),option("scrollbarStyle","native",(function(e){ro(e),Zn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),option("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=To(e.options.gutters,t),Co(e)}),!0),option("firstLineNumber",1,Co,!0),option("lineNumberFormatter",(function(e){return e}),Co,!0),option("showCursorWhenSelecting",!1,Cn,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("pasteLinesPerSelection",!0),option("selectionsMayTouch",!1),option("readOnly",!1,(function(e,t){"nocursor"==t&&(Ln(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),option("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),option("dragDrop",!0,La),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,Cn,!0),option("singleCursorHeightPerLine",!0,Cn,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,Uo,!0),option("addModeClass",!1,Uo,!0),option("pollInterval",100),option("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),option("historyEventDelay",1250),option("viewportMargin",10,(function(e){return e.refresh()}),!0),option("maxHighlightLength",1e4,Uo,!0),option("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),option("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),option("autofocus",null),option("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),option("phrases",null)}(Fa),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(option,e){var r=this.options,n=r[option];r[option]==e&&"mode"!=option||(r[option]=e,t.hasOwnProperty(option)&&fo(this,t[option])(this,e,n),we(this,"optionChange",this,option))},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,e){this.state.keyMaps[e?"push":"unshift"](la(map))},removeKeyMap:function(map){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==map||e[i].name==map)return e.splice(i,1),!0},addOverlay:po((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,o=r(t);n<e.length&&r(e[n])<=o;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,Sn(this)})),removeOverlay:po((function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var r=t[i].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(i,1),this.state.modeGen++,void Sn(this)}})),indentLine:po((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),at(this.doc,e)&&Va(this,e,t,r)})),indentSelection:po((function(e){for(var t=this.doc.sel.ranges,r=-1,i=0;i<t.length;i++){var n=t[i];if(n.empty())n.head.line>r&&(Va(this,n.head.line,e,!0),r=n.head.line,i==this.doc.sel.primIndex&&$n(this));else{var o=n.from(),l=n.to(),c=Math.max(r,o.line);r=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var d=c;d<r;++d)Va(this,d,e);var h=this.doc.sel.ranges;0==o.ch&&t.length==h.length&&h[i].from().ch>0&&ui(this.doc,i,new Do(o,h[i].to()),X)}}})),getTokenAt:function(e,t){return Et(this,e,t)},getLineTokens:function(line,e){return Et(this,lt(line),e,!0)},getTokenTypeAt:function(e){e=mt(this.doc,e);var t,r=wt(this,Ze(this.doc,e.line)),n=0,o=(r.length-1)/2,l=e.ch;if(0==l)t=r[2];else for(;;){var c=n+o>>1;if((c?r[2*c-1]:0)>=l)o=c;else{if(!(r[2*c+1]<l)){t=r[2*c+2];break}n=c+1}}var d=t?t.indexOf("overlay "):-1;return d<0?t:0==d?null:t.slice(0,d-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&n.push(o[l[t]]);else if(l[t])for(var i=0;i<l[t].length;i++){var c=o[l[t][i]];c&&n.push(c)}else l.helperType&&o[l.helperType]?n.push(o[l.helperType]):o[l.name]&&n.push(o[l.name]);for(var d=0;d<o._global.length;d++){var h=o._global[d];h.pred(l,this)&&-1==W(n,h.val)&&n.push(h.val)}return n},getStateAfter:function(line,e){var t=this.doc;return kt(this,(line=vt(t,null==line?t.first+t.size-1:line))+1,e).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return on(this,null==e?r.head:"object"==typeof e?mt(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return nn(this,mt(this.doc,e),t||"page")},coordsChar:function(e,t){return ln(this,(e=rn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=rn(this,{top:e,left:0},t||"page").top,it(this.doc,e+this.display.viewOffset)},heightAtLine:function(line,e,t){var r,n=!1;if("number"==typeof line){var o=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>o&&(line=o,n=!0),r=Ze(this.doc,line)}else r=line;return tn(this,r,{top:0,left:0},e||"page",t||n).top+(n?this.doc.height-Jt(r):0)},defaultTextHeight:function(){return vn(this.display)},defaultCharWidth:function(){return mn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,o){var l,rect,c,d=this.display,h=(e=on(this,mt(this.doc,e))).bottom,f=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),d.sizer.appendChild(t),"over"==n)h=e.top;else if("above"==n||"near"==n){var v=Math.max(d.wrapper.clientHeight,this.doc.height),m=Math.max(d.sizer.clientWidth,d.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>v)&&e.top>t.offsetHeight?h=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=v&&(h=e.bottom),f+t.offsetWidth>m&&(f=m-t.offsetWidth)}t.style.top=h+"px",t.style.left=t.style.right="","right"==o?(f=d.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?f=0:"middle"==o&&(f=(d.sizer.clientWidth-t.offsetWidth)/2),t.style.left=f+"px"),r&&(l=this,rect={left:f,top:h,right:f+t.offsetWidth,bottom:h+t.offsetHeight},null!=(c=Vn(l,rect)).scrollTop&&Gn(l,c.scrollTop),null!=c.scrollLeft&&Yn(l,c.scrollLeft))},triggerOnKeyDown:po(ka),triggerOnKeyPress:po(xa),triggerOnKeyUp:Sa,triggerOnMouseDown:po(Ca),execCommand:function(e){if(fa.hasOwnProperty(e))return fa[e].call(null,this)},triggerElectric:po((function(text){Ka(this,text)})),findPosH:function(e,t,r,n){var o=1;t<0&&(o=-1,t=-t);for(var l=mt(this.doc,e),i=0;i<t&&!(l=Xa(this.doc,l,o,r,n)).hitSide;++i);return l},moveH:po((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Xa(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),J)})),deleteH:po((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):ca(this,(function(r){var o=Xa(n,r.head,e,t,!1);return e<0?{from:o,to:r.head}:{from:r.head,to:o}}))})),findPosV:function(e,t,r,n){var o=1,l=n;t<0&&(o=-1,t=-t);for(var c=mt(this.doc,e),i=0;i<t;++i){var d=on(this,c,"div");if(null==l?l=d.left:d.left=l,(c=Qa(this,d,o,r)).hitSide)break}return c},moveV:po((function(e,t){var r=this,n=this.doc,o=[],l=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(c){if(l)return e<0?c.from():c.to();var d=on(r,c.head,"div");null!=c.goalColumn&&(d.left=c.goalColumn),o.push(d.left);var h=Qa(r,d,e,t);return"page"==t&&c==n.sel.primary()&&Hn(r,nn(r,h,"div").top-d.top),h}),J),o.length)for(var i=0;i<n.sel.ranges.length;i++)n.sel.ranges[i].goalColumn=o[i]})),findWordAt:function(e){var line=Ze(this.doc,e.line).text,t=e.ch,r=e.ch;if(line){var n=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=line.length||!t?++r:--t;for(var o=line.charAt(t),l=se(o,n)?function(e){return se(e,n)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!se(e)};t>0&&l(line.charAt(t-1));)--t;for(;r<line.length&&l(line.charAt(r));)++r}return new Do(lt(e.line,t),lt(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):A(this.display.cursorDiv,"CodeMirror-overwrite"),we(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==F()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:po((function(e,t){Un(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Lr(this)-this.display.barHeight,width:e.scrollWidth-Lr(this)-this.display.barWidth,clientHeight:Fr(this),clientWidth:zr(this)}},scrollIntoView:po((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:lt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){qn(e),e.curOp.scrollToPos=t}(this,e):Kn(this,e.from,e.to,e.margin)})),setSize:po((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Xr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){xn(r,o,"widget");break}++o})),this.curOp.forceUpdate=!0,we(this,"refresh",this)})),operation:function(e){return ho(this,e)},startOperation:function(){return oo(this)},endOperation:function(){return io(this)},refresh:po((function(){var e=this.display.cachedTextHeight;Sn(this),this.curOp.forceUpdate=!0,Qr(this),Un(this,this.doc.scrollLeft,this.doc.scrollTop),ko(this.display),(null==e||Math.abs(e-vn(this.display))>.5)&&_n(this),we(this,"refresh",this)})),swapDoc:po((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Wo(this,e),Qr(this),this.display.input.reset(),Un(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,yr(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Oe(e),e.registerHelper=function(t,n,o){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=o},e.registerGlobalHelper=function(t,n,o,l){e.registerHelper(t,n,l),r[t]._global.push({pred:o,val:l})}}(Fa);var os="iter insert remove copy getEditor constructor".split(" ");for(var is in Ui.prototype)Ui.prototype.hasOwnProperty(is)&&W(os,is)<0&&(Fa.prototype[is]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ui.prototype[is]));return Oe(Ui),Fa.inputStyles={textarea:ns,contenteditable:Ja},Fa.defineMode=function(e){Fa.defaults.mode||"null"==e||(Fa.defaults.mode=e),Ue.apply(this,arguments)},Fa.defineMIME=function(e,t){$e[e]=t},Fa.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Fa.defineMIME("text/plain","null"),Fa.defineExtension=function(e,t){Fa.prototype[e]=t},Fa.defineDocExtension=function(e,t){Ui.prototype[e]=t},Fa.fromTextArea=function(textarea,e){if((e=e?U(e):{}).value=textarea.value,!e.tabindex&&textarea.tabIndex&&(e.tabindex=textarea.tabIndex),!e.placeholder&&textarea.placeholder&&(e.placeholder=textarea.placeholder),null==e.autofocus){var t=F();e.autofocus=t==textarea||null!=textarea.getAttribute("autofocus")&&t==document.body}function r(){textarea.value=l.getValue()}var n;if(textarea.form&&(be(textarea.form,"submit",r),!e.leaveSubmitMethodAlone)){var form=textarea.form;n=form.submit;try{var o=form.submit=function(){r(),form.submit=n,form.submit(),form.submit=o}}catch(e){}}e.finishInit=function(t){t.save=r,t.getTextArea=function(){return textarea},t.toTextArea=function(){t.toTextArea=isNaN,r(),textarea.parentNode.removeChild(t.getWrapperElement()),textarea.style.display="",textarea.form&&(_e(textarea.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof textarea.form.submit||(textarea.form.submit=n))}},textarea.style.display="none";var l=Fa((function(e){return textarea.parentNode.insertBefore(e,textarea.nextSibling)}),e);return l},function(e){e.off=_e,e.on=be,e.wheelEventPixels=Ao,e.Doc=Ui,e.splitLines=ze,e.countColumn=K,e.findColumn=Z,e.isWordChar=ae,e.Pass=Y,e.signal=we,e.Line=rr,e.changeEnd=Fo,e.scrollbarModel=to,e.Pos=lt,e.cmpPos=ct,e.modes=He,e.mimeModes=$e,e.resolveMode=qe,e.getMode=Ke,e.modeExtensions=Ge,e.extendMode=We,e.copyState=Ye,e.startState=Qe,e.innerMode=Xe,e.commands=fa,e.keyMap=ta,e.keyName=sa,e.isModifierKey=ia,e.lookupKey=oa,e.normalizeKeyMap=na,e.StringStream=Je,e.SharedTextMarker=Ni,e.TextMarker=zi,e.LineWidget=Bi,e.e_preventDefault=Te,e.e_stopPropagation=Ee,e.e_stop=Ie,e.addClass=N,e.contains=z,e.rmClass=A,e.keyNames=Ji}(Fa),Fa.version="5.52.0",Fa}()},function(e,t,r){"use strict";r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return y})),r.d(t,"a",(function(){return _}));var n=r(31),o=r(102),l=r(61),c=r(103),d=r(226),h=r(11),f=h.i?window:{},v=h.i?f.Element:function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(Object(d.a)(Object)),m=h.i?f.HTMLElement:function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(v),y=h.i?f.SVGElement:function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(v),_=h.i?f.File:function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(Object(d.a)(Object))},,function(e,t,r){e.exports={default:r(436),__esModule:!0}},,,,function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraymap=function(e,t){for(let r=0;r<e.length;){const n=t(e[r]);e.splice(r,1,...n),r+=n.length?n.length:1}return e};class n extends Error{constructor(){super(...arguments),this.fatal=!0}}function o(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}t.FatalError=n,t.Comparable=class{gt(e){return 1===this.cmp(e)}gteq(e){return this.cmp(e)>=0}eq(e){return 0===this.cmp(e)}lteq(e){return this.cmp(e)<=0}lt(e){return-1===this.cmp(e)}},t.MemberPtr=class{constructor(e,t){this.obj=e,this.key=t}get value(){return this.obj[this.key]}set value(e){this.obj[this.key]=e}},t.allKeys=o,t.allValues=function(e){return o(e).map(t=>e[t])};const s={};t.BreakException=s,t.catchBreak=function(e){try{e()}catch(e){if(e!==s)throw e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);var o;t.ListDocumentModel=n.ListDocumentModel,t.LogootInt=n.LogootInt,t.LogootPosition=n.LogootPosition,t.NodeType=n.NodeType,function(e){e[e.PENDING=0]="PENDING",e[e.SENDING=1]="SENDING",e[e.COMPLETE=2]="COMPLETE"}(o||(o={})),t.EventState=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(3),s=r(4);t.LogootInt=s.LogootInt,t.LogootPosition=s.LogootPosition,t.NodeType=s.NodeType;class i extends Error{}const a=(e,t)=>!e.branches.filter(e=>!t.br(e)).length&&!t.branches.filter(t=>!e.br(t)).length;t.ListDocumentModel=class{constructor(e,t=a){this.ldoc_bst=new o.Bst((e,t)=>{if(e.known_position>t.known_position)return 1;if(e.known_position<t.known_position)return-1;{const r=e.logoot_start,n=t.logoot_start;if(r&&n)return r.cmp(n)}return 0}),this.logoot_bst=new o.Bst((e,t)=>e.start.cmp(t.start)),this.clock=new s.LogootInt,this.branch=e,this.canJoin=t}insertLocal(e,t){const r=this.ldoc_bst.create_range_search();r.lesser_find_greatest=!0,r.greater_find_least=!0,r.push_point({known_position:e},"_lesser",!1),r.all_greater("_greater");const{_lesser:o,_greater:a}=this.ldoc_bst.search(r);let l,c,d,u;o&&o.length&&(l=o.sort((e,t)=>e.logoot_start.cmp(t.logoot_start))[0]),a&&a.length&&(c=a.sort((e,t)=>t.logoot_start.cmp(e.logoot_start))[0]);const p=l?l.ldoc_length:0;if(l&&l.known_position+p===e){if(c&&l.last_branch===c.first_branch&&l.last_branch!==this.branch)throw new i;d=l.logoot_end,u=c?c.logoot_start:void 0}else l?(()=>{let t=e-l.known_position;if(l.branch_order.indexOf(this.branch)<0?t-=l.ldoc_length:t-=l.branchLength(l.branch_order.slice(0,l.branch_order.indexOf(this.branch))),t<0)throw new n.FatalError("Search returned out of order nodes");if(0===t){const e=this.ldoc_bst.create_range_search();e.lesser_find_greatest=!0,e.push_point({known_position:l.known_position},"_lesser",!1);const{_lesser:t}=this.ldoc_bst.search(e);let r;return t&&t.length&&(r=t.sort((e,t)=>e.logoot_start.cmp(t.logoot_start))[0]),d=r.logoot_end,void(u=l.logoot_start)}for(let e=0;e<l.groups.length;e++){const{end:r}=l.groups[e];if(t-=l.groups[e].branchLength([this.branch]),t<0)return void(d=u=r.inverseOffsetLowest(-t));if(0===t)return d=r,void(u=l.groups[e+1]?l.groups[e+1].start:c?c.logoot_start:void 0)}throw new i})():c&&(u=c.logoot_start);return{start:new s.LogootPosition(t,d,u),length:t,br:this.branch,rclk:this.clock}}removeLocal(e,t){const r=this.ldoc_bst.create_range_search();r.lesser_find_greatest=!0,r.greater_find_least=!0,r.push_point({known_position:e},"_lesser",!1),r.push_point({known_position:e+t},"_range",!1),r.all_greater(void 0);const{_lesser:o,_range:i}=this.ldoc_bst.search(r),a=i||[];if(o&&o.length){const t=o.sort((e,t)=>e.logoot_start.cmp(t.logoot_start))[0];t.ldoc_end>e&&a.unshift(t)}const l={};let c=e+t-a[0].known_position;n.catchBreak(()=>a.forEach(e=>{e.branch_order.forEach(r=>{e.groups.forEach(e=>{if(!e.br(r))return;let{start:o,length:i}=e;const{type:a,rclk:d}=e.br(r);if(a===s.NodeType.DATA&&(c>t&&(o=o.offsetLowest(c-t),i-=c-t),function(e,t,r,n){if(r<=0)return;l[e]||(l[e]={});const o=l[e];o[t.levels]||(o[t.levels]=[]);const s=o[t.levels],i=s[s.length-1];i&&i.branch===e&&0===i.start.offsetLowest(i.length).cmp(t)&&0===i.rclk.cmp(n)?i.length+=r:s.push({branch:e,start:t,length:r,rclk:n})}(r,o,Math.min(i,c),d),c-=e.length),c<=0)throw n.BreakException})})}));const d=[];return n.allValues(l).forEach(e=>{Object.entries(e).forEach(([,e])=>{e.forEach(e=>d.push(e))})}),{removals:d}}_mergeNode(e,t,r,o,i,a){const l=t.levels,c=t.offsetLowest(r);this.clock.cmp(o)<0&&this.clock.assign(o);const d=this.logoot_bst.create_range_search();d.lesser_find_greatest=!0,d.greater_find_least=!0,d.push_point({start:t},"_lesser",!1),d.push_point({start:c},"_skip_ranges",!1),d.all_greater("_greater");const{_lesser:u,_skip_ranges:p,_greater:g}=this.logoot_bst.search(d);let h,f;if(u&&u.length>1)throw new n.FatalError("Corrupt BST. There are multiple nodes at a position.");if(u&&u.length&&(h=u[0]),g&&g.length>1)throw new n.FatalError("Corrupt BST. There are multiple nodes at a position.");g&&g.length&&(f=g[0]);let v=p?p.sort((e,t)=>e.start.cmp(t.start)):[];if(h&&v.includes(h)&&v.splice(v.indexOf(h),1),f&&v.includes(f)&&v.splice(v.indexOf(f),1),h&&v.unshift(h),h&&h.start.levels<l&&h.start.cmp(t)<0&&h.end.cmp(c)>0){const e=t.copy().level(h.start.levels).sub(h.start.level(h.start.levels)).js_int;if(e>0&&e<h.length){const t=h.splitAround(e);v.push(t),this.logoot_bst.add(t)}}f&&!v.includes(f)&&v.push(f);let b=[];if(v.forEach(({group:e})=>{e&&!b.includes(e)&&e.branch_order.length&&b.push(e)}),b=b.sort((e,t)=>e.known_position-t.known_position),v=v.filter(({start:e})=>e.levels>=l||e.cmp(c)>=0),!v.length||v[v.length-1].start.cmp(c)<0){const e=new s.LogootNodeGroup;e.start=c,v.push(e)}const m=b.length?b[b.length-1].ldoc_end:0,y=[];let _=0;const w=(e,t,r,n)=>{_+=r;const o=e.logoot_start;for(let s=b.length-1;s>0;s--){const i=b[s];if(n){if(i.known_position<t||i.logoot_start.cmp(o)<0)return}else if(i.known_position<=t||i.logoot_start.cmp(o)<=0)return;i!==e&&(b[s].known_position+=r)}},k=(e,t,r,n)=>{0!==n&&(y.push({type:"i",start:t,offset:r,length:n}),w(e,t,n,!0))},S=(e,t,r)=>{0!==t&&e!==r&&y.push({type:"t",source:e,length:t,dest:r})},x=(e,t,r=(()=>{}))=>{if(!e.groups.includes(t))throw new n.FatalError("Node group not in conflict group.");if(!b.includes(e))throw new n.FatalError("Conflict group not in conflict_order");const o=new s.ConflictGroup(e.ldoc_end);let i=e.known_position;const a=o.known_position;return e.branch_order.forEach(r=>{const s=(()=>{let o=0;for(let n=0;n<e.groups.length;n++)if(o+=e.groups[n].branchLength([r]),e.groups[n]===t)return o;throw new n.FatalError})();o.branch_order.push(r);const l=e.branchLength([r])-s;o.known_position-=l,i+=s,S(i,l,a-l)}),o.groups=e.groups.splice(e.groups.indexOf(t)+1,e.groups.length),o.groups.forEach(e=>e.group=o),r(o),this.ldoc_bst.add(o),b.splice(b.indexOf(e)+1,0,o),o},O=(e,t)=>{t.branch_order.forEach(t=>{e.branch_order.includes(t)||e.branch_order.push(t)}),t.groups.forEach(t=>t.group=e),e.groups.splice(e.groups.length,0,...t.groups);let r=t.known_position,n=e.known_position;t.branch_order.forEach(o=>{n+=e.branchLength([o]);const s=t.branchLength([o]);S(r,s,n-s),r+=s}),t.branch_order.length=0,t.groups=[],this.ldoc_bst.remove(t,e=>e===t),b.splice(b.indexOf(t),1)};let T=t.level(l),E=h;return v.forEach((n,d)=>{let u=v[d+1];const p=n.start.clamp(t,c,l).l(l),g=n.end.clamp(t,c,l).l(l),h=p.copy().sub(T).js_int,f=T.copy().sub(t.l(l)).js_int;if(h>0||n.start.levels<l&&r-f>0&&n.start.cmp(t)>0&&T.cmp(t.l(l))<0){const c=new s.LogootNodeGroup;c.start=t.copy(),c.start.l(l).assign(T),c.length=h||r-f,c.br(e,{type:i,rclk:o});const d=E&&a(E,c),u=n&&a(c,n),p=E&&n&&E.group===n.group;!p&&d&&u?O(E.group,n.group):!p||d&&u||x(E.group,E),d||u?c.group=d?E.group:n.group:(c.group=new s.ConflictGroup(E?E.group.ldoc_end:0),c.group.branch_order.push(e),b.splice(E?b.indexOf(E.group)+1:0,0,c.group)),i===s.NodeType.DATA?k(c.group,c.group.insertSingleBranchGroup(c),f,c.length):c.group.insertSingleBranchGroup(c),E=c,this.logoot_bst.add(c),d||u||this.ldoc_bst.add(c.group)}const m=g.copy().sub(p).js_int,_=p.copy().sub(t.l(l)).js_int;if(n.start.levels===l&&m>0&&(!n.br(e)||o.cmp(n.br(e).rclk)>(i===s.NodeType.DATA?0:-1))){if(n.start.cmp(t)<0&&(E=n,n=n.splitAround(t.l(l).sub(n.start.l(l)).js_int),this.logoot_bst.add(n)),n.end.cmp(c)>0){const e=n.splitAround(n.length-n.end.l(l).sub(c.l(l)).js_int);this.logoot_bst.add(e),u=e}n.group.branch_order.includes(e)||n.group.branch_order.push(e);const r=n.group.insertPos(e,n);n.br(e)&&n.br(e).type===s.NodeType.DATA&&((e,t,r)=>{0!==r&&(y.push({type:"r",start:t,length:r}),w(e,t,-r,!0))})(n.group,r,n.length),n.br(e,{type:i,rclk:o}),i===s.NodeType.DATA&&k(n.group,r,_,n.length);const d=(e,t,r=!1)=>{if(!e||!t)return;const o=e.group===t.group,l=a(e,t);if(!o&&l)O(e.group,t.group);else if(o&&!l){const t=x(e.group,e,e=>{i===s.NodeType.DATA&&r&&(e.known_position-=n.length)});i===s.NodeType.DATA&&r&&(t.known_position+=n.length)}};d(E,n,!1),d(n,u,!0)}T=n.end.clamp(t,c,l).level(l),E=n}),b.forEach(({known_position:e,ldoc_length:t,conflicted:r})=>{((e,t,r)=>{0!==t&&y.push({type:"m",start:e,length:t,conflicting:r})})(e,t,r)}),this.ldoc_bst.operateOnAllGteq({known_position:m},({data:e})=>{if(!e.groups.length)throw new n.FatalError("An empty conflict group was found in the BST");e.logoot_start.cmp(c)<0||b.includes(e)||(e.known_position+=_)},!1),y}insertLogoot(e,t,r,n){return this._mergeNode(e,t,r,n,s.NodeType.DATA,this.canJoin)}removeLogoot(e,t,r,n){return this._mergeNode(e,t,r,n,s.NodeType.REMOVAL,this.canJoin)}selfTest(){let e,t=0;this.ldoc_bst.operateOnAll(({data:r})=>{if(!r.groups.length)throw new n.FatalError("Node with no groups detected.");if(r.known_position!==t)throw new Error(`Ldoc is out of order. Found known position ${r.known_position} after ${t}`);t=r.ldoc_end,r.groups.forEach(({start:t})=>{if(e&&e.cmp(t)>=0)throw new n.FatalError(`Ldoc is out of order. Found ${t.toString()} after ${e.toString()}.`);e=t})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o{constructor(e){this.data=e}}t.BstNode=o;class s{constructor(e){this.lesser_find_greatest=!1,this.greater_find_least=!1,this.points=[],this.cf=e}static lteq(e,t,r){const n=new s(e);return n.points.push([t,!0,r]),n.last_bucket=void 0,n}static lt(e,t,r){const n=new s(e);return n.points.push([t,!1,r]),n.last_bucket=void 0,n}static gteq(e,t,r){const n=new s(e);return n.points.push([t,!1,void 0]),n.last_bucket=r,n}static gt(e,t,r){const n=new s(e);return n.points.push([t,!0,void 0]),n.last_bucket=r,n}push_point(e,t,r=!1){const n=[e,r,t];for(let t=0;t<this.points.length;t++)if(this.cf(e,this.points[t][0])<0)return void this.points.splice(t,0,n);this.points.push(n)}all_greater(e){this.last_bucket=e}getBucketInfo(e,t,r=!1,n){let o=!1,s=!1,i=this.last_bucket,a=Boolean(this.last_bucket);!this.points.length&&this.last_bucket&&(!o&&n&&n(),o=!0);for(let l=0;l<this.points.length;l++){const[c,d,u]=this.points[l];u&&!s&&(!o&&n&&n(),o=!0),this.cf(e,c)<(d?1:0)&&(s||(s=!0,i=u),0==l&&this.lesser_find_greatest&&r&&t[u]&&t[u].length&&(this.cf(t[u][0],e)<0?t[u]=[]:this.cf(t[u][0],e)>0&&(i=void 0))),u&&s&&0!==this.cf(c,e)&&(a=!0)}if(!s&&this.last_bucket){const s=this.last_bucket;i&&!o&&(o=!0,n()),this.greater_find_least&&r&&t[s]&&t[s].length&&(this.cf(t[s][0],e)>0?t[s]=[]:this.cf(t[s][0],e)<0&&(i=void 0)),a=!0}return o=o&&(!this.lesser_find_greatest||!this.points.length||!t[this.points[0][2]]||!t[this.points[0][2]].length||this.cf(t[this.points[0][2]][0],e)<=0),a=a&&(!this.greater_find_least||!t[this.last_bucket]||!t[this.last_bucket].length||this.cf(t[this.last_bucket][0],e)>=0),{left:o,bucket:i,right:a}}sort(e,t={}){let r;for(r=0;r<this.points.length;r++){const[n,o,s]=this.points[r];if(this.cf(e,n)<(o?1:0))return s?((!t[s]||0===r&&this.lesser_find_greatest&&t[s].length&&this.cf(t[s][0],e)<0)&&(t[s]=[]),t[s].push(e),t):t}r=this.points.length;const n=this.last_bucket;return n?((!t[n]||this.greater_find_least&&t[n].length&&this.cf(t[n][0],e)>0)&&(t[n]=[]),t[n].push(e),t):t}search_array(e){const t={};return e.forEach(e=>this.sort(e,t)),t}}t.RangeSearch=s,t.Bst=class{constructor(e){this.bst_root=void 0,this.cmp=e}gteqcmp(e,t){return this.cmp(e,t)>=0}gtcmp(e,t){return this.cmp(e,t)>0}eqcmp(e,t){return 0===this.cmp(e,t)}add(e,t=new n.MemberPtr(this,"bst_root")){t.value?this.gteqcmp(t.value.data,e)?this.add(e,new n.MemberPtr(t.value,"left")):this.add(e,new n.MemberPtr(t.value,"right")):t.value=new o(e)}create_range_search(){return new s(this.cmp)}search(e,t=new n.MemberPtr(this,"bst_root"),r={}){if(!t.value)return r;const{bucket:o,right:s}=e.getBucketInfo(t.value.data,r,!0,()=>{this.search(e,new n.MemberPtr(t.value,"left"),r)});return o&&(r[o]||(r[o]=[]),r[o].push(t.value.data)),s&&this.search(e,new n.MemberPtr(t.value,"right"),r),r}_getInorderSuccessor(e,t=new n.MemberPtr(this,"bst_root")){let r;const o=e=>{(!r||e&&this.gtcmp(r.data,e.data))&&(r=e)};return t.value&&(this.gteqcmp(t.value.data,e)&&(this.eqcmp(t.value.data,e)||o({ptr:t,data:t.value.data}),o(this._getInorderSuccessor(e,new n.MemberPtr(t.value,"left")))),o(this._getInorderSuccessor(e,new n.MemberPtr(t.value,"right")))),r}remove(e,t=(()=>!0),r=new n.MemberPtr(this,"bst_root")){if(r.value){const o=this.cmp(r.value.data,e),s=t(r.value.data);if(o>0)this.remove(e,t,new n.MemberPtr(r.value,"left"));else if(o<0)this.remove(e,t,new n.MemberPtr(r.value,"right"));else if(r.value.left&&r.value.right&&s){const e=this._getInorderSuccessor(r.value.data,r);this.remove(e.data,void 0,e.ptr),r.value.data=e.data}else s&&(r.value=r.value.left||r.value.right)}}operateOnAllRange(e,t,r,n=this.bst_root,o=!1){n&&!o&&(this.gteqcmp(n.data,e)?this.gteqcmp(t,n.data)?(this.operateOnAllRange(e,t,r,n.left,!n.left),this.operateOnAllRange(e,t,r,n.right,!n.right),r(n)):this.operateOnAllRange(e,t,r,n.left,!n.left):this.operateOnAllRange(e,t,r,n.right,!n.right))}operateOnAllGteq(e,t,r=!0,o=new n.MemberPtr(this,"bst_root")){o.value&&(this.gteqcmp(o.value.data,e)&&(r||t(o.value),this.operateOnAllGteq(e,t,r,new n.MemberPtr(o.value,"left")),r&&t(o.value)),this.operateOnAllGteq(e,t,r,new n.MemberPtr(o.value,"right")))}operateOnAllLteq(e,t,r=!0,o=new n.MemberPtr(this,"bst_root")){o.value&&(this.gteqcmp(e,o.value.data)?(r||t(o.value),this.operateOnAllLteq(e,t,r,new n.MemberPtr(o.value,"left")),r&&t(o.value),this.operateOnAllLteq(e,t,r,new n.MemberPtr(o.value,"right"))):this.operateOnAllLteq(e,t,r,new n.MemberPtr(o.value,"left")))}operateOnAll(e,t=!0,r=new n.MemberPtr(this,"bst_root")){r.value&&(t||e(r.value),this.operateOnAll(e,t,new n.MemberPtr(r.value,"left")),t&&e(r.value),this.operateOnAll(e,t,new n.MemberPtr(r.value,"right")))}getRange(e,t){const r=[];return this.operateOnAllRange(e,t,e=>r.push(e)),r}getGteq(e){let t=[];return this.operateOnAllGteq(e,e=>{!t[0]||this.gtcmp(t[0].data,e.data)?t=[e]:this.eqcmp(t[0].data,e.data)&&t.push(e)}),t}getLteq(e){let t=[];return this.operateOnAllLteq(e,e=>{!t[0]||this.gtcmp(e.data,t[0].data)?t=[e]:this.eqcmp(t[0].data,e.data)&&t.push(e)}),t}toString(){let e="BST [\n";return this.operateOnAll(({data:t})=>{e+="  "+t.toString().split("\n").join("\n  ")+"\n"}),e+="]",e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),o=r(0);var s,i=n.Int32;t.LogootInt=i;class a{constructor(e=0,t,r){if(this.start=t,this.end=r,this.array=[new i(0)],!t&&r)this.array=r.inverseOffsetLowest(e).array;else if(!r&&t)this.array=t.copy().array;else if(t&&r){let n=!1;const o=t.array.values(),s=r.array.values();let a,l;for(this.array.length=0;!n;)a&&a.done||(a=o.next()),l&&l.done||(l=s.next()),a.done||l.done?a.done?l.done?(this.array.push(new i),n=!0):(this.array.push(new i(l.value).sub(e)),n=!0):(this.array.push(new i(a.value)),n=!0):(l.value.gteq(new i(a.value).add(e))&&(n=!0),this.array.push(new i(a.value)))}}static fromJSON(e){const t=new a;return t.array.length=0,e.forEach(e=>{t.array.push(i.fromJSON(e))}),t}static fromInts(...e){const t=new a;return t.array.length=0,e.forEach(e=>{t.array.push(new i(e))}),t}toJSON(){return this.array.map(e=>e.toJSON())}get length(){return this.array.length}get levels(){return this.length-1}level(e){return this.array[e]}l(e){return this.level(e)}offsetLowest(e){return Object.assign(new a,{array:this.array.map((t,r,n)=>r<n.length-1?t:new i(t).add(e))})}inverseOffsetLowest(e){return Object.assign(new a,{array:this.array.map((t,r,n)=>r<n.length-1?t:new i(t).sub(e))})}copy(){return Object.assign(new a,{array:this.array.map(e=>new i(e))})}equivalentPositionAtLevel(e){return Object.assign(new a,{array:new Array(e+1).fill(0,0,e+1).map((e,t)=>new i(this.array[t]))})}cmp(e,t=0){if(t>=this.length)return this.length===e.length?0:1;if(t>=e.length)return-1;switch(this.level(t).cmp(e.level(t))){case 1:return 1;case-1:return-1;case 0:return this.cmp(e,t+1);default:return 0}}clamp(e,t,r){const n=this.cmp(e)<0?e:this.cmp(t)>0?t:this;return void 0!==r?n.equivalentPositionAtLevel(r):n.copy()}toString(){let e="[";return this.array.forEach((t,r,n)=>{e+=t.toString()+(r>=n.length-1?"":",")}),e+="]",e}}t.LogootPosition=a,function(e){let t;!function(e){e.Schema={type:"array",items:i.JSON.Schema}}(t=e.JSON||(e.JSON={}))}(a||(a={})),t.LogootPosition=a,function(e){e[e.DATA=0]="DATA",e[e.REMOVAL=1]="REMOVAL"}(s||(s={})),t.NodeType=s;const l={[s.DATA]:"DATA",[s.REMOVAL]:"REMOVAL"};t.ConflictGroup=class{constructor(e){this.known_position=0,this.branch_order=[],this.groups=[],this.known_position=e}get ldoc_length(){return this.groups.reduce((e,t)=>e+t.ldoc_length,0)}get ldoc_end(){return this.known_position+this.ldoc_length}get logoot_start(){return this.groups[0]?this.groups[0].start:void 0}get logoot_end(){return this.groups.length?this.groups[this.groups.length-1].end:void 0}get first_branch(){return this.branch_order[0]}get last_branch(){return this.branch_order.length?this.branch_order[this.branch_order.length-1]:void 0}get conflicted(){return this.groups.some(e=>e.conflicted)}branchLength(e){return this.groups.reduce((t,r)=>t+r.branchLength(e),0)}insertPos(e,t){let r=this.known_position+this.branchLength(this.branch_order.slice(0,this.branch_order.indexOf(e)+(t?0:1)));if(!t)return r;for(let n=0;n<this.groups.length;n++){if(this.groups[n]===t)return r;r+=this.groups[n].branchLength([e])}throw new o.FatalError("Tried to insert after a LogootNodeGroup that is not in this conflict group")}getNeighbors({start:e}){let t;for(let r=0;r<this.groups.length;r++)if(this.groups[r].start.cmp(e)<=0&&(t=this.groups[r]),this.groups[r].start.cmp(e)>0)return{left:t,right:this.groups[r],pos:r};return{left:t,right:void 0,pos:this.groups.length}}insertSingleBranchGroup(e){if(1!==e.n_branches)throw new TypeError("Passed group with no or more than one branch");if(e.group!==this)throw new TypeError("Conflict group not assigned to node group");const t=e.branches[0];this.branch_order.includes(t)||this.branch_order.push(t);const{right:r,pos:n}=this.getNeighbors(e),o=this.insertPos(t,r);return this.groups.splice(n,0,e),o}toString(){let e=`Conflict @ ${this.known_position} (`;return e+=this.branch_order.map(e=>e.toString()).join(" "),e+=") {",e+=this.groups.map(e=>"\n  "+e.toString().split("\n").join("\n  ")),e+="\n}",e}};class c{constructor(e){this.length=0,this.start=new a,this.nodes={},e&&(Object.assign(this,{length:e.length,start:e.start.copy(),group:e.group}),e.eachNode(({type:e,rclk:t},r)=>{this.br(r,{type:e,rclk:new i(t)})}))}get ldoc_length(){return this.branches.reduce((e,t)=>this.br(t).type===s.DATA?e+this.length:e,0)}branchLength(e){return this.branches.filter(t=>e.includes(t)).reduce((e,t)=>this.br(t).type===s.DATA?e+this.length:e,0)}get end(){return this.start.offsetLowest(this.length)}get branches(){return o.allKeys(this.nodes)}get n_branches(){return this.branches.length}get conflicted(){return this.n_branches>1}eachNode(e){this.branches.forEach(t=>{e(this.br(t),t)})}mapNodes(e){const t={};return this.branches.forEach(r=>{t[r]=e(this.br(r),r)}),t}br(e,t){return t&&(this.nodes[e]=t),this.nodes[e]}delBr(e){delete this.nodes[e]}splitAround(e){const t=new c(this);t.start=this.start.offsetLowest(e),t.length=this.length-e;const r=t.group.groups;return r.splice(r.indexOf(this)+1,0,t),this.length=e,t}toString(){let e=`Group ${this.start.toString()} + ${this.length} {`;return e+=this.branches.map(e=>{const t=this.br(e);return`\n  ${String(e)}: ${l[t.type]} @ ${t.rclk.toString()}`}),e+="\n}",e}}t.LogootNodeGroup=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.Comparable{}t.IntType=o;class s extends o{constructor(e=0){super(),this.int32=new Int32Array([0]),this.int32[0]=e instanceof s?e.int32[0]:e}static fromJSON(e){return new s(e)}toJSON(){return this.int32[0]}add(e){return this.int32[0]+=e instanceof s?e.int32[0]:e,this}sub(e){return this.int32[0]-=e instanceof s?e.int32[0]:e,this}assign(e){return this.int32[0]=e instanceof s?e.int32[0]:e,this}cmp(e){return e instanceof s?(this.int32[0]>=e.int32[0]?1:0)+(this.int32[0]<=e.int32[0]?-1:0):(this.int32[0]>=e?1:0)+(this.int32[0]<=e?-1:0)}copy(){return new s(this)}get js_int(){return this.int32[0]}toString(){return this.int32[0].toString()}}t.Int32=s,function(e){let t;!function(e){e.Schema={type:"number"}}(t=e.JSON||(e.JSON={}))}(s||(s={})),t.Int32=s}])},,,,function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(278),l=(n=o)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,l.default)(e,r.key,r)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},,function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,l=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!=e};function d(){d.init.call(this)}e.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var h=10;function f(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function v(e){return void 0===e._maxListeners?d.defaultMaxListeners:e._maxListeners}function m(e,t,r,n){var o,l,c,d;if(f(r),void 0===(l=e._events)?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),l=e._events),c=l[t]),void 0===c)c=l[t]=r,++e._eventsCount;else if("function"==typeof c?c=l[t]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),(o=v(e))>0&&c.length>o&&!c.warned){c.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=c.length,d=h,console&&console.warn&&console.warn(d)}return e}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=y.bind(n);return o.listener=r,n.wrapFn=o,o}function w(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(o):S(o,o.length)}function k(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function S(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");h=e}}),d.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},d.prototype.getMaxListeners=function(){return v(this)},d.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var d=n[e];if(void 0===d)return!1;if("function"==typeof d)l(d,this,t);else{var h=d.length,f=S(d,h);for(i=0;i<h;++i)l(f[i],this,t)}return!0},d.prototype.addListener=function(e,t){return m(this,e,t,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(e,t){return m(this,e,t,!0)},d.prototype.once=function(e,t){return f(t),this.on(e,_(this,e,t)),this},d.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,_(this,e,t)),this},d.prototype.removeListener=function(e,t){var r,n,o,i,l;if(f(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){l=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,l||t)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},d.prototype.listeners=function(e){return w(this,e,!0)},d.prototype.rawListeners=function(e){return w(this,e,!1)},d.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):k.call(e,t)},d.prototype.listenerCount=k,d.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},,,,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;var n=l(r(432)),o=l(r(26));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,i){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,i){var t=[],r=!0,n=!1,l=void 0;try{for(var c,d=(0,o.default)(e);!(r=(c=d.next()).done)&&(t.push(c.value),!i||t.length!==i);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(n)throw l}}return t}(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},,,function(e,t,r){"use strict";var n=v(r(264)),o=v(r(29)),l=r(20),c=v(l),d=r(49),h=v(r(21)),f=v(r(22));function v(e){return e&&e.__esModule?e:{default:e}}e.exports.EventStatus={NOT_SENT:"not_sent",ENCRYPTING:"encrypting",SENDING:"sending",QUEUED:"queued",SENT:"sent",CANCELLED:"cancelled"};var m,y,_={};function w(e){return _[e]||(_[e]=e),_[e]}e.exports.MatrixEvent=function(e){["state_key","type","sender","room_id","membership"].forEach((function(t){e[t]&&(e[t]=w(e[t]))})),["membership","avatar_url","displayname"].forEach((function(t){e.content&&e.content[t]&&(e.content[t]=w(e.content[t]))})),["rel_type"].forEach((function(t){e.content&&e.content["m.relates_to"]&&e.content["m.relates_to"][t]&&(e.content["m.relates_to"][t]=w(e.content["m.relates_to"][t]))})),this.event=e||{},this.sender=null,this.target=null,this.status=null,this.error=null,this.forwardLooking=!0,this._pushActions=null,this._replacingEvent=null,this._localRedactionEvent=null,this._isCancelled=!1,this._clearEvent={},this._senderCurve25519Key=null,this._claimedEd25519Key=null,this._forwardingCurve25519KeyChain=[],this._decryptionPromise=null,this._retryDecryption=!1},h.default.inherits(e.exports.MatrixEvent,d.EventEmitter),h.default.extend(e.exports.MatrixEvent.prototype,{getId:function(){return this.event.event_id},getSender:function(){return this.event.sender||this.event.user_id},getType:function(){return this._clearEvent.type||this.event.type},getWireType:function(){return this.event.type},getRoomId:function(){return this.event.room_id},getTs:function(){return this.event.origin_server_ts},getDate:function(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null},getOriginalContent:function(){return this._localRedactionEvent?{}:this._clearEvent.content||this.event.content||{}},getContent:function(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()},getWireContent:function(){return this.event.content||{}},getPrevContent:function(){return this.getUnsigned().prev_content||this.event.prev_content||{}},getDirectionalContent:function(){return this.forwardLooking?this.getContent():this.getPrevContent()},getAge:function(){return this.getUnsigned().age||this.event.age},getLocalAge:function(){return Date.now()-this.getTs()},getStateKey:function(){return this.event.state_key},isState:function(){return void 0!==this.event.state_key},makeEncrypted:function(e,t,r,n){this._clearEvent={type:this.event.type,content:this.event.content},this.event.type=e,this.event.content=t,this._senderCurve25519Key=r,this._claimedEd25519Key=n},isBeingDecrypted:function(){return null!=this._decryptionPromise},isDecryptionFailure:function(){return this._clearEvent&&this._clearEvent.content&&"m.bad.encrypted"===this._clearEvent.content.msgtype},attemptDecryption:(y=(0,l.method)((function(e){if(!this.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");if(this._clearEvent&&this._clearEvent.content&&"m.bad.encrypted"!==this._clearEvent.content.msgtype)throw new Error("Attempt to decrypt event which has already been encrypted");return this._decryptionPromise?(f.default.log("Event "+this.getId()+" already being decrypted; queueing a retry"),this._retryDecryption=!0,this._decryptionPromise):(this._decryptionPromise=this._decryptionLoop(e),this._decryptionPromise)})),function(e){return y.apply(this,arguments)}),cancelAndResendKeyRequest:function(e,t){var r=this.getWireContent();return e.requestRoomKey({algorithm:r.algorithm,room_id:this.getRoomId(),session_id:r.session_id,sender_key:r.sender_key},this.getKeyRequestRecipients(t),!0)},getKeyRequestRecipients:function(e){var t=this.getWireContent(),r=[{userId:e,deviceId:"*"}],n=this.getSender();return n!==e&&r.push({userId:n,deviceId:t.device_id}),r},_decryptionLoop:(m=(0,l.coroutine)(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.resolve)(c.default.resolve());case 2:if(this._retryDecryption=!1,r=void 0,n=void 0,e.prev=6,t){e.next=11;break}r=this._badEncryptedMessage("Encryption not enabled"),e.next=14;break;case 11:return e.next=13,(0,l.resolve)(t.decryptEvent(this));case 13:r=e.sent;case 14:e.next=29;break;case 16:if(e.prev=16,e.t0=e.catch(6),"DecryptionError"===e.t0.name){e.next=23;break}return f.default.error("Error decrypting event (id="+this.getId()+"): "+(e.t0.stack||e.t0)),this._decryptionPromise=null,this._retryDecryption=!1,e.abrupt("return");case 23:if(n=e.t0,!this._retryDecryption){e.next=27;break}return f.default.log("Got error decrypting event (id="+this.getId()+": "+e.t0+"), but retrying"),e.abrupt("continue",2);case 27:f.default.warn("Error decrypting event (id="+this.getId()+"): "+e.t0.detailedString),r=this._badEncryptedMessage(e.t0.message);case 29:return this._decryptionPromise=null,this._retryDecryption=!1,this._setClearData(r),this.setPushActions(null),this.emit("Event.decrypted",this,n),e.abrupt("return");case 37:case"end":return e.stop()}}),e,this,[[6,16]])}))),function(e){return m.apply(this,arguments)}),_badEncryptedMessage:function(e){return{clearEvent:{type:"m.room.message",content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+e+" **"}}}},_setClearData:function(e){this._clearEvent=e.clearEvent,this._senderCurve25519Key=e.senderCurve25519Key||null,this._claimedEd25519Key=e.claimedEd25519Key||null,this._forwardingCurve25519KeyChain=e.forwardingCurve25519KeyChain||[]},getClearContent:function(){var e=this._clearEvent;return e&&e.content?e.content:null},isEncrypted:function(){return"m.room.encrypted"===this.event.type},getSenderKey:function(){return this._senderCurve25519Key},getKeysClaimed:function(){return{ed25519:this._claimedEd25519Key}},getClaimedEd25519Key:function(){return this._claimedEd25519Key},getForwardingCurve25519KeyChain:function(){return this._forwardingCurve25519KeyChain},getUnsigned:function(){return this.event.unsigned||{}},unmarkLocallyRedacted:function(){var e=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=null),!!e},markLocallyRedacted:function(e){this._localRedactionEvent||(this.emit("Event.beforeRedaction",this,e),this._localRedactionEvent=e,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event)},makeRedacted:function(e){if(!e.event)throw new Error("invalid redaction_event in makeRedacted");this._localRedactionEvent=null,this.emit("Event.beforeRedaction",this,e),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event;var t=void 0;for(t in this.event)this.event.hasOwnProperty(t)&&(k[t]||delete this.event[t]);var r=S[this.getType()]||{},content=this.getContent();for(t in content)content.hasOwnProperty(t)&&(r[t]||delete content[t])},isRedacted:function(){return Boolean(this.getUnsigned().redacted_because)},isRedaction:function(){return"m.room.redaction"===this.getType()},getPushActions:function(){return this._pushActions},setPushActions:function(e){this._pushActions=e},handleRemoteEcho:function(e){var t=this.getUnsigned(),r=this.getId();this.event=e,t.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=t.redacted_because),this.setStatus(null),this.getId()!==r&&this.emit("Event.localEventIdReplaced",this)},isSending:function(){return!!this.status},setStatus:function(e){this.status=e,this.emit("Event.status",this,e)},replaceLocalEventId:function(e){this.event.event_id=e,this.emit("Event.localEventIdReplaced",this)},isRelation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,content=this.getWireContent(),t=content&&content["m.relates_to"];return t&&t.rel_type&&t.event_id&&(e&&t.rel_type===e||!e)},getRelation:function(){return this.isRelation()?this.getWireContent()["m.relates_to"]:null},makeReplaced:function(e){this.isRedacted()&&e||this._replacingEvent!==e&&(this._replacingEvent=e,this.emit("Event.replaced",this))},getAssociatedStatus:function(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status},getServerAggregatedRelation:function(e){var t=this.getUnsigned()["m.relations"];if(t)return t[e]},replacingEventId:function(){var e=this.getServerAggregatedRelation("m.replace");return e?e.event_id:this._replacingEvent?this._replacingEvent.getId():void 0},replacingEvent:function(){return this._replacingEvent},replacingEventDate:function(){var e=this.getServerAggregatedRelation("m.replace");if(e){var t=e.origin_server_ts;if((0,n.default)(t))return new Date(t)}else if(this._replacingEvent)return this._replacingEvent.getDate()},localRedactionEvent:function(){return this._localRedactionEvent},getAssociatedId:function(){var e=this.getRelation();return e?e.event_id:this.isRedaction()?this.event.redacts:void 0},hasAssocation:function(){return!!this.getAssociatedId()},updateAssociatedId:function(e){var t=this.getRelation();t?t.event_id=e:this.isRedaction()&&(this.event.redacts=e)},flagCancelled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isCancelled=e},isCancelled:function(){return this._isCancelled},toJSON:function(){var e={type:this.getType(),sender:this.getSender(),content:this.getContent(),event_id:this.getId(),origin_server_ts:this.getTs(),unsigned:this.getUnsigned(),room_id:this.getRoomId()};return this.isRedaction()&&(e.redacts=this.event.redacts),this.isEncrypted()?{decrypted:e,encrypted:this.event}:e}});var k=["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"].reduce((function(e,t){return e[t]=1,e}),{}),S={"m.room.member":{membership:1},"m.room.create":{creator:1},"m.room.join_rules":{join_rule:1},"m.room.power_levels":{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1},"m.room.aliases":{aliases:1}}},,function(e,t,r){e.exports={default:r(422),__esModule:!0}},function(e,t,r){e.exports={default:r(425),__esModule:!0}},function(e,t,r){"use strict";r(14),r(12),r(10),r(9),r(13);var n=r(2),o=r(30),l=r(5),c=r(4);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return Object(l.d)(t)?t.reduce((function(t,r){return[].concat(Object(o.a)(t),[e(r,r)])}),[]):Object(c.k)(t)?Object(c.l)(t).reduce((function(r,o){return h({},r,Object(n.a)({},o,e(t[o],t[o])))}),{}):r}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var content=function(e,t){var content=e[1]||"",r=e[3];if(!r)return content;if(t&&"function"==typeof btoa){var n=(l=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(data," */")),o=r.sources.map((function(source){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([n]).join("\n")}var l,c,data;return[content].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(content,"}"):content})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&o[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),t.push(d))}},t}},function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],l=o[0],c={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};n[l]?n[l].parts.push(c):r.push(n[l]={id:l,parts:[c]})}return r}r.r(t),r.d(t,"default",(function(){return y}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,d=0,h=!1,f=function(){},v=null,m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function y(e,t,r,o){h=r,v=o||{};var c=n(e,t);return _(c),function(t){for(var r=[],i=0;i<c.length;i++){var o=c[i];(d=l[o.id]).refs--,r.push(d)}t?_(c=n(e,t)):c=[];for(i=0;i<r.length;i++){var d;if(0===(d=r[i]).refs){for(var h=0;h<d.parts.length;h++)d.parts[h]();delete l[d.id]}}}}function _(e){for(var i=0;i<e.length;i++){var t=e[i],r=l[t.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](t.parts[n]);for(;n<t.parts.length;n++)r.parts.push(k(t.parts[n]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var o=[];for(n=0;n<t.parts.length;n++)o.push(k(t.parts[n]));l[t.id]={id:t.id,refs:1,parts:o}}}}function w(){var e=document.createElement("style");return e.type="text/css",head.appendChild(e),e}function k(e){var t,r,n=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(n){if(h)return f;n.parentNode.removeChild(n)}if(m){var o=d++;n=c||(c=w()),t=O.bind(null,n,o,!1),r=O.bind(null,n,o,!0)}else n=w(),t=T.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var S,x=(S=[],function(e,t){return S[e]=t,S.filter(Boolean).join("\n")});function O(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var l=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(l,c[t]):e.appendChild(l)}}function T(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),v.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}},,,function(e,t,r){e.exports={default:r(468),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(96),l=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=c(r(275)),o=c(r(104)),l=c(r(96));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return y}));r(14),r(12),r(10),r(9),r(13);var n=r(2),o=(r(23),r(3)),l=r(6),c=r(16),d=r(1),h=r(15);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var v={variant:{type:String,default:null},fontScale:{type:[Number,String],default:1},scale:{type:[Number,String],default:1},rotate:{type:[Number,String],default:0},flipH:{type:Boolean,default:!1},flipV:{type:Boolean,default:!1},shiftH:{type:[Number,String],default:0},shiftV:{type:[Number,String],default:0}},m={width:"1em",height:"1em",viewBox:"0 0 20 20",focusable:"false",role:"img",alt:"icon"},y=o.a.extend({name:"BVIconBase",functional:!0,props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({content:{type:String},stacked:{type:Boolean,default:!1}},v),render:function(e,t){var data=t.data,r=t.props,o=t.children,f=Math.max(Object(h.b)(r.fontScale)||1,0)||1,v=Math.max(Object(h.b)(r.scale)||1,0)||1,y=Object(h.b)(r.rotate)||0,_=Object(h.b)(r.shiftH)||0,w=Object(h.b)(r.shiftV)||0,k=r.flipH,S=r.flipV,x=k||S||1!==v,O=x||y,T=_||w,E=[O?"translate(10 10)":null,x?"scale(".concat((k?-1:1)*v," ").concat((S?-1:1)*v,")"):null,y?"rotate(".concat(y,")"):null,O?"translate(-10 -10)":null].filter(c.a),C=r.stacked,I=!Object(d.l)(r.content),j=e("g",{attrs:{transform:E.join(" ")||null},domProps:I?{innerHTML:r.content||""}:{}},o);return T&&(j=e("g",{attrs:{transform:"translate(".concat(20*_/16," ").concat(-20*w/16,")")}},[j])),e("svg",Object(l.a)({staticClass:"b-icon bi",class:Object(n.a)({},"text-".concat(r.variant),!!r.variant),attrs:m,style:C?{}:{fontSize:1===f?null:"".concat(100*f,"%")}},data,C?{attrs:{width:null,height:null,role:null,alt:null}}:{},{attrs:{xmlns:C?null:"http://www.w3.org/2000/svg",fill:"currentColor"}}),[j])}})},function(e,t,r){"use strict";var n=r(4);t.a=Object(n.d)({breakpoints:["xs","sm","md","lg","xl"],formControls:{size:null},BAlert:{dismissLabel:"Close",variant:"info"},BBadge:{variant:"secondary"},BButton:{size:null,variant:"secondary"},BButtonClose:{content:"&times;",textVariant:null,ariaLabel:"Close"},BCalendar:{labelPrevYear:"Previous year",labelPrevMonth:"Previous month",labelCurrentMonth:"Current month",labelNextMonth:"Next month",labelNextYear:"Next year",labelToday:"Today",labelSelected:"Selected date",labelNoDateSelected:"No date selected",labelCalendar:"Calendar",labelNav:"Calendar navigation",labelHelp:"Use cursor keys to navigate calendar dates"},BCardSubTitle:{subTitleTextVariant:"muted"},BCarousel:{labelPrev:"Previous Slide",labelNext:"Next Slide",labelGotoSlide:"Goto Slide",labelIndicators:"Select a slide to display"},BDropdown:{toggleText:"Toggle Dropdown",size:null,variant:"secondary",splitVariant:null},BFormDatepicker:{labelPrevYear:null,labelPrevMonth:null,labelCurrentMonth:null,labelNextMonth:null,labelNextYear:null,labelToday:null,labelSelected:null,labelNoDateSelected:null,labelCalendar:null,labelNav:null,labelHelp:null,labelTodayButton:"Select today",labelResetButton:"Reset",labelCloseButton:"Close"},BFormFile:{browseText:"Browse",placeholder:"No file chosen",dropPlaceholder:"Drop files here"},BFormSpinbutton:{labelDecrement:"Decrement",labelIncrement:"Increment"},BFormTag:{removeLabel:"Remove tag",variant:"secondary"},BFormTags:{addButtonText:"Add",addButtonVariant:"outline-secondary",duplicateTagText:"Duplicate tag(s)",invalidTagText:"Invalid tag(s)",placeholder:"Add tag...",tagRemoveLabel:"Remove tag",tagRemovedLabel:"Tag removed",tagVariant:"secondary"},BFormText:{textVariant:"muted"},BImg:{blankColor:"transparent"},BImgLazy:{blankColor:"transparent"},BInputGroup:{size:null},BJumbotron:{bgVariant:null,borderVariant:null,textVariant:null},BListGroupItem:{variant:null},BModal:{titleTag:"h5",size:"md",headerBgVariant:null,headerBorderVariant:null,headerTextVariant:null,headerCloseVariant:null,bodyBgVariant:null,bodyTextVariant:null,footerBgVariant:null,footerBorderVariant:null,footerTextVariant:null,cancelTitle:"Cancel",cancelVariant:"secondary",okTitle:"OK",okVariant:"primary",headerCloseContent:"&times;",headerCloseLabel:"Close"},BNavbar:{variant:null},BNavbarToggle:{label:"Toggle navigation"},BPagination:{size:null},BPaginationNav:{size:null},BPopover:{boundary:"scrollParent",boundaryPadding:5,customClass:null,delay:50,variant:null},BProgress:{variant:null},BProgressBar:{variant:null},BSpinner:{variant:null},BTable:{selectedVariant:"active",headVariant:null,footVariant:null},BToast:{toaster:"b-toaster-top-right",autoHideDelay:5e3,variant:null,toastClass:null,headerClass:null,bodyClass:null},BToaster:{ariaLive:null,ariaAtomic:null,role:null},BTooltip:{boundary:"scrollParent",boundaryPadding:5,customClass:null,delay:50,variant:null}})},,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;var n=c(r(409)),o=c(r(415)),l="function"==typeof o.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function c(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===l(n.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":l(e)}},,,function(e,t,r){"use strict";(function(t){var n,o=_(r(66)),l=r(20),c=_(l),d=_(r(161)),h=_(r(26)),f=_(r(29)),v=_(r(65)),m=(n=(0,l.coroutine)(f.default.mark((function e(t,r,n,o){var c,d;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.deviceId,e.prev=1,e.next=4,(0,l.resolve)(T(t,r,n,c,o.getFingerprint()));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),y.default.error("Unable to verify signature on one-time key for device "+n+":"+c+":",e.t0),e.abrupt("return",null);case 10:return d=void 0,e.prev=11,e.next=14,(0,l.resolve)(t.createOutboundSession(o.getIdentityKey(),r.key));case 14:d=e.sent,e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(11),y.default.error("Error starting olm session with device "+n+":"+c+": "+e.t1),e.abrupt("return",null);case 21:return y.default.log("Started new olm sessionid "+d+" for device "+n+":"+c),e.abrupt("return",d);case 23:case"end":return e.stop()}}),e,this,[[1,6],[11,17]])}))),function(e,t,r,o){return n.apply(this,arguments)}),y=_(r(22));function _(e){return e&&e.__esModule?e:{default:e}}var w,k,S=r(214),x=r(21);e.exports.OLM_ALGORITHM="m.olm.v1.curve25519-aes-sha2",e.exports.MEGOLM_ALGORITHM="m.megolm.v1.aes-sha2",e.exports.MEGOLM_BACKUP_ALGORITHM="m.megolm_backup.v1.curve25519-aes-sha2",e.exports.encryptMessageForDevice=(w=(0,l.coroutine)(f.default.mark((function e(t,r,n,o,c,d,h){var m,_,w;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=d.getIdentityKey(),e.next=3,(0,l.resolve)(o.getSessionIdForDevice(m));case 3:if(null!==(_=e.sent)){e.next=6;break}return e.abrupt("return");case 6:return y.default.log("Using sessionid "+_+" for device "+c+":"+d.deviceId),w={sender:r,sender_device:n,keys:{ed25519:o.deviceEd25519Key},recipient:c,recipient_keys:{ed25519:d.getFingerprint()}},x.extend(w,h),e.next=11,(0,l.resolve)(o.encryptMessage(m,_,(0,v.default)(w)));case 11:t[m]=e.sent;case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,l,c){return w.apply(this,arguments)}),e.exports.ensureOlmSessionsForDevices=(k=(0,l.coroutine)(f.default.mark((function e(t,r,n,o){var v,_,w,k,S,x,O,T,E,C,I,j,M,R,A,P,B,D,L=this;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=[],_={},w={},e.t0=f.default.keys(n);case 4:if((e.t1=e.t0()).done){e.next=19;break}if(k=e.t1.value,n.hasOwnProperty(k)){e.next=8;break}return e.abrupt("continue",4);case 8:_[k]={},S=n[k],x=f.default.mark((function e(r){var n,d,h,m;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S[r],d=n.deviceId,h=n.getIdentityKey(),t._sessionsInProgress[h]||(t._sessionsInProgress[h]=new c.default((function(e,r){w[h]={resolve:function(){delete t._sessionsInProgress[h],e.apply(void 0,arguments)},reject:function(){delete t._sessionsInProgress[h],r.apply(void 0,arguments)}}}))),e.next=6,(0,l.resolve)(t.getSessionIdForDevice(h,w[h]));case 6:null!==(m=e.sent)&&w[h]&&(delete t._sessionsInProgress[h],w[h].resolve(),delete w[h]),(null===m||o)&&v.push([k,d]),_[k][d]={device:n,sessionId:m};case 10:case"end":return e.stop()}}),e,L)})),O=0;case 12:if(!(O<S.length)){e.next=17;break}return e.delegateYield(x(O),"t2",14);case 14:O++,e.next=12;break;case 17:e.next=4;break;case 19:if(0!==v.length){e.next=21;break}return e.abrupt("return",_);case 21:return T="signed_curve25519",E=void 0,e.prev=23,e.next=26,(0,l.resolve)(r.claimOneTimeKeys(v,T));case 26:E=e.sent,e.next=52;break;case 29:for(e.prev=29,e.t3=e.catch(23),C=!0,I=!1,j=void 0,e.prev=34,M=(0,h.default)((0,d.default)(w));!(C=(R=M.next()).done);C=!0)R.value.resolve();e.next=42;break;case 38:e.prev=38,e.t4=e.catch(34),I=!0,j=e.t4;case 42:e.prev=42,e.prev=43,!C&&M.return&&M.return();case 45:if(e.prev=45,!I){e.next=48;break}throw j;case 48:return e.finish(45);case 49:return e.finish(42);case 50:throw y.default.log("failed to claim one-time keys",e.t3,v),e.t3;case 52:A=E.one_time_keys||{},P=[],B=function(e){if(!n.hasOwnProperty(e))return"continue";for(var r=A[e]||{},l=n[e],c=function(n){var c=l[n],d=c.deviceId,h=c.getIdentityKey();if(_[e][d].sessionId&&!o)return"continue";var f=r[d]||{},v=null;for(var k in f)0===k.indexOf(T+":")&&(v=f[k]);if(!v){var S="No one-time keys (alg="+T+") for device "+e+":"+d;return y.default.warn(S),w[h]&&w[h].resolve(),"continue"}P.push(m(t,v,e,c).then((function(t){w[h]&&w[h].resolve(t),_[e][d].sessionId=t}),(function(e){throw w[h]&&w[h].resolve(),e})))},d=0;d<l.length;d++)c(d)},e.t5=f.default.keys(n);case 56:if((e.t6=e.t5()).done){e.next=63;break}if(D=e.t6.value,"continue"!==B(D)){e.next=61;break}return e.abrupt("continue",56);case 61:e.next=56;break;case 63:return e.next=65,(0,l.resolve)(c.default.all(P));case 65:return e.abrupt("return",_);case 66:case"end":return e.stop()}}),e,this,[[23,29],[34,38,42,50],[43,,45,49]])}))),function(e,t,r,n){return k.apply(this,arguments)});var O,T=e.exports.verifySignature=(O=(0,l.method)((function(e,t,r,n,l){var c="ed25519:"+n,d=((t.signatures||{})[r]||{})[c];if(!d)throw Error("No signature");var h=(0,o.default)({},t);delete h.unsigned,delete h.signatures;var f=S.stringify(h);e.verifySignature(l,f,d)})),function(e,t,r,n,o){return O.apply(this,arguments)});e.exports.pkSign=function(e,r,n,o){var l=!1;if(r instanceof Uint8Array){var c=new t.Olm.PkSigning;o=c.init_with_seed(r),r=c,l=!0}var d=e.signatures||{};delete e.signatures;var h=e.unsigned;e.unsigned&&delete e.unsigned;try{var f=d[n]||{};return d[n]=f,f["ed25519:"+o]=r.sign(S.stringify(e))}finally{e.signatures=d,h&&(e.unsigned=h),l&&r.free()}},e.exports.pkVerify=function(e,r,n){var o="ed25519:"+r;if(!(e.signatures&&e.signatures[n]&&e.signatures[n][o]))throw new Error("No signature");var l=e.signatures[n][o],c=new t.Olm.Utility,d=e.signatures;delete e.signatures;var h=e.unsigned;e.unsigned&&delete e.unsigned;try{c.ed25519_verify(r,S.stringify(e),l)}finally{e.signatures=d,h&&(e.unsigned=h),c.free()}}}).call(this,r(24))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));r(14),r(12),r(10),r(9),r(13);var n=r(2),o=r(3),l=r(6),c=r(87);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=o.a.extend({name:"BIconstack",functional:!0,props:h({},c.b),render:function(e,t){var data=t.data,r=t.props,n=t.children;return e(c.a,Object(l.a)(data,{staticClass:"b-iconstack",props:h({},r,{stacked:!1})}),n)}})},,,,function(e,t,r){e.exports={default:r(404),__esModule:!0}},,,,function(e,t,r){e.exports={default:r(462),__esModule:!0}},function(e,t,r){"use strict";var n=r(503),o=r(504);function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=T,t.resolve=function(source,e){return T(source,!1,!0).resolve(e)},t.resolveObject=function(source,e){return source?T(source,!1,!0).resolveObject(e):e},t.format=function(e){o.isString(e)&&(e=T(e));return e instanceof l?e.format():l.prototype.format.call(e)},t.Url=l;var c=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),v=["'"].concat(f),m=["%","/","?",";","#"].concat(v),y=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=r(505);function T(e,t,r){if(e&&o.isObject(e)&&e instanceof l)return e;var u=new l;return u.parse(e,t,r),u}l.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),d=-1!==l&&l<e.indexOf("#")?"?":"#",f=e.split(d);f[0]=f[0].replace(/\\/g,"/");var T=e=f.join(d);if(T=T.trim(),!r&&1===e.split("#").length){var E=h.exec(T);if(E)return this.path=T,this.href=T,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?O.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var C=c.exec(T);if(C){var I=(C=C[0]).toLowerCase();this.protocol=I,T=T.substr(C.length)}if(r||C||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===T.substr(0,2);!j||C&&S[C]||(T=T.substr(2),this.slashes=!0)}if(!S[C]&&(j||C&&!x[C])){for(var M,R,A=-1,i=0;i<y.length;i++){-1!==(P=T.indexOf(y[i]))&&(-1===A||P<A)&&(A=P)}-1!==(R=-1===A?T.lastIndexOf("@"):T.lastIndexOf("@",A))&&(M=T.slice(0,R),T=T.slice(R+1),this.auth=decodeURIComponent(M)),A=-1;for(i=0;i<m.length;i++){var P;-1!==(P=T.indexOf(m[i]))&&(-1===A||P<A)&&(A=P)}-1===A&&(A=T.length),this.host=T.slice(0,A),T=T.slice(A),this.parseHost(),this.hostname=this.hostname||"";var B="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!B)for(var D=this.hostname.split(/\./),L=(i=0,D.length);i<L;i++){var z=D[i];if(z&&!z.match(_)){for(var F="",N=0,V=z.length;N<V;N++)z.charCodeAt(N)>127?F+="x":F+=z[N];if(!F.match(_)){var H=D.slice(0,i),$=D.slice(i+1),U=z.match(w);U&&(H.push(U[1]),$.unshift(U[2])),$.length&&(T="/"+$.join(".")+T),this.hostname=H.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=n.toASCII(this.hostname));var p=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+p,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==T[0]&&(T="/"+T))}if(!k[I])for(i=0,L=v.length;i<L;i++){var G=v[i];if(-1!==T.indexOf(G)){var W=encodeURIComponent(G);W===G&&(W=escape(G)),T=T.split(G).join(W)}}var Y=T.indexOf("#");-1!==Y&&(this.hash=T.substr(Y),T=T.slice(0,Y));var X=T.indexOf("?");if(-1!==X?(this.search=T.substr(X),this.query=T.substr(X+1),t&&(this.query=O.parse(this.query)),T=T.slice(0,X)):t&&(this.search="",this.query={}),T&&(this.pathname=T),x[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},l.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",l=!1,c="";this.host?l=e+this.host:this.hostname&&(l=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(c=O.stringify(this.query));var d=this.search||c&&"?"+c||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&!1!==l?(l="//"+(l||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):l||(l=""),n&&"#"!==n.charAt(0)&&(n="#"+n),d&&"?"!==d.charAt(0)&&(d="?"+d),t+l+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(d=d.replace("#","%23"))+n},l.prototype.resolve=function(e){return this.resolveObject(T(e,!1,!0)).format()},l.prototype.resolveObject=function(e){if(o.isString(e)){var t=new l;t.parse(e,!1,!0),e=t}for(var r=new l,n=Object.keys(this),c=0;c<n.length;c++){var d=n[c];r[d]=this[d]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var h=Object.keys(e),f=0;f<h.length;f++){var v=h[f];"protocol"!==v&&(r[v]=e[v])}return x[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!x[e.protocol]){for(var m=Object.keys(e),y=0;y<m.length;y++){var _=m[y];r[_]=e[_]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||S[e.protocol])r.pathname=e.pathname;else{for(var w=(e.pathname||"").split("/");w.length&&!(e.host=w.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==w[0]&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",s=r.search||"";r.path=p+s}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var k=r.pathname&&"/"===r.pathname.charAt(0),O=e.host||e.pathname&&"/"===e.pathname.charAt(0),T=O||k||r.host&&e.pathname,E=T,C=r.pathname&&r.pathname.split("/")||[],I=(w=e.pathname&&e.pathname.split("/")||[],r.protocol&&!x[r.protocol]);if(I&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===w[0]?w[0]=e.host:w.unshift(e.host)),e.host=null),T=T&&(""===w[0]||""===C[0])),O)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=w;else if(w.length)C||(C=[]),C.pop(),C=C.concat(w),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(I)r.hostname=r.host=C.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift());return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=C.slice(-1)[0],M=(r.host||e.host||C.length>1)&&("."===j||".."===j)||""===j,R=0,i=C.length;i>=0;i--)"."===(j=C[i])?C.splice(i,1):".."===j?(C.splice(i,1),R++):R&&(C.splice(i,1),R--);if(!T&&!E)for(;R--;R)C.unshift("..");!T||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),M&&"/"!==C.join("/").substr(-1)&&C.push("");var A,P=""===C[0]||C[0]&&"/"===C[0].charAt(0);I&&(r.hostname=r.host=P?"":C.length?C.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift()));return(T=T||r.host&&C.length)&&!P&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},l.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";var n=l(r(302)),o=l(r(26));function l(e){return e&&e.__esModule?e:{default:e}}var c=r(303);function d(e){this._eventTimelineSet=e,this._roomId=e.room?e.room.roomId:null,this._events=[],this._baseIndex=0,this._startState=new c(this._roomId),this._startState.paginationToken=null,this._endState=new c(this._roomId),this._endState.paginationToken=null,this._prevTimeline=null,this._nextTimeline=null,this._paginationRequests={b:null,f:null},this._name=this._roomId+":"+(new Date).toISOString()}d.BACKWARDS="b",d.FORWARDS="f",d.prototype.initialiseState=function(e){if(this._events.length>0)throw new Error("Cannot initialise state after events are added");var t=!0,r=!1,l=void 0;try{for(var c,d=(0,o.default)(e);!(t=(c=d.next()).done);t=!0){var h=c.value;(0,n.default)(h)}}catch(e){r=!0,l=e}finally{try{!t&&d.return&&d.return()}finally{if(r)throw l}}this._startState.setStateEvents(e),this._endState.setStateEvents(e)},d.prototype.forkLive=function(e){var t=this.getState(e),r=new d(this._eventTimelineSet);return r._startState=t.clone(),r._endState=t,this._endState=t.clone(),r},d.prototype.fork=function(e){var t=this.getState(e),r=new d(this._eventTimelineSet);return r._startState=t.clone(),r._endState=t.clone(),r},d.prototype.getRoomId=function(){return this._roomId},d.prototype.getFilter=function(){return this._eventTimelineSet.getFilter()},d.prototype.getTimelineSet=function(){return this._eventTimelineSet},d.prototype.getBaseIndex=function(){return this._baseIndex},d.prototype.getEvents=function(){return this._events},d.prototype.getState=function(e){if(e==d.BACKWARDS)return this._startState;if(e==d.FORWARDS)return this._endState;throw new Error("Invalid direction '"+e+"'")},d.prototype.getPaginationToken=function(e){return this.getState(e).paginationToken},d.prototype.setPaginationToken=function(e,t){this.getState(t).paginationToken=e},d.prototype.getNeighbouringTimeline=function(e){if(e==d.BACKWARDS)return this._prevTimeline;if(e==d.FORWARDS)return this._nextTimeline;throw new Error("Invalid direction '"+e+"'")},d.prototype.setNeighbouringTimeline=function(e,t){if(this.getNeighbouringTimeline(t))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+t+")");if(t==d.BACKWARDS)this._prevTimeline=e;else{if(t!=d.FORWARDS)throw new Error("Invalid direction '"+t+"'");this._nextTimeline=e}this.setPaginationToken(null,t)},d.prototype.addEvent=function(e,t){var r=t?this._startState:this._endState,n=this.getTimelineSet();n.room&&n.room.getUnfilteredTimelineSet()===n&&(d.setEventMetadata(e,r,t),e.isState()&&(r.setStateEvents([e]),e.sender&&("m.room.member"!==e.getType()||t)||d.setEventMetadata(e,r,t)));var o=void 0;o=t?0:this._events.length,this._events.splice(o,0,e),t&&this._baseIndex++},d.setEventMetadata=function(e,t,r){e.sender=t.getSentinelMember(e.getSender()),"m.room.member"===e.getType()&&(e.target=t.getSentinelMember(e.getStateKey())),e.isState()&&r&&(e.forwardLooking=!1)},d.prototype.removeEvent=function(e){for(var i=this._events.length-1;i>=0;i--){var t=this._events[i];if(t.getId()==e)return this._events.splice(i,1),i<this._baseIndex&&this._baseIndex--,t}return null},d.prototype.toString=function(){return this._name},e.exports=d},function(e,t,r){"use strict";var n=r(109),o=t.ValidationError=function(e,t,r,n,o,l){n&&(this.property=n),e&&(this.message=e),r&&(r.id?this.schema=r.id:this.schema=r),t&&(this.instance=t),this.name=o,this.argument=l,this.stack=this.toString()};o.prototype.toString=function(){return this.property+" "+this.message};var l=t.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.disableFormat=r&&!0===r.disableFormat};function c(e,i){return i+": "+e.toString()+"\n"}l.prototype.addError=function(e){var t;if("string"==typeof e)t=new o(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new o(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},l.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},l.prototype.toString=function(e){return this.errors.map(c).join("")},Object.defineProperty(l.prototype,"valid",{get:function(){return!this.errors.length}});var d=t.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};d.prototype=Object.create(Error.prototype,{constructor:{value:d,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var h=t.SchemaContext=function(e,t,r,base,n){this.schema=e,this.options=t,this.propertyPath=r,this.base=base,this.schemas=n};h.prototype.resolve=function(e){return n.resolve(this.base,e)},h.prototype.makeChild=function(e,t){var r=void 0===t?this.propertyPath:this.propertyPath+v(t),base=n.resolve(this.base,e.id||""),o=new h(e,this.options,r,base,Object.create(this.schemas));return e.id&&!o.schemas[base]&&(o.schemas[base]=e),o};var f=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(input){return"string"==typeof input&&parseFloat(input)===parseInt(input,10)&&!isNaN(input)},regex:function(input){var e=!0;try{new RegExp(input)}catch(t){e=!1}return e},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};f.regexp=f.regex,f.pattern=f.regex,f.ipv4=f["ip-address"],t.isFormat=function(input,e,t){if("string"==typeof input&&void 0!==f[e]){if(f[e]instanceof RegExp)return f[e].test(input);if("function"==typeof f[e])return f[e](input)}else if(t&&t.customFormats&&"function"==typeof t.customFormats[e])return t.customFormats[e](input);return!0};var v=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function m(e,t,r,i){"object"==typeof r?t[i]=w(e[i],r):-1===e.indexOf(r)&&t.push(r)}function y(e,t,r){t[r]=e[r]}function _(e,t,r,n){"object"==typeof t[n]&&t[n]&&e[n]?r[n]=w(e[n],t[n]):r[n]=t[n]}function w(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(m.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(y.bind(null,e,n)),Object.keys(t).forEach(_.bind(null,e,t,n))),n}function k(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(a,b){if(typeof a!=typeof b)return!1;if(a instanceof Array)return b instanceof Array&&(a.length===b.length&&a.every((function(t,i){return e(a[i],b[i])})));if("object"==typeof a){if(!a||!b)return a===b;var t=Object.keys(a),r=Object.keys(b);return t.length===r.length&&t.every((function(t){return e(a[t],b[t])}))}return a===b},e.exports.deepMerge=w,t.objectGetPath=function(e,s){for(var t,r=s.split("/").slice(1);"string"==typeof(t=r.shift());){var n=decodeURIComponent(t.replace(/~0/,"~").replace(/~1/g,"/"));if(!(n in e))return;e=e[n]}return e},t.encodePath=function(a){return a.map(k).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(17))&&"object"==typeof n&&"default"in n?n.default:n;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d="undefined"!=typeof window;function h(e,t){return t.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{})}var f={},v={},m={},y=new(o.extend({data:function(){return{transports:f,targets:v,sources:m,trackInstances:d}},methods:{open:function(e){if(d){var t=e.to,r=e.from,n=e.passengers,c=e.order,h=void 0===c?1/0:c;if(t&&r&&n){var f,v={to:t,from:r,passengers:(f=n,Array.isArray(f)||"object"===l(f)?Object.freeze(f):f),order:h};-1===Object.keys(this.transports).indexOf(t)&&o.set(this.transports,t,[]);var m,y=this.$_getTransportIndex(v),_=this.transports[t].slice(0);-1===y?_.push(v):_[y]=v,this.transports[t]=(m=function(a,b){return a.order-b.order},_.map((function(e,t){return[t,e]})).sort((function(a,b){return m(a[1],b[1])||a[0]-b[0]})).map((function(e){return e[1]})))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.to,n=e.from;if(r&&(n||!1!==t)&&this.transports[r])if(t)this.transports[r]=[];else{var o=this.$_getTransportIndex(e);if(o>=0){var l=this.transports[r].slice(0);l.splice(o,1),this.transports[r]=l}}},registerTarget:function(e,t,r){d&&(this.trackInstances&&!r&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(source,e,t){d&&(this.trackInstances&&!t&&this.sources[source]&&console.warn("[portal-vue]: source ".concat(source," already exists")),this.$set(this.sources,source,Object.freeze([e])))},unregisterSource:function(source){this.$delete(this.sources,source)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,r=e.from;for(var i in this.transports[t])if(this.transports[t][i].from===r)return+i;return-1}}}))(f),_=1,w=o.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(_++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){y.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){y.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};y.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"==typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:c(e),order:this.order};y.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],r=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(r,[this.normalizeOwnChildren(t)]):this.slim?e():e(r,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),k=o.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:y.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){y.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){y.unregisterTarget(t),y.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){y.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,r){var n=r.passengers[0],o="function"==typeof n?n(t):r.passengers;return e.concat(o)}),[])}(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),r=this.children(),n=this.transition||this.tag;return t?r[0]:this.slim&&!n?e():e(n,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},r)}}),S=0,x=["disabled","name","order","slim","slotProps","tag","to"],O=["multiple","transition"],T=o.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(S++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!=typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(y.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=y.targets[t.name];else{var r=t.append;if(r){var n="string"==typeof r?r:"DIV",o=document.createElement(n);e.appendChild(o),e=o}var l=h(this.$props,O);l.slim=this.targetSlim,l.tag=this.targetTag,l.slotProps=this.targetSlotProps,l.name=this.to,this.portalTarget=new k({el:e,parent:this.$parent||this,propsData:l})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=h(this.$props,x);return e(w,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var content=this.$scopedSlots.manual({to:this.to});return Array.isArray(content)&&(content=content[0]),content||e()}});var E={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",w),e.component(t.portalTargetName||"PortalTarget",k),e.component(t.MountingPortalName||"MountingPortal",T)}};t.default=E,t.Portal=w,t.PortalTarget=k,t.MountingPortal=T,t.Wormhole=y},function(e,t,r){"use strict";var n={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var r=t.parent,n=t.slots,o=t.props,l=n(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return r._isMounted?c:(r.$once("hook:mounted",(function(){r.$forceUpdate()})),o.placeholderTag&&(o.placeholder||d)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||d):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=n},,,,,,,,,,,,,,,,function(e,t,r){e.exports={default:r(453),__esModule:!0}},,function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=_(r(42)),o=_(r(47)),l=_(r(20)),c=_(r(22)),d=_(r(465)),h=_(r(212)),f=y(r(470)),v=r(207),m=y(r(279));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var w=function(){function t(e,r){(0,n.default)(this,t),this._indexedDB=e,this._dbName=r,this._backendPromise=null}return(0,o.default)(t,[{key:"_connect",value:function(){var r=this;return this._backendPromise?this._backendPromise:(this._backendPromise=new l.default((function(e,t){if(r._indexedDB){c.default.log("connecting to indexeddb "+r._dbName);var n=r._indexedDB.open(r._dbName,f.VERSION);n.onupgradeneeded=function(e){var t=e.target.result,r=e.oldVersion;f.upgradeDatabase(t,r)},n.onblocked=function(){c.default.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},n.onerror=function(e){c.default.log("Error connecting to indexeddb",e),t(e.target.error)},n.onsuccess=function(t){var n=t.target.result;c.default.log("connected to indexeddb "+r._dbName),e(new f.Backend(n))}}else t(new Error("no indexeddb support available"))})).then((function(e){return e.doTxn("readonly",[t.STORE_INBOUND_GROUP_SESSIONS],(function(t){e.getEndToEndInboundGroupSession("","",t,(function(){}))})).then((function(){return e}))})).catch((function(t){if("VersionError"===t.name)throw c.default.warn("Crypto DB is too new for us to use!",t),new v.InvalidCryptoStoreError(v.InvalidCryptoStoreError.TOO_NEW);c.default.warn("unable to connect to indexeddb "+r._dbName+": falling back to localStorage store: "+t);try{return new d.default(e.localStorage)}catch(t){return c.default.warn("unable to open localStorage: falling back to in-memory store: "+t),new h.default}})),this._backendPromise)}},{key:"deleteAllData",value:function(){var e=this;return new l.default((function(t,r){if(e._indexedDB){c.default.log("Removing indexeddb instance: "+e._dbName);var n=e._indexedDB.deleteDatabase(e._dbName);n.onblocked=function(){c.default.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},n.onerror=function(e){c.default.log("Error deleting data from indexeddb",e),r(e.target.error)},n.onsuccess=function(){c.default.log("Removed indexeddb instance: "+e._dbName),t()}}else r(new Error("no indexeddb support available"))})).catch((function(e){c.default.warn("unable to delete IndexedDBCryptoStore: "+e)}))}},{key:"getOrAddOutgoingRoomKeyRequest",value:function(e){return this._connect().then((function(t){return t.getOrAddOutgoingRoomKeyRequest(e)}))}},{key:"getOutgoingRoomKeyRequest",value:function(e){return this._connect().then((function(t){return t.getOutgoingRoomKeyRequest(e)}))}},{key:"getOutgoingRoomKeyRequestByState",value:function(e){return this._connect().then((function(t){return t.getOutgoingRoomKeyRequestByState(e)}))}},{key:"getOutgoingRoomKeyRequestsByTarget",value:function(e,t,r){return this._connect().then((function(n){return n.getOutgoingRoomKeyRequestsByTarget(e,t,r)}))}},{key:"updateOutgoingRoomKeyRequest",value:function(e,t,r){return this._connect().then((function(n){return n.updateOutgoingRoomKeyRequest(e,t,r)}))}},{key:"deleteOutgoingRoomKeyRequest",value:function(e,t){return this._connect().then((function(r){return r.deleteOutgoingRoomKeyRequest(e,t)}))}},{key:"getAccount",value:function(e,t){this._backendPromise.then((function(r){r.getAccount(e,t)}))}},{key:"storeAccount",value:function(e,t){this._backendPromise.then((function(r){r.storeAccount(e,t)}))}},{key:"getCrossSigningKeys",value:function(e,t){this._backendPromise.then((function(r){r.getCrossSigningKeys(e,t)}))}},{key:"storeCrossSigningKeys",value:function(e,t){this._backendPromise.then((function(r){r.storeCrossSigningKeys(e,t)}))}},{key:"countEndToEndSessions",value:function(e,t){this._backendPromise.then((function(r){r.countEndToEndSessions(e,t)}))}},{key:"getEndToEndSession",value:function(e,t,r,n){this._backendPromise.then((function(o){o.getEndToEndSession(e,t,r,n)}))}},{key:"getEndToEndSessions",value:function(e,t,r){this._backendPromise.then((function(n){n.getEndToEndSessions(e,t,r)}))}},{key:"getAllEndToEndSessions",value:function(e,t){this._backendPromise.then((function(r){r.getAllEndToEndSessions(e,t)}))}},{key:"storeEndToEndSession",value:function(e,t,r,n){this._backendPromise.then((function(o){o.storeEndToEndSession(e,t,r,n)}))}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){this._backendPromise.then((function(o){o.getEndToEndInboundGroupSession(e,t,r,n)}))}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){this._backendPromise.then((function(r){r.getAllEndToEndInboundGroupSessions(e,t)}))}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){this._backendPromise.then((function(o){o.addEndToEndInboundGroupSession(e,t,r,n)}))}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){this._backendPromise.then((function(o){o.storeEndToEndInboundGroupSession(e,t,r,n)}))}},{key:"storeEndToEndDeviceData",value:function(e,t){this._backendPromise.then((function(r){r.storeEndToEndDeviceData(e,t)}))}},{key:"getEndToEndDeviceData",value:function(e,t){this._backendPromise.then((function(r){r.getEndToEndDeviceData(e,t)}))}},{key:"storeEndToEndRoom",value:function(e,t,r){this._backendPromise.then((function(n){n.storeEndToEndRoom(e,t,r)}))}},{key:"getEndToEndRooms",value:function(e,t){this._backendPromise.then((function(r){r.getEndToEndRooms(e,t)}))}},{key:"getSessionsNeedingBackup",value:function(e){return this._connect().then((function(t){return t.getSessionsNeedingBackup(e)}))}},{key:"countSessionsNeedingBackup",value:function(e){return this._connect().then((function(t){return t.countSessionsNeedingBackup(e)}))}},{key:"unmarkSessionsNeedingBackup",value:function(e,t){return this._connect().then((function(r){return r.unmarkSessionsNeedingBackup(e,t)}))}},{key:"markSessionsNeedingBackup",value:function(e,t){return this._connect().then((function(r){return r.markSessionsNeedingBackup(e,t)}))}},{key:"doTxn",value:function(e,t,r){return this._connect().then((function(n){return n.doTxn(e,t,r)}))}}],[{key:"exists",value:function(e,t){return m.exists(e,t)}}]),t}();t.default=w,w.STORE_ACCOUNT="account",w.STORE_SESSIONS="sessions",w.STORE_INBOUND_GROUP_SESSIONS="inbound_group_sessions",w.STORE_DEVICE_DATA="device_data",w.STORE_ROOMS="rooms",w.STORE_BACKUP="sessions_needing_backup"}).call(this,r(24))},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(278),l=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?(0,l.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){e.exports={default:r(483),__esModule:!0}},function(e,t,r){"use strict";(function(t){var n=d(r(29)),o=r(20),l=d(r(104)),c=d(r(22));function d(e){return e&&e.__esModule?e:{default:e}}var h=r(21),f=r(49).EventEmitter;function v(e){this.roomId=e.roomId,this.client=e.client,this.webRtc=e.webRtc,this.forceTURN=e.forceTURN,this.URL=e.URL,this.turnServers=e.turnServers||[],0===this.turnServers.length&&this.client.isFallbackICEServerAllowed()&&this.turnServers.push({urls:[v.FALLBACK_ICE_SERVER]}),h.forEach(this.turnServers,(function(e){h.checkObjectHasKeys(e,["urls"])})),this.callId="c"+(new Date).getTime()+Math.random(),this.state="fledgling",this.didConnect=!1,this.candidateSendQueue=[],this.candidateSendTries=0,this.mediaPromises=(0,l.default)(null),this.screenSharingStream=null,this._answerContent=null}v.CALL_TIMEOUT_MS=6e4,v.FALLBACK_ICE_SERVER="stun:turn.matrix.org",v.ERR_LOCAL_OFFER_FAILED="local_offer_failed",v.ERR_NO_USER_MEDIA="no_user_media",v.ERR_UNKNOWN_DEVICES="unknown_devices",v.ERR_SEND_INVITE="send_invite",v.ERR_SEND_ANSWER="send_answer",h.inherits(v,f),v.prototype.placeVoiceCall=function(){j("placeVoiceCall"),C(this),R(this,B("voice")),this.type="voice"},v.prototype.placeVideoCall=function(e,t){j("placeVideoCall"),C(this),this.localVideoElement=t,this.remoteVideoElement=e,R(this,B("video")),this.type="video",T(this)},v.prototype.placeScreenSharingCall=function(e,t){j("placeScreenSharingCall"),C(this);var r=P(this);if(r){this.localVideoElement=t,this.remoteVideoElement=e;var n=this;this.webRtc.getUserMedia(r,(function(e){n.screenSharingStream=e,j("Got screen stream, requesting audio stream...");var t=B("voice");R(n,t)}),(function(e){n.emit("error",I(v.ERR_NO_USER_MEDIA,"Failed to get screen-sharing stream: "+e))})),this.type="video",T(this)}},v.prototype.playElement=function(element,e){c.default.log("queuing play on "+e+" and element "+element),this.mediaPromises[e]?this.mediaPromises[e]=this.mediaPromises[e].then((function(){return c.default.log("previous promise completed for "+e),element.play()}),(function(){return c.default.log("previous promise failed for "+e),element.play()})):this.mediaPromises[e]=element.play()},v.prototype.pauseElement=function(element,e){c.default.log("queuing pause on "+e+" and element "+element),this.mediaPromises[e]?this.mediaPromises[e]=this.mediaPromises[e].then((function(){return c.default.log("previous promise completed for "+e),element.pause()}),(function(){return c.default.log("previous promise failed for "+e),element.pause()})):this.mediaPromises[e]=element.pause()},v.prototype.assignElement=function(element,e,t){c.default.log("queuing assign on "+t+" element "+element+" for "+e),this.mediaPromises[t]?this.mediaPromises[t]=this.mediaPromises[t].then((function(){c.default.log("previous promise completed for "+t),element.srcObject=e}),(function(){c.default.log("previous promise failed for "+t),element.srcObject=e})):element.srcObject=e},v.prototype.getLocalVideoElement=function(){return this.localVideoElement},v.prototype.getRemoteVideoElement=function(){return this.remoteVideoElement},v.prototype.getRemoteAudioElement=function(){return this.remoteAudioElement},v.prototype.setLocalVideoElement=function(element){if(this.localVideoElement=element,element&&this.localAVStream&&"video"===this.type){element.autoplay=!0,this.assignElement(element,this.localAVStream,"localVideo"),element.muted=!0;var e=this;setTimeout((function(){var t=e.getLocalVideoElement();t.play&&e.playElement(t,"localVideo")}),0)}},v.prototype.setRemoteVideoElement=function(element){this.remoteVideoElement=element,T(this)},v.prototype.setRemoteAudioElement=function(element){this.remoteVideoElement.muted=!0,this.remoteAudioElement=element,this.remoteAudioElement.muted=!1,E(this)},v.prototype._initWithInvite=function(e){this.msg=e.getContent(),this.peerConn=A(this);var t=this;this.peerConn&&this.peerConn.setRemoteDescription(new this.webRtc.RtcSessionDescription(this.msg.offer),D(t,t._onSetRemoteDescriptionSuccess),D(t,t._onSetRemoteDescriptionError)),w(this,"ringing"),this.direction="inbound",this.msg.offer&&this.msg.offer.sdp&&this.msg.offer.sdp.indexOf("m=video")>-1?this.type="video":this.type="voice",e.getAge()&&setTimeout((function(){"ringing"==t.state&&(j("Call invite has expired. Hanging up."),t.hangupParty="remote",w(t,"ended"),O(t),"closed"!=t.peerConn.signalingState&&t.peerConn.close(),t.emit("hangup",t))}),this.msg.lifetime-e.getAge())},v.prototype._initWithHangup=function(e){this.msg=e.getContent(),w(this,"ended")},v.prototype.answer=function(){j("Answering call %s of type %s",this.callId,this.type);this._answerContent?this._sendAnswer():this.localAVStream||this.waitForLocalAVStream?this.localAVStream?this._maybeGotUserMediaForAnswer(this.localAVStream):this.waitForLocalAVStream&&w(this,"wait_local_media"):(this.webRtc.getUserMedia(B(this.type),D(this,this._maybeGotUserMediaForAnswer),D(this,this._maybeGotUserMediaForAnswer)),w(this,"wait_local_media"))},v.prototype._replacedBy=function(e){j(this.callId+" being replaced by "+e.callId),"wait_local_media"==this.state?(j("Telling new call to wait for local media"),e.waitForLocalAVStream=!0):"create_offer"==this.state?(j("Handing local stream to new call"),e._maybeGotUserMediaForAnswer(this.localAVStream),delete this.localAVStream):"invite_sent"==this.state&&(j("Handing local stream to new call"),e._maybeGotUserMediaForAnswer(this.localAVStream),delete this.localAVStream),e.localVideoElement=this.localVideoElement,e.remoteVideoElement=this.remoteVideoElement,e.remoteAudioElement=this.remoteAudioElement,this.successor=e,this.emit("replaced",e),this.hangup(!0)},v.prototype.hangup=function(e,t){if("ended"!=this.state){j("Ending call "+this.callId),x(this,"local",e,!t);var content={version:0,call_id:this.callId,reason:e};k(this,"m.call.hangup",content)}},v.prototype.setLocalVideoMuted=function(e){this.localAVStream&&y(this.localAVStream.getVideoTracks(),!e)},v.prototype.isLocalVideoMuted=function(){return!!this.localAVStream&&!_(this.localAVStream.getVideoTracks())},v.prototype.setMicrophoneMuted=function(e){this.localAVStream&&y(this.localAVStream.getAudioTracks(),!e)},v.prototype.isMicrophoneMuted=function(){return!!this.localAVStream&&!_(this.localAVStream.getAudioTracks())},v.prototype._maybeGotUserMediaForInvite=function(e){if(this.successor)this.successor._maybeGotUserMediaForAnswer(e);else if("ended"!=this.state){j("_maybeGotUserMediaForInvite -> "+this.type);var t=this,r=e,n={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:"video"===t.type}};if(e instanceof MediaStream){var o=this.getLocalVideoElement();o&&"video"==this.type&&(o.autoplay=!0,this.screenSharingStream?(j("Setting screen sharing stream to the local video element"),this.assignElement(o,this.screenSharingStream,"localVideo")):this.assignElement(o,e,"localVideo"),o.muted=!0,setTimeout((function(){var e=t.getLocalVideoElement();e.play&&t.playElement(e,"localVideo")}),0)),this.screenSharingStream&&(this.screenSharingStream.addTrack(e.getAudioTracks()[0]),e=this.screenSharingStream),this.localAVStream=e,y(e.getAudioTracks(),!0),this.peerConn=A(this),this.peerConn.addStream(e)}else{if("PermissionDeniedError"!==r.name)return j("Failed to getUserMedia: "+r.name),void this._getUserMediaFailed(r);j("User denied access to camera/microphone. Or possibly you are using an insecure domain. Receiving only."),this.peerConn=A(this)}this.peerConn.createOffer(D(t,t._gotLocalOffer),D(t,t._getLocalOfferFailed),n),w(t,"create_offer")}},v.prototype._sendAnswer=function(e){var t=this;k(this,"m.call.answer",this._answerContent).then((function(){w(t,"connecting"),M(t)})).catch((function(e){w(t,"ringing"),t.client.cancelPendingEvent(e.event);var code=v.ERR_SEND_ANSWER,r="Failed to send answer";throw"UnknownDeviceError"==e.name&&(code=v.ERR_UNKNOWN_DEVICES,r="Unknown devices present in the room"),t.emit("error",I(code,r)),e}))},v.prototype._maybeGotUserMediaForAnswer=function(e){var t=this;if("ended"!=t.state){var r=e;if(e instanceof MediaStream){var n=t.getLocalVideoElement();n&&"video"==t.type&&(n.autoplay=!0,this.assignElement(n,e,"localVideo"),n.muted=!0,setTimeout((function(){var e=t.getLocalVideoElement();e.play&&t.playElement(e,"localVideo")}),0)),t.localAVStream=e,y(e.getAudioTracks(),!0),t.peerConn.addStream(e)}else{if("PermissionDeniedError"!==r.name)return j("Failed to getUserMedia: "+r.name),void this._getUserMediaFailed(r);j("User denied access to camera/microphone. Or possibly you are using an insecure domain. Receiving only.")}var o={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:"video"===t.type}};t.peerConn.createAnswer((function(e){j("Created answer: ",e),t.peerConn.setLocalDescription(e,(function(){t._answerContent={version:0,call_id:t.callId,answer:{sdp:t.peerConn.localDescription.sdp,type:t.peerConn.localDescription.type}},t._sendAnswer()}),(function(){j("Error setting local description!")}),o)}),(function(e){j("Failed to create answer: "+e)})),w(t,"create_answer")}},v.prototype._gotLocalIceCandidate=function(e){if(e.candidate){if(j("Got local ICE "+e.candidate.sdpMid+" candidate: "+e.candidate.candidate),"ended"==this.state)return;var t={candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex};S(this,t)}},v.prototype._gotRemoteIceCandidate=function(e){"ended"!=this.state&&(j("Got remote ICE "+e.sdpMid+" candidate: "+e.candidate),this.peerConn.addIceCandidate(new this.webRtc.RtcIceCandidate(e),(function(){}),(function(e){})))},v.prototype._receivedAnswer=function(e){if("ended"!=this.state){this.peerConn.setRemoteDescription(new this.webRtc.RtcSessionDescription(e.answer),D(this,this._onSetRemoteDescriptionSuccess),D(this,this._onSetRemoteDescriptionError)),w(this,"connecting")}},v.prototype._gotLocalOffer=function(e){var t=this;j("Created offer: ",e),"ended"!=t.state?t.peerConn.setLocalDescription(e,(function(){var content={version:0,call_id:t.callId,offer:{sdp:t.peerConn.localDescription.sdp,type:t.peerConn.localDescription.type},lifetime:v.CALL_TIMEOUT_MS};k(t,"m.call.invite",content).then((function(){w(t,"invite_sent"),setTimeout((function(){"invite_sent"==t.state&&t.hangup("invite_timeout")}),v.CALL_TIMEOUT_MS)})).catch((function(e){var code=v.ERR_SEND_INVITE,r="Failed to send invite";throw"UnknownDeviceError"==e.name&&(code=v.ERR_UNKNOWN_DEVICES,r="Unknown devices present in the room"),t.client.cancelPendingEvent(e.event),x(t,"local",code,!1),t.emit("error",I(code,r)),e}))}),(function(){j("Error setting local description!")})):j("Ignoring newly created offer on call ID "+t.callId+" because the call has ended")},v.prototype._getLocalOfferFailed=function(e){this.emit("error",I(v.ERR_LOCAL_OFFER_FAILED,"Failed to start audio for call!"))},v.prototype._getUserMediaFailed=function(e){x(this,"local","user_media_failed",!1),this.emit("error",I(v.ERR_NO_USER_MEDIA,"Couldn't start capturing media! Is your microphone set up and does this app have permission?"))},v.prototype._onIceConnectionStateChanged=function(){"ended"!=this.state&&(j("Ice connection state changed to: "+this.peerConn.iceConnectionState),"completed"==this.peerConn.iceConnectionState||"connected"==this.peerConn.iceConnectionState?(w(this,"connected"),this.didConnect=!0):"failed"==this.peerConn.iceConnectionState&&this.hangup("ice_failed"))},v.prototype._onSignallingStateChanged=function(){j("call "+this.callId+": Signalling state changed to: "+this.peerConn.signalingState)},v.prototype._onSetRemoteDescriptionSuccess=function(){j("Set remote description")},v.prototype._onSetRemoteDescriptionError=function(e){j("Failed to set remote description"+e)},v.prototype._onAddStream=function(e){j("Stream id "+e.stream.id+" added");var s=e.stream;s.getVideoTracks().length>0?(this.type="video",this.remoteAVStream=s,this.remoteAStream=s):(this.type="voice",this.remoteAStream=s);var t=this;L(s,(function(e){j("Track id "+e.id+" added"),e.onstarted=D(t,t._onRemoteStreamTrackStarted)})),void 0!==e.stream.oninactive?e.stream.oninactive=D(t,t._onRemoteStreamEnded):e.stream.onended=D(t,t._onRemoteStreamEnded),e.stream.onstarted=D(t,t._onRemoteStreamStarted),"video"===this.type?(T(this),E(this)):E(this)},v.prototype._onRemoteStreamStarted=function(e){w(this,"connected")},v.prototype._onRemoteStreamEnded=function(e){j("Remote stream ended"),this.hangupParty="remote",w(this,"ended"),O(this),"closed"!=this.peerConn.signalingState&&this.peerConn.close(),this.emit("hangup",this)},v.prototype._onRemoteStreamTrackStarted=function(e){w(this,"connected")},v.prototype._onHangupReceived=function(e){j("Hangup received"),x(this,"remote",e.reason,!0)},v.prototype._onAnsweredElsewhere=function(e){j("Answered elsewhere"),x(this,"remote","answered_elsewhere",!0)};var m,y=function(e,t){for(var i=0;i<e.length;i++)e[i].enabled=t},_=function(e){for(var i=0;i<e.length;i++)if(e[i].enabled)return!0;return!1},w=function(e,t){var r=e.state;e.state=t,e.emit("state",t,r)},k=function(e,t,content){return e.client.sendEvent(e.roomId,t,content)},S=function(e,content){e.candidateSendQueue.push(content),"ringing"!=e.state&&0===e.candidateSendTries&&setTimeout((function(){M(e)}),100)},x=function(e,t,r,n){e.getRemoteVideoElement()&&(e.getRemoteVideoElement().pause&&e.pauseElement(e.getRemoteVideoElement(),"remoteVideo"),e.assignElement(e.getRemoteVideoElement(),null,"remoteVideo")),e.getRemoteAudioElement()&&(e.getRemoteAudioElement().pause&&e.pauseElement(e.getRemoteAudioElement(),"remoteAudio"),e.assignElement(e.getRemoteAudioElement(),null,"remoteAudio")),e.getLocalVideoElement()&&(e.getLocalVideoElement().pause&&e.pauseElement(e.getLocalVideoElement(),"localVideo"),e.assignElement(e.getLocalVideoElement(),null,"localVideo")),e.hangupParty=t,e.hangupReason=r,w(e,"ended"),O(e),e.peerConn&&"closed"!==e.peerConn.signalingState&&e.peerConn.close(),n&&e.emit("hangup",e)},O=function(e){j("stopAllMedia (stream=%s)",e.localAVStream),e.localAVStream&&(L(e.localAVStream,(function(e){e.stop&&e.stop()})),e.localAVStream.stop&&e.localAVStream.stop()),e.screenSharingStream&&(L(e.screenSharingStream,(function(e){e.stop&&e.stop()})),e.screenSharingStream.stop&&e.screenSharingStream.stop()),e.remoteAVStream&&L(e.remoteAVStream,(function(e){e.stop&&e.stop()})),e.remoteAStream&&L(e.remoteAStream,(function(e){e.stop&&e.stop()}))},T=function(e){if(e.getRemoteVideoElement()&&e.remoteAVStream){var t=e.getRemoteVideoElement();t.autoplay=!0,e.assignElement(t,e.remoteAVStream,"remoteVideo"),setTimeout((function(){var t=e.getRemoteVideoElement();t.play&&e.playElement(t,"remoteVideo"),e.webRtc.isOpenWebRTC()&&w(e,"connected")}),0)}},E=(m=(0,o.coroutine)(n.default.mark((function e(t){var r;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.getRemoteAudioElement()||!t.remoteAStream){e.next=8;break}if(r=t.getRemoteAudioElement(),!z){e.next=5;break}return e.next=5,(0,o.resolve)(r.setSinkId(z));case 5:r.autoplay=!0,t.assignElement(r,t.remoteAStream,"remoteAudio"),setTimeout((function(){var e=t.getRemoteAudioElement();e.play&&t.playElement(e,"remoteAudio"),t.webRtc.isOpenWebRTC()&&w(t,"connected")}),0);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)}),C=function(e){if(0===e.listeners("error").length)throw new Error("You MUST attach an error listener using call.on('error', function() {})")},I=function(code,e){var t=new Error(e);return t.code=code,t},j=function(){c.default.log.apply(c.default,arguments)},M=function e(t){if(0!==t.candidateSendQueue.length){var r=t.candidateSendQueue;t.candidateSendQueue=[],++t.candidateSendTries;var content={version:0,call_id:t.callId,candidates:r};j("Attempting to send "+r.length+" candidates"),k(t,"m.call.candidates",content).then((function(){t.candidateSendTries=0,e(t)}),(function(n){for(var i=0;i<r.length;i++)t.candidateSendQueue.push(r[i]);if(t.candidateSendTries>5)return j("Failed to send candidates on attempt %s. Giving up for now.",t.candidateSendTries),void(t.candidateSendTries=0);var o=500*Math.pow(2,t.candidateSendTries);++t.candidateSendTries,j("Failed to send candidates. Retrying in "+o+"ms"),setTimeout((function(){e(t)}),o)}))}},R=function(e,t){e.client.callList[e.callId]=e,e.webRtc.getUserMedia(t,D(e,e._maybeGotUserMediaForInvite),D(e,e._maybeGotUserMediaForInvite)),w(e,"wait_local_media"),e.direction="outbound",e.config=t},A=function(e){var t=new e.webRtc.RtcPeerConnection({iceTransportPolicy:e.forceTURN?"relay":void 0,iceServers:e.turnServers});return t.oniceconnectionstatechange=D(e,e._onIceConnectionStateChanged),t.onsignalingstatechange=D(e,e._onSignallingStateChanged),t.onicecandidate=D(e,e._gotLocalIceCandidate),t.onaddstream=D(e,e._onAddStream),t},P=function(e){var r=t.screen;if(r)return{video:{mediaSource:"screen",mandatory:{chromeMediaSource:"screen",chromeMediaSourceId:""+Date.now(),maxWidth:r.width,maxHeight:r.height,minFrameRate:1,maxFrameRate:10}}};e.emit("error",I(v.ERR_NO_USER_MEDIA,"Couldn't determine screen sharing constaints."))},B=function(e){var r=!!t.window.navigator.webkitGetUserMedia;switch(e){case"voice":return{audio:{deviceId:F?{ideal:F}:void 0},video:!1};case"video":return{audio:{deviceId:F?{ideal:F}:void 0},video:{deviceId:N?{ideal:N}:void 0,width:r?{exact:640}:{ideal:640},height:r?{exact:360}:{ideal:360}}}}},D=function(e,t){return function(){return t.apply(e,arguments)}},L=function(s,e){!function(s,e){for(var t=s.getVideoTracks(),i=0;i<t.length;i++)e(t[i])}(s,e),function(s,e){for(var t=s.getAudioTracks(),i=0;i<t.length;i++)e(t[i])}(s,e)};e.exports.MatrixCall=v;var z=void 0,F=void 0,N=void 0;e.exports.setAudioOutput=function(e){z=e},e.exports.setAudioInput=function(e){F=e},e.exports.setVideoInput=function(e){N=e},e.exports.createNewMatrixCall=function(e,r,n){var o=t.window,l=t.document;if(!o||!l)return null;var d={isOpenWebRTC:function(){var e=l.getElementById("script");if(!e||!e.length)return!1;for(var i=0;i<e.length;i++)if(e[i].src.indexOf("owr.js")>-1)return!0;return!1}},h=o.navigator.getUserMedia||o.navigator.webkitGetUserMedia||o.navigator.mozGetUserMedia;h&&(d.getUserMedia=function(){return h.apply(o.navigator,arguments)});try{d.RtcPeerConnection=o.RTCPeerConnection||o.webkitRTCPeerConnection||o.mozRTCPeerConnection,d.RtcSessionDescription=o.RTCSessionDescription||o.webkitRTCSessionDescription||o.mozRTCSessionDescription,d.RtcIceCandidate=o.RTCIceCandidate||o.webkitRTCIceCandidate||o.mozRTCIceCandidate,d.vendor=null,o.mozRTCPeerConnection?d.vendor="mozilla":o.webkitRTCPeerConnection?d.vendor="webkit":o.RTCPeerConnection&&(d.vendor="generic")}catch(e){return c.default.error("Failed to set up WebRTC object: possible browser interference?"),c.default.error(e),null}if(!(d.RtcIceCandidate&&d.RtcSessionDescription&&d.RtcPeerConnection&&d.getUserMedia))return null;var f=!!n&&n.forceTURN;return new v({webRtc:d,client:e,URL:o.URL,roomId:r,turnServers:e.getTurnServers(),forceTURN:e._forceTURN||f})}}).call(this,r(24))},function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,n=function(){for(var e=["Edge","Trident","Firefox"],i=0;i<e.length;i+=1)if(r&&navigator.userAgent.indexOf(e[i])>=0)return 1;return 0}();var o=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),n))}};function l(e){return e&&"[object Function]"==={}.toString.call(e)}function c(element,e){if(1!==element.nodeType)return[];var t=element.ownerDocument.defaultView.getComputedStyle(element,null);return e?t[e]:t}function d(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function h(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var e=c(element),t=e.overflow,r=e.overflowX,n=e.overflowY;return/(auto|scroll|overlay)/.test(t+n+r)?element:h(d(element))}function f(e){return e&&e.referenceNode?e.referenceNode:e}var v=r&&!(!window.MSInputMethodContext||!document.documentMode),m=r&&/MSIE 10/.test(navigator.userAgent);function y(e){return 11===e?v:10===e?m:v||m}function _(element){if(!element)return document.documentElement;for(var e=y(10)?document.body:null,t=element.offsetParent||null;t===e&&element.nextElementSibling;)t=(element=element.nextElementSibling).offsetParent;var r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===c(t,"position")?_(t):t:element?element.ownerDocument.documentElement:document.documentElement}function w(e){return null!==e.parentNode?w(e.parentNode):e}function k(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,o=r?t:e,l=document.createRange();l.setStart(n,0),l.setEnd(o,0);var element,c,d=l.commonAncestorContainer;if(e!==d&&t!==d||n.contains(o))return"BODY"===(c=(element=d).nodeName)||"HTML"!==c&&_(element.firstElementChild)!==element?_(d):d;var h=w(e);return h.host?k(h.host,t):k(e,w(t).host)}function S(element){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",t="top"===e?"scrollTop":"scrollLeft",r=element.nodeName;if("BODY"===r||"HTML"===r){var html=element.ownerDocument.documentElement,n=element.ownerDocument.scrollingElement||html;return n[t]}return element[t]}function x(rect,element){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=S(element,"top"),r=S(element,"left"),n=e?-1:1;return rect.top+=t*n,rect.bottom+=t*n,rect.left+=r*n,rect.right+=r*n,rect}function O(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function T(e,body,html,t){return Math.max(body["offset"+e],body["scroll"+e],html["client"+e],html["offset"+e],html["scroll"+e],y(10)?parseInt(html["offset"+e])+parseInt(t["margin"+("Height"===e?"Top":"Left")])+parseInt(t["margin"+("Height"===e?"Bottom":"Right")]):0)}function E(e){var body=e.body,html=e.documentElement,t=y(10)&&getComputedStyle(html);return{height:T("Height",body,html,t),width:T("Width",body,html,t)}}var C=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),j=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},M=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e};function R(e){return M({},e,{right:e.left+e.width,bottom:e.top+e.height})}function A(element){var rect={};try{if(y(10)){rect=element.getBoundingClientRect();var e=S(element,"top"),t=S(element,"left");rect.top+=e,rect.left+=t,rect.bottom+=e,rect.right+=t}else rect=element.getBoundingClientRect()}catch(e){}var r={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},n="HTML"===element.nodeName?E(element.ownerDocument):{},o=n.width||element.clientWidth||r.width,l=n.height||element.clientHeight||r.height,d=element.offsetWidth-o,h=element.offsetHeight-l;if(d||h){var f=c(element);d-=O(f,"x"),h-=O(f,"y"),r.width-=d,r.height-=h}return R(r)}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=y(10),o="HTML"===t.nodeName,l=A(e),d=A(t),f=h(e),v=c(t),m=parseFloat(v.borderTopWidth),_=parseFloat(v.borderLeftWidth);r&&o&&(d.top=Math.max(d.top,0),d.left=Math.max(d.left,0));var w=R({top:l.top-d.top-m,left:l.left-d.left-_,width:l.width,height:l.height});if(w.marginTop=0,w.marginLeft=0,!n&&o){var k=parseFloat(v.marginTop),S=parseFloat(v.marginLeft);w.top-=m-k,w.bottom-=m-k,w.left-=_-S,w.right-=_-S,w.marginTop=k,w.marginLeft=S}return(n&&!r?t.contains(f):t===f&&"BODY"!==f.nodeName)&&(w=x(w,t)),w}function B(element){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,t=P(element,html),r=Math.max(html.clientWidth,window.innerWidth||0),n=Math.max(html.clientHeight,window.innerHeight||0),o=e?0:S(html),l=e?0:S(html,"left"),c={top:o-t.top+t.marginTop,left:l-t.left+t.marginLeft,width:r,height:n};return R(c)}function D(element){var e=element.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===c(element,"position"))return!0;var t=d(element);return!!t&&D(t)}function L(element){if(!element||!element.parentElement||y())return document.documentElement;for(var e=element.parentElement;e&&"none"===c(e,"transform");)e=e.parentElement;return e||document.documentElement}function z(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},c=o?L(e):k(e,f(t));if("viewport"===n)l=B(c,o);else{var v=void 0;"scrollParent"===n?"BODY"===(v=h(d(t))).nodeName&&(v=e.ownerDocument.documentElement):v="window"===n?e.ownerDocument.documentElement:n;var m=P(v,c,o);if("HTML"!==v.nodeName||D(c))l=m;else{var y=E(e.ownerDocument),_=y.height,w=y.width;l.top+=m.top-m.marginTop,l.bottom=_+m.top,l.left+=m.left-m.marginLeft,l.right=w+m.left}}var S="number"==typeof(r=r||0);return l.left+=S?r:r.left||0,l.top+=S?r:r.top||0,l.right-=S?r:r.right||0,l.bottom-=S?r:r.bottom||0,l}function F(e){return e.width*e.height}function N(e,t,r,n,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var c=z(r,n,l,o),d={top:{width:c.width,height:t.top-c.top},right:{width:c.right-t.right,height:c.height},bottom:{width:c.width,height:c.bottom-t.bottom},left:{width:t.left-c.left,height:c.height}},h=Object.keys(d).map((function(e){return M({key:e},d[e],{area:F(d[e])})})).sort((function(a,b){return b.area-a.area})),f=h.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),v=f.length>0?f[0].key:h[0].key,m=e.split("-")[1];return v+(m?"-"+m:"")}function V(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n?L(t):k(t,f(r));return P(r,o,n)}function H(element){var e=element.ownerDocument.defaultView.getComputedStyle(element),t=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:element.offsetWidth+r,height:element.offsetHeight+t}}function $(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function U(e,t,r){r=r.split("-")[0];var n=H(e),o={width:n.width,height:n.height},l=-1!==["right","left"].indexOf(r),c=l?"top":"left",d=l?"left":"top",h=l?"height":"width",f=l?"width":"height";return o[c]=t[c]+t[h]/2-n[h]/2,o[d]=r===d?t[d]-n[f]:t[$(d)],o}function K(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function G(e,data,t){return(void 0===t?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=K(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",t))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&l(t)&&(data.offsets.popper=R(data.offsets.popper),data.offsets.reference=R(data.offsets.reference),data=t(data,e))})),data}function W(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=V(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=N(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=U(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=G(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}function Y(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function X(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var n=t[i],o=n?""+n+r:e;if(void 0!==document.body.style[o])return o}return null}function Q(){return this.state.isDestroyed=!0,Y(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[X("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function J(element){var e=element.ownerDocument;return e?e.defaultView:window}function Z(e,t,r,n){r.updateBound=n,J(e).addEventListener("resize",r.updateBound,{passive:!0});var o=h(e);return function e(t,r,n,o){var l="BODY"===t.nodeName,c=l?t.ownerDocument.defaultView:t;c.addEventListener(r,n,{passive:!0}),l||e(h(c.parentNode),r,n,o),o.push(c)}(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function ee(){this.state.eventsEnabled||(this.state=Z(this.reference,this.options,this.state,this.scheduleUpdate))}function te(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,J(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function re(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ne(element,e){Object.keys(e).forEach((function(t){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&re(e[t])&&(r="px"),element.style[t]=e[t]+r}))}var oe=r&&/Firefox/i.test(navigator.userAgent);function ie(e,t,r){var n=K(e,(function(e){return e.name===t})),o=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!o){var l="`"+t+"`",c="`"+r+"`";console.warn(c+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return o}var ae=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],se=ae.slice(3);function le(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=se.indexOf(e),n=se.slice(r+1).concat(se.slice(0,r));return t?n.reverse():n}var ce="flip",ue="clockwise",de="counterclockwise";function he(e,t,r,n){var o=[0,0],l=-1!==["right","left"].indexOf(n),c=e.split(/(\+|\-)/).map((function(e){return e.trim()})),d=c.indexOf(K(c,(function(e){return-1!==e.search(/,|\s/)})));c[d]&&-1===c[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var h=/\s*,\s*|\s+/,f=-1!==d?[c.slice(0,d).concat([c[d].split(h)[0]]),[c[d].split(h)[1]].concat(c.slice(d+1))]:[c];return(f=f.map((function(e,n){var o=(1===n?!l:l)?"height":"width",c=!1;return e.reduce((function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,c=!0,a):c?(a[a.length-1]+=b,c=!1,a):a.concat(b)}),[]).map((function(e){return function(e,t,r,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+o[1],c=o[2];if(!l)return e;if(0===c.indexOf("%")){var element=void 0;switch(c){case"%p":element=r;break;case"%":case"%r":default:element=n}return R(element)[t]/100*l}if("vh"===c||"vw"===c){return("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*l}return l}(e,o,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){re(r)&&(o[t]+=r*("-"===e[n-1]?-1:1))}))})),o}var fe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(data){var e=data.placement,t=e.split("-")[0],r=e.split("-")[1];if(r){var n=data.offsets,o=n.reference,l=n.popper,c=-1!==["bottom","top"].indexOf(t),d=c?"left":"top",h=c?"width":"height",f={start:j({},d,o[d]),end:j({},d,o[d]+o[h]-l[h])};data.offsets.popper=M({},l,f[r])}return data}},offset:{order:200,enabled:!0,fn:function(data,e){var t=e.offset,r=data.placement,n=data.offsets,o=n.popper,l=n.reference,c=r.split("-")[0],d=void 0;return d=re(+t)?[+t,0]:he(t,o,l,c),"left"===c?(o.top+=d[0],o.left-=d[1]):"right"===c?(o.top+=d[0],o.left+=d[1]):"top"===c?(o.left+=d[0],o.top-=d[1]):"bottom"===c&&(o.left+=d[0],o.top+=d[1]),data.popper=o,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(data,e){var t=e.boundariesElement||_(data.instance.popper);data.instance.reference===t&&(t=_(t));var r=X("transform"),n=data.instance.popper.style,o=n.top,l=n.left,c=n[r];n.top="",n.left="",n[r]="";var d=z(data.instance.popper,data.instance.reference,e.padding,t,data.positionFixed);n.top=o,n.left=l,n[r]=c,e.boundaries=d;var h=e.priority,f=data.offsets.popper,v={primary:function(t){var r=f[t];return f[t]<d[t]&&!e.escapeWithReference&&(r=Math.max(f[t],d[t])),j({},t,r)},secondary:function(t){var r="right"===t?"left":"top",n=f[r];return f[t]>d[t]&&!e.escapeWithReference&&(n=Math.min(f[r],d[t]-("right"===t?f.width:f.height))),j({},r,n)}};return h.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";f=M({},f,v[t](e))})),data.offsets.popper=f,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(data){var e=data.offsets,t=e.popper,r=e.reference,n=data.placement.split("-")[0],o=Math.floor,l=-1!==["top","bottom"].indexOf(n),c=l?"right":"bottom",d=l?"left":"top",h=l?"width":"height";return t[c]<o(r[d])&&(data.offsets.popper[d]=o(r[d])-t[h]),t[d]>o(r[c])&&(data.offsets.popper[d]=o(r[c])),data}},arrow:{order:500,enabled:!0,fn:function(data,e){var t;if(!ie(data.instance.modifiers,"arrow","keepTogether"))return data;var r=e.element;if("string"==typeof r){if(!(r=data.instance.popper.querySelector(r)))return data}else if(!data.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var n=data.placement.split("-")[0],o=data.offsets,l=o.popper,d=o.reference,h=-1!==["left","right"].indexOf(n),f=h?"height":"width",v=h?"Top":"Left",m=v.toLowerCase(),y=h?"left":"top",_=h?"bottom":"right",w=H(r)[f];d[_]-w<l[m]&&(data.offsets.popper[m]-=l[m]-(d[_]-w)),d[m]+w>l[_]&&(data.offsets.popper[m]+=d[m]+w-l[_]),data.offsets.popper=R(data.offsets.popper);var k=d[m]+d[f]/2-w/2,S=c(data.instance.popper),x=parseFloat(S["margin"+v]),O=parseFloat(S["border"+v+"Width"]),T=k-data.offsets.popper[m]-x-O;return T=Math.max(Math.min(l[f]-w,T),0),data.arrowElement=r,data.offsets.arrow=(j(t={},m,Math.round(T)),j(t,y,""),t),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(data,e){if(Y(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var t=z(data.instance.popper,data.instance.reference,e.padding,e.boundariesElement,data.positionFixed),r=data.placement.split("-")[0],n=$(r),o=data.placement.split("-")[1]||"",l=[];switch(e.behavior){case ce:l=[r,n];break;case ue:l=le(r);break;case de:l=le(r,!0);break;default:l=e.behavior}return l.forEach((function(c,d){if(r!==c||l.length===d+1)return data;r=data.placement.split("-")[0],n=$(r);var h=data.offsets.popper,f=data.offsets.reference,v=Math.floor,m="left"===r&&v(h.right)>v(f.left)||"right"===r&&v(h.left)<v(f.right)||"top"===r&&v(h.bottom)>v(f.top)||"bottom"===r&&v(h.top)<v(f.bottom),y=v(h.left)<v(t.left),_=v(h.right)>v(t.right),w=v(h.top)<v(t.top),k=v(h.bottom)>v(t.bottom),S="left"===r&&y||"right"===r&&_||"top"===r&&w||"bottom"===r&&k,x=-1!==["top","bottom"].indexOf(r),O=!!e.flipVariations&&(x&&"start"===o&&y||x&&"end"===o&&_||!x&&"start"===o&&w||!x&&"end"===o&&k),T=!!e.flipVariationsByContent&&(x&&"start"===o&&_||x&&"end"===o&&y||!x&&"start"===o&&k||!x&&"end"===o&&w),E=O||T;(m||S||E)&&(data.flipped=!0,(m||S)&&(r=l[d+1]),E&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),data.placement=r+(o?"-"+o:""),data.offsets.popper=M({},data.offsets.popper,U(data.instance.popper,data.offsets.reference,data.placement)),data=G(data.instance.modifiers,data,"flip"))})),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(data){var e=data.placement,t=e.split("-")[0],r=data.offsets,n=r.popper,o=r.reference,l=-1!==["left","right"].indexOf(t),c=-1===["top","left"].indexOf(t);return n[l?"left":"top"]=o[t]-(c?n[l?"width":"height"]:0),data.placement=$(e),data.offsets.popper=R(n),data}},hide:{order:800,enabled:!0,fn:function(data){if(!ie(data.instance.modifiers,"hide","preventOverflow"))return data;var e=data.offsets.reference,t=K(data.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(e.bottom<t.top||e.left>t.right||e.top>t.bottom||e.right<t.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function(data,e){var t=e.x,r=e.y,n=data.offsets.popper,o=K(data.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var l=void 0!==o?o:e.gpuAcceleration,c=_(data.instance.popper),d=A(c),h={position:n.position},f=function(data,e){var t=data.offsets,r=t.popper,n=t.reference,o=Math.round,l=Math.floor,c=function(e){return e},d=o(n.width),h=o(r.width),f=-1!==["left","right"].indexOf(data.placement),v=-1!==data.placement.indexOf("-"),m=e?f||v||d%2==h%2?o:l:c,y=e?o:c;return{left:m(d%2==1&&h%2==1&&!v&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:m(r.right)}}(data,window.devicePixelRatio<2||!oe),v="bottom"===t?"top":"bottom",m="right"===r?"left":"right",y=X("transform"),w=void 0,k=void 0;if(k="bottom"===v?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-d.height+f.bottom:f.top,w="right"===m?"HTML"===c.nodeName?-c.clientWidth+f.right:-d.width+f.right:f.left,l&&y)h[y]="translate3d("+w+"px, "+k+"px, 0)",h[v]=0,h[m]=0,h.willChange="transform";else{var S="bottom"===v?-1:1,x="right"===m?-1:1;h[v]=k*S,h[m]=w*x,h.willChange=v+", "+m}var O={"x-placement":data.placement};return data.attributes=M({},O,data.attributes),data.styles=M({},h,data.styles),data.arrowStyles=M({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(data){var element,e;return ne(data.instance.popper,data.styles),element=data.instance.popper,e=data.attributes,Object.keys(e).forEach((function(t){!1!==e[t]?element.setAttribute(t,e[t]):element.removeAttribute(t)})),data.arrowElement&&Object.keys(data.arrowStyles).length&&ne(data.arrowElement,data.arrowStyles),data},onLoad:function(e,t,r,n,o){var l=V(o,t,e,r.positionFixed),c=N(r.placement,l,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",c),ne(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},pe=function(){function e(t,r){var n=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=o(this.update.bind(this)),this.options=M({},e.Defaults,c),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(M({},e.Defaults.modifiers,c.modifiers)).forEach((function(t){n.options.modifiers[t]=M({},e.Defaults.modifiers[t]||{},c.modifiers?c.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return M({name:e},n.options.modifiers[e])})).sort((function(a,b){return a.order-b.order})),this.modifiers.forEach((function(e){e.enabled&&l(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var d=this.options.eventsEnabled;d&&this.enableEventListeners(),this.state.eventsEnabled=d}return I(e,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return Q.call(this)}},{key:"enableEventListeners",value:function(){return ee.call(this)}},{key:"disableEventListeners",value:function(){return te.call(this)}}]),e}();pe.Utils=("undefined"!=typeof window?window:e).PopperUtils,pe.placements=ae,pe.Defaults=fe,t.a=pe}).call(this,r(24))},,,,,,,,,,,,,,,,,function(e,t,r){!function(e){"use strict";function t(e){for(var t={},i=0;i<e.length;++i)t[e[i].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,r){var n=r.inline;r.propertyKeywords||(r=e.resolveMode("text/css"));var o,l,c=t.indentUnit,d=r.tokenHooks,h=r.documentTypes||{},f=r.mediaTypes||{},v=r.mediaFeatures||{},m=r.mediaValueKeywords||{},y=r.propertyKeywords||{},_=r.nonStandardPropertyKeywords||{},w=r.fontProperties||{},k=r.counterDescriptors||{},S=r.colorKeywords||{},x=r.valueKeywords||{},O=r.allowNested,T=r.lineComment,E=!0===r.supportsAtComponent;function C(style,e){return o=e,style}function I(e,t){var r=e.next();if(d[r]){var n=d[r](e,t);if(!1!==n)return n}return"@"==r?(e.eatWhile(/[\w\\\-]/),C("def",e.current())):"="==r||("~"==r||"|"==r)&&e.eat("=")?C(null,"compare"):'"'==r||"'"==r?(t.tokenize=j(r),t.tokenize(e,t)):"#"==r?(e.eatWhile(/[\w\\\-]/),C("atom","hash")):"!"==r?(e.match(/^\s*\w*/),C("keyword","important")):/\d/.test(r)||"."==r&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),C("number","unit")):"-"!==r?/[,+>*\/]/.test(r)?C(null,"select-op"):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?C("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(r)?C(null,r):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=M),C("variable callee","variable")):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),C("property","word")):C(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),C("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?C("variable-2","variable-definition"):C("variable-2","variable")):e.match(/^\w+-/)?C("meta","meta"):void 0}function j(e){return function(t,r){for(var n,o=!1;null!=(n=t.next());){if(n==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==n}return(n==e||!o&&")"!=e)&&(r.tokenize=null),C("string","string")}}function M(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=j(")"),C(null,"(")}function R(e,t,r){this.type=e,this.indent=t,this.prev=r}function A(e,t,r,n){return e.context=new R(r,t.indentation()+(!1===n?0:c),e.context),r}function P(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function B(e,t,r){return z[r.context.type](e,t,r)}function D(e,t,r,n){for(var i=n||1;i>0;i--)r.context=r.context.prev;return B(e,t,r)}function L(e){var t=e.current().toLowerCase();l=x.hasOwnProperty(t)?"atom":S.hasOwnProperty(t)?"keyword":"variable"}var z={top:function(e,t,r){if("{"==e)return A(r,t,"block");if("}"==e&&r.context.prev)return P(r);if(E&&/@component/i.test(e))return A(r,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return A(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return A(r,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return A(r,t,"at");if("hash"==e)l="builtin";else if("word"==e)l="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return A(r,t,"interpolation");if(":"==e)return"pseudo";if(O&&"("==e)return A(r,t,"parens")}return r.context.type},block:function(e,t,r){if("word"==e){var n=t.current().toLowerCase();return y.hasOwnProperty(n)?(l="property","maybeprop"):_.hasOwnProperty(n)?(l="string-2","maybeprop"):O?(l=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(l+=" error","maybeprop")}return"meta"==e?"block":O||"hash"!=e&&"qualifier"!=e?z.top(e,t,r):(l="error","block")},maybeprop:function(e,t,r){return":"==e?A(r,t,"prop"):B(e,t,r)},prop:function(e,t,r){if(";"==e)return P(r);if("{"==e&&O)return A(r,t,"propBlock");if("}"==e||"{"==e)return D(e,t,r);if("("==e)return A(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)L(t);else if("interpolation"==e)return A(r,t,"interpolation")}else l+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?P(r):"word"==e?(l="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?D(e,t,r):")"==e?P(r):"("==e?A(r,t,"parens"):"interpolation"==e?A(r,t,"interpolation"):("word"==e&&L(t),"parens")},pseudo:function(e,t,r){return"meta"==e?"pseudo":"word"==e?(l="variable-3",r.context.type):B(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&h.hasOwnProperty(t.current())?(l="tag",r.context.type):z.atBlock(e,t,r)},atBlock:function(e,t,r){if("("==e)return A(r,t,"atBlock_parens");if("}"==e||";"==e)return D(e,t,r);if("{"==e)return P(r)&&A(r,t,O?"block":"top");if("interpolation"==e)return A(r,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();l="only"==n||"not"==n||"and"==n||"or"==n?"keyword":f.hasOwnProperty(n)?"attribute":v.hasOwnProperty(n)?"property":m.hasOwnProperty(n)?"keyword":y.hasOwnProperty(n)?"property":_.hasOwnProperty(n)?"string-2":x.hasOwnProperty(n)?"atom":S.hasOwnProperty(n)?"keyword":"error"}return r.context.type},atComponentBlock:function(e,t,r){return"}"==e?D(e,t,r):"{"==e?P(r)&&A(r,t,O?"block":"top",!1):("word"==e&&(l="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?P(r):"{"==e||"}"==e?D(e,t,r,2):z.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?A(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(l="variable","restricted_atBlock_before"):B(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,P(r)):"word"==e?(l="@font-face"==r.stateArg&&!w.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(l="variable","keyframes"):"{"==e?A(r,t,"top"):B(e,t,r)},at:function(e,t,r){return";"==e?P(r):"{"==e||"}"==e?D(e,t,r):("word"==e?l="tag":"hash"==e&&(l="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?P(r):"{"==e||";"==e?D(e,t,r):("word"==e?l="variable":"variable"!=e&&"("!=e&&")"!=e&&(l="error"),"interpolation")}};return{startState:function(base){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new R(n?"block":"top",base||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var style=(t.tokenize||I)(e,t);return style&&"object"==typeof style&&(o=style[1],style=style[0]),l=style,"comment"!=o&&(t.state=z[t.state](o,e,t)),l},indent:function(e,t){var r=e.context,n=t&&t.charAt(0),o=r.indent;return"prop"!=r.type||"}"!=n&&")"!=n||(r=r.prev),r.prev&&("}"!=n||"block"!=r.type&&"top"!=r.type&&"interpolation"!=r.type&&"restricted_atBlock"!=r.type?(")"!=n||"parens"!=r.type&&"atBlock_parens"!=r.type)&&("{"!=n||"at"!=r.type&&"atBlock"!=r.type)||(o=Math.max(0,r.indent-c)):o=(r=r.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:T,fold:"brace"}}));var r=["domain","regexp","url","url-prefix"],n=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=t(o),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],d=t(c),h=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],f=t(h),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],m=t(v),y=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],_=t(y),w=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),k=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),S=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=t(S),O=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],T=t(O),E=r.concat(o).concat(c).concat(h).concat(v).concat(y).concat(S).concat(O);function C(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}e.registerHelper("hintWords","css",E),e.defineMIME("text/css",{documentTypes:n,mediaTypes:l,mediaFeatures:d,mediaValueKeywords:f,propertyKeywords:m,nonStandardPropertyKeywords:_,fontProperties:w,counterDescriptors:k,colorKeywords:x,valueKeywords:T,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=C,C(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:d,mediaValueKeywords:f,propertyKeywords:m,nonStandardPropertyKeywords:_,colorKeywords:x,valueKeywords:T,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=C,C(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:d,mediaValueKeywords:f,propertyKeywords:m,nonStandardPropertyKeywords:_,colorKeywords:x,valueKeywords:T,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=C,C(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:l,mediaFeatures:d,propertyKeywords:m,nonStandardPropertyKeywords:_,fontProperties:w,counterDescriptors:k,colorKeywords:x,valueKeywords:T,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=C,C(e,t))}},name:"css",helperType:"gss"})}(r(35))},,,,,function(e,t,r){"use strict";var n=r(49).EventEmitter;function o(e){this.userId=e,this.presence="offline",this.presenceStatusMsg=null,this._unstable_statusMessage="",this.displayName=e,this.rawDisplayName=e,this.avatarUrl=null,this.lastActiveAgo=0,this.lastPresenceTs=0,this.currentlyActive=!1,this.events={presence:null,profile:null},this._updateModifiedTime()}r(21).inherits(o,n),o.prototype.setPresenceEvent=function(e){if("m.presence"===e.getType()){var t=null===this.events.presence;this.events.presence=e;var r=[];(e.getContent().presence!==this.presence||t)&&r.push("User.presence"),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&r.push("User.avatarUrl"),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&r.push("User.displayName"),void 0!==e.getContent().currently_active&&e.getContent().currently_active!==this.currentlyActive&&r.push("User.currentlyActive"),this.presence=e.getContent().presence,r.push("User.lastPresenceTs"),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this._updateModifiedTime();for(var i=0;i<r.length;i++)this.emit(r[i],e,this)}},o.prototype.setDisplayName=function(e){var t=this.displayName;this.displayName=e,e!==t&&this._updateModifiedTime()},o.prototype.setRawDisplayName=function(e){this.rawDisplayName=e},o.prototype.setAvatarUrl=function(e){var t=this.avatarUrl;this.avatarUrl=e,e!==t&&this._updateModifiedTime()},o.prototype._updateModifiedTime=function(){this._modified=Date.now()},o.prototype.getLastModifiedTime=function(){return this._modified},o.prototype.getLastActiveTs=function(){return this.lastPresenceTs-this.lastActiveAgo},o.prototype._unstable_updateStatusMessage=function(e){e.getContent()?this._unstable_statusMessage=e.getContent().status:this._unstable_statusMessage="",this._updateModifiedTime(),this.emit("User._unstable_statusMessage",this)},e.exports=o},,function(e,t,r){"use strict";(function(t){var n=h(r(104)),o=h(r(65)),l=h(r(96)),c=h(r(20)),d=h(r(22));function h(e){return e&&e.__esModule?e:{default:e}}var f=r(441).parse,v=r(21),m=r(442);e.exports.PREFIX_R0="/_matrix/client/r0",e.exports.PREFIX_UNSTABLE="/_matrix/client/unstable",e.exports.PREFIX_IDENTITY_V1="/_matrix/identity/api/v1",e.exports.PREFIX_IDENTITY_V2="/_matrix/identity/v2",e.exports.PREFIX_MEDIA_R0="/_matrix/media/r0",e.exports.MatrixHttpApi=function(e,t){v.checkObjectHasKeys(t,["baseUrl","request","prefix"]),t.onlyData=t.onlyData||!1,this.event_emitter=e,this.opts=t,this.useAuthorizationHeader=Boolean(t.useAuthorizationHeader),this.uploads=[]},e.exports.MatrixHttpApi.prototype={setIdBaseUrl:function(e){this.opts.idBaseUrl=e},getContentUri:function(){var e={access_token:this.opts.accessToken};return{base:this.opts.baseUrl,path:"/_matrix/media/r0/upload",params:e}},uploadContent:function(e,r){v.isFunction(r)?r={callback:r}:void 0===r&&(r={});var n=!1!==r.includeFilename,o=r.type||e.type||"application/octet-stream",l=r.name||e.name,body=e;body.stream&&"function"!=typeof body.stream&&(d.default.warn("Using `file.stream` as the content to upload. Future versions of the js-sdk will change this to expect `file` to be the content directly."),body=body.stream);var h=r.rawResponse;void 0===h&&(t.XMLHttpRequest?h=!1:(d.default.warn("Returning the raw JSON from uploadContent(). Future versions of the js-sdk will change this default, to return the parsed object. Set opts.rawResponse=false to change this behaviour now."),h=!0));var f=r.onlyContentUri;h||void 0!==f||(t.XMLHttpRequest?(d.default.warn("Returning only the content-uri from uploadContent(). Future versions of the js-sdk will change this default, to return the whole response object. Set opts.onlyContentUri=false to change this behaviour now."),f=!0):f=!1);var _={loaded:0,total:0},w=void 0,k=null;if(h||(k=function(e){var body=JSON.parse(e);if(f&&void 0===(body=body.content_uri))throw Error("Bad response");return body}),t.XMLHttpRequest){var S=c.default.defer(),x=new t.XMLHttpRequest;_.xhr=x;var O=y(S,r.callback,this.opts.onlyData),T=function(){x.abort(),O(new Error("Timeout"))};x.timeout_timer=m.setTimeout(T,3e4),x.onreadystatechange=function(){switch(x.readyState){case t.XMLHttpRequest.DONE:var e;m.clearTimeout(x.timeout_timer);try{if(!x.responseText)throw new Error("No response body.");e=x.responseText,k&&(e=k(e))}catch(e){return e.http_status=x.status,void O(e)}O(void 0,x,e)}},x.upload.addEventListener("progress",(function(e){m.clearTimeout(x.timeout_timer),_.loaded=e.loaded,_.total=e.total,x.timeout_timer=m.setTimeout(T,3e4),r.progressHandler&&r.progressHandler({loaded:e.loaded,total:e.total})}));var E=this.opts.baseUrl+"/_matrix/media/r0/upload",C=[];n&&l&&C.push("filename="+encodeURIComponent(l)),this.useAuthorizationHeader||C.push("access_token="+encodeURIComponent(this.opts.accessToken)),C.length>0&&(E+="?"+C.join("&")),x.open("POST",E),this.useAuthorizationHeader&&x.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),x.setRequestHeader("Content-Type",o),x.send(body),(w=S.promise).abort=x.abort.bind(x)}else{var I={};n&&l&&(I.filename=l),w=this.authedRequest(r.callback,"POST","/upload",I,body,{prefix:"/_matrix/media/r0",headers:{"Content-Type":o},json:!1,bodyParser:k})}var j=this,M=w.finally((function(){for(var i=0;i<j.uploads.length;++i)if(j.uploads[i]===_)return void j.uploads.splice(i,1)}));return M.abort=w.abort,_.promise=M,this.uploads.push(_),M},cancelUpload:function(e){return!!e.abort&&(e.abort(),!0)},getCurrentUploads:function(){return this.uploads},idServerRequest:function(e,t,path,r,n,o){if(!this.opts.idBaseUrl)throw new Error("No Identity Server base URL set");var d=this.opts.idBaseUrl+n+path;if(void 0!==e&&!v.isFunction(e))throw Error("Expected callback to be a function but got "+(void 0===e?"undefined":(0,l.default)(e)));var h={uri:d,method:t,withCredentials:!1,json:!0,_matrix_opts:this.opts,headers:{}};"GET"===t?h.qs=r:"object"===(void 0===r?"undefined":(0,l.default)(r))&&(h.json=r),o&&(h.headers.Authorization="Bearer "+o);var f=c.default.defer();return this.opts.request(h,y(f,e,this.opts.onlyData)),f.promise},authedRequest:function(e,t,path,r,data,n){r||(r={}),this.useAuthorizationHeader?(isFinite(n)&&(n={localTimeoutMs:n}),n||(n={}),n.headers||(n.headers={}),n.headers.Authorization||(n.headers.Authorization="Bearer "+this.opts.accessToken),r.access_token&&delete r.access_token):r.access_token||(r.access_token=this.opts.accessToken);var o=this.request(e,t,path,r,data,n),l=this;return o.catch((function(e){"M_UNKNOWN_TOKEN"==e.errcode?l.event_emitter.emit("Session.logged_out",e):"M_CONSENT_NOT_GIVEN"==e.errcode&&l.event_emitter.emit("no_consent",e.message,e.data.consent_uri)})),o},request:function(e,t,path,r,data,n){var o=void 0!==(n=n||{}).prefix?n.prefix:this.opts.prefix,l=this.opts.baseUrl+o+path;return this.requestOtherUrl(e,t,l,r,data,n)},requestOtherUrl:function(e,t,r,n,data,o){return null==o?o={}:isFinite(o)&&(o={localTimeoutMs:o}),this._request(e,t,r,n,data,o)},getUrl:function(path,e,t){var r="";return e&&(r="?"+v.encodeParams(e)),this.opts.baseUrl+t+path+r},_request:function(t,r,n,d,data,h){if(void 0!==t&&!v.isFunction(t))throw Error("Expected callback to be a function but got "+(void 0===t?"undefined":(0,l.default)(t)));h=h||{};var f=this;if(this.opts.extraParams)for(var _ in this.opts.extraParams)this.opts.extraParams.hasOwnProperty(_)&&(d[_]=this.opts.extraParams[_]);var w=v.extend({},h.headers||{}),k=void 0===h.json||h.json,S=h.bodyParser;k&&(data&&(data=(0,o.default)(data),w["content-type"]="application/json"),w.accept||(w.accept="application/json"),void 0===S&&(S=function(e){return JSON.parse(e)}));var x=c.default.defer(),O=void 0,T=!1,E=void 0,C=h.localTimeoutMs||this.opts.localTimeoutMs,I=function(){C&&(O&&m.clearTimeout(O),O=m.setTimeout((function(){T=!0,E&&E.abort&&E.abort(),x.reject(new e.exports.MatrixError({error:"Locally timed out waiting for a response",errcode:"ORG.MATRIX.JSSDK_TIMEOUT",timeout:C}))}),C))};I();var j=x.promise;try{(E=this.opts.request({uri:n,method:r,withCredentials:!1,qs:d,qsStringifyOptions:h.qsStringifyOptions,useQuerystring:!0,body:data,json:!1,timeout:C,headers:w||{},_matrix_opts:this.opts},(function(e,r,body){C&&(m.clearTimeout(O),T)||y(x,t,f.opts.onlyData,S)(e,r,body)})))&&("onprogress"in E&&(E.onprogress=function(e){I()}),E.abort&&(j.abort=E.abort.bind(E)))}catch(e){x.reject(e),t&&t(e)}return j}};var y=function(t,r,n,o){return r=r||function(){},function(c,d,body){if(!c)try{d.statusCode>=400?c=function(t,body){var r=t.statusCode,n=function(e){var t=void 0;e.getResponseHeader?t=e.getResponseHeader("Content-Type"):e.headers&&(t=e.headers["content-type"]||null);if(!t)return null;try{return f(t)}catch(e){throw new Error("Error parsing Content-Type '"+t+"': "+e)}}(t),o=void 0;if(n)if("application/json"===n.type){var c="object"===(void 0===body?"undefined":(0,l.default)(body))?body:JSON.parse(body);o=new e.exports.MatrixError(c)}else"text/plain"===n.type&&(o=new Error("Server returned "+r+" error: "+body));o||(o=new Error("Server returned "+r+" error"));return o.httpStatus=r,o}(d,body):o&&(body=o(body))}catch(e){c=new Error("Error parsing server response: "+e)}if(c)t.reject(c),r(c);else{var h={code:d.statusCode,headers:d.headers,data:body};t.resolve(n?body:h),r(null,n?body:h)}}};e.exports.MatrixError=function(e){e=e||{},this.errcode=e.errcode,this.name=e.errcode||"Unknown error code",this.message=e.error||"Unknown message",this.data=e},e.exports.MatrixError.prototype=(0,n.default)(Error.prototype),e.exports.MatrixError.prototype.constructor=e.exports.MatrixError}).call(this,r(24))},function(e,t,r){e.exports={default:r(466),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomString=function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;++i)t+=r.charAt(Math.floor(Math.random()*r.length));return t}},function(e,t,r){"use strict";function n(e){Object.defineProperty(this,"deviceId",{enumerable:!0,value:e}),this.algorithms=[],this.keys={},this.verified=o.UNVERIFIED,this.known=!1,this.unsigned={},this.signatures={}}n.fromStorage=function(e,t){var r=new n(t);for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);return r},n.prototype.toStorage=function(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}},n.prototype.getFingerprint=function(){return this.keys["ed25519:"+this.deviceId]},n.prototype.getIdentityKey=function(){return this.keys["curve25519:"+this.deviceId]},n.prototype.getDisplayName=function(){return this.unsigned.device_display_name||null},n.prototype.isBlocked=function(){return this.verified==o.BLOCKED},n.prototype.isVerified=function(){return this.verified==o.VERIFIED},n.prototype.isUnverified=function(){return this.verified==o.UNVERIFIED},n.prototype.isKnown=function(){return 1==this.known},n.DeviceVerification={VERIFIED:1,UNVERIFIED:0,BLOCKED:-1};var o=n.DeviceVerification;e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newInvalidMessageError=t.newUserMismatchError=t.newKeyMismatchError=t.newUnexpectedMessageError=t.newUnknownMethodError=t.newUnknownTransactionError=t.newTimeoutError=t.newUserCancelledError=void 0,t.newVerificationError=o,t.errorFactory=l;var n=r(63);function o(code,e,t){return(t=t||{}).code=code,t.reason=e,new n.MatrixEvent({type:"m.key.verification.cancel",content:t})}function l(code,e){return function(t){return o(code,e,t)}}t.newUserCancelledError=l("m.user","Cancelled by user"),t.newTimeoutError=l("m.timeout","Timed out"),t.newUnknownTransactionError=l("m.unknown_transaction","Unknown transaction"),t.newUnknownMethodError=l("m.unknown_method","Unknown method"),t.newUnexpectedMessageError=l("m.unexpected_message","Unexpected message"),t.newKeyMismatchError=l("m.key_mismatch","Key mismatch"),t.newUserMismatchError=l("m.user_error","User mismatch"),t.newInvalidMessageError=l("m.invalid_message","Invalid message")},function(e,t,r){"use strict";var n=r(21);e.exports={getHttpUriForMxc:function(e,t,r,o,l,c){if("string"!=typeof t||!t)return"";if(0!==t.indexOf("mxc://"))return c?t:"";var d=t.slice(6),h="/_matrix/media/r0/download/",f={};r&&(f.width=Math.round(r)),o&&(f.height=Math.round(o)),l&&(f.method=l),n.keys(f).length>0&&(h="/_matrix/media/r0/thumbnail/");var v=d.indexOf("#"),m="";return v>=0&&(m=d.substr(v),d=d.substr(0,v)),e+h+d+(0===n.keys(f).length?"":"?"+n.encodeParams(f))+m},getIdenticonUri:function(e,t,r,o){if(!t)return null;r||(r=96),o||(o=96);var l={width:r,height:o};return e+n.encodeUri("/_matrix/media/unstable/identicon/$ident",{$ident:t})+(0===n.keys(l).length?"":"?"+n.encodeParams(l))}}},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));r(14),r(12),r(10),r(9),r(13),r(34);var n=r(2),o=r(3),l=r(6),c=r(8),d=r(0),h=r(87);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=/^BIcon/,y=o.a.extend({name:"BIcon",functional:!0,props:v({icon:{type:String,default:null}},h.b,{stacked:{type:Boolean,default:!1}}),render:function(e,t){var data=t.data,r=t.props,n=t.parent,o=Object(c.e)(Object(c.g)(r.icon||"")).replace(m,""),h="BIcon".concat(o),f=((n||{}).$options||{}).components;return e(o&&f?f[h]||d.Z:o?h:d.Z,Object(l.a)(data,{props:v({},r,{icon:null})}))}})},function(e,t,r){var n,o;!function(l,c){"use strict";void 0===(o="function"==typeof(n=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(r){return"debug"===r&&(r="log"),"undefined"!=typeof console&&("trace"===r&&t?o:void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):e)}function c(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function d(e,t,r){return function(){"undefined"!=typeof console&&(c.call(this,t,r),this[e].apply(this,arguments))}}function h(e,t,r){return l(e)||d.apply(this,arguments)}function f(e,t,n){var o,l=this,d="loglevel";function f(){var e;if("undefined"!=typeof window){try{e=window.localStorage[d]}catch(e){}if(void 0===e)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(d)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}}e&&(d+=":"+e),l.name=e,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||h,l.getLevel=function(){return o},l.setLevel=function(t,n){if("string"==typeof t&&void 0!==l.levels[t.toUpperCase()]&&(t=l.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(o=t,!1!==n&&function(e){var t=(r[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}}(t),c.call(l,t,e),"undefined"==typeof console&&t<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){f()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var v=f();null==v&&(v=null==t?"WARN":t),l.setLevel(v,!1)}var v=new f,m={};v.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=m[e];return t||(t=m[e]=new f(e,v.getLevel(),v.methodFactory)),t};var y="undefined"!=typeof window?window.log:void 0;return v.noConflict=function(){return"undefined"!=typeof window&&window.log===v&&(window.log=y),v},v.getLoggers=function(){return m},v})?n.call(t,r,t,e):n)||(e.exports=o)}()},,,function(e,t,r){(function(t){var n=r(262);const o=r(530),l=r(531);var c;n.request((function(e,t){return e.qs=l.stringify(e.qs||{},e.qsStringifyOptions),o(e,t)}));try{c=t.indexedDB}catch(e){}c&&n.setCryptoStoreFactory((function(){return new n.IndexedDBCryptoStore(c,"matrix-js-sdk:crypto")})),e.exports=n,t.matrixcs=n}).call(this,r(24))},,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(7),o=r(170),l=r(100),c=r(0),d=Object(n.c)({components:{BIcon:o.a,BIconstack:l.a,BIconBlank:c.Z,BIconAlarm:c.a,BIconAlarmFill:c.b,BIconAlertCircle:c.c,BIconAlertCircleFill:c.d,BIconAlertOctagon:c.e,BIconAlertOctagonFill:c.f,BIconAlertSquare:c.g,BIconAlertSquareFill:c.h,BIconAlertTriangle:c.i,BIconAlertTriangleFill:c.j,BIconArchive:c.k,BIconArchiveFill:c.l,BIconArrowBarBottom:c.m,BIconArrowBarLeft:c.n,BIconArrowBarRight:c.o,BIconArrowBarUp:c.p,BIconArrowClockwise:c.q,BIconArrowCounterclockwise:c.r,BIconArrowDown:c.s,BIconArrowDownLeft:c.t,BIconArrowDownRight:c.u,BIconArrowDownShort:c.v,BIconArrowLeft:c.w,BIconArrowLeftRight:c.x,BIconArrowLeftShort:c.y,BIconArrowRepeat:c.z,BIconArrowRight:c.A,BIconArrowRightShort:c.B,BIconArrowUp:c.C,BIconArrowUpDown:c.D,BIconArrowUpLeft:c.E,BIconArrowUpRight:c.F,BIconArrowUpShort:c.G,BIconArrowsAngleContract:c.H,BIconArrowsAngleExpand:c.I,BIconArrowsCollapse:c.J,BIconArrowsExpand:c.K,BIconArrowsFullscreen:c.L,BIconAt:c.M,BIconAward:c.N,BIconBackspace:c.O,BIconBackspaceFill:c.P,BIconBackspaceReverse:c.Q,BIconBackspaceReverseFill:c.R,BIconBarChart:c.S,BIconBarChartFill:c.T,BIconBattery:c.U,BIconBatteryCharging:c.V,BIconBatteryFull:c.W,BIconBell:c.X,BIconBellFill:c.Y,BIconBlockquoteLeft:c.ab,BIconBlockquoteRight:c.bb,BIconBook:c.cb,BIconBookHalfFill:c.db,BIconBookmark:c.eb,BIconBookmarkFill:c.fb,BIconBootstrap:c.gb,BIconBootstrapFill:c.hb,BIconBootstrapReboot:c.ib,BIconBoxArrowBottomLeft:c.jb,BIconBoxArrowBottomRight:c.kb,BIconBoxArrowDown:c.lb,BIconBoxArrowLeft:c.mb,BIconBoxArrowRight:c.nb,BIconBoxArrowUp:c.ob,BIconBoxArrowUpLeft:c.pb,BIconBoxArrowUpRight:c.qb,BIconBraces:c.rb,BIconBrightnessFillHigh:c.sb,BIconBrightnessFillLow:c.tb,BIconBrightnessHigh:c.ub,BIconBrightnessLow:c.vb,BIconBrush:c.wb,BIconBucket:c.xb,BIconBucketFill:c.yb,BIconBuilding:c.zb,BIconBullseye:c.Ab,BIconCalendar:c.Bb,BIconCalendarFill:c.Cb,BIconCamera:c.Db,BIconCameraVideo:c.Eb,BIconCameraVideoFill:c.Fb,BIconCapslock:c.Gb,BIconCapslockFill:c.Hb,BIconChat:c.Ib,BIconChatFill:c.Jb,BIconCheck:c.Kb,BIconCheckBox:c.Lb,BIconCheckCircle:c.Mb,BIconChevronCompactDown:c.Nb,BIconChevronCompactLeft:c.Ob,BIconChevronCompactRight:c.Pb,BIconChevronCompactUp:c.Qb,BIconChevronDown:c.Rb,BIconChevronLeft:c.Sb,BIconChevronRight:c.Tb,BIconChevronUp:c.Ub,BIconCircle:c.Vb,BIconCircleFill:c.Wb,BIconCircleHalf:c.Xb,BIconCircleSlash:c.Yb,BIconClock:c.Zb,BIconClockFill:c.ac,BIconCloud:c.bc,BIconCloudDownload:c.cc,BIconCloudFill:c.dc,BIconCloudUpload:c.ec,BIconCode:c.fc,BIconCodeSlash:c.gc,BIconColumns:c.hc,BIconColumnsGutters:c.ic,BIconCommand:c.jc,BIconCompass:c.kc,BIconCone:c.lc,BIconConeStriped:c.mc,BIconController:c.nc,BIconCreditCard:c.oc,BIconCursor:c.pc,BIconCursorFill:c.qc,BIconDash:c.rc,BIconDiamond:c.sc,BIconDiamondHalf:c.tc,BIconDisplay:c.uc,BIconDisplayFill:c.vc,BIconDocument:c.wc,BIconDocumentCode:c.xc,BIconDocumentDiff:c.yc,BIconDocumentRichtext:c.zc,BIconDocumentSpreadsheet:c.Ac,BIconDocumentText:c.Bc,BIconDocuments:c.Cc,BIconDocumentsAlt:c.Dc,BIconDot:c.Ec,BIconDownload:c.Fc,BIconEggFried:c.Gc,BIconEject:c.Hc,BIconEjectFill:c.Ic,BIconEnvelope:c.Jc,BIconEnvelopeFill:c.Kc,BIconEnvelopeOpen:c.Lc,BIconEnvelopeOpenFill:c.Mc,BIconEye:c.Nc,BIconEyeFill:c.Oc,BIconEyeSlash:c.Pc,BIconEyeSlashFill:c.Qc,BIconFilter:c.Rc,BIconFlag:c.Sc,BIconFlagFill:c.Tc,BIconFolder:c.Uc,BIconFolderFill:c.Vc,BIconFolderSymlink:c.Wc,BIconFolderSymlinkFill:c.Xc,BIconFonts:c.Yc,BIconForward:c.Zc,BIconForwardFill:c.ad,BIconGear:c.bd,BIconGearFill:c.cd,BIconGearWide:c.dd,BIconGearWideConnected:c.ed,BIconGeo:c.fd,BIconGraphDown:c.gd,BIconGraphUp:c.hd,BIconGrid:c.id,BIconGridFill:c.jd,BIconHammer:c.kd,BIconHash:c.ld,BIconHeart:c.md,BIconHeartFill:c.nd,BIconHouse:c.od,BIconHouseFill:c.pd,BIconImage:c.qd,BIconImageAlt:c.rd,BIconImageFill:c.sd,BIconImages:c.td,BIconInbox:c.ud,BIconInboxFill:c.vd,BIconInboxes:c.wd,BIconInboxesFill:c.xd,BIconInfo:c.yd,BIconInfoFill:c.zd,BIconInfoSquare:c.Ad,BIconInfoSquareFill:c.Bd,BIconJustify:c.Cd,BIconJustifyLeft:c.Dd,BIconJustifyRight:c.Ed,BIconKanban:c.Fd,BIconKanbanFill:c.Gd,BIconLaptop:c.Hd,BIconLayoutSidebar:c.Id,BIconLayoutSidebarReverse:c.Jd,BIconLayoutSplit:c.Kd,BIconList:c.Ld,BIconListCheck:c.Md,BIconListOl:c.Nd,BIconListTask:c.Od,BIconListUl:c.Pd,BIconLock:c.Qd,BIconLockFill:c.Rd,BIconMap:c.Sd,BIconMic:c.Td,BIconMoon:c.Ud,BIconMusicPlayer:c.Vd,BIconMusicPlayerFill:c.Wd,BIconOption:c.Xd,BIconOutlet:c.Yd,BIconPause:c.Zd,BIconPauseFill:c.ae,BIconPen:c.be,BIconPencil:c.ce,BIconPeople:c.de,BIconPeopleFill:c.ee,BIconPerson:c.fe,BIconPersonFill:c.ge,BIconPhone:c.he,BIconPhoneLandscape:c.ie,BIconPieChart:c.je,BIconPieChartFill:c.ke,BIconPlay:c.le,BIconPlayFill:c.me,BIconPlug:c.ne,BIconPlus:c.oe,BIconPower:c.pe,BIconQuestion:c.qe,BIconQuestionFill:c.re,BIconQuestionSquare:c.se,BIconQuestionSquareFill:c.te,BIconReply:c.ue,BIconReplyAll:c.ve,BIconReplyAllFill:c.we,BIconReplyFill:c.xe,BIconScrewdriver:c.ye,BIconSearch:c.ze,BIconShield:c.Ae,BIconShieldFill:c.Be,BIconShieldLock:c.Ce,BIconShieldLockFill:c.De,BIconShieldShaded:c.Ee,BIconShift:c.Fe,BIconShiftFill:c.Ge,BIconSkipBackward:c.He,BIconSkipBackwardFill:c.Ie,BIconSkipEnd:c.Je,BIconSkipEndFill:c.Ke,BIconSkipForward:c.Le,BIconSkipForwardFill:c.Me,BIconSkipStart:c.Ne,BIconSkipStartFill:c.Oe,BIconSpeaker:c.Pe,BIconSquare:c.Qe,BIconSquareFill:c.Re,BIconSquareHalf:c.Se,BIconStar:c.Te,BIconStarFill:c.Ue,BIconStarHalf:c.Ve,BIconStop:c.We,BIconStopFill:c.Xe,BIconStopwatch:c.Ye,BIconStopwatchFill:c.Ze,BIconSun:c.af,BIconTable:c.bf,BIconTablet:c.cf,BIconTabletLandscape:c.df,BIconTag:c.ef,BIconTagFill:c.ff,BIconTerminal:c.gf,BIconTerminalFill:c.hf,BIconTextCenter:c.if,BIconTextIndentLeft:c.jf,BIconTextIndentRight:c.kf,BIconTextLeft:c.lf,BIconTextRight:c.mf,BIconThreeDots:c.nf,BIconThreeDotsVertical:c.of,BIconToggleOff:c.pf,BIconToggleOn:c.qf,BIconToggles:c.rf,BIconTools:c.sf,BIconTrash:c.tf,BIconTrashFill:c.uf,BIconTriangle:c.vf,BIconTriangleFill:c.wf,BIconTriangleHalf:c.xf,BIconTrophy:c.yf,BIconTv:c.zf,BIconTvFill:c.Af,BIconType:c.Bf,BIconTypeBold:c.Cf,BIconTypeH1:c.Df,BIconTypeH2:c.Ef,BIconTypeH3:c.Ff,BIconTypeItalic:c.Gf,BIconTypeStrikethrough:c.Hf,BIconTypeUnderline:c.If,BIconUnlock:c.Jf,BIconUnlockFill:c.Kf,BIconUpload:c.Lf,BIconVolumeDown:c.Mf,BIconVolumeDownFill:c.Nf,BIconVolumeMute:c.Of,BIconVolumeMuteFill:c.Pf,BIconVolumeUp:c.Qf,BIconVolumeUpFill:c.Rf,BIconWallet:c.Sf,BIconWatch:c.Tf,BIconWifi:c.Uf,BIconWindow:c.Vf,BIconWrench:c.Wf,BIconX:c.Xf,BIconXCircle:c.Yf,BIconXCircleFill:c.Zf,BIconXOctagon:c.ag,BIconXOctagonFill:c.bg,BIconXSquare:c.cg,BIconXSquareFill:c.dg}}),h=Object(n.c)({plugins:{IconsPlugin:d}},{NAME:"BootstrapVueIcons"})},function(e,t,r){!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,content,o=t.indentUnit,l=r.statementIndent,c=r.jsonld,d=r.json||c,h=r.typescript,f=r.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),o=e("keyword d"),l=e("operator"),c={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:o,break:o,continue:o,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:l,typeof:l,instanceof:l,true:c,false:c,null:c,undefined:c,NaN:c,Infinity:c,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),m=/[+\-*&%=<>!?|~^@]/,y=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function _(e,style,t){return n=e,content=t,style}function w(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,o=!1;if(c&&"@"==e.peek()&&e.match(y))return t.tokenize=w,_("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||o);)o=!o&&"\\"==n;return o||(t.tokenize=w),_("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return _("number","number");if("."==n&&e.match(".."))return _("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return _(n);if("="==n&&e.eat(">"))return _("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return _("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),_("number","number");if("/"==n)return e.eat("*")?(t.tokenize=k,k(e,t)):e.eat("/")?(e.skipToEnd(),_("comment","comment")):Ze(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),_("regexp","string-2")):(e.eat("="),_("operator","operator",e.current()));if("`"==n)return t.tokenize=S,S(e,t);if("#"==n)return e.skipToEnd(),_("error","error");if("<"==n&&e.match("!--")||"-"==n&&e.match("->"))return e.skipToEnd(),_("comment","comment");if(m.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),_("operator","operator",e.current());if(f.test(n)){e.eatWhile(f);var o=e.current();if("."!=t.lastType){if(v.propertyIsEnumerable(o)){var l=v[o];return _(l.type,l.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return _("async","keyword",o)}return _("variable","variable",o)}}function k(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=w;break}n="*"==r}return _("comment","comment")}function S(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=w;break}n=!n&&"\\"==r}return _("quasi","string-2",e.current())}function x(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(h){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var o=0,l=!1,c=r-1;c>=0;--c){var d=e.string.charAt(c),v="([{}])".indexOf(d);if(v>=0&&v<3){if(!o){++c;break}if(0==--o){"("==d&&(l=!0);break}}else if(v>=3&&v<6)++o;else if(f.test(d))l=!0;else if(/["'\/`]/.test(d))for(;;--c){if(0==c)return;if(e.string.charAt(c-1)==d&&"\\"!=e.string.charAt(c-2)){c--;break}}else if(l&&!o){++c;break}}l&&!o&&(t.fatArrowAt=c)}}var O={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function T(e,t,r,n,o,l){this.indented=e,this.column=t,this.type=r,this.prev=o,this.info=l,null!=n&&(this.align=n)}function E(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}var C={state:null,column:null,marked:null,cc:null};function I(){for(var i=arguments.length-1;i>=0;i--)C.cc.push(arguments[i])}function j(){return I.apply(null,arguments),!0}function M(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function R(e){var t=C.state;if(C.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,r){if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new P(n,r.vars,!0):null}return M(t,r.vars)?r:new P(r.prev,new B(t,r.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!M(e,t.localVars))return void(t.localVars=new B(e,t.localVars));r.globalVars&&!M(e,t.globalVars)&&(t.globalVars=new B(e,t.globalVars))}function A(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function P(e,t,r){this.prev=e,this.vars=t,this.block=r}function B(e,t){this.name=e,this.next=t}var D=new B("this",new B("arguments",null));function L(){C.state.context=new P(C.state.context,C.state.localVars,!1),C.state.localVars=D}function z(){C.state.context=new P(C.state.context,C.state.localVars,!0),C.state.localVars=null}function F(){C.state.localVars=C.state.context.vars,C.state.context=C.state.context.prev}function N(e,t){var r=function(){var r=C.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var o=r.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;r.lexical=new T(n,C.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function V(){var e=C.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function H(e){return function t(r){return r==e?j():";"==e||"}"==r||")"==r||"]"==r?I():j(t)}}function $(e,t){return"var"==e?j(N("vardef",t),Oe,H(";"),V):"keyword a"==e?j(N("form"),W,$,V):"keyword b"==e?j(N("form"),$,V):"keyword d"==e?C.stream.match(/^\s*$/,!1)?j():j(N("stat"),X,H(";"),V):"debugger"==e?j(H(";")):"{"==e?j(N("}"),z,he,V,F):";"==e?j():"if"==e?("else"==C.state.lexical.info&&C.state.cc[C.state.cc.length-1]==V&&C.state.cc.pop()(),j(N("form"),W,$,V,je)):"function"==e?j(Pe):"for"==e?j(N("form"),Me,$,V):"class"==e||h&&"interface"==t?(C.marked="keyword",j(N("form","class"==e?e:t),Fe,V)):"variable"==e?h&&"declare"==t?(C.marked="keyword",j($)):h&&("module"==t||"enum"==t||"type"==t)&&C.stream.match(/^\s*\w/,!1)?(C.marked="keyword","enum"==t?j(Qe):"type"==t?j(De,H("operator"),ge,H(";")):j(N("form"),pattern,H("{"),N("}"),he,V,V)):h&&"namespace"==t?(C.marked="keyword",j(N("form"),K,$,V)):h&&"abstract"==t?(C.marked="keyword",j($)):j(N("stat"),ie):"switch"==e?j(N("form"),W,H("{"),N("}","switch"),z,he,V,V,F):"case"==e?j(K,H(":")):"default"==e?j(H(":")):"catch"==e?j(N("form"),L,U,$,V,F):"export"==e?j(N("stat"),$e,V):"import"==e?j(N("stat"),qe,V):"async"==e?j($):"@"==t?j(K,$):I(N("stat"),K,H(";"),V)}function U(e){if("("==e)return j(Le,H(")"))}function K(e,t){return Y(e,t,!1)}function G(e,t){return Y(e,t,!0)}function W(e){return"("!=e?I():j(N(")"),K,H(")"),V)}function Y(e,t,r){if(C.state.fatArrowAt==C.stream.start){var body=r?re:te;if("("==e)return j(L,N(")"),ue(Le,")"),V,H("=>"),body,F);if("variable"==e)return I(L,pattern,H("=>"),body,F)}var n=r?J:Q;return O.hasOwnProperty(e)?j(n):"function"==e?j(Pe,n):"class"==e||h&&"interface"==t?(C.marked="keyword",j(N("form"),ze,V)):"keyword c"==e||"async"==e?j(r?G:K):"("==e?j(N(")"),X,H(")"),V,n):"operator"==e||"spread"==e?j(r?G:K):"["==e?j(N("]"),Xe,V,n):"{"==e?de(se,"}",null,n):"quasi"==e?I(Z,n):"new"==e?j(function(e){return function(t){return"."==t?j(e?oe:ne):"variable"==t&&h?j(ke,e?J:Q):I(e?G:K)}}(r)):"import"==e?j(K):j()}function X(e){return e.match(/[;\}\)\],]/)?I():I(K)}function Q(e,t){return","==e?j(X):J(e,t,!1)}function J(e,t,r){var n=0==r?Q:J,o=0==r?K:G;return"=>"==e?j(L,r?re:te,F):"operator"==e?/\+\+|--/.test(t)||h&&"!"==t?j(n):h&&"<"==t&&C.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?j(N(">"),ue(ge,">"),V,n):"?"==t?j(K,H(":"),o):j(o):"quasi"==e?I(Z,n):";"!=e?"("==e?de(G,")","call",n):"."==e?j(ae,n):"["==e?j(N("]"),X,H("]"),V,n):h&&"as"==t?(C.marked="keyword",j(ge,n)):"regexp"==e?(C.state.lastType=C.marked="operator",C.stream.backUp(C.stream.pos-C.stream.start-1),j(o)):void 0:void 0}function Z(e,t){return"quasi"!=e?I():"${"!=t.slice(t.length-2)?j(Z):j(K,ee)}function ee(e){if("}"==e)return C.marked="string-2",C.state.tokenize=S,j(Z)}function te(e){return x(C.stream,C.state),I("{"==e?$:K)}function re(e){return x(C.stream,C.state),I("{"==e?$:G)}function ne(e,t){if("target"==t)return C.marked="keyword",j(Q)}function oe(e,t){if("target"==t)return C.marked="keyword",j(J)}function ie(e){return":"==e?j(V,$):I(Q,H(";"),V)}function ae(e){if("variable"==e)return C.marked="property",j()}function se(e,t){return"async"==e?(C.marked="property",j(se)):"variable"==e||"keyword"==C.style?(C.marked="property","get"==t||"set"==t?j(le):(h&&C.state.fatArrowAt==C.stream.start&&(r=C.stream.match(/^\s*:\s*/,!1))&&(C.state.fatArrowAt=C.stream.pos+r[0].length),j(ce))):"number"==e||"string"==e?(C.marked=c?"property":C.style+" property",j(ce)):"jsonld-keyword"==e?j(ce):h&&A(t)?(C.marked="keyword",j(se)):"["==e?j(K,fe,H("]"),ce):"spread"==e?j(G,ce):"*"==t?(C.marked="keyword",j(se)):":"==e?I(ce):void 0;var r}function le(e){return"variable"!=e?I(ce):(C.marked="property",j(Pe))}function ce(e){return":"==e?j(G):"("==e?I(Pe):void 0}function ue(e,t,r){function n(o,l){if(r?r.indexOf(o)>-1:","==o){var c=C.state.lexical;return"call"==c.info&&(c.pos=(c.pos||0)+1),j((function(r,n){return r==t||n==t?I():I(e)}),n)}return o==t||l==t?j():r&&r.indexOf(";")>-1?I(e):j(H(t))}return function(r,o){return r==t||o==t?j():I(e,n)}}function de(e,t,r){for(var i=3;i<arguments.length;i++)C.cc.push(arguments[i]);return j(N(t,r),ue(e,t),V)}function he(e){return"}"==e?j():I($,he)}function fe(e,t){if(h){if(":"==e)return j(ge);if("?"==t)return j(fe)}}function pe(e,t){if(h&&(":"==e||"in"==t))return j(ge)}function ve(e){if(h&&":"==e)return C.stream.match(/^\s*\w+\s+is\b/,!1)?j(K,me,ge):j(ge)}function me(e,t){if("is"==t)return C.marked="keyword",j()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(C.marked="keyword",j("typeof"==t?G:ge)):"variable"==e||"void"==t?(C.marked="type",j(we)):"|"==t||"&"==t?j(ge):"string"==e||"number"==e||"atom"==e?j(we):"["==e?j(N("]"),ue(ge,"]",","),V,we):"{"==e?j(N("}"),ue(ye,"}",",;"),V,we):"("==e?j(ue(_e,")"),be,we):"<"==e?j(ue(ge,">"),ge):void 0}function be(e){if("=>"==e)return j(ge)}function ye(e,t){return"variable"==e||"keyword"==C.style?(C.marked="property",j(ye)):"?"==t||"number"==e||"string"==e?j(ye):":"==e?j(ge):"["==e?j(H("variable"),pe,H("]"),ye):"("==e?I(Be,ye):void 0}function _e(e,t){return"variable"==e&&C.stream.match(/^\s*[?:]/,!1)||"?"==t?j(_e):":"==e?j(ge):"spread"==e?j(_e):I(ge)}function we(e,t){return"<"==t?j(N(">"),ue(ge,">"),V,we):"|"==t||"."==e||"&"==t?j(ge):"["==e?j(ge,H("]"),we):"extends"==t||"implements"==t?(C.marked="keyword",j(ge)):"?"==t?j(ge,H(":"),ge):void 0}function ke(e,t){if("<"==t)return j(N(">"),ue(ge,">"),V,we)}function Se(){return I(ge,xe)}function xe(e,t){if("="==t)return j(ge)}function Oe(e,t){return"enum"==t?(C.marked="keyword",j(Qe)):I(pattern,fe,Ce,Ie)}function pattern(e,t){return h&&A(t)?(C.marked="keyword",j(pattern)):"variable"==e?(R(t),j()):"spread"==e?j(pattern):"["==e?de(Ee,"]"):"{"==e?de(Te,"}"):void 0}function Te(e,t){return"variable"!=e||C.stream.match(/^\s*:/,!1)?("variable"==e&&(C.marked="property"),"spread"==e?j(pattern):"}"==e?I():"["==e?j(K,H("]"),H(":"),Te):j(H(":"),pattern,Ce)):(R(t),j(Ce))}function Ee(){return I(pattern,Ce)}function Ce(e,t){if("="==t)return j(G)}function Ie(e){if(","==e)return j(Oe)}function je(e,t){if("keyword b"==e&&"else"==t)return j(N("form","else"),$,V)}function Me(e,t){return"await"==t?j(Me):"("==e?j(N(")"),Re,V):void 0}function Re(e){return"var"==e?j(Oe,Ae):"variable"==e?j(Ae):I(Ae)}function Ae(e,t){return")"==e?j():";"==e?j(Ae):"in"==t||"of"==t?(C.marked="keyword",j(K,Ae)):I(K,Ae)}function Pe(e,t){return"*"==t?(C.marked="keyword",j(Pe)):"variable"==e?(R(t),j(Pe)):"("==e?j(L,N(")"),ue(Le,")"),V,ve,$,F):h&&"<"==t?j(N(">"),ue(Se,">"),V,Pe):void 0}function Be(e,t){return"*"==t?(C.marked="keyword",j(Be)):"variable"==e?(R(t),j(Be)):"("==e?j(L,N(")"),ue(Le,")"),V,ve,F):h&&"<"==t?j(N(">"),ue(Se,">"),V,Be):void 0}function De(e,t){return"keyword"==e||"variable"==e?(C.marked="type",j(De)):"<"==t?j(N(">"),ue(Se,">"),V):void 0}function Le(e,t){return"@"==t&&j(K,Le),"spread"==e?j(Le):h&&A(t)?(C.marked="keyword",j(Le)):h&&"this"==e?j(fe,Ce):I(pattern,fe,Ce)}function ze(e,t){return"variable"==e?Fe(e,t):Ne(e,t)}function Fe(e,t){if("variable"==e)return R(t),j(Ne)}function Ne(e,t){return"<"==t?j(N(">"),ue(Se,">"),V,Ne):"extends"==t||"implements"==t||h&&","==e?("implements"==t&&(C.marked="keyword"),j(h?ge:K,Ne)):"{"==e?j(N("}"),Ve,V):void 0}function Ve(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||h&&A(t))&&C.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(C.marked="keyword",j(Ve)):"variable"==e||"keyword"==C.style?(C.marked="property",j(h?He:Pe,Ve)):"number"==e||"string"==e?j(h?He:Pe,Ve):"["==e?j(K,fe,H("]"),h?He:Pe,Ve):"*"==t?(C.marked="keyword",j(Ve)):h&&"("==e?I(Be,Ve):";"==e||","==e?j(Ve):"}"==e?j():"@"==t?j(K,Ve):void 0}function He(e,t){if("?"==t)return j(He);if(":"==e)return j(ge,Ce);if("="==t)return j(G);var r=C.state.lexical.prev;return I(r&&"interface"==r.info?Be:Pe)}function $e(e,t){return"*"==t?(C.marked="keyword",j(Ye,H(";"))):"default"==t?(C.marked="keyword",j(K,H(";"))):"{"==e?j(ue(Ue,"}"),Ye,H(";")):I($)}function Ue(e,t){return"as"==t?(C.marked="keyword",j(H("variable"))):"variable"==e?I(G,Ue):void 0}function qe(e){return"string"==e?j():"("==e?I(K):I(Ke,Ge,Ye)}function Ke(e,t){return"{"==e?de(Ke,"}"):("variable"==e&&R(t),"*"==t&&(C.marked="keyword"),j(We))}function Ge(e){if(","==e)return j(Ke,Ge)}function We(e,t){if("as"==t)return C.marked="keyword",j(Ke)}function Ye(e,t){if("from"==t)return C.marked="keyword",j(K)}function Xe(e){return"]"==e?j():I(ue(G,"]"))}function Qe(){return I(N("form"),pattern,H("{"),N("}"),ue(Je,"}"),V,V)}function Je(){return I(pattern,Ce)}function Ze(e,t,r){return t.tokenize==w&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return F.lex=!0,V.lex=!0,{startState:function(e){var t={tokenize:w,lastType:"sof",cc:[],lexical:new T((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new P(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),x(e,t)),t.tokenize!=k&&e.eatSpace())return null;var style=t.tokenize(e,t);return"comment"==n?style:(t.lastType="operator"!=n||"++"!=content&&"--"!=content?n:"incdec",function(e,style,t,content,r){var n=e.cc;for(C.state=e,C.stream=r,C.marked=null,C.cc=n,C.style=style,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((n.length?n.pop():d?K:$)(t,content)){for(;n.length&&n[n.length-1].lex;)n.pop()();return C.marked?C.marked:"variable"==t&&E(e,content)?"variable-2":style}}(t,style,n,content,e))},indent:function(t,n){if(t.tokenize==k)return e.Pass;if(t.tokenize!=w)return 0;var c,d=n&&n.charAt(0),h=t.lexical;if(!/^\s*else\b/.test(n))for(var i=t.cc.length-1;i>=0;--i){var f=t.cc[i];if(f==V)h=h.prev;else if(f!=je)break}for(;("stat"==h.type||"form"==h.type)&&("}"==d||(c=t.cc[t.cc.length-1])&&(c==Q||c==J)&&!/^[,\.=+\-*:?[\(]/.test(n));)h=h.prev;l&&")"==h.type&&"stat"==h.prev.type&&(h=h.prev);var v=h.type,y=d==v;return"vardef"==v?h.indented+("operator"==t.lastType||","==t.lastType?h.info.length+1:0):"form"==v&&"{"==d?h.indented:"form"==v?h.indented+o:"stat"==v?h.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||m.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?l||o:0):"switch"!=h.info||y||0==r.doubleIndentSwitch?h.align?h.column+(y?0:1):h.indented+(y?0:o):h.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:d?null:"/*",blockCommentEnd:d?null:"*/",blockCommentContinue:d?null:" * ",lineComment:d?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:d?"json":"javascript",jsonldMode:c,jsonMode:d,expressionAllowed:Ze,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=K&&t!=G||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(35))},,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(104)),o=d(r(443)),l=d(r(446)),c=d(r(449));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r="Store is invalid because "+e+", please stop the client, delete all data and start the client again",n=(0,c.default)(Error,[r]);return(0,l.default)(n,(0,o.default)(this)),n.reason=e,n.value=t,n}function f(e){var t="Crypto store is invalid because "+e+", please stop the client, delete all data and start the client again",r=(0,c.default)(Error,[t]);return(0,l.default)(r,(0,o.default)(this)),r.reason=e,r.name="InvalidCryptoStoreError",r}t.InvalidStoreError=h,t.InvalidCryptoStoreError=f,h.TOGGLED_LAZY_LOADING="TOGGLED_LAZY_LOADING",h.prototype=(0,n.default)(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),(0,l.default)(h,Error),f.TOO_NEW="TOO_NEW",f.prototype=(0,n.default)(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),(0,l.default)(f,Error)},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(26)),o=c(r(42)),l=c(r(47));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,o.default)(this,e),this.target=t,this.boundHandlers={}}return(0,l.default)(e,[{key:"_handleEvent",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=this.target).emit.apply(t,[e].concat(n))}},{key:"reEmit",value:function(source,e){var t=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r.concat([source]))},r=!0,o=!1,l=void 0;try{for(var c,d=(0,n.default)(e);!(r=(c=d.next()).done);r=!0){var h=c.value;void 0===this.boundHandlers[h]&&(this.boundHandlers[h]=this._handleEvent.bind(this,h));var f=t.bind(this,this.boundHandlers[h]);source.on(h,f)}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(161)),o=y(r(38)),l=y(r(66)),c=y(r(26)),d=y(r(42)),h=y(r(47)),f=y(r(20)),v=y(r(22)),m=y(r(21));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(){(0,d.default)(this,e),this._outgoingRoomKeyRequests=[],this._account=null,this._crossSigningKeys=null,this._sessions={},this._inboundGroupSessions={},this._deviceData=null,this._rooms={},this._sessionsNeedingBackup={}}return(0,h.default)(e,[{key:"deleteAllData",value:function(){return f.default.resolve()}},{key:"getOrAddOutgoingRoomKeyRequest",value:function(e){var t=this,r=e.requestBody;return f.default.try((function(){var n=t._getOutgoingRoomKeyRequest(r);return n?(v.default.log("already have key request outstanding for "+r.room_id+" / "+r.session_id+": not sending another"),n):(v.default.log("enqueueing key request for "+r.room_id+" / "+r.session_id),t._outgoingRoomKeyRequests.push(e),e)}))}},{key:"getOutgoingRoomKeyRequest",value:function(e){return f.default.resolve(this._getOutgoingRoomKeyRequest(e))}},{key:"_getOutgoingRoomKeyRequest",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=(0,c.default)(this._outgoingRoomKeyRequests);!(t=(o=l.next()).done);t=!0){var d=o.value;if(m.default.deepCompare(d.requestBody,e))return d}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return null}},{key:"getOutgoingRoomKeyRequestByState",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=(0,c.default)(this._outgoingRoomKeyRequests);!(t=(o=l.next()).done);t=!0){var d=o.value,h=!0,v=!1,m=void 0;try{for(var y,_=(0,c.default)(e);!(h=(y=_.next()).done);h=!0){var w=y.value;if(d.state===w)return f.default.resolve(d)}}catch(e){v=!0,m=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw m}}}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return f.default.resolve(null)}},{key:"getOutgoingRoomKeyRequestsByTarget",value:function(e,t,r){var n=[],o=!0,l=!1,d=void 0;try{for(var h,v=(0,c.default)(this._outgoingRoomKeyRequests);!(o=(h=v.next()).done);o=!0){var m=h.value,y=!0,_=!1,w=void 0;try{for(var k,S=(0,c.default)(r);!(y=(k=S.next()).done);y=!0){var x=k.value;m.state===x&&m.recipients.includes({userId:e,deviceId:t})&&n.push(m)}}catch(e){_=!0,w=e}finally{try{!y&&S.return&&S.return()}finally{if(_)throw w}}}}catch(e){l=!0,d=e}finally{try{!o&&v.return&&v.return()}finally{if(l)throw d}}return f.default.resolve(n)}},{key:"updateOutgoingRoomKeyRequest",value:function(e,t,r){var n=!0,o=!1,d=void 0;try{for(var h,m=(0,c.default)(this._outgoingRoomKeyRequests);!(n=(h=m.next()).done);n=!0){var y=h.value;if(y.requestId===e)return y.state!=t?(v.default.warn("Cannot update room key request from "+t+" as it was already updated to "+y.state),f.default.resolve(null)):((0,l.default)(y,r),f.default.resolve(y))}}catch(e){o=!0,d=e}finally{try{!n&&m.return&&m.return()}finally{if(o)throw d}}return f.default.resolve(null)}},{key:"deleteOutgoingRoomKeyRequest",value:function(e,t){for(var i=0;i<this._outgoingRoomKeyRequests.length;i++){var r=this._outgoingRoomKeyRequests[i];if(r.requestId===e)return r.state!=t?(v.default.warn("Cannot delete room key request in state "+r.state+" (expected "+t+")"),f.default.resolve(null)):(this._outgoingRoomKeyRequests.splice(i,1),f.default.resolve(r))}return f.default.resolve(null)}},{key:"getAccount",value:function(e,t){t(this._account)}},{key:"storeAccount",value:function(e,t){this._account=t}},{key:"getCrossSigningKeys",value:function(e,t){t(this._crossSigningKeys)}},{key:"storeCrossSigningKeys",value:function(e,t){this._crossSigningKeys=t}},{key:"countEndToEndSessions",value:function(e,t){return(0,o.default)(this._sessions).length}},{key:"getEndToEndSession",value:function(e,t,r,n){n((this._sessions[e]||{})[t]||null)}},{key:"getEndToEndSessions",value:function(e,t,r){r(this._sessions[e]||{})}},{key:"getAllEndToEndSessions",value:function(e,t){var r=!0,o=!1,l=void 0;try{for(var d,h=(0,c.default)((0,n.default)(this._sessions));!(r=(d=h.next()).done);r=!0){var f=d.value,v=!0,m=!1,y=void 0;try{for(var _,w=(0,c.default)((0,n.default)(f));!(v=(_=w.next()).done);v=!0){t(_.value)}}catch(e){m=!0,y=e}finally{try{!v&&w.return&&w.return()}finally{if(m)throw y}}}}catch(e){o=!0,l=e}finally{try{!r&&h.return&&h.return()}finally{if(o)throw l}}}},{key:"storeEndToEndSession",value:function(e,t,r,n){var o=this._sessions[e];void 0===o&&(o={},this._sessions[e]=o),o[t]=r}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){n(this._inboundGroupSessions[e+"/"+t]||null)}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){var r=!0,n=!1,l=void 0;try{for(var d,h=(0,c.default)((0,o.default)(this._inboundGroupSessions));!(r=(d=h.next()).done);r=!0){var f=d.value;t({senderKey:f.substr(0,43),sessionId:f.substr(44),sessionData:this._inboundGroupSessions[f]})}}catch(e){n=!0,l=e}finally{try{!r&&h.return&&h.return()}finally{if(n)throw l}}t(null)}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){var o=e+"/"+t;void 0===this._inboundGroupSessions[o]&&(this._inboundGroupSessions[o]=r)}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){this._inboundGroupSessions[e+"/"+t]=r}},{key:"getEndToEndDeviceData",value:function(e,t){t(this._deviceData)}},{key:"storeEndToEndDeviceData",value:function(e,t){this._deviceData=e}},{key:"storeEndToEndRoom",value:function(e,t,r){this._rooms[e]=t}},{key:"getEndToEndRooms",value:function(e,t){t(this._rooms)}},{key:"getSessionsNeedingBackup",value:function(e){var t=[];for(var r in this._sessionsNeedingBackup)if(this._inboundGroupSessions[r]&&(t.push({senderKey:r.substr(0,43),sessionId:r.substr(44),sessionData:this._inboundGroupSessions[r]}),e&&r.length>=e))break;return f.default.resolve(t)}},{key:"countSessionsNeedingBackup",value:function(){return f.default.resolve((0,o.default)(this._sessionsNeedingBackup).length)}},{key:"unmarkSessionsNeedingBackup",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=(0,c.default)(e);!(t=(o=l.next()).done);t=!0){var d=o.value,h=d.senderKey+"/"+d.sessionId;delete this._sessionsNeedingBackup[h]}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return f.default.resolve()}},{key:"markSessionsNeedingBackup",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=(0,c.default)(e);!(t=(o=l.next()).done);t=!0){var d=o.value,h=d.senderKey+"/"+d.sessionId;this._sessionsNeedingBackup[h]=!0}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return f.default.resolve()}},{key:"doTxn",value:function(e,t,r){return f.default.resolve(r(null))}}]),e}();t.default=_},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(472),l=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return(0,l.default)(e)}},function(e,t,r){"use strict";for(var n=/[\\\"\x00-\x1F]/g,o={},i=0;i<32;++i)o[String.fromCharCode(i)]="\\U"+("0000"+i.toString(16)).slice(-4).toUpperCase();function l(e){return n.lastIndex=0,e.replace(n,(function(e){return o[e]}))}function c(e){switch(typeof e){case"string":return'"'+l(e)+'"';case"number":return isFinite(e)?e:"null";case"boolean":return e;case"object":return null===e?"null":Array.isArray(e)?function(e){for(var t="[",r="",i=0;i<e.length;++i)r+=t,t=",",r+=c(e[i]);return","!=t?"[]":r+"]"}(e):function(object){var e="{",t="",r=Object.keys(object);r.sort();for(var i=0;i<r.length;++i){var n=r[i];t+=e+'"'+l(n)+'":',e=",",t+=c(object[n])}return","!=e?"{}":t+"}"}(e);default:throw new Error("Cannot stringify: "+typeof e)}}o["\b"]="\\b",o["\t"]="\\t",o["\n"]="\\n",o["\f"]="\\f",o["\r"]="\\r",o['"']='\\"',o["\\"]="\\\\",e.exports={stringify:c}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDeviceError=t.DecryptionError=t.DecryptionAlgorithm=t.EncryptionAlgorithm=t.DECRYPTION_CLASSES=t.ENCRYPTION_CLASSES=void 0;var n=v(r(38)),o=v(r(72)),l=v(r(73)),c=v(r(74)),d=v(r(42)),h=v(r(47));t.registerAlgorithm=function(e,t,r){m[e]=t,y[e]=r};var f=v(r(20));function v(e){return e&&e.__esModule?e:{default:e}}var m=t.ENCRYPTION_CLASSES={},y=t.DECRYPTION_CLASSES={},_=function(){function e(t){(0,d.default)(this,e),this._userId=t.userId,this._deviceId=t.deviceId,this._crypto=t.crypto,this._olmDevice=t.olmDevice,this._baseApis=t.baseApis,this._roomId=t.roomId}return(0,h.default)(e,[{key:"onRoomMembership",value:function(e,t,r){}}]),e}();t.EncryptionAlgorithm=_;var w=function(){function e(t){(0,d.default)(this,e),this._userId=t.userId,this._crypto=t.crypto,this._olmDevice=t.olmDevice,this._baseApis=t.baseApis,this._roomId=t.roomId}return(0,h.default)(e,[{key:"onRoomKeyEvent",value:function(e){}},{key:"importRoomKey",value:function(e){}},{key:"hasKeysForKeyRequest",value:function(e){return f.default.resolve(!1)}},{key:"shareKeysWithDevice",value:function(e){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}}]),e}();t.DecryptionAlgorithm=w;var k=function(e){function t(code,e,details){(0,d.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return r.code=code,r.name="DecryptionError",r.detailedString=function(e,details){var t=e.name+"[msg: "+e.message;details&&(t+=", "+(0,n.default)(details).map((function(e){return e+": "+details[e]})).join(", "));return t+="]"}(r,details),r}return(0,c.default)(t,e),t}(Error);t.DecryptionError=k;t.UnknownDeviceError=function(e){function t(e,r){(0,d.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.name="UnknownDeviceError",n.devices=r,n}return(0,c.default)(t,e),t}(Error)},function(e,t,r){"use strict";var n=h(r(96)),o=h(r(26)),l=h(r(65)),c=h(r(38)),d=r(21);function h(e){return e&&e.__esModule?e:{default:e}}var f=["override","content","room","sender","underride"],v=[{rule_id:".m.rule.tombstone",default:!0,enabled:!0,conditions:[{kind:"event_match",key:"type",pattern:"m.room.tombstone"},{kind:"event_match",key:"state_key",pattern:""}],actions:["notify",{set_tweak:"highlight",value:!0}]},{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:"event_match",key:"type",pattern:"m.reaction"}],actions:["dont_notify"]}];function m(e){var t=this,r={},n=function(e,r,n){for(var o=0;o<f.length;++o)for(var l=f[o],c=r[l],d=0;d<c.length;++d){var v=c[d];if(v.enabled){var m=h(l,v,n);if(m&&t.ruleMatchesEvent(m,e))return v.kind=l,v}}return null},h=function(e,t,r){var n={rule_id:t.rule_id,actions:t.actions,conditions:[]};switch(e){case"underride":case"override":n.conditions=t.conditions;break;case"room":if(!t.rule_id)return null;n.conditions.push({kind:"event_match",key:"room_id",value:t.rule_id});break;case"sender":if(!t.rule_id)return null;n.conditions.push({kind:"event_match",key:"user_id",value:t.rule_id});break;case"content":if(!t.pattern)return null;n.conditions.push({kind:"event_match",key:"content.body",pattern:t.pattern})}return r&&n.conditions.push({kind:"device",profile_tag:r}),n},y=function(e,t){var r={event_match:x,device:S,contains_display_name:k,room_member_count:w,sender_notification_permission:_};return!!r[e.kind]&&r[e.kind](e,t)},_=function(t,r){var n=t.key;if(!n)return!1;var o=e.getRoom(r.getRoomId());return!(!o||!o.currentState)&&o.currentState.mayTriggerNotifOfType(n,r.getSender())},w=function(t,r){if(!t.is)return!1;var n=e.getRoom(r.getRoomId());if(!n||!n.currentState||!n.currentState.members)return!1;var o=n.currentState.getJoinedMemberCount(),l=t.is.match(/^([=<>]*)([0-9]*)$/);if(!l)return!1;var c=l[1],d=parseInt(l[2]);if(isNaN(d))return!1;switch(c){case"":case"==":return o==d;case"<":return o<d;case">":return o>d;case"<=":return o<=d;case">=":return o>=d;default:return!1}},k=function(t,r){var content=r.getContent();if(r.isEncrypted()&&r.getClearContent()&&(content=r.getClearContent()),!content||!content.body||"string"!=typeof content.body)return!1;var n=e.getRoom(r.getRoomId());if(!(n&&n.currentState&&n.currentState.members&&n.currentState.getMember(e.credentials.userId)))return!1;var o=n.currentState.getMember(e.credentials.userId).name,l=new RegExp("(^|\\W)"+(0,d.escapeRegExp)(o)+"(\\W|$)","i");return content.body.search(l)>-1},S=function(e,t){return!1},x=function(e,t){if(!e.key)return!1;var r=T(e.key,t);if("string"!=typeof r)return!1;if(e.value)return e.value===r;var n=void 0;return n="content.body"==e.key?O("(^|\\W)",e.pattern,"(\\W|$)"):O("^",e.pattern,"$"),!!r.match(n)},O=function(e,t,n){return r[t]?r[t]:(r[t]=new RegExp(e+(0,d.globToRegexp)(t)+n,"i"),r[t])},T=function(e,t){var r=e.split("."),n=void 0,o=r[0];for("content"===o?(n=t.getContent(),r.shift()):"type"===o?(n=t.getType(),r.shift()):n=t.event;r.length>0;){var l=r.shift();if((0,d.isNullOrUndefined)(n[l]))return null;n=n[l]}return n},E=function(t,r){var o=function(t,r){if(!r||!r.device)return null;if(t.getSender()==e.credentials.userId)return null;for(var o=(0,c.default)(r.device),i=0;i<o.length;++i){var l=o[i],d=r.device[l],h=n(d,l);if(h)return h}return n(t,r.global)}(t,r);if(!o)return{};var l=m.actionListToActionsObject(o.actions);return void 0===l.tweaks.highlight&&(l.tweaks.highlight="content"==o.kind),l};this.ruleMatchesEvent=function(e,t){for(var r=!0,i=0;i<e.conditions.length;++i){var n=e.conditions[i];r&=y(n,t)}return r},this.actionsForEvent=function(t){var r=function(e){var t=JSON.parse((0,l.default)(e));e.global||(e.global={}),e.global.override||(e.global.override=[]);var r=e.global.override,n=!0,c=!1,d=void 0;try{for(var h,f=function(){var e=h.value;if(!r.find((function(t){return t.rule_id===e.rule_id}))){var t=e.rule_id;console.warn("Adding default global override for "+t),r.push(e)}},m=(0,o.default)(v);!(n=(h=m.next()).done);n=!0)f()}catch(e){c=!0,d=e}finally{try{!n&&m.return&&m.return()}finally{if(c)throw d}}return t}(e.pushRules);return E(t,r)},this.getPushRuleById=function(t){for(var r=["device","global"],n=0;n<r.length;n++){var l=r[n];if(void 0!==e.pushRules[l]){var c=!0,d=!1,h=void 0;try{for(var v,m=(0,o.default)(f);!(c=(v=m.next()).done);c=!0){var y=v.value;if(void 0!==e.pushRules[l][y]){var _=!0,w=!1,k=void 0;try{for(var S,x=(0,o.default)(e.pushRules[l][y]);!(_=(S=x.next()).done);_=!0){var O=S.value;if(O.rule_id===t)return O}}catch(e){w=!0,k=e}finally{try{!_&&x.return&&x.return()}finally{if(w)throw k}}}}}catch(e){d=!0,h=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw h}}}}return null}}m.actionListToActionsObject=function(e){for(var t={notify:!1,tweaks:{}},i=0;i<e.length;++i){var r=e[i];"notify"===r?t.notify=!0:"object"===(void 0===r?"undefined":(0,n.default)(r))&&(void 0===r.value&&(r.value=!0),t.tweaks[r.set_tweak]=r.value)}return t},m.rewriteDefaultRules=function(e){var t=JSON.parse((0,l.default)(e));return t||(t={}),t.global||(t.global={}),t.global.override||(t.global.override=[]),t.global.override=t.global.override.map((function(e){var t=v.find((function(t){return t.rule_id===e.rule_id}));return t?(e.default=t.default,e.conditions=t.conditions,e.actions=t.actions,e):e})),t},e.exports=m},function(e,t,r){"use strict";var n=r(49).EventEmitter,o=r(165),l=r(21);function c(e,t){this.roomId=e,this.userId=t,this.typing=!1,this.name=t,this.rawDisplayName=t,this.powerLevel=0,this.powerLevelNorm=0,this.user=null,this.membership=null,this.events={member:null},this._isOutOfBand=!1,this._updateModifiedTime()}l.inherits(c,n),c.prototype.markOutOfBand=function(){this._isOutOfBand=!0},c.prototype.isOutOfBand=function(){return this._isOutOfBand},c.prototype.setMembershipEvent=function(e,t){if("m.room.member"===e.getType()){this._isOutOfBand=!1,this.events.member=e;var r=this.membership;this.membership=e.getDirectionalContent().membership;var n=this.name;this.name=function(e,t,r){if(!t||t===e)return e;if(!l.removeHiddenChars(t))return e;if(!r)return t;var n=/@.+:.+/.test(t);if(!n){var o=r.getUserIdsWithDisplayName(t);n=o.some((function(u){return u!==e}))}if(n)return t+" ("+e+")";return t}(this.userId,e.getDirectionalContent().displayname,t),this.rawDisplayName=e.getDirectionalContent().displayname||this.userId,r!==this.membership&&(this._updateModifiedTime(),this.emit("RoomMember.membership",e,this,r)),n!==this.name&&(this._updateModifiedTime(),this.emit("RoomMember.name",e,this,n))}},c.prototype.setPowerLevelEvent=function(e){if("m.room.power_levels"===e.getType()){var t=e.getDirectionalContent(),r=t.users_default||0;l.forEach(l.values(t.users),(function(e){r=Math.max(r,e)}));var n=this.powerLevel,o=this.powerLevelNorm;t.users&&void 0!==t.users[this.userId]?this.powerLevel=t.users[this.userId]:void 0!==t.users_default?this.powerLevel=t.users_default:this.powerLevel=0,this.powerLevelNorm=0,r>0&&(this.powerLevelNorm=100*this.powerLevel/r),n===this.powerLevel&&o===this.powerLevelNorm||(this._updateModifiedTime(),this.emit("RoomMember.powerLevel",e,this))}},c.prototype.setTypingEvent=function(e){if("m.typing"===e.getType()){var t=this.typing;this.typing=!1;var r=e.getContent().user_ids;l.isArray(r)&&(-1!==r.indexOf(this.userId)&&(this.typing=!0),t!==this.typing&&(this._updateModifiedTime(),this.emit("RoomMember.typing",e,this)))}},c.prototype._updateModifiedTime=function(){this._modified=Date.now()},c.prototype.getLastModifiedTime=function(){return this._modified},c.prototype.isKicked=function(){return"leave"===this.membership&&this.events.member.getSender()!==this.events.member.getStateKey()},c.prototype.getDMInviter=function(){if(this.events.member){var e=this.events.member,t=e.getContent(),r=e.getSender();if("join"===t.membership&&(t=e.getPrevContent(),r=e.getUnsigned().prev_sender),"invite"===t.membership&&t.is_direct)return r}},c.prototype.getAvatarUrl=function(e,t,r,n,l,c){void 0===l&&(l=!0);var d=this.getMxcAvatarUrl();if(!d&&!l)return null;var h=o.getHttpUriForMxc(e,d,t,r,n,c);return h||(l?o.getIdenticonUri(e,this.userId,t,r):null)},c.prototype.getMxcAvatarUrl=function(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:null},e.exports=c},function(e,t,r){"use strict";var n=r(513);function o(e,t,r){for(var n=t.split("."),o=e,i=0;i<n.length-1;i++)o[n[i]]||(o[n[i]]={}),o=o[n[i]];o[n[n.length-1]]=r}function l(e,t){this.userId=e,this.filterId=t,this.definition={}}l.LAZY_LOADING_MESSAGES_FILTER={lazy_load_members:!0},l.LAZY_LOADING_SYNC_FILTER={room:{state:l.LAZY_LOADING_MESSAGES_FILTER}},l.prototype.getFilterId=function(){return this.filterId},l.prototype.getDefinition=function(){return this.definition},l.prototype.setDefinition=function(e){this.definition=e;var t=e.room,r={};t&&(t.rooms&&(r.rooms=t.rooms),t.rooms&&(r.not_rooms=t.not_rooms),this._include_leave=t.include_leave||!1),this._room_filter=new n(r),this._room_timeline_filter=new n(t&&t.timeline||{})},l.prototype.getRoomTimelineFilterComponent=function(){return this._room_timeline_filter},l.prototype.filterRoomTimeline=function(e){return this._room_timeline_filter.filter(this._room_filter.filter(e))},l.prototype.setTimelineLimit=function(e){o(this.definition,"room.timeline.limit",e)},l.prototype.setIncludeLeaveRooms=function(e){o(this.definition,"room.include_leave",e)},l.fromJson=function(e,t,r){var filter=new l(e,t);return filter.setDefinition(r),filter},e.exports=l},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,l=function(){for(var e=[],i=0;i<256;++i)e.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return e}(),c=function(source,e){for(var t=e&&e.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(t[i]=source[i]);return t};e.exports={arrayToObject:c,assign:function(e,source){return Object.keys(source).reduce((function(e,t){return e[t]=source[t],e}),e)},combine:function(a,b){return[].concat(a,b)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],l=n.obj[n.prop],c=Object.keys(l),d=0;d<c.length;++d){var h=c[d],f=l[h];"object"==typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:l,prop:h}),r.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],l=0;l<r.length;++l)void 0!==r[l]&&n.push(r[l]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",i=0;i<n.length;++i){var c=n.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?o+=n.charAt(i):c<128?o+=l[c]:c<2048?o+=l[192|c>>6]+l[128|63&c]:c<55296||c>=57344?o+=l[224|c>>12]+l[128|c>>6&63]+l[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&n.charCodeAt(i)),o+=l[240|c>>18]+l[128|c>>12&63]+l[128|c>>6&63]+l[128|63&c])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,source,r){if(!source)return t;if("object"!=typeof source){if(o(t))t.push(source);else{if(!t||"object"!=typeof t)return[t,source];(r&&(r.plainObjects||r.allowPrototypes)||!n.call(Object.prototype,source))&&(t[source]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(source);var l=t;return o(t)&&!o(source)&&(l=c(t,r)),o(t)&&o(source)?(source.forEach((function(o,i){if(n.call(t,i)){var l=t[i];l&&"object"==typeof l&&o&&"object"==typeof o?t[i]=e(l,o,r):t.push(o)}else t[i]=o})),t):Object.keys(source).reduce((function(t,o){var l=source[o];return n.call(t,o)?t[o]=e(t[o],l,r):t[o]=l,t}),l)}}},function(e,t,r){var n=r(109),o=r(111);function l(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=l,e.exports.scan=function(base,e){function t(e,l){if(l&&"object"==typeof l)if(l.$ref){var f=n.resolve(e,l.$ref);h[f]=h[f]?h[f]+1:0}else{var v=l.id?n.resolve(e,l.id):e;if(v){if(v.indexOf("#")<0&&(v+="#"),d[v]){if(!o.deepCompareStrict(d[v],l))throw new Error("Schema <"+l+"> already exists with different definition");return d[v]}d[v]=l,"#"==v[v.length-1]&&(d[v.substring(0,v.length-1)]=l)}r(v+"/items",l.items instanceof Array?l.items:[l.items]),r(v+"/extends",l.extends instanceof Array?l.extends:[l.extends]),t(v+"/additionalItems",l.additionalItems),c(v+"/properties",l.properties),t(v+"/additionalProperties",l.additionalProperties),c(v+"/definitions",l.definitions),c(v+"/patternProperties",l.patternProperties),c(v+"/dependencies",l.dependencies),r(v+"/disallow",l.disallow),r(v+"/allOf",l.allOf),r(v+"/anyOf",l.anyOf),r(v+"/oneOf",l.oneOf),t(v+"/not",l.not)}}function r(e,r){if(r instanceof Array)for(var i=0;i<r.length;i++)t(e+"/"+i,r[i])}function c(e,r){if(r&&"object"==typeof r)for(var p in r)t(e+"/"+p,r[p])}var d={},h={};return t(base,e),new l(d,h)}},,,function(e,t,r){"use strict";var n={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var r=t.parent,n=t.slots,o=t.props,l=n(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return r._isMounted?c:(r.$once("hook:mounted",(function(){r.$forceUpdate()})),o.placeholderTag&&(o.placeholder||d)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||d):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=n},function(e,t,r){"use strict";var n=e.exports.Validator=r(550);e.exports.ValidatorResult=r(111).ValidatorResult,e.exports.ValidationError=r(111).ValidationError,e.exports.SchemaError=r(111).SchemaError,e.exports.SchemaScanResult=r(221).SchemaScanResult,e.exports.scan=r(221).scan,e.exports.validate=function(e,t,r){return(new n).validate(e,t,r)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(n,o){var l,c,d=n.indentUnit,h={},f=o.htmlMode?t:r;for(var v in f)h[v]=f[v];for(var v in o)h[v]=o[v];function m(e,t){function r(r){return t.tokenize=r,r(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?r(_("atom","]]>")):null:e.match("--")?r(_("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(function e(t){return function(r,n){for(var o;null!=(o=r.next());){if("<"==o)return n.tokenize=e(t+1),n.tokenize(r,n);if(">"==o){if(1==t){n.tokenize=m;break}return n.tokenize=e(t-1),n.tokenize(r,n)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=_("meta","?>"),"meta"):(l=e.eat("/")?"closeTag":"openTag",t.tokenize=y,"tag bracket"):"&"==n?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function y(e,t){var r,n,o=e.next();if(">"==o||"/"==o&&e.eat(">"))return t.tokenize=m,l=">"==o?"endTag":"selfcloseTag","tag bracket";if("="==o)return l="equals",null;if("<"==o){t.tokenize=m,t.state=x,t.tagName=t.tagStart=null;var c=t.tokenize(e,t);return c?c+" tag error":"tag error"}return/[\'\"]/.test(o)?(t.tokenize=(r=o,(n=function(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=y;break}return"string"}).isInAttribute=!0,n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function _(style,e){return function(t,r){for(;!t.eol();){if(t.match(e)){r.tokenize=m;break}t.next()}return style}}function w(e,t,r){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=r,(h.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function k(e){e.context&&(e.context=e.context.prev)}function S(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!h.contextGrabbers.hasOwnProperty(r)||!h.contextGrabbers[r].hasOwnProperty(t))return;k(e)}}function x(e,t,r){return"openTag"==e?(r.tagStart=t.column(),O):"closeTag"==e?T:x}function O(e,t,r){return"word"==e?(r.tagName=t.current(),c="tag",I):h.allowMissingTagName&&"endTag"==e?(c="tag bracket",I(e,0,r)):(c="error",O)}function T(e,t,r){if("word"==e){var n=t.current();return r.context&&r.context.tagName!=n&&h.implicitlyClosed.hasOwnProperty(r.context.tagName)&&k(r),r.context&&r.context.tagName==n||!1===h.matchClosing?(c="tag",E):(c="tag error",C)}return h.allowMissingTagName&&"endTag"==e?(c="tag bracket",E(e,0,r)):(c="error",C)}function E(e,t,r){return"endTag"!=e?(c="error",E):(k(r),x)}function C(e,t,r){return c="error",E(e,0,r)}function I(e,t,r){if("word"==e)return c="attribute",j;if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,o=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==e||h.autoSelfClosers.hasOwnProperty(n)?S(r,n):(S(r,n),r.context=new w(r,n,o==r.indented)),x}return c="error",I}function j(e,t,r){return"equals"==e?M:(h.allowMissing||(c="error"),I(e,0,r))}function M(e,t,r){return"string"==e?R:"word"==e&&h.allowUnquoted?(c="string",I):(c="error",I(e,0,r))}function R(e,t,r){return"string"==e?R:I(e,0,r)}return m.isInText=!0,{startState:function(e){var t={tokenize:m,state:x,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;l=null;var style=t.tokenize(e,t);return(style||l)&&"comment"!=style&&(c=null,t.state=t.state(l||style,e,t),c&&(style="error"==c?style+" error":c)),style},indent:function(t,r,n){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+d;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=y&&t.tokenize!=m)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==h.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+d*(h.multilineTagIndentFactor||1);if(h.alignCDATA&&/<!\[CDATA\[/.test(r))return 0;var l=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(l&&l[1])for(;o;){if(o.tagName==l[2]){o=o.prev;break}if(!h.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(l)for(;o;){var c=h.contextGrabbers[o.tagName];if(!c||!c.hasOwnProperty(l[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+d:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:h.htmlMode?"html":"xml",helperType:h.htmlMode?"html":"xml",skipAttribute:function(e){e.state==M&&(e.state=I)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],r=e.context;r;r=r.prev)r.tagName&&t.push(r.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(r(35))},function(e,t,r){!function(e){"use strict";var t,r,n=e.Pos;function o(e,t){for(var r=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),n=r,i=0;i<t.length;i++)-1==n.indexOf(t.charAt(i))&&(n+=t.charAt(i));return r==n?e:new RegExp(e.source,n)}function l(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function c(e,t,r){t=o(t,"g");for(var line=r.line,l=r.ch,c=e.lastLine();line<=c;line++,l=0){t.lastIndex=l;var d=e.getLine(line),h=t.exec(d);if(h)return{from:n(line,h.index),to:n(line,h.index+h[0].length),match:h}}}function d(e,t,r){if(!l(t))return c(e,t,r);t=o(t,"gm");for(var d,h=1,line=r.line,f=e.lastLine();line<=f;){for(var i=0;i<h&&!(line>f);i++){var v=e.getLine(line++);d=null==d?v:d+"\n"+v}h*=2,t.lastIndex=r.ch;var m=t.exec(d);if(m){var y=d.slice(0,m.index).split("\n"),_=m[0].split("\n"),w=r.line+y.length-1,k=y[y.length-1].length;return{from:n(w,k),to:n(w+_.length-1,1==_.length?k+_[0].length:_[_.length-1].length),match:m}}}}function h(e,t,r){for(var n,o=0;o<=e.length;){t.lastIndex=o;var l=t.exec(e);if(!l)break;var c=l.index+l[0].length;if(c>e.length-r)break;(!n||c>n.index+n[0].length)&&(n=l),o=l.index+1}return n}function f(e,t,r){t=o(t,"g");for(var line=r.line,l=r.ch,c=e.firstLine();line>=c;line--,l=-1){var d=e.getLine(line),f=h(d,t,l<0?0:d.length-l);if(f)return{from:n(line,f.index),to:n(line,f.index+f[0].length),match:f}}}function v(e,t,r){if(!l(t))return f(e,t,r);t=o(t,"gm");for(var c,d=1,v=e.getLine(r.line).length-r.ch,line=r.line,m=e.firstLine();line>=m;){for(var i=0;i<d&&line>=m;i++){var y=e.getLine(line--);c=null==c?y:y+"\n"+c}d*=2;var _=h(c,t,v);if(_){var w=c.slice(0,_.index).split("\n"),k=_[0].split("\n"),S=line+w.length,x=w[w.length-1].length;return{from:n(S,x),to:n(S+k.length-1,1==k.length?x+k[0].length:k[k.length-1].length),match:_}}}}function m(e,t,r,n){if(e.length==t.length)return r;for(var o=0,l=r+Math.max(0,e.length-t.length);;){if(o==l)return o;var c=o+l>>1,d=n(e.slice(0,c)).length;if(d==r)return c;d>r?l=c:o=c+1}}function y(e,o,l,c){if(!o.length)return null;var d=c?t:r,h=d(o).split(/\r|\n\r?/);e:for(var line=l.line,f=l.ch,v=e.lastLine()+1-h.length;line<=v;line++,f=0){var y=e.getLine(line).slice(f),_=d(y);if(1==h.length){var w=_.indexOf(h[0]);if(-1==w)continue e;return l=m(y,_,w,d)+f,{from:n(line,m(y,_,w,d)+f),to:n(line,m(y,_,w+h[0].length,d)+f)}}var k=_.length-h[0].length;if(_.slice(k)==h[0]){for(var i=1;i<h.length-1;i++)if(d(e.getLine(line+i))!=h[i])continue e;var S=e.getLine(line+h.length-1),x=d(S),O=h[h.length-1];if(x.slice(0,O.length)==O)return{from:n(line,m(y,_,k,d)+f),to:n(line+h.length-1,m(S,x,O.length,d))}}}}function _(e,o,l,c){if(!o.length)return null;var d=c?t:r,h=d(o).split(/\r|\n\r?/);e:for(var line=l.line,f=l.ch,v=e.firstLine()-1+h.length;line>=v;line--,f=-1){var y=e.getLine(line);f>-1&&(y=y.slice(0,f));var _=d(y);if(1==h.length){var w=_.lastIndexOf(h[0]);if(-1==w)continue e;return{from:n(line,m(y,_,w,d)),to:n(line,m(y,_,w+h[0].length,d))}}var k=h[h.length-1];if(_.slice(0,k.length)==k){var i=1;for(l=line-h.length+1;i<h.length-1;i++)if(d(e.getLine(l+i))!=h[i])continue e;var S=e.getLine(line+1-h.length),x=d(S);if(x.slice(x.length-h[0].length)==h[0])return{from:n(line+1-h.length,m(S,x,S.length-h[0].length,d)),to:n(line,m(y,_,k.length,d))}}}}function w(e,t,r,l){var h;this.atOccurrence=!1,this.doc=e,r=r?e.clipPos(r):n(0,0),this.pos={from:r,to:r},"object"==typeof l?h=l.caseFold:(h=l,l=null),"string"==typeof t?(null==h&&(h=!1),this.matches=function(r,n){return(r?_:y)(e,t,n,h)}):(t=o(t,"gm"),l&&!1===l.multiline?this.matches=function(r,n){return(r?f:c)(e,t,n)}:this.matches=function(r,n){return(r?v:d)(e,t,n)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},r=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},r=function(e){return e}),w.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var r=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));r&&0==e.cmpPos(r.from,r.to);)t?r.from.ch?r.from=n(r.from.line,r.from.ch-1):r=r.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(n(r.from.line-1))):r.to.ch<this.doc.getLine(r.to.line).length?r.to=n(r.to.line,r.to.ch+1):r=r.to.line==this.doc.lastLine()?null:this.matches(t,n(r.to.line+1,0));if(r)return this.pos=r,this.atOccurrence=!0,this.pos.match||!0;var o=n(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:o,to:o},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,r){if(this.atOccurrence){var o=e.splitLines(t);this.doc.replaceRange(o,this.pos.from,this.pos.to,r),this.pos.to=n(this.pos.from.line+o.length-1,o[o.length-1].length+(1==o.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,r){return new w(this.doc,e,t,r)})),e.defineDocExtension("getSearchCursor",(function(e,t,r){return new w(this,e,t,r)})),e.defineExtension("selectMatches",(function(t,r){for(var n=[],o=this.getSearchCursor(t,this.getCursor("from"),r);o.findNext()&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)n.push({anchor:o.from(),head:o.to()});n.length&&this.setSelections(n,0)}))}(r(35))},function(e,t,r){!function(e){function t(t,template,r){var dialog,n=t.getWrapperElement();return(dialog=n.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof template?dialog.innerHTML=template:dialog.appendChild(template),e.addClass(n,"dialog-opened"),dialog}function r(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",(function(template,n,o){o||(o={}),r(this,null);var dialog=t(this,template,o.bottom),l=!1,c=this;function d(t){if("string"==typeof t)h.value=t;else{if(l)return;l=!0,e.rmClass(dialog.parentNode,"dialog-opened"),dialog.parentNode.removeChild(dialog),c.focus(),o.onClose&&o.onClose(dialog)}}var button,h=dialog.getElementsByTagName("input")[0];return h?(h.focus(),o.value&&(h.value=o.value,!1!==o.selectValueOnOpen&&h.select()),o.onInput&&e.on(h,"input",(function(e){o.onInput(e,h.value,d)})),o.onKeyUp&&e.on(h,"keyup",(function(e){o.onKeyUp(e,h.value,d)})),e.on(h,"keydown",(function(t){o&&o.onKeyDown&&o.onKeyDown(t,h.value,d)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(h.blur(),e.e_stop(t),d()),13==t.keyCode&&n(h.value,t))})),!1!==o.closeOnBlur&&e.on(h,"blur",d)):(button=dialog.getElementsByTagName("button")[0])&&(e.on(button,"click",(function(){d(),c.focus()})),!1!==o.closeOnBlur&&e.on(button,"blur",d),button.focus()),d})),e.defineExtension("openConfirm",(function(template,n,o){r(this,null);var dialog=t(this,template,o&&o.bottom),l=dialog.getElementsByTagName("button"),c=!1,d=this,h=1;function f(){c||(c=!0,e.rmClass(dialog.parentNode,"dialog-opened"),dialog.parentNode.removeChild(dialog),d.focus())}l[0].focus();for(var i=0;i<l.length;++i){var b=l[i];!function(t){e.on(b,"click",(function(r){e.e_preventDefault(r),f(),t&&t(d)}))}(n[i]),e.on(b,"blur",(function(){--h,setTimeout((function(){h<=0&&f()}),200)})),e.on(b,"focus",(function(){++h}))}})),e.defineExtension("openNotification",(function(template,n){r(this,d);var o,dialog=t(this,template,n&&n.bottom),l=!1,c=n&&void 0!==n.duration?n.duration:5e3;function d(){l||(l=!0,clearTimeout(o),e.rmClass(dialog.parentNode,"dialog-opened"),dialog.parentNode.removeChild(dialog))}return e.on(dialog,"click",(function(t){e.e_preventDefault(t),d()})),c&&(o=setTimeout(d,c)),d}))}(r(35))},function(e,t,r){"use strict";(function(t){e.exports.ContentHelpers=r(263),e.exports.MatrixEvent=r(63).MatrixEvent,e.exports.EventStatus=r(63).EventStatus,e.exports.MemoryStore=r(273).MemoryStore,e.exports.MatrixInMemoryStore=e.exports.MemoryStore,e.exports.IndexedDBStore=r(274).IndexedDBStore,e.exports.IndexedDBStoreBackend=r(274).IndexedDBStoreBackend,e.exports.SyncAccumulator=r(277),e.exports.MatrixHttpApi=r(160).MatrixHttpApi,e.exports.MatrixError=r(160).MatrixError,e.exports.InvalidStoreError=r(207).InvalidStoreError,e.exports.MatrixClient=r(281).MatrixClient,e.exports.Room=r(304),e.exports.Group=r(306),e.exports.EventTimeline=r(110),e.exports.EventTimelineSet=r(305),e.exports.RoomMember=r(218),e.exports.RoomState=r(303),e.exports.User=r(158),e.exports.MatrixScheduler=r(525),e.exports.WebStorageSessionStore=r(526),e.exports.CRYPTO_ENABLED=r(281).CRYPTO_ENABLED,e.exports.ContentRepo=r(165),e.exports.Filter=r(219),e.exports.TimelineWindow=r(527).TimelineWindow,e.exports.InteractiveAuth=r(528),e.exports.AutoDiscovery=r(529).AutoDiscovery,e.exports.SERVICE_TYPES=r(307).SERVICE_TYPES,e.exports.MemoryCryptoStore=r(212).default,e.exports.IndexedDBCryptoStore=r(132).default,e.exports.createNewMatrixCall=r(135).createNewMatrixCall,e.exports.setMatrixCallAudioOutput=r(135).setAudioOutput,e.exports.setMatrixCallAudioInput=r(135).setAudioInput,e.exports.setMatrixCallVideoInput=r(135).setVideoInput;var n=void 0;e.exports.request=function(e){n=e},e.exports.getRequest=function(){return n},e.exports.wrapRequest=function(e){var t=n;n=function(r,n){return e(t,r,n)}};var o=function(){return new e.exports.MemoryCryptoStore};e.exports.setCryptoStoreFactory=function(e){o=e},e.exports.createClient=function(r){return"string"==typeof r&&(r={baseUrl:r}),r.request=r.request||n,r.store=r.store||new e.exports.MemoryStore({localStorage:t.localStorage}),r.scheduler=r.scheduler||new e.exports.MatrixScheduler,r.cryptoStore=r.cryptoStore||o(),new e.exports.MatrixClient(r)}}).call(this,r(24))},function(e,t,r){"use strict";e.exports={makeHtmlMessage:function(body,e){return{msgtype:"m.text",format:"org.matrix.custom.html",body:body,formatted_body:e}},makeHtmlNotice:function(body,e){return{msgtype:"m.notice",format:"org.matrix.custom.html",body:body,formatted_body:e}},makeHtmlEmote:function(body,e){return{msgtype:"m.emote",format:"org.matrix.custom.html",body:body,formatted_body:e}},makeTextMessage:function(body){return{msgtype:"m.text",body:body}},makeNotice:function(body){return{msgtype:"m.notice",body:body}},makeEmoteMessage:function(body){return{msgtype:"m.emote",body:body}}}},function(e,t,r){e.exports={default:r(401),__esModule:!0}},,,,,,,,,function(e,t,r){"use strict";var n=l(r(66)),o=l(r(20));function l(e){return e&&e.__esModule?e:{default:e}}var c=r(21),d=r(158);e.exports.MemoryStore=function(e){e=e||{},this.rooms={},this.groups={},this.users={},this.syncToken=null,this.filters={},this.accountData={},this.localStorage=e.localStorage,this._oobMembers={},this._clientOptions={}},e.exports.MemoryStore.prototype={getSyncToken:function(){return this.syncToken},isNewlyCreated:function(){return o.default.resolve(!0)},setSyncToken:function(e){this.syncToken=e},storeGroup:function(e){this.groups[e.groupId]=e},getGroup:function(e){return this.groups[e]||null},getGroups:function(){return c.values(this.groups)},storeRoom:function(e){this.rooms[e.roomId]=e,e.currentState.on("RoomState.members",this._onRoomMember.bind(this));var t=this;e.currentState.getMembers().forEach((function(r){t._onRoomMember(null,e.currentState,r)}))},_onRoomMember:function(e,t,r){if("invite"!==r.membership){var n=this.users[r.userId]||new d(r.userId);r.name&&(n.setDisplayName(r.name),r.events.member&&n.setRawDisplayName(r.events.member.getDirectionalContent().displayname)),r.events.member&&r.events.member.getContent().avatar_url&&n.setAvatarUrl(r.events.member.getContent().avatar_url),this.users[n.userId]=n}},getRoom:function(e){return this.rooms[e]||null},getRooms:function(){return c.values(this.rooms)},removeRoom:function(e){this.rooms[e]&&this.rooms[e].removeListener("RoomState.members",this._onRoomMember),delete this.rooms[e]},getRoomSummaries:function(){return c.map(c.values(this.rooms),(function(e){return e.summary}))},storeUser:function(e){this.users[e.userId]=e},getUser:function(e){return this.users[e]||null},getUsers:function(){return c.values(this.users)},scrollback:function(e,t){return[]},storeEvents:function(e,t,r,n){},storeFilter:function(filter){filter&&(this.filters[filter.userId]||(this.filters[filter.userId]={}),this.filters[filter.userId][filter.filterId]=filter)},getFilter:function(e,t){return this.filters[e]&&this.filters[e][t]?this.filters[e][t]:null},getFilterIdByName:function(e){if(!this.localStorage)return null;try{return this.localStorage.getItem("mxjssdk_memory_filter_"+e)}catch(e){}return null},setFilterIdByName:function(e,t){if(this.localStorage)try{this.localStorage.setItem("mxjssdk_memory_filter_"+e,t)}catch(e){}},storeAccountDataEvents:function(e){var t=this;e.forEach((function(e){t.accountData[e.getType()]=e}))},getAccountData:function(e){return this.accountData[e]},setSyncData:function(e){return o.default.resolve()},wantsSave:function(){return!1},save:function(e){},startup:function(){return o.default.resolve()},getSavedSync:function(){return o.default.resolve(null)},getSavedSyncToken:function(){return o.default.resolve(null)},deleteAllData:function(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},o.default.resolve()},getOutOfBandMembers:function(e){return o.default.resolve(this._oobMembers[e]||null)},setOutOfBandMembers:function(e,t){return this._oobMembers[e]=t,o.default.resolve()},clearOutOfBandMembers:function(){return this._oobMembers={},o.default.resolve()},getClientOptions:function(){return o.default.resolve(this._clientOptions)},storeClientOptions:function(e){return this._clientOptions=(0,n.default)({},e),o.default.resolve()}}},function(e,t,r){"use strict";(function(t){var n=x(r(29)),o=x(r(275)),l=r(20),c=x(l),d=x(r(26)),h=x(r(60)),f=r(273),v=x(r(21)),m=r(49),y=x(r(435)),_=x(r(440)),w=x(r(158)),k=r(63),S=x(r(22));function x(e){return e&&e.__esModule?e:{default:e}}var O=function(e){if(f.MemoryStore.call(this,e),!e.indexedDB)throw new Error("Missing required option: indexedDB");if(e.workerScript){var r=e.workerApi;r||(r=t.Worker),this.backend=new _.default(e.workerScript,e.dbName,r)}else this.backend=new y.default(e.indexedDB,e.dbName);this.startedUp=!1,this._syncTs=0,this._userModifiedMap={}};function T(e,t){return r=(0,l.coroutine)(n.default.mark((function r(){for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];var v;return n.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,l.resolve)(e.call.apply(e,[this].concat(d)));case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),S.default.error("IndexedDBStore failure, degrading to MemoryStore",r.t0),this.emit("degraded",r.t0),r.prev=10,S.default.log("IndexedDBStore trying to delete degraded data"),r.next=14,(0,l.resolve)(this.backend.clearDatabase());case 14:S.default.log("IndexedDBStore delete after degrading succeeeded"),r.next=20;break;case 17:r.prev=17,r.t1=r.catch(10),S.default.warn("IndexedDBStore delete after degrading failed",r.t1);case 20:if((0,o.default)(this,f.MemoryStore.prototype),!t){r.next=25;break}return r.next=24,(0,l.resolve)((v=f.MemoryStore.prototype[t]).call.apply(v,[this].concat(d)));case 24:return r.abrupt("return",r.sent);case 25:case"end":return r.stop()}}),r,this,[[0,6],[10,17]])}))),function(e){return r.apply(this,arguments)};var r}v.default.inherits(O,f.MemoryStore),v.default.extend(O.prototype,m.EventEmitter.prototype),O.exists=function(e,t){return y.default.exists(e,t)},O.prototype.startup=function(){var e=this;return this.startedUp?(S.default.log("IndexedDBStore.startup: already started"),c.default.resolve()):(S.default.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then((function(){return S.default.log("IndexedDBStore.startup: loading presence events"),e.backend.getUserPresenceEvents()})).then((function(t){S.default.log("IndexedDBStore.startup: processing presence events"),t.forEach((function(t){var r=(0,h.default)(t,2),n=r[0],o=r[1],u=new w.default(n);o&&u.setPresenceEvent(new k.MatrixEvent(o)),e._userModifiedMap[u.userId]=u.getLastModifiedTime(),e.storeUser(u)}))})))},O.prototype.getSavedSync=T((function(){return this.backend.getSavedSync()}),"getSavedSync"),O.prototype.isNewlyCreated=T((function(){return this.backend.isNewlyCreated()}),"isNewlyCreated"),O.prototype.getSavedSyncToken=T((function(){return this.backend.getNextBatchToken()}),"getSavedSyncToken"),O.prototype.deleteAllData=T((function(){return f.MemoryStore.prototype.deleteAllData.call(this),this.backend.clearDatabase().then((function(){S.default.log("Deleted indexeddb data.")}),(function(e){throw S.default.error("Failed to delete indexeddb data: "+e),e}))})),O.prototype.wantsSave=function(){return Date.now()-this._syncTs>3e5},O.prototype.save=function(e){return e||this.wantsSave()?this._reallySave():c.default.resolve()},O.prototype._reallySave=T((function(){this._syncTs=Date.now();var e=[],t=!0,r=!1,n=void 0;try{for(var o,l=(0,d.default)(this.getUsers());!(t=(o=l.next()).done);t=!0){var u=o.value;this._userModifiedMap[u.userId]!==u.getLastModifiedTime()&&(u.events.presence&&(e.push([u.userId,u.events.presence.event]),this._userModifiedMap[u.userId]=u.getLastModifiedTime()))}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return this.backend.syncToDatabase(e)})),O.prototype.setSyncData=T((function(e){return this.backend.setSyncData(e)}),"setSyncData"),O.prototype.getOutOfBandMembers=T((function(e){return this.backend.getOutOfBandMembers(e)}),"getOutOfBandMembers"),O.prototype.setOutOfBandMembers=T((function(e,t){return f.MemoryStore.prototype.setOutOfBandMembers.call(this,e,t),this.backend.setOutOfBandMembers(e,t)}),"setOutOfBandMembers"),O.prototype.clearOutOfBandMembers=T((function(e){return f.MemoryStore.prototype.clearOutOfBandMembers.call(this),this.backend.clearOutOfBandMembers(e)}),"clearOutOfBandMembers"),O.prototype.getClientOptions=T((function(){return this.backend.getClientOptions()}),"getClientOptions"),O.prototype.storeClientOptions=T((function(e){return f.MemoryStore.prototype.storeClientOptions.call(this,e),this.backend.storeClientOptions(e)}),"storeClientOptions"),e.exports.IndexedDBStore=O}).call(this,r(24))},function(e,t,r){e.exports={default:r(428),__esModule:!0}},,function(e,t,r){"use strict";var n=f(r(104)),o=f(r(38)),l=f(r(42)),c=f(r(47)),d=f(r(21)),h=f(r(22));function f(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(t){(0,l.default)(this,e),(t=t||{}).maxTimelineEntries=t.maxTimelineEntries||50,this.opts=t,this.accountData={},this.inviteRooms={},this.joinRooms={},this.nextBatch=null,this.groups={invite:{},join:{},leave:{}}}return(0,c.default)(e,[{key:"accumulate",value:function(e){this._accumulateRooms(e),this._accumulateGroups(e),this._accumulateAccountData(e),this.nextBatch=e.next_batch}},{key:"_accumulateAccountData",value:function(e){var t=this;e.account_data&&e.account_data.events&&e.account_data.events.forEach((function(e){t.accountData[e.type]=e}))}},{key:"_accumulateRooms",value:function(e){var t=this;e.rooms&&(e.rooms.invite&&(0,o.default)(e.rooms.invite).forEach((function(r){t._accumulateRoom(r,"invite",e.rooms.invite[r])})),e.rooms.join&&(0,o.default)(e.rooms.join).forEach((function(r){t._accumulateRoom(r,"join",e.rooms.join[r])})),e.rooms.leave&&(0,o.default)(e.rooms.leave).forEach((function(r){t._accumulateRoom(r,"leave",e.rooms.leave[r])})))}},{key:"_accumulateRoom",value:function(e,t,data){switch(t){case"invite":this._accumulateInviteState(e,data);break;case"join":this.inviteRooms[e]&&delete this.inviteRooms[e],this._accumulateJoinState(e,data);break;case"leave":this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:h.default.error("Unknown cateogory: ",t)}}},{key:"_accumulateInviteState",value:function(e,data){if(data.invite_state&&data.invite_state.events)if(this.inviteRooms[e]){var t=this.inviteRooms[e];data.invite_state.events.forEach((function(e){for(var r=!1,i=0;i<t.invite_state.events.length;i++){var n=t.invite_state.events[i];n.type===e.type&&n.state_key==e.state_key&&(t.invite_state.events[i]=e,r=!0)}r||t.invite_state.events.push(e)}))}else this.inviteRooms[e]={invite_state:data.invite_state}}},{key:"_accumulateJoinState",value:function(e,data){this.joinRooms[e]||(this.joinRooms[e]={_currentState:(0,n.default)(null),_timeline:[],_accountData:(0,n.default)(null),_unreadNotifications:{},_summary:{},_readReceipts:{}});var t=this.joinRooms[e];if(data.account_data&&data.account_data.events&&data.account_data.events.forEach((function(e){t._accountData[e.type]=e})),data.unread_notifications&&(t._unreadNotifications=data.unread_notifications),data.summary){var r=t._summary,l=data.summary;r["m.heroes"]=l["m.heroes"]||r["m.heroes"],r["m.joined_member_count"]=l["m.joined_member_count"]||r["m.joined_member_count"],r["m.invited_member_count"]=l["m.invited_member_count"]||r["m.invited_member_count"]}if(data.ephemeral&&data.ephemeral.events&&data.ephemeral.events.forEach((function(e){"m.receipt"===e.type&&e.content&&(0,o.default)(e.content).forEach((function(r){e.content[r]["m.read"]&&(0,o.default)(e.content[r]["m.read"]).forEach((function(n){t._readReceipts[n]={data:e.content[r]["m.read"][n],eventId:r}}))}))})),data.timeline&&data.timeline.limited&&(t._timeline=[]),data.state&&data.state.events&&data.state.events.forEach((function(e){m(t._currentState,e)})),data.timeline&&data.timeline.events&&data.timeline.events.forEach((function(e,r){m(t._currentState,e),t._timeline.push({event:e,token:0===r?data.timeline.prev_batch:null})})),t._timeline.length>this.opts.maxTimelineEntries)for(var i=t._timeline.length-this.opts.maxTimelineEntries;i<t._timeline.length;i++)if(t._timeline[i].token){t._timeline=t._timeline.slice(i,t._timeline.length);break}}},{key:"_accumulateGroups",value:function(e){var t=this;e.groups&&(e.groups.invite&&(0,o.default)(e.groups.invite).forEach((function(r){t._accumulateGroup(r,"invite",e.groups.invite[r])})),e.groups.join&&(0,o.default)(e.groups.join).forEach((function(r){t._accumulateGroup(r,"join",e.groups.join[r])})),e.groups.leave&&(0,o.default)(e.groups.leave).forEach((function(r){t._accumulateGroup(r,"leave",e.groups.leave[r])})))}},{key:"_accumulateGroup",value:function(e,t,data){for(var r=["invite","join","leave"],n=0;n<r.length;n++){var o=r[n];delete this.groups[o][e]}this.groups[t][e]=data}},{key:"getJSON",value:function(){var e=this,data={join:{},invite:{},leave:{}};(0,o.default)(this.inviteRooms).forEach((function(t){data.invite[t]=e.inviteRooms[t]})),(0,o.default)(this.joinRooms).forEach((function(t){var r=e.joinRooms[t],l={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:r._unreadNotifications,summary:r._summary};(0,o.default)(r._accountData).forEach((function(e){l.account_data.events.push(r._accountData[e])}));var c={type:"m.receipt",room_id:t,content:{}};(0,o.default)(r._readReceipts).forEach((function(e){var t=r._readReceipts[e];c.content[t.eventId]||(c.content[t.eventId]={"m.read":{}}),c.content[t.eventId]["m.read"][e]=t.data})),(0,o.default)(c.content).length>0&&l.ephemeral.events.push(c),r._timeline.forEach((function(e){if(!l.timeline.prev_batch){if(!e.token)return;l.timeline.prev_batch=e.token}l.timeline.events.push(e.event)}));for(var h=(0,n.default)(null),i=l.timeline.events.length-1;i>=0;i--){var f=l.timeline.events[i];if(null!==f.state_key&&void 0!==f.state_key){var v=d.default.deepCopy(f);v.unsigned&&(v.unsigned.prev_content&&(v.content=v.unsigned.prev_content),v.unsigned.prev_sender&&(v.sender=v.unsigned.prev_sender)),m(h,v)}}(0,o.default)(r._currentState).forEach((function(e){(0,o.default)(r._currentState[e]).forEach((function(t){var n=r._currentState[e][t];h[e]&&h[e][t]&&(n=h[e][t]),l.state.events.push(n)}))})),data.join[t]=l}));var t=[];return(0,o.default)(this.accountData).forEach((function(r){t.push(e.accountData[r])})),{nextBatch:this.nextBatch,roomsData:data,groupsData:this.groups,accountData:t}}},{key:"getNextBatchToken",value:function(){return this.nextBatch}}]),e}();function m(e,t){null!==t.state_key&&void 0!==t.state_key&&t.type&&(e[t.type]||(e[t.type]=(0,n.default)(null)),e[t.type][t.state_key]=t)}e.exports=v},function(e,t,r){e.exports={default:r(438),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exists=function(e,t){return new l.default((function(r,n){var o=!0,l=e.open(t);l.onupgradeneeded=function(){o=!1},l.onblocked=function(){return n()},l.onsuccess=function(){l.result.close(),o||e.deleteDatabase(t),r(o)},l.onerror=function(e){return n(e.target.error)}}))};var n,o=r(20),l=(n=o)&&n.__esModule?n:{default:n}},,function(e,t,r){"use strict";(function(t){var n,o=R(r(65)),l=R(r(66)),c=R(r(130)),d=R(r(96)),h=r(20),f=R(h),v=R(r(29)),m=R(r(38)),y=R(r(60)),_=R(r(108)),w=R(r(26)),k=(n=(0,h.coroutine)(v.default.mark((function e(t,r,n,o,l,c){return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._crypto){e.next=2;break}throw new Error("End-to-End encryption disabled");case 2:return e.next=4,(0,h.resolve)(t._crypto.setDeviceVerification(r,n,o,l,c));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,o,l,c){return n.apply(this,arguments)}),S=r(21),x=R(r(211)),O=R(r(464)),T=R(r(22)),E=r(471),C=R(E),I=r(298),j=r(297),M=r(162);function R(e){return e&&e.__esModule?e:{default:e}}var A=r(217),P=r(49).EventEmitter,B=r(109),D=r(160),L=r(63).MatrixEvent,z=r(63).EventStatus,F=r(110),N=r(510),V=r(512),H=r(135),$=r(21),U=r(165),K=r(219),G=r(514),W=r(524),Y=D.MatrixError,X=r(263),Q=r(99);f.default.config({warnings:!1});var J,Z,ee,te,re,ne,oe,ie,ae,se,le,ce,ue,de,he,fe=(0,E.isCryptoAvailable)();function pe(e,t,r){var n=[],o=!0,l=!1,c=void 0;try{for(var d,h=(0,w.default)((0,_.default)(e));!(o=(d=h.next()).done);o=!0){var f=(0,y.default)(d.value,2),v=f[0],m=f[1];try{var k=ve(m,t);k.session_id=v,k.room_id=r,n.push(k)}catch(e){T.default.log("Failed to decrypt megolm session from backup",e)}}}catch(e){l=!0,c=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw c}}return n}function ve(e,t){return JSON.parse(t.decrypt(e.session_data.ephemeral,e.session_data.mac,e.session_data.ciphertext))}function me(e){var t=this;e.baseUrl=$.ensureNoTrailingSlash(e.baseUrl),e.idBaseUrl=$.ensureNoTrailingSlash(e.idBaseUrl),W.call(this,e),this.olmVersion=null,this.reEmitter=new x.default(this),this.store=e.store||new V,this.deviceId=e.deviceId||null;var r=e.userId||null;if(this.credentials={userId:r},this.scheduler=e.scheduler,this.scheduler){var n=this;this.scheduler.setProcessFunction((function(e){var t=n.getRoom(e.getRoomId());return e.status!==z.SENDING&&_e(t,e,z.SENDING),we(n,e)}))}this.clientRunning=!1,this.callList={};var o=H.createNewMatrixCall(this);this._supportsVoip=!1,o&&(!function(e){var t={},r=[];function n(){if("SYNCING"===e.getSyncState()){if(r.some((function(e){return e.isBeingDecrypted()})))return;for(var t={},i=r.length-1;i>=0;i--){var n=r[i];"m.call.answer"!==n.getType()&&"m.call.hangup"!==n.getType()||(t[n.getContent().call_id]="yep")}r.forEach((function(e){"m.call.invite"===e.getType()&&t[e.getContent().call_id]||o(e)})),r=[]}}function o(r){var content=r.getContent(),n=content.call_id?e.callList[content.call_id]:void 0,i=void 0;if("m.call.invite"===r.getType()){if(r.getSender()===e.credentials.userId)return;if(r.getAge()>content.lifetime)return;if(n&&"ended"===n.state)return;if(n&&T.default.log("WARN: Already have a MatrixCall with id %s but got an invite. Clobbering.",content.call_id),!(n=H.createNewMatrixCall(e,r.getRoomId(),{forceTURN:e._forceTURN})))return void T.default.log("Incoming call ID "+content.call_id+" but this client doesn't support WebRTC");if(n.callId=content.call_id,n._initWithInvite(r),e.callList[n.callId]=n,t[n.callId])for(i=0;i<t[n.callId].length;i++)n._gotRemoteIceCandidate(t[n.callId][i]);var o=void 0,l=$.values(e.callList);for(i=0;i<l.length;++i){var c=l[i];if(n.roomId===c.roomId&&"outbound"===c.direction&&-1!==["wait_local_media","create_offer","invite_sent"].indexOf(c.state)){o=c;break}}o?"wait_local_media"===o.state||"create_offer"===o.state||o.callId>n.callId?(T.default.log("Glare detected: answering incoming call "+n.callId+" and canceling outgoing call "+o.callId),o._replacedBy(n),n.answer()):(T.default.log("Glare detected: rejecting incoming call "+n.callId+" and keeping outgoing call "+o.callId),n.hangup()):e.emit("Call.incoming",n)}else if("m.call.answer"===r.getType()){if(!n)return;r.getSender()===e.credentials.userId?"ringing"===n.state&&n._onAnsweredElsewhere(content):n._receivedAnswer(content)}else if("m.call.candidates"===r.getType()){if(r.getSender()===e.credentials.userId)return;if(n)for(i=0;i<content.candidates.length;i++)n._gotRemoteIceCandidate(content.candidates[i]);else t[content.call_id]||(t[content.call_id]=[]),t[content.call_id]=t[content.call_id].concat(content.candidates)}else"m.call.hangup"===r.getType()&&(n?"ended"!==n.state&&(n._onHangupReceived(content),delete e.callList[content.call_id]):(n=H.createNewMatrixCall(e,r.getRoomId()))&&(n.callId=content.call_id,n._initWithHangup(r),e.callList[content.call_id]=n))}e.on("sync",n),e.on("event",(function(e){(0===e.getType().indexOf("m.call.")||e.isBeingDecrypted())&&r.push(e),(e.isBeingDecrypted()||e.isDecryptionFailure())&&e.once("Event.decrypted",(function(){-1!==e.getType().indexOf("m.call.")&&(r.includes(e)?n():o(e))}))}))}(this),this._supportsVoip=!0),this._syncingRetry=null,this._syncApi=null,this._peekSync=null,this._isGuest=!1,this._ongoingScrollbacks={},this.timelineSupport=Boolean(e.timelineSupport),this.urlPreviewCache={},this._notifTimelineSet=null,this.unstableClientRelationAggregation=!!e.unstableClientRelationAggregation,this._crypto=null,this._cryptoStore=e.cryptoStore,this._sessionStore=e.sessionStore,this._verificationMethods=e.verificationMethods,this._cryptoCallbacks=e.cryptoCallbacks,this._forceTURN=e.forceTURN||!1,this._fallbackICEServerAllowed=e.fallbackICEServerAllowed||!1,this._roomList=new O.default(this._cryptoStore),this._pushProcessor=new A(this),this._serverVersionsCache=null,this._cachedCapabilities=null,this.on("Event.decrypted",(function(e){var r=e.getPushActions(),n=t._pushProcessor.actionsForEvent(e);e.setPushActions(n);var o=t.getRoom(e.getRoomId());if(o){var l=o.getUnreadNotificationCount("highlight"),c=!(!r||!r.tweaks)&&!!r.tweaks.highlight,d=!(!n||!n.tweaks)&&!!n.tweaks.highlight;if((c!==d||l>0)&&!o.hasUserReadEvent(t.getUserId(),e.getId())){var h=l;d&&!c&&h++,!d&&c&&h--,o.setUnreadNotificationCount("highlight",h),o.getUnreadNotificationCount("total")<h&&o.setUnreadNotificationCount("total",h)}}})),this.on("Room.receipt",(function(e,r){if(r&&t.isRoomEncrypted(r.roomId)){var content=e.getContent();if(!((0,m.default)(content).filter((function(e){return(0,m.default)(content[e]["m.read"]).includes(t.getUserId())})).length>0))return;for(var n=r.getLiveTimeline().getEvents(),o=0,i=n.length-1;i>=0;i--){if(i===n.length-20)return;var l=n[i];if(r.hasUserReadEvent(t.getUserId(),l.getId()))break;o+=t.getPushActionsForEvent(l).tweaks.highlight?1:0}r.setUnreadNotificationCount("highlight",o)}}))}function ge(e,t){var r=!0,n=!1,o=void 0;try{for(var l,c=function(){var t=l.value;e.prototype[t]=function(){var e;if(!this._crypto)throw new Error("End-to-end encryption disabled");return(e=this._crypto)[t].apply(e,arguments)}},d=(0,w.default)(t);!(r=(l=d.next()).done);r=!0)c()}catch(e){n=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(n)throw o}}}function be(e,t,r,n){return f.default.resolve().then((function(){var n=function(e,t,r){if(t.isEncrypted())return null;if(!e.isRoomEncrypted(t.getRoomId()))return null;if("m.reaction"===t.getType())return null;if(!e._crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return e._crypto.encryptEvent(t,r)}(e,r,t);return n?(_e(t,r,z.ENCRYPTING),n.then((function(){_e(t,r,z.SENDING)}))):null})).then((function(){var n=void 0;return e.scheduler&&(n=e.scheduler.queueEvent(r))&&e.scheduler.getQueueForEvent(r).length>1&&_e(t,r,z.QUEUED),n||(n=we(e,r)),n})).then((function(e){return t&&t.updatePendingEvent(r,z.SENT,e.event_id),n&&n(null,e),e}),(function(e){T.default.error("Error sending event",e.stack||e);try{r.error=e,_e(t,r,z.NOT_SENT),e.event=r,n&&n(e)}catch(t){T.default.error("Exception in error handler!",t.stack||e)}throw e}))}function ye(e,t,r){return"m.reaction"===r?r:e.isRoomEncrypted(t)?"m.room.encrypted":r}function _e(e,t,r){e?e.updatePendingEvent(t,r):t.setStatus(r)}function we(e,t){var r=t._txnId?t._txnId:e.makeTxnId(),n={$roomId:t.getRoomId(),$eventType:t.getWireType(),$stateKey:t.getStateKey(),$txnId:r},path=void 0;if(t.isState()){var o="/rooms/$roomId/state/$eventType";t.getStateKey()&&t.getStateKey().length>0&&(o="/rooms/$roomId/state/$eventType/$stateKey"),path=$.encodeUri(o,n)}else if(t.isRedaction()){path=$.encodeUri("/rooms/$roomId/redact/$redactsEventId/$txnId",(0,l.default)({$redactsEventId:t.event.redacts},n))}else path=$.encodeUri("/rooms/$roomId/send/$eventType/$txnId",n);return e._http.authedRequest(void 0,"PUT",path,void 0,t.getWireContent()).then((function(e){return T.default.log("Event sent to "+t.getRoomId()+" with event id "+e.event_id),e}))}function ke(e,t,r,n,o,l){$.isFunction(o)&&(l=o,o=void 0);var path=$.encodeUri("/rooms/$room_id/$membership",{$room_id:t,$membership:n});return e._http.authedRequest(l,"POST",path,void 0,{user_id:r,reason:o})}function Se(e,t,r,n){var path=$.encodeUri("/presence/list/$userId",{$userId:t.credentials.userId});return t._http.authedRequest(e,n,path,void 0,r)}function xe(e,t,r){e&&e(r),t(r)}function Oe(e,t,r){e&&e(null,r),t(r)}function Te(e){return function(t){var r=new L(t);r.isEncrypted()&&(e.reEmitter.reEmit(r,["Event.decrypted"]),r.attemptDecryption(e._crypto));var n=e.getRoom(r.getRoomId());return n&&n.reEmitter.reEmit(r,["Event.replaced"]),r}}$.inherits(me,P),$.extend(me.prototype,W.prototype),me.prototype.clearStores=function(){if(this._clientRunning)throw new Error("Cannot clear stores while client is running");var e=[];return e.push(this.store.deleteAllData()),this._cryptoStore&&e.push(this._cryptoStore.deleteAllData()),f.default.all(e)},me.prototype.getUserId=function(){return this.credentials&&this.credentials.userId?this.credentials.userId:null},me.prototype.getDomain=function(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null},me.prototype.getUserIdLocalpart=function(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null},me.prototype.getDeviceId=function(){return this.deviceId},me.prototype.supportsVoip=function(){return this._supportsVoip},me.prototype.setForceTURN=function(e){this._forceTURN=e},me.prototype.getSyncState=function(){return this._syncApi?this._syncApi.getSyncState():null},me.prototype.getSyncStateData=function(){return this._syncApi?this._syncApi.getSyncStateData():null},me.prototype.isGuest=function(){return this._isGuest},me.prototype.getScheduler=function(){return this.scheduler},me.prototype.setGuest=function(e){this._isGuest=e},me.prototype.retryImmediately=function(){return this._syncApi.retryImmediately()},me.prototype.getNotifTimelineSet=function(){return this._notifTimelineSet},me.prototype.setNotifTimelineSet=function(e){this._notifTimelineSet=e},me.prototype.getCapabilities=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(new Date).getTime();return this._cachedCapabilities&&!t&&r<this._cachedCapabilities.expiration?(T.default.log("Returning cached capabilities"),f.default.resolve(this._cachedCapabilities.capabilities)):this._http.authedRequest(void 0,"GET","/capabilities").catch((function(e){return T.default.error(e),null})).then((function(t){t||(t={});var n=t.capabilities||{},o=(0,m.default)(n).length?216e5:6e4+5e3*Math.random();return e._cachedCapabilities={capabilities:n,expiration:r+o},T.default.log("Caching capabilities: ",n),n}))},me.prototype.initCrypto=(0,h.coroutine)(v.default.mark((function e(){var t,r;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,E.isCryptoAvailable)()){e.next=2;break}throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");case 2:if(!this._crypto){e.next=5;break}return T.default.warn("Attempt to re-initialise e2e encryption on MatrixClient"),e.abrupt("return");case 5:if(this._sessionStore){e.next=7;break}throw new Error("Cannot enable encryption: no sessionStore provided");case 7:if(this._cryptoStore){e.next=9;break}throw new Error("Cannot enable encryption: no cryptoStore provided");case 9:return T.default.log("Crypto: initialising roomlist..."),e.next=12,(0,h.resolve)(this._roomList.init());case 12:if(null!==(t=this.getUserId())){e.next=15;break}throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");case 15:if(null!==this.deviceId){e.next=17;break}throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");case 17:return r=new C.default(this,this._sessionStore,t,this.deviceId,this.store,this._cryptoStore,this._roomList,this._verificationMethods),this.reEmitter.reEmit(r,["crypto.keyBackupFailed","crypto.keyBackupSessionsRemaining","crypto.roomKeyRequest","crypto.roomKeyRequestCancellation","crypto.warning","crypto.devicesUpdated","deviceVerificationChanged","userVerificationChanged","crossSigning.keysChanged"]),T.default.log("Crypto: initialising crypto object..."),e.next=22,(0,h.resolve)(r.init());case 22:this.olmVersion=C.default.getOlmVersion(),r.registerEventHandlers(this),this._crypto=r;case 25:case"end":return e.stop()}}),e,this)}))),me.prototype.isCryptoEnabled=function(){return null!==this._crypto},me.prototype.getDeviceEd25519Key=function(){return this._crypto?this._crypto.getDeviceEd25519Key():null},me.prototype.uploadKeys=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.uploadDeviceKeys()},me.prototype.downloadKeys=function(e,t){return null===this._crypto?f.default.reject(new Error("End-to-end encryption disabled")):this._crypto.downloadKeys(e,t)},me.prototype.getStoredDevicesForUser=(J=(0,h.method)((function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getStoredDevicesForUser(e)||[]})),function(e){return J.apply(this,arguments)}),me.prototype.getStoredDevice=(Z=(0,h.method)((function(e,t){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getStoredDevice(e,t)||null})),function(e,t){return Z.apply(this,arguments)}),me.prototype.setDeviceVerified=function(e,t,r){void 0===r&&(r=!0);var n=k(this,e,t,r,null);return e==this.credentials.userId&&this._crypto.checkKeyBackup(),n},me.prototype.setDeviceBlocked=function(e,t,r){return void 0===r&&(r=!0),k(this,e,t,null,r)},me.prototype.setDeviceKnown=function(e,t,r){return void 0===r&&(r=!0),k(this,e,t,null,null,r)},me.prototype.requestVerificationDM=function(e,t,r){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.requestVerificationDM(e,t,r)},me.prototype.acceptVerificationDM=function(e,t){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.acceptVerificationDM(e,t)},me.prototype.requestVerification=function(e,t,r){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.requestVerification(e,t,r)},me.prototype.beginKeyVerification=function(e,t,r){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.beginKeyVerification(e,t,r)},me.prototype.setGlobalBlacklistUnverifiedDevices=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.setGlobalBlacklistUnverifiedDevices(e)},me.prototype.getGlobalBlacklistUnverifiedDevices=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getGlobalBlacklistUnverifiedDevices()},ge(me,["doesCrossSigningHaveKeys","resetCrossSigningKeys","getCrossSigningId","getStoredCrossSigningForUser","checkUserTrust","checkDeviceTrust","checkOwnCrossSigningTrust","checkPrivateKey"]),me.prototype.checkEventSenderTrust=(ee=(0,h.coroutine)(v.default.mark((function e(t){var r;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getEventSenderDeviceInfo(t));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",0);case 5:return e.next=7,(0,h.resolve)(this._crypto.checkDeviceTrust(t.getSender(),r.deviceId));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return ee.apply(this,arguments)}),ge(me,["addSecretKey","storeSecret","getSecret","isSecretStored","requestSecret","getDefaultSecretStorageKeyId","setDefaultSecretStorageKeyId"]),me.prototype.getEventSenderDeviceInfo=(te=(0,h.method)((function(e){return this._crypto?this._crypto.getEventSenderDeviceInfo(e):null})),function(e){return te.apply(this,arguments)}),me.prototype.isEventSenderVerified=(re=(0,h.coroutine)(v.default.mark((function e(t){var r;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getEventSenderDeviceInfo(t));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",r.isVerified());case 6:case"end":return e.stop()}}),e,this)}))),function(e){return re.apply(this,arguments)}),me.prototype.cancelAndResendEventRoomKeyRequest=function(e){return e.cancelAndResendKeyRequest(this._crypto,this.getUserId())},me.prototype.setRoomEncryption=function(e,t){if(!this._crypto)throw new Error("End-to-End encryption disabled");return this._crypto.setRoomEncryption(e,t)},me.prototype.isRoomEncrypted=function(e){var t=this.getRoom(e);return!!t&&(!!t.currentState.getStateEvents("m.room.encryption","")||this._roomList.isRoomEncrypted(e))},me.prototype.forceDiscardSession=function(e){if(!this._crypto)throw new Error("End-to-End encryption disabled");this._crypto.forceDiscardSession(e)},me.prototype.exportRoomKeys=function(){return this._crypto?this._crypto.exportRoomKeys():f.default.reject(new Error("End-to-end encryption disabled"))},me.prototype.importRoomKeys=function(e){if(!this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.importRoomKeys(e)},me.prototype.checkKeyBackup=function(){return this._crypto.checkKeyBackup()},me.prototype.getKeyBackupVersion=function(){return this._http.authedRequest(void 0,"GET","/room_keys/version",void 0,void 0,{prefix:D.PREFIX_UNSTABLE}).then((function(e){if(e.algorithm!==Q.MEGOLM_BACKUP_ALGORITHM){var t="Unknown backup algorithm: "+e.algorithm;return f.default.reject(t)}if("object"===(0,d.default)(e.auth_data)&&e.auth_data.public_key)return e;return f.default.reject("Invalid backup data returned")})).catch((function(e){if("M_NOT_FOUND"===e.errcode)return null;throw e}))},me.prototype.isKeyBackupTrusted=function(e){return this._crypto.isKeyBackupTrusted(e)},me.prototype.getKeyBackupEnabled=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return Boolean(this._crypto.backupKey)},me.prototype.enableKeyBackup=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo=e,this._crypto.backupKey&&this._crypto.backupKey.free(),this._crypto.backupKey=new t.Olm.PkEncryption,this._crypto.backupKey.set_recipient_key(e.auth_data.public_key),this.emit("crypto.keyBackupStatus",!0),this._crypto.scheduleKeyBackupSend()},me.prototype.disableKeyBackup=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo=null,this._crypto.backupKey&&this._crypto.backupKey.free(),this._crypto.backupKey=null,this.emit("crypto.keyBackupStatus",!1)},me.prototype.prepareKeyBackupVersion=(ne=(0,h.coroutine)(v.default.mark((function e(r){var n,o,l,c;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._crypto){e.next=2;break}throw new Error("End-to-end encryption disabled");case 2:if(n=new t.Olm.PkDecryption,e.prev=3,o=void 0,l={},!r){e.next=15;break}return e.next=9,(0,h.resolve)((0,j.keyFromPassphrase)(r));case 9:c=e.sent,o=n.init_with_private_key(c.key),l.private_key_salt=c.salt,l.private_key_iterations=c.iterations,e.next=16;break;case 15:o=n.generate_key();case 16:return l.public_key=o,e.abrupt("return",{algorithm:Q.MEGOLM_BACKUP_ALGORITHM,auth_data:l,recovery_key:(0,I.encodeRecoveryKey)(n.get_private_key())});case 18:return e.prev=18,n.free(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,,18,21]])}))),function(e){return ne.apply(this,arguments)}),me.prototype.createKeyBackupVersion=(oe=(0,h.coroutine)(v.default.mark((function e(t){var data,r;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._crypto){e.next=2;break}throw new Error("End-to-end encryption disabled");case 2:return data={algorithm:t.algorithm,auth_data:t.auth_data},e.next=5,(0,h.resolve)(this._crypto._signObject(data.auth_data));case 5:if(!this._crypto._crossSigningInfo.getId()){e.next=8;break}return e.next=8,(0,h.resolve)(this._crypto._crossSigningInfo.signObject(data.auth_data,"master"));case 8:return e.next=10,(0,h.resolve)(this._http.authedRequest(void 0,"POST","/room_keys/version",void 0,data,{prefix:D.PREFIX_UNSTABLE}));case 10:return r=e.sent,this.enableKeyBackup({algorithm:t.algorithm,auth_data:t.auth_data,version:r.version}),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return oe.apply(this,arguments)}),me.prototype.deleteKeyBackupVersion=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo&&this._crypto.backupInfo.version===e&&this.disableKeyBackup();var path=$.encodeUri("/room_keys/version/$version",{$version:e});return this._http.authedRequest(void 0,"DELETE",path,void 0,void 0,{prefix:D.PREFIX_UNSTABLE})},me.prototype._makeKeyBackupPath=function(e,t,r){return{path:void 0!==t?$.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:e,$sessionId:t}):void 0!==e?$.encodeUri("/room_keys/keys/$roomId",{$roomId:e}):"/room_keys/keys",queryData:void 0===r?void 0:{version:r}}},me.prototype.sendKeyBackup=function(e,t,r,data){if(null===this._crypto)throw new Error("End-to-end encryption disabled");var path=this._makeKeyBackupPath(e,t,r);return this._http.authedRequest(void 0,"PUT",path.path,path.queryData,data,{prefix:D.PREFIX_UNSTABLE})},me.prototype.scheduleAllGroupSessionsForBackup=(0,h.coroutine)(v.default.mark((function e(){return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._crypto){e.next=2;break}throw new Error("End-to-end encryption disabled");case 2:return e.next=4,(0,h.resolve)(this._crypto.scheduleAllGroupSessionsForBackup());case 4:case"end":return e.stop()}}),e,this)}))),me.prototype.flagAllGroupSessionsForBackup=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.flagAllGroupSessionsForBackup()},me.prototype.isValidRecoveryKey=function(e){try{return(0,I.decodeRecoveryKey)(e),!0}catch(e){return!1}},me.RESTORE_BACKUP_ERROR_BAD_KEY="RESTORE_BACKUP_ERROR_BAD_KEY",me.prototype.restoreKeyBackupWithPassword=(ie=(0,h.coroutine)(v.default.mark((function e(t,r,n,o){var l;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)((0,j.keyFromAuthData)(o.auth_data,t));case 2:return l=e.sent,e.abrupt("return",this._restoreKeyBackup(l,r,n,o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return ie.apply(this,arguments)}),me.prototype.restoreKeyBackupWithRecoveryKey=function(e,t,r,n){var o=(0,I.decodeRecoveryKey)(e);return this._restoreKeyBackup(o,t,r,n)},me.prototype._restoreKeyBackup=function(e,r,n,o){var l=this;if(null===this._crypto)throw new Error("End-to-end encryption disabled");var c=0,d=[],path=this._makeKeyBackupPath(r,n,o.version),h=new t.Olm.PkDecryption,v=void 0;try{v=h.init_with_private_key(e)}catch(e){throw h.free(),e}return v!==o.auth_data.public_key?f.default.reject({errcode:me.RESTORE_BACKUP_ERROR_BAD_KEY}):this._http.authedRequest(void 0,"GET",path.path,path.queryData,void 0,{prefix:D.PREFIX_UNSTABLE}).then((function(e){if(e.rooms){var t=!0,o=!1,f=void 0;try{for(var v,k=(0,w.default)((0,_.default)(e.rooms));!(t=(v=k.next()).done);t=!0){var S=(0,y.default)(v.value,2),x=S[0],O=S[1];if(O.sessions){c+=(0,m.default)(O.sessions).length;var E=pe(O.sessions,h,x),C=!0,I=!1,j=void 0;try{for(var M,R=(0,w.default)(E);!(C=(M=R.next()).done);C=!0){var A=M.value;A.room_id=x,d.push(A)}}catch(e){I=!0,j=e}finally{try{!C&&R.return&&R.return()}finally{if(I)throw j}}}}}catch(e){o=!0,f=e}finally{try{!t&&k.return&&k.return()}finally{if(o)throw f}}}else if(e.sessions)c=(0,m.default)(e.sessions).length,d=pe(e.sessions,h,r);else{c=1;try{var P=ve(e,h);P.room_id=r,P.session_id=n,d.push(P)}catch(e){T.default.log("Failed to decrypt megolm session from backup",e)}}return l.importRoomKeys(d)})).then((function(){return l._crypto.setTrustedBackupPubKey(v)})).then((function(){return{total:c,imported:d.length}})).finally((function(){h.free()}))},me.prototype.deleteKeysFromBackup=function(e,t,r){if(null===this._crypto)throw new Error("End-to-end encryption disabled");var path=this._makeKeyBackupPath(e,t,r);return this._http.authedRequest(void 0,"DELETE",path.path,path.queryData,void 0,{prefix:D.PREFIX_UNSTABLE})},me.prototype.getGroup=function(e){return this.store.getGroup(e)},me.prototype.getGroups=function(){return this.store.getGroups()},me.prototype.getMediaConfig=function(e){return this._http.authedRequest(e,"GET","/config",void 0,void 0,{prefix:D.PREFIX_MEDIA_R0})},me.prototype.getRoom=function(e){return this.store.getRoom(e)},me.prototype.getRooms=function(){return this.store.getRooms()},me.prototype.getVisibleRooms=function(){var e=this.store.getRooms(),t=new c.default,r=!0,n=!1,o=void 0;try{for(var l,d=(0,w.default)(e);!(r=(l=d.next()).done);r=!0){var h=l.value.currentState.getStateEvents("m.room.create","");if(h){var f=h.getContent().predecessor;f&&f.room_id&&t.add(f.room_id)}}}catch(e){n=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(n)throw o}}return e.filter((function(e){return!e.currentState.getStateEvents("m.room.tombstone","")||!t.has(e.roomId)}))},me.prototype.getUser=function(e){return this.store.getUser(e)},me.prototype.getUsers=function(){return this.store.getUsers()},me.prototype.setAccountData=function(e,t,r){var path=$.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e});return this._http.authedRequest(r,"PUT",path,void 0,t)},me.prototype.getAccountData=function(e){return this.store.getAccountData(e)},me.prototype.getIgnoredUsers=function(){var e=this.getAccountData("m.ignored_user_list");return e&&e.getContent()&&e.getContent().ignored_users?(0,m.default)(e.getContent().ignored_users):[]},me.prototype.setIgnoredUsers=function(e,t){var content={ignored_users:{}};return e.map((function(u){return content.ignored_users[u]={}})),this.setAccountData("m.ignored_user_list",content,t)},me.prototype.isUserIgnored=function(e){return-1!==this.getIgnoredUsers().indexOf(e)},me.prototype.joinRoom=function(e,t,r){if($.isFunction(t))throw new Error("Expected 'opts' object, got function.");void 0===(t=t||{}).syncRoom&&(t.syncRoom=!0);var n=this.getRoom(e);if(n&&n.hasMembershipState(this.credentials.userId,"join"))return f.default.resolve(n);var o=f.default.resolve();t.inviteSignUrl&&(o=this._http.requestOtherUrl(void 0,"POST",t.inviteSignUrl,{mxid:this.credentials.userId}));var l={};t.viaServers&&(l.server_name=t.viaServers);var c={qsStringifyOptions:{arrayFormat:"repeat"}},d=this;return new f.default((function(n,h){o.then((function(t){var data={};t&&(data.third_party_signed=t);var path=$.encodeUri("/join/$roomid",{$roomid:e});return d._http.authedRequest(void 0,"POST",path,l,data,c)})).then((function(e){var r=e.room_id,n=new G(d,d._clientOpts).createRoom(r);return t.syncRoom,f.default.resolve(n)})).done((function(e){Oe(r,n,e)}),(function(e){xe(r,h,e)}))}))},me.prototype.resendEvent=function(e,t){return _e(t,e,z.SENDING),be(this,t,e)},me.prototype.cancelPendingEvent=function(e){if([z.QUEUED,z.NOT_SENT].indexOf(e.status)<0)throw new Error("cannot cancel an event with status "+e.status);this.scheduler&&this.scheduler.removeEventFromQueue(e),_e(this.getRoom(e.getRoomId()),e,z.CANCELLED)},me.prototype.setRoomName=function(e,t,r){return this.sendStateEvent(e,"m.room.name",{name:t},void 0,r)},me.prototype.setRoomTopic=function(e,t,r){return this.sendStateEvent(e,"m.room.topic",{topic:t},void 0,r)},me.prototype.getRoomTags=function(e,t){var path=$.encodeUri("/user/$userId/rooms/$roomId/tags/",{$userId:this.credentials.userId,$roomId:e});return this._http.authedRequest(t,"GET",path,void 0)},me.prototype.setRoomTag=function(e,t,r,n){var path=$.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this._http.authedRequest(n,"PUT",path,void 0,r)},me.prototype.deleteRoomTag=function(e,t,r){var path=$.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this._http.authedRequest(r,"DELETE",path,void 0,void 0)},me.prototype.setRoomAccountData=function(e,t,content,r){var path=$.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:e,$type:t});return this._http.authedRequest(r,"PUT",path,void 0,content)},me.prototype.setPowerLevel=function(e,t,r,n,o){var content={users:{}};n&&"m.room.power_levels"===n.getType()&&(content=$.deepCopy(n.getContent())),content.users[t]=r;var path=$.encodeUri("/rooms/$roomId/state/m.room.power_levels",{$roomId:e});return this._http.authedRequest(o,"PUT",path,void 0,content)},me.prototype.sendEvent=function(e,t,content,r,n){return this._sendCompleteEvent(e,{type:t,content:content},r,n)},me.prototype._sendCompleteEvent=function(e,t,r,n){$.isFunction(r)&&(n=r,r=void 0),r||(r=this.makeTxnId());var o=new L((0,l.default)(t,{event_id:"~"+e+":"+r,user_id:this.credentials.userId,room_id:e,origin_server_ts:(new Date).getTime()})),c=this.getRoom(e),d=o.getAssociatedId();if(d&&d.startsWith("~")){var h=c.getPendingEvents().find((function(e){return e.getId()===d}));h.once("Event.localEventIdReplaced",(function(){o.updateAssociatedId(h.getId())}))}var v=o.getType();return T.default.log("sendEvent of type "+v+" in "+e+" with txnId "+r),o._txnId=r,o.setStatus(z.SENDING),c&&c.addPendingEvent(o,r),o.status===z.NOT_SENT?f.default.reject(new Error("Event blocked by other events not yet sent")):be(this,c,o,n)},me.prototype.redactEvent=function(e,t,r,n){return this._sendCompleteEvent(e,{type:"m.room.redaction",content:{},redacts:t},r,n)},me.prototype.sendMessage=function(e,content,t,r){return $.isFunction(t)&&(r=t,t=void 0),this.sendEvent(e,"m.room.message",content,t,r)},me.prototype.sendTextMessage=function(e,body,t,r){var content=X.makeTextMessage(body);return this.sendMessage(e,content,t,r)},me.prototype.sendNotice=function(e,body,t,r){var content=X.makeNotice(body);return this.sendMessage(e,content,t,r)},me.prototype.sendEmoteMessage=function(e,body,t,r){var content=X.makeEmoteMessage(body);return this.sendMessage(e,content,t,r)},me.prototype.sendImageMessage=function(e,t,r,text,n){$.isFunction(text)&&(n=text,text=void 0),text||(text="Image");var content={msgtype:"m.image",url:t,info:r,body:text};return this.sendMessage(e,content,n)},me.prototype.sendStickerMessage=function(e,t,r,text,n){$.isFunction(text)&&(n=text,text=void 0),text||(text="Sticker");var content={url:t,info:r,body:text};return this.sendEvent(e,"m.sticker",content,n,void 0)},me.prototype.sendHtmlMessage=function(e,body,t,r){var content=X.makeHtmlMessage(body,t);return this.sendMessage(e,content,r)},me.prototype.sendHtmlNotice=function(e,body,t,r){var content=X.makeHtmlNotice(body,t);return this.sendMessage(e,content,r)},me.prototype.sendHtmlEmote=function(e,body,t,r){var content=X.makeHtmlEmote(body,t);return this.sendMessage(e,content,r)},me.prototype.sendReceipt=function(e,t,r,n){if("function"==typeof r&&(n=r,r={}),this.isGuest())return f.default.resolve({});var path=$.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:e.getRoomId(),$receiptType:t,$eventId:e.getId()}),o=this._http.authedRequest(n,"POST",path,void 0,r||{}),l=this.getRoom(e.getRoomId());return l&&l._addLocalEchoReceipt(this.credentials.userId,e,t),o},me.prototype.sendReadReceipt=(ae=(0,h.method)((function(e,t,r){"function"==typeof t&&(r=t,t={}),t||(t={});var n=e.getId(),o=this.getRoom(e.getRoomId());if(o&&o.hasPendingEvent(n))throw new Error("Cannot set read receipt to a pending event ("+n+")");var l={"m.hidden":Boolean(t.hidden)};return this.sendReceipt(e,"m.read",l,r)})),function(e,t,r){return ae.apply(this,arguments)}),me.prototype.setRoomReadMarkers=(se=(0,h.method)((function(e,t,r,n){var o=this.getRoom(e);if(o&&o.hasPendingEvent(t))throw new Error("Cannot set read marker to a pending event ("+t+")");var l=void 0;if(r){if(l=r.getId(),o&&o.hasPendingEvent(l))throw new Error("Cannot set read receipt to a pending event ("+l+")");o&&o._addLocalEchoReceipt(this.credentials.userId,r,"m.read")}return this.setRoomReadMarkersHttpRequest(e,t,l,n)})),function(e,t,r,n){return se.apply(this,arguments)}),me.prototype.getUrlPreview=function(e,t,r){var n=t+"_"+e,o=this.urlPreviewCache[n];if(o)return f.default.resolve(o);var l=this;return this._http.authedRequest(r,"GET","/preview_url",{url:e,ts:t},void 0,{prefix:D.PREFIX_MEDIA_R0}).then((function(e){return l.urlPreviewCache[n]=e,e}))},me.prototype.sendTyping=function(e,t,r,n){if(this.isGuest())return f.default.resolve({});var path=$.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:e,$userId:this.credentials.userId}),data={typing:t};return t&&(data.timeout=r||2e4),this._http.authedRequest(n,"PUT",path,void 0,data)},me.prototype.getRoomUpgradeHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getRoom(e);if(!r)return[];for(var n=[r],o=r.currentState.getStateEvents("m.room.create","");o;){T.default.log("Looking at "+o.getId());var l=o.getContent().predecessor;if(!l||!l.room_id)break;T.default.log("Looking at predecessor "+l.room_id);var d=this.getRoom(l.room_id);if(!d)break;if(t){var h=d.currentState.getStateEvents("m.room.tombstone","");if(!h||h.getContent().replacement_room!==d.roomId)break}n.splice(0,0,d),o=d.currentState.getStateEvents("m.room.create","")}for(var f=r.currentState.getStateEvents("m.room.tombstone","");f;){var v=this.getRoom(f.getContent().replacement_room);if(!v)break;if(v.roomId===r.roomId)break;if(t){if(!(o=v.currentState.getStateEvents("m.room.create",""))||!o.getContent().predecessor)break;var m=o.getContent().predecessor;if(m.room_id!==r.roomId)break}n.push(v);var y=new c.default(n.map((function(e){return e.roomId})));if(y.size<n.length)return n.slice(0,n.length-1);f=(r=v).currentState.getStateEvents("m.room.tombstone","")}return n},me.prototype.invite=function(e,t,r){return ke(this,e,t,"invite",void 0,r)},me.prototype.inviteByEmail=function(e,t,r){return this.inviteByThreePid(e,"email",t,r)},me.prototype.inviteByThreePid=(le=(0,h.coroutine)(v.default.mark((function e(t,r,address,n){var path,o,l,c;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(path=$.encodeUri("/rooms/$roomId/invite",{$roomId:t}),o=this.getIdentityServerUrl(!0)){e.next=4;break}return e.abrupt("return",f.default.reject(new Y({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"})));case 4:if(l={id_server:o,medium:r,address:address},e.t0=this.identityServer&&this.identityServer.getAccessToken,!e.t0){e.next=10;break}return e.next=9,(0,h.resolve)(this.doesServerAcceptIdentityAccessToken());case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=15;break}return e.next=13,(0,h.resolve)(this.identityServer.getAccessToken());case 13:(c=e.sent)&&(l.id_access_token=c);case 15:return e.abrupt("return",this._http.authedRequest(n,"POST",path,void 0,l));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return le.apply(this,arguments)}),me.prototype.leave=function(e,t){return ke(this,e,void 0,"leave",void 0,t)},me.prototype.leaveRoomChain=function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getRoomUpgradeHistory(e),o=n;if(!r){o=[];var l=!0,c=!1,d=void 0;try{for(var h,v=(0,w.default)(n);!(l=(h=v.next()).done);l=!0){var m=h.value;if(o.push(m),m.roomId===e)break}}catch(e){c=!0,d=e}finally{try{!l&&v.return&&v.return()}finally{if(c)throw d}}}var y={},_=[],k=function(e){return t.leave(e).then((function(){y[e]=null})).catch((function(t){return y[e]=t,null}))},S=!0,x=!1,O=void 0;try{for(var T,E=(0,w.default)(o);!(S=(T=E.next()).done);S=!0){var C=T.value;_.push(k(C.roomId))}}catch(e){x=!0,O=e}finally{try{!S&&E.return&&E.return()}finally{if(x)throw O}}return f.default.all(_).then((function(){return y}))},me.prototype.ban=function(e,t,r,n){return ke(this,e,t,"ban",r,n)},me.prototype.forget=function(e,t,r){void 0===t&&(t=!0);var n=ke(this,e,void 0,"forget",void 0,r);if(!t)return n;var o=this;return n.then((function(t){return o.store.removeRoom(e),o.emit("deleteRoom",e),t}))},me.prototype.unban=function(e,t,r){var path=$.encodeUri("/rooms/$roomId/unban",{$roomId:e}),data={user_id:t};return this._http.authedRequest(r,"POST",path,void 0,data)},me.prototype.kick=function(e,t,r,n){return function(e,t,r,n,o,l){$.isFunction(o)&&(l=o,o=void 0);var path=$.encodeUri("/rooms/$roomId/state/m.room.member/$userId",{$roomId:t,$userId:r});return e._http.authedRequest(l,"PUT",path,void 0,{membership:n,reason:o})}(this,e,t,"leave",r,n)},me.prototype.getPushActionsForEvent=function(e){return e.getPushActions()||e.setPushActions(this._pushProcessor.actionsForEvent(e)),e.getPushActions()},me.prototype.setProfileInfo=function(e,data,t){var path=$.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:e});return this._http.authedRequest(t,"PUT",path,void 0,data)},me.prototype.setDisplayName=function(e,t){return this.setProfileInfo("displayname",{displayname:e},t)},me.prototype.setAvatarUrl=function(e,t){return this.setProfileInfo("avatar_url",{avatar_url:e},t)},me.prototype.mxcUrlToHttp=function(e,t,r,n,o){return U.getHttpUriForMxc(this.baseUrl,e,t,r,n,o)},me.prototype._unstable_setStatusMessage=function(e){var t=this,r="im.vector.user_status";return f.default.all(this.getRooms().map((function(n){var o="join"===n.getMyMembership(),l=2===n.getInvitedAndJoinedMemberCount();return o&&l&&n.currentState.mayClientSendStateEvent(r,t)?t.sendStateEvent(n.roomId,r,{status:e},t.getUserId()):f.default.resolve()})))},me.prototype.setPresence=function(e,t){var path=$.encodeUri("/presence/$userId/status",{$userId:this.credentials.userId});"string"==typeof e&&(e={presence:e});if(-1==["offline","online","unavailable"].indexOf(e.presence))throw new Error("Bad presence value: "+e.presence);return this._http.authedRequest(t,"PUT",path,void 0,e)},me.prototype.getPresenceList=function(e){return Se(e,this,void 0,"GET")},me.prototype.inviteToPresenceList=function(e,t){return Se(e,this,{invite:t},"POST")},me.prototype.dropFromPresenceList=function(e,t){return Se(e,this,{drop:t},"POST")},me.prototype.scrollback=function(e,t,r){$.isFunction(t)&&(r=t,t=void 0),t=t||30;var n=0,o=this._ongoingScrollbacks[e.roomId]||{};if(o.promise)return o.promise;if(o.errorTs){var l=Date.now()-o.errorTs;n=Math.max(3e3-l,0)}if(null===e.oldState.paginationToken)return f.default.resolve(e);var c=this.store.scrollback(e,t).length;if(c===t)return f.default.resolve(e);t-=c;var d=this,h=new f.default((function(o,l){(0,S.sleep)(n).then((function(){return d._createMessagesRequest(e.roomId,e.oldState.paginationToken,t,"b")})).done((function(t){var n=$.map(t.chunk,Te(d));if(t.state){var l=$.map(t.state,Te(d));e.currentState.setUnknownStateEvents(l)}e.addEventsToTimeline(n,!0,e.getLiveTimeline()),e.oldState.paginationToken=t.end,0===t.chunk.length&&(e.oldState.paginationToken=null),d.store.storeEvents(e,n,t.end,!0),d._ongoingScrollbacks[e.roomId]=null,Oe(r,o,e)}),(function(t){d._ongoingScrollbacks[e.roomId]={errorTs:Date.now()},xe(r,l,t)}))}));return o={promise:h,errorTs:null},this._ongoingScrollbacks[e.roomId]=o,h},me.prototype.getEventTimeline=function(e,t){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(e.getTimelineForEvent(t))return f.default.resolve(e.getTimelineForEvent(t));var path=$.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:e.room.roomId,$eventId:t}),r=void 0;this._clientOpts.lazyLoadMembers&&(r={filter:(0,o.default)(K.LAZY_LOADING_MESSAGES_FILTER)});var n=this;return n._http.authedRequest(void 0,"GET",path,r).then((function(r){if(!r.event)throw new Error("'event' not in '/context' result - homeserver too old?");if(e.getTimelineForEvent(t))return e.getTimelineForEvent(t);r.events_after.reverse();var o=r.events_after.concat([r.event]).concat(r.events_before),l=$.map(o,n.getEventMapper()),c=e.getTimelineForEvent(l[0].getId());if(c){var d=$.map(r.state,n.getEventMapper());c.getState(F.BACKWARDS).setUnknownStateEvents(d)}else(c=e.addTimeline()).initialiseState($.map(r.state,n.getEventMapper())),c.getState(F.FORWARDS).paginationToken=r.end;return e.addEventsToTimeline(l,!0,c,r.start),e.getTimelineForEvent(t)||c}))},me.prototype._createMessagesRequest=function(e,t,r,n){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,path=$.encodeUri("/rooms/$roomId/messages",{$roomId:e});void 0===r&&(r=30);var d={from:t,limit:r,dir:n},filter=null;return this._clientOpts.lazyLoadMembers&&(filter=(0,l.default)({},K.LAZY_LOADING_MESSAGES_FILTER)),c&&(filter=filter||{},(0,l.default)(filter,c.getRoomTimelineFilterComponent())),filter&&(d.filter=(0,o.default)(filter)),this._http.authedRequest(void 0,"GET",path,d)},me.prototype.paginateEventTimeline=function(e,t){var r=e.getTimelineSet()===this._notifTimelineSet,n=(t=t||{}).backwards||!1;if(r&&!n)throw new Error("paginateNotifTimeline can only paginate backwards");var o=n?F.BACKWARDS:F.FORWARDS,l=e.getPaginationToken(o);if(!l)return f.default.resolve(!1);var c=e._paginationRequests[o];if(c)return c;var path=void 0,d=void 0,h=void 0,v=this;if(r)path="/notifications",d={limit:"limit"in t?t.limit:30,only:"highlight"},l&&"end"!==l&&(d.from=l),h=this._http.authedRequest(void 0,"GET",path,d,void 0).then((function(t){for(var r=t.next_token,l=[],i=0;i<t.notifications.length;i++){var c=t.notifications[i],d=v.getEventMapper()(c.event);d.setPushActions(A.actionListToActionsObject(c.actions)),d.event.room_id=c.room_id,l[i]=d}return e.getTimelineSet().addEventsToTimeline(l,n,e,r),n&&!t.next_token&&e.setPaginationToken(null,o),!!t.next_token})).finally((function(){e._paginationRequests[o]=null})),e._paginationRequests[o]=h;else{if(!this.getRoom(e.getRoomId()))throw new Error("Unknown room "+e.getRoomId());(h=this._createMessagesRequest(e.getRoomId(),l,t.limit,o,e.getFilter())).then((function(t){if(t.state){var r=e.getState(o),l=$.map(t.state,v.getEventMapper());r.setUnknownStateEvents(l)}var c=t.end,d=$.map(t.chunk,v.getEventMapper());return e.getTimelineSet().addEventsToTimeline(d,n,e,c),n&&t.end==t.start&&e.setPaginationToken(null,o),t.end!=t.start})).finally((function(){e._paginationRequests[o]=null})),e._paginationRequests[o]=h}return h},me.prototype.resetNotifTimelineSet=function(){this._notifTimelineSet&&this._notifTimelineSet.resetLiveTimeline("end",null)},me.prototype.peekInRoom=function(e){return this._peekSync&&this._peekSync.stopPeeking(),this._peekSync=new G(this,this._clientOpts),this._peekSync.peek(e)},me.prototype.stopPeeking=function(){this._peekSync&&(this._peekSync.stopPeeking(),this._peekSync=null)},me.prototype.setGuestAccess=function(e,t){var r=this.sendStateEvent(e,"m.room.guest_access",{guest_access:t.allowJoin?"can_join":"forbidden"}),n=f.default.resolve();return t.allowRead&&(n=this.sendStateEvent(e,"m.room.history_visibility",{history_visibility:"world_readable"})),f.default.all([n,r])},me.prototype.requestRegisterEmailToken=function(e,t,r,n){return this._requestTokenFromEndpoint("/register/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})},me.prototype.requestRegisterMsisdnToken=function(e,t,r,n,o){return this._requestTokenFromEndpoint("/register/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:o})},me.prototype.requestAdd3pidEmailToken=function(e,t,r,n){return this._requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})},me.prototype.requestAdd3pidMsisdnToken=function(e,t,r,n,o){return this._requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:o})},me.prototype.requestPasswordEmailToken=function(e,t,r,n){return this._requestTokenFromEndpoint("/account/password/email/requestToken",{email:e,client_secret:t,send_attempt:r,next_link:n})},me.prototype.requestPasswordMsisdnToken=function(e,t,r,n,o){return this._requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:e,phone_number:t,client_secret:r,send_attempt:n,next_link:o})},me.prototype._requestTokenFromEndpoint=(ce=(0,h.coroutine)(v.default.mark((function e(t,r){var n,o,c;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.default)({},r),e.next=3,(0,h.resolve)(this.doesServerSupportSeparateAddAndBind());case 3:if(e.t0=!e.sent,!e.t0){e.next=6;break}e.t0=this.idBaseUrl;case 6:if(!e.t0){e.next=21;break}if((o=B.parse(this.idBaseUrl)).host){e.next=10;break}throw new Error("Invalid ID server URL: "+this.idBaseUrl);case 10:if(n.id_server=o.host,e.t1=this.identityServer&&this.identityServer.getAccessToken,!e.t1){e.next=16;break}return e.next=15,(0,h.resolve)(this.doesServerAcceptIdentityAccessToken());case 15:e.t1=e.sent;case 16:if(!e.t1){e.next=21;break}return e.next=19,(0,h.resolve)(this.identityServer.getAccessToken());case 19:(c=e.sent)&&(n.id_access_token=c);case 21:return e.abrupt("return",this._http.request(void 0,"POST",t,void 0,n));case 22:case"end":return e.stop()}}),e,this)}))),function(e,t){return ce.apply(this,arguments)}),me.prototype.getRoomPushRule=function(e,t){if(!this.pushRules)throw new Error("SyncApi.sync() must be done before accessing to push rules.");for(var i=0;i<this.pushRules[e].room.length;i++){var r=this.pushRules[e].room[i];if(r.rule_id===t)return r}},me.prototype.setRoomMutePushRule=function(e,t,r){var n=this,o=void 0,l=void 0,c=this.getRoomPushRule(e,t);if(c&&0<=c.actions.indexOf("dont_notify")&&(l=!0),r?c?l||(o=$.defer(),this.deletePushRule(e,"room",c.rule_id).done((function(){n.addPushRule(e,"room",t,{actions:["dont_notify"]}).done((function(){o.resolve()}),(function(e){o.reject(e)}))}),(function(e){o.reject(e)})),o=o.promise):o=this.addPushRule(e,"room",t,{actions:["dont_notify"]}):l&&(o=this.deletePushRule(e,"room",c.rule_id)),o)return new f.default((function(e,t){o.done((function(){n.getPushRules().done((function(t){n.pushRules=t,e()}),(function(e){t(e)}))}),(function(e){n.getPushRules().done((function(r){n.pushRules=r,t(e)}),(function(r){t(e)}))}))}))},me.prototype.searchMessageText=function(e,t){var r={search_term:e.query};return"keys"in e&&(r.keys=e.keys),this.search({body:{search_categories:{room_events:r}}},t)},me.prototype.searchRoomEvents=function(e){var body={search_categories:{room_events:{search_term:e.term,filter:e.filter,order_by:"recent",event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},t={_query:body,results:[],highlights:[]};return this.search({body:body}).then(this._processRoomEventsSearch.bind(this,t))},me.prototype.backPaginateRoomEventsSearch=function(e){if(!e.next_batch)return f.default.reject(new Error("Cannot backpaginate event search any further"));if(e.pendingRequest)return e.pendingRequest;var t={body:e._query,next_batch:e.next_batch},r=this.search(t).then(this._processRoomEventsSearch.bind(this,e)).finally((function(){e.pendingRequest=null}));return e.pendingRequest=r,r},me.prototype._processRoomEventsSearch=function(e,t){var r=t.search_categories.room_events;e.count=r.count,e.next_batch=r.next_batch;var n={};r.highlights.forEach((function(e){n[e]=1})),e.highlights.forEach((function(e){n[e]=1})),e.highlights=(0,m.default)(n);for(var i=0;i<r.results.length;i++){var o=N.fromJson(r.results[i],this.getEventMapper());e.results.push(o)}return e},me.prototype.syncLeftRooms=function(){if(this._syncedLeftRooms)return f.default.resolve([]);if(this._syncLeftRoomsPromise)return this._syncLeftRoomsPromise;var e=this,t=new G(this,this._clientOpts);return this._syncLeftRoomsPromise=t.syncLeftRooms(),this._syncLeftRoomsPromise.then((function(t){T.default.log("Marking success of sync left room request"),e._syncedLeftRooms=!0})).finally((function(){e._syncLeftRoomsPromise=null})),this._syncLeftRoomsPromise},me.prototype.createFilter=function(content){var e=this,path=$.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this._http.authedRequest(void 0,"POST",path,void 0,content).then((function(t){var filter=K.fromJson(e.credentials.userId,t.filter_id,content);return e.store.storeFilter(filter),filter}))},me.prototype.getFilter=function(e,t,r){if(r){var filter=this.store.getFilter(e,t);if(filter)return f.default.resolve(filter)}var n=this,path=$.encodeUri("/user/$userId/filter/$filterId",{$userId:e,$filterId:t});return this._http.authedRequest(void 0,"GET",path,void 0,void 0).then((function(r){var filter=K.fromJson(e,t,r);return n.store.storeFilter(filter),filter}))},me.prototype.getOrCreateFilter=function(e,filter){var t=this.store.getFilterIdByName(e),r=f.default.resolve(),n=this;return t&&(r=n.getFilter(n.credentials.userId,t,!0).then((function(r){var o=r.getDefinition(),l=filter.getDefinition();if($.deepCompare(o,l))return f.default.resolve(t);n.store.setFilterIdByName(e,void 0)}),(function(t){if(404!==t.httpStatus||"M_UNKNOWN"!==t.errcode&&"M_NOT_FOUND"!==t.errcode)throw t;n.store.setFilterIdByName(e,void 0)}))),r.then((function(t){return t||n.createFilter(filter.getDefinition()).then((function(t){return n.store.setFilterIdByName(e,t.filterId),t.filterId}))}))},me.prototype.getOpenIdToken=function(){var path=$.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this._http.authedRequest(void 0,"POST",path,void 0,{})},me.prototype.turnServer=function(e){return this._http.authedRequest(e,"GET","/voip/turnServer")},me.prototype.getTurnServers=function(){return this._turnServers||[]},me.prototype.setFallbackICEServerAllowed=function(e){this._fallbackICEServerAllowed=e},me.prototype.isFallbackICEServerAllowed=function(){return this._fallbackICEServerAllowed},me.prototype.isSynapseAdministrator=function(){var path=$.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this._http.authedRequest(void 0,"GET",path,void 0,void 0,{prefix:""}).then((function(e){return e.admin}))},me.prototype.whoisSynapseUser=function(e){var path=$.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:e});return this._http.authedRequest(void 0,"GET",path,void 0,void 0,{prefix:""})},me.prototype.deactivateSynapseUser=function(e){var path=$.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:e});return this._http.authedRequest(void 0,"POST",path,void 0,void 0,{prefix:""})},me.prototype.startClient=(ue=(0,h.method)((function(e){var t=this;this.clientRunning||(this.clientRunning=!0,"number"==typeof e&&(e={initialSyncLimit:e}),this._crypto&&(this._crypto.uploadDeviceKeys().done(),this._crypto.start()),function e(t){t._supportsVoip&&(t.isGuest()||t.turnServer().done((function(r){if(r.uris){T.default.log("Got TURN URIs: "+r.uris+" refresh in "+r.ttl+" secs");var n={urls:r.uris,username:r.username,credential:r.password};t._turnServers=[n],t._checkTurnServersTimeoutID=setTimeout((function(){e(t)}),1e3*(r.ttl||3600)*.9)}}),(function(r){T.default.error("Failed to get TURN URIs"),t._checkTurnServersTimeoutID=setTimeout((function(){e(t)}),6e4)})))}(this),this._syncApi&&(T.default.error("Still have sync object whilst not running: stopping old one"),this._syncApi.stop()),(e=(0,l.default)({},e)).crypto=this._crypto,e.canResetEntireTimeline=function(e){return!!t._canResetTimelineCallback&&t._canResetTimelineCallback(e)},this._clientOpts=e,this._syncApi=new G(this,e),this._syncApi.sync())})),function(e){return ue.apply(this,arguments)}),me.prototype._storeClientOptions=function(){var e=["boolean","string","number"],t=(0,_.default)(this._clientOpts).filter((function(t){var r=(0,y.default)(t,2),n=(r[0],r[1]);return e.includes(void 0===n?"undefined":(0,d.default)(n))})).reduce((function(e,t){var r=(0,y.default)(t,2),n=r[0],o=r[1];return e[n]=o,e}),{});return this.store.storeClientOptions(t)},me.prototype.stopClient=function(){T.default.log("stopping MatrixClient"),this.clientRunning=!1,this._syncApi&&(this._syncApi.stop(),this._syncApi=null),this._crypto&&this._crypto.stop(),this._peekSync&&this._peekSync.stopPeeking(),t.clearTimeout(this._checkTurnServersTimeoutID)},me.prototype.getVersions=(0,h.coroutine)(v.default.mark((function e(){return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._serverVersionsCache){e.next=4;break}return e.next=3,(0,h.resolve)(this._http.request(void 0,"GET","/_matrix/client/versions",void 0,void 0,{prefix:""}));case 3:this._serverVersionsCache=e.sent;case 4:return e.abrupt("return",this._serverVersionsCache);case 5:case"end":return e.stop()}}),e,this)}))),me.prototype.isVersionSupported=(de=(0,h.coroutine)(v.default.mark((function e(t){var r,n;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getVersions());case 2:return r=e.sent,n=r.versions,e.abrupt("return",n&&n.includes(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return de.apply(this,arguments)}),me.prototype.doesServerSupportLazyLoading=(0,h.coroutine)(v.default.mark((function e(){var t,r,n;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getVersions());case 2:return t=e.sent,r=t.versions,n=t.unstable_features,e.abrupt("return",r&&r.includes("r0.5.0")||n&&n["m.lazy_load_members"]);case 6:case"end":return e.stop()}}),e,this)}))),me.prototype.doesServerRequireIdServerParam=(0,h.coroutine)(v.default.mark((function e(){var t,r,n;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getVersions());case 2:if(t=e.sent,!(r=t.versions)||!r.includes("r0.6.0")){e.next=6;break}return e.abrupt("return",!1);case 6:if(void 0!==(n=t.unstable_features)["m.require_identity_server"]){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",n["m.require_identity_server"]);case 12:case"end":return e.stop()}}),e,this)}))),me.prototype.doesServerAcceptIdentityAccessToken=(0,h.coroutine)(v.default.mark((function e(){var t,r,n;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getVersions());case 2:return t=e.sent,r=t.versions,n=t.unstable_features,e.abrupt("return",r&&r.includes("r0.6.0")||n&&n["m.id_access_token"]);case 6:case"end":return e.stop()}}),e,this)}))),me.prototype.doesServerSupportSeparateAddAndBind=(0,h.coroutine)(v.default.mark((function e(){var t,r,n;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getVersions());case 2:return t=e.sent,r=t.versions,n=t.unstable_features,e.abrupt("return",r&&r.includes("r0.6.0")||n&&n["m.separate_add_and_bind"]);case 6:case"end":return e.stop()}}),e,this)}))),me.prototype.hasLazyLoadMembersEnabled=function(){return!!this._clientOpts.lazyLoadMembers},me.prototype.setCanResetTimelineCallback=function(e){this._canResetTimelineCallback=e},me.prototype.getCanResetTimelineCallback=function(){return this._canResetTimelineCallback},me.prototype.relations=(he=(0,h.coroutine)(v.default.mark((function e(t,r,n,o){var l,c,d,m,y,_,w=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=ye(this,t,o),e.next=3,(0,h.resolve)(this.fetchRelations(t,r,n,l,w));case 3:if(c=e.sent,d=this.getEventMapper(),m=void 0,c.original_event&&(m=d(c.original_event)),y=c.chunk.map(d),"m.room.encrypted"!==l){e.next=13;break}return _=m?y.concat(m):y,e.next=12,(0,h.resolve)(f.default.all(_.map((function(e){return new f.default((function(t){return e.once("Event.decrypted",t)}))}))));case 12:y=y.filter((function(e){return e.getType()===o}));case 13:return e.abrupt("return",{originalEvent:m,events:y,nextBatch:c.next_batch});case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return he.apply(this,arguments)}),me.prototype.getEventMapper=function(){return Te(this)},me.prototype.generateClientSecret=function(){return(0,M.randomString)(32)},e.exports.MatrixClient=me,e.exports.CRYPTO_ENABLED=fe}).call(this,r(24))},,,,,,,,,,,function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceTrustLevel=t.UserTrustLevel=t.CrossSigningLevel=t.CrossSigningInfo=void 0;var n=r(20),o=O(r(66)),l=O(r(60)),c=O(r(133)),d=O(r(38)),h=O(r(29)),f=O(r(72)),v=O(r(42)),m=O(r(47)),y=O(r(73)),_=O(r(74)),w=O(r(108)),k=r(99),S=r(49),x=O(r(22));function O(e){return e&&e.__esModule?e:{default:e}}function T(e){return(0,w.default)(e.keys)[0]}t.CrossSigningInfo=function(t){function r(e,t){(0,v.default)(this,r);var n=(0,y.default)(this,(r.__proto__||(0,f.default)(r)).call(this));return Object.defineProperty(n,"userId",{enumerable:!0,value:e}),n._callbacks=t||{},n.keys={},n.firstUse=!0,n}var w,S,O,j,M;return(0,_.default)(r,t),(0,m.default)(r,[{key:"getCrossSigningKey",value:(M=(0,n.coroutine)(h.default.mark((function t(r,o){var l,c,d;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._callbacks.getCrossSigningKey){t.next=2;break}throw new Error("No getCrossSigningKey callback supplied");case 2:return void 0===o&&(o=this.getId(r)),t.next=5,(0,n.resolve)(this._callbacks.getCrossSigningKey(r,o));case 5:if(l=t.sent){t.next=8;break}throw new Error("getCrossSigningKey callback for  "+r+" returned falsey");case 8:if(c=new e.Olm.PkSigning,(d=c.init_with_seed(l))===o){t.next=15;break}throw c.free(),new Error("Key type "+r+" from getCrossSigningKey callback did not match");case 15:return t.abrupt("return",[d,c]);case 16:case"end":return t.stop()}}),t,this)}))),function(e,t){return M.apply(this,arguments)})},{key:"toStorage",value:function(){return{keys:this.keys,firstUse:this.firstUse}}},{key:"hasKeys",value:function(){return(0,d.default)(this.keys).length>0}},{key:"getId",value:function(e){return e=e||"master",this.keys[e]?T(this.keys[e])[1]:null}},{key:"resetKeys",value:(j=(0,n.coroutine)(h.default.mark((function t(r){var d,f,v,m,y,_,w,S,x,O;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._callbacks.saveCrossSigningKeys){t.next=2;break}throw new Error("No saveCrossSigningKeys callback supplied");case 2:if(!(void 0===r||r&E.MASTER)&&this.keys.master){t.next=6;break}r=E.MASTER|E.USER_SIGNING|E.SELF_SIGNING,t.next=8;break;case 6:if(0!==r){t.next=8;break}return t.abrupt("return");case 8:if(d={},f={},v=void 0,m=void 0,t.prev=12,!(r&E.MASTER)){t.next=20;break}v=new e.Olm.PkSigning,d.master=v.generate_seed(),m=v.init_with_seed(d.master),f.master={user_id:this.userId,usage:["master"],keys:(0,c.default)({},"ed25519:"+m,m)},t.next=26;break;case 20:return t.next=22,(0,n.resolve)(this.getCrossSigningyKey("master"));case 22:y=t.sent,_=(0,l.default)(y,2),m=_[0],v=_[1];case 26:if(r&E.SELF_SIGNING){w=new e.Olm.PkSigning;try{d.self_signing=w.generate_seed(),S=w.init_with_seed(d.self_signing),f.self_signing={user_id:this.userId,usage:["self_signing"],keys:(0,c.default)({},"ed25519:"+S,S)},(0,k.pkSign)(f.self_signing,v,this.userId,m)}finally{w.free()}}if(r&E.USER_SIGNING){x=new e.Olm.PkSigning;try{d.user_signing=x.generate_seed(),O=x.init_with_seed(d.user_signing),f.user_signing={user_id:this.userId,usage:["user_signing"],keys:(0,c.default)({},"ed25519:"+O,O)},(0,k.pkSign)(f.user_signing,v,this.userId,m)}finally{x.free()}}(0,o.default)(this.keys,f),this._callbacks.saveCrossSigningKeys(d);case 30:return t.prev=30,v&&v.free(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[12,,30,33]])}))),function(e){return j.apply(this,arguments)})},{key:"setKeys",value:function(e){var t={};if(e.master){if(e.master.user_id!==this.userId){var r="Mismatched user ID "+e.master.user_id+" in master key from "+this.userId;throw x.default.error(r),new Error(r)}this.keys.master?T(e.master)[1]!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,t.master=e.master}else{if(!this.keys.master)throw new Error("Tried to set cross-signing keys without a master key");t.master=this.keys.master}var n=T(t.master)[1];if(e.user_signing){if(e.user_signing.user_id!==this.userId){var o="Mismatched user ID "+e.master.user_id+" in user_signing key from "+this.userId;throw x.default.error(o),new Error(o)}try{(0,k.pkVerify)(e.user_signing,n,this.userId)}catch(e){throw x.default.error("invalid signature on user-signing key"),e}}if(e.self_signing){if(e.self_signing.user_id!==this.userId){var l="Mismatched user ID "+e.master.user_id+" in self_signing key from "+this.userId;throw x.default.error(l),new Error(l)}try{(0,k.pkVerify)(e.self_signing,n,this.userId)}catch(e){throw x.default.error("invalid signature on self-signing key"),e}}e.master&&(this.keys.master=e.master,delete this.keys.self_signing,delete this.keys.user_signing),e.self_signing&&(this.keys.self_signing=e.self_signing),e.user_signing&&(this.keys.user_signing=e.user_signing)}},{key:"signObject",value:(O=(0,n.coroutine)(h.default.mark((function e(data,t){var r,o,c,d;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.keys[t]){e.next=2;break}throw new Error("Attempted to sign with "+t+" key but no such key present");case 2:return e.next=4,(0,n.resolve)(this.getCrossSigningKey(t));case 4:return r=e.sent,o=(0,l.default)(r,2),c=o[0],d=o[1],e.prev=8,(0,k.pkSign)(data,d,this.userId,c),e.abrupt("return",data);case 11:return e.prev=11,d.free(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[8,,11,14]])}))),function(e,t){return O.apply(this,arguments)})},{key:"signUser",value:(S=(0,n.method)((function(e){if(this.keys.user_signing)return this.signObject(e.keys.master,"user_signing")})),function(e){return S.apply(this,arguments)})},{key:"signDevice",value:(w=(0,n.method)((function(e,t){if(e!==this.userId)throw new Error("Trying to sign "+e+"'s device; can only sign our own device");if(this.keys.self_signing)return this.signObject({algorithms:t.algorithms,keys:t.keys,device_id:t.deviceId,user_id:e},"self_signing")})),function(e,t){return w.apply(this,arguments)})},{key:"checkUserTrust",value:function(e){if(this.userId===e.userId&&this.getId()&&this.getId()===e.getId()&&this.getId("self_signing")&&this.getId("self_signing")===e.getId("self_signing"))return new C(!0,this.firstUse);if(!this.keys.user_signing)return new C(!1,e.firstUse);var t=void 0,r=e.keys.master,n=this.getId("user_signing");try{(0,k.pkVerify)(r,n,this.userId),t=!0}catch(e){t=!1}return new C(t,e.firstUse)}},{key:"checkDeviceTrust",value:function(e,t,r){var n=this.checkUserTrust(e),o=e.keys.self_signing;if(!o)return new I(!1,!1,r);var l=function(e,t){return{algorithms:e.algorithms,keys:e.keys,device_id:e.deviceId,user_id:t,signatures:e.signatures}}(t,e.userId);try{return(0,k.pkVerify)(o,e.getId(),e.userId),(0,k.pkVerify)(l,T(o)[1],e.userId),I.fromUserTrustLevel(n,r)}catch(e){return new I(!1,!1,r)}}}],[{key:"fromStorage",value:function(e,t){var n=new r(t);for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}}]),r}(S.EventEmitter);var E=t.CrossSigningLevel={MASTER:4,USER_SIGNING:2,SELF_SIGNING:1},C=t.UserTrustLevel=function(){function e(t,r){(0,v.default)(this,e),this._crossSigningVerified=t,this._tofu=r}return(0,m.default)(e,[{key:"isVerified",value:function(){return this.isCrossSigningVerified()}},{key:"isCrossSigningVerified",value:function(){return this._crossSigningVerified}},{key:"isTofu",value:function(){return this._tofu}}]),e}(),I=t.DeviceTrustLevel=function(){function e(t,r,n){(0,v.default)(this,e),this._crossSigningVerified=t,this._tofu=r,this._localVerified=n}return(0,m.default)(e,[{key:"isVerified",value:function(){return this.isCrossSigningVerified()||this.isLocallyVerified()}},{key:"isCrossSigningVerified",value:function(){return this._crossSigningVerified}},{key:"isLocallyVerified",value:function(){return this._localVerified}},{key:"isTofu",value:function(){return this._tofu}}],[{key:"fromUserTrustLevel",value:function(t,r){return new e(t._crossSigningVerified,t._tofu,r)}}]),e}()}).call(this,r(24))},,,,,function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.keyFromPassphrase=t.keyFromAuthData=void 0;var n,o,l,c,d=r(29),h=(n=d)&&n.__esModule?n:{default:n},f=r(20),v=(t.keyFromAuthData=(o=(0,f.coroutine)(h.default.mark((function t(r,n){return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.Olm){t.next=2;break}throw new Error("Olm is not available");case 2:if(r.private_key_salt&&r.private_key_iterations){t.next=4;break}throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");case 4:return t.next=6,(0,f.resolve)(v(n,r.private_key_salt,r.private_key_iterations));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(e,t){return o.apply(this,arguments)}),t.keyFromPassphrase=(l=(0,f.coroutine)(h.default.mark((function t(r){var n,o;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.Olm){t.next=2;break}throw new Error("Olm is not available");case 2:return n=(0,m.randomString)(32),t.next=5,(0,f.resolve)(v(r,n,y));case 5:return o=t.sent,t.abrupt("return",{key:o,salt:n,iterations:y});case 7:case"end":return t.stop()}}),t,this)}))),function(e){return l.apply(this,arguments)}),c=(0,f.coroutine)(h.default.mark((function t(r,n,o){var l,c,d,v;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e.crypto.subtle,c=e.TextEncoder,l&&c){t.next=4;break}throw new Error("Password-based backup is not avaiable on this platform");case 4:return t.next=6,(0,f.resolve)(l.importKey("raw",(new c).encode(r),{name:"PBKDF2"},!1,["deriveBits"]));case 6:return d=t.sent,t.next=9,(0,f.resolve)(l.deriveBits({name:"PBKDF2",salt:(new c).encode(n),iterations:o,hash:"SHA-512"},d,8*e.Olm.PRIVATE_KEY_LENGTH));case 9:return v=t.sent,t.abrupt("return",new Uint8Array(v));case 11:case"end":return t.stop()}}),t,this)}))),function(e,t,r){return c.apply(this,arguments)}),m=r(162);var y=5e5}).call(this,r(24))},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(r(26));t.encodeRecoveryKey=function(t){var r=new e(d.length+t.length+1);r.set(d,0),r.set(t,d.length);for(var n=0,i=0;i<r.length-1;++i)n^=r[i];return r[r.length-1]=n,l.default.encode(r).match(/.{1,4}/g).join(" ")},t.decodeRecoveryKey=function(e){var t=l.default.decode(e.replace(/ /g,"")),r=0,c=!0,h=!1,f=void 0;try{for(var v,m=(0,o.default)(t);!(c=(v=m.next()).done);c=!0){var b=v.value;r^=b}}catch(e){h=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(h)throw f}}if(0!==r)throw new Error("Incorrect parity");for(var i=0;i<d.length;++i)if(t[i]!==d[i])throw new Error("Incorrect prefix");if(t.length!==d.length+n.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return t.slice(d.length,d.length+n.Olm.PRIVATE_KEY_LENGTH)};var l=c(r(492));function c(e){return e&&e.__esModule?e:{default:e}}var d=[139,1]}).call(this,r(299).Buffer,r(24))},function(e,t,r){"use strict";(function(e){var n=r(489),o=r(490),l=r(491);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(e,t){if(c()<t)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=h.prototype:(null===e&&(e=new h(t)),e.length=t),e}function h(e,t,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return m(this,e)}return f(this,e,t,r)}function f(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);h.TYPED_ARRAY_SUPPORT?(e=t).__proto__=h.prototype:e=y(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(t,r),o=(e=d(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(h.isBuffer(t)){var r=0|_(t.length);return 0===(e=d(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?d(e,0):y(e,t);if("Buffer"===t.type&&l(t.data))return y(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function m(e,t){if(v(t),e=d(e,t<0?0:0|_(t)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function y(e,t){var r=t.length<0?0:0|_(t.length);e=d(e,r);for(var i=0;i<r;i+=1)e[i]=255&t[i];return e}function _(e){if(e>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|e}function w(e,t){if(h.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function k(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function S(b,e,t){var i=b[e];b[e]=b[t],b[t]=i}function x(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:O(e,t,r,n,o);if("number"==typeof t)return t&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):O(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function O(e,t,r,n,o){var i,l=1,c=e.length,d=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;l=2,c/=2,d/=2,r/=2}function h(e,i){return 1===l?e[i]:e.readUInt16BE(i*l)}if(o){var f=-1;for(i=r;i<c;i++)if(h(e,i)===h(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===d)return f*l}else-1!==f&&(i-=i-f),f=-1}else for(r+d>c&&(r=c-d),i=r;i>=0;i--){for(var v=!0,m=0;m<d;m++)if(h(e,i+m)!==h(t,m)){v=!1;break}if(v)return i}return-1}function T(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var l=t.length;if(l%2!=0)throw new TypeError("Invalid hex string");n>l/2&&(n=l/2);for(var i=0;i<n;++i){var c=parseInt(t.substr(2*i,2),16);if(isNaN(c))return i;e[r+i]=c}return i}function E(e,t,r,n){return X(W(t,e.length-r),e,r,n)}function C(e,t,r,n){return X(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,r,n)}function I(e,t,r,n){return C(e,t,r,n)}function j(e,t,r,n){return X(Y(t),e,r,n)}function M(e,t,r,n){return X(function(e,t){for(var r,n,o,l=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,o=r%256,l.push(o),l.push(n);return l}(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,l,c,d,h=e[i],f=null,v=h>239?4:h>223?3:h>191?2:1;if(i+v<=r)switch(v){case 1:h<128&&(f=h);break;case 2:128==(192&(o=e[i+1]))&&(d=(31&h)<<6|63&o)>127&&(f=d);break;case 3:o=e[i+1],l=e[i+2],128==(192&o)&&128==(192&l)&&(d=(15&h)<<12|(63&o)<<6|63&l)>2047&&(d<55296||d>57343)&&(f=d);break;case 4:o=e[i+1],l=e[i+2],c=e[i+3],128==(192&o)&&128==(192&l)&&128==(192&c)&&(d=(15&h)<<18|(63&o)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(f=d)}null===f?(f=65533,v=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=v}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return r}(n)}t.Buffer=h,t.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},t.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=c(),h.poolSize=8192,h._augment=function(e){return e.__proto__=h.prototype,e},h.from=function(e,t,r){return f(null,e,t,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(e,t,r){return function(e,t,r,n){return v(t),t<=0?d(e,t):void 0!==r?"string"==typeof n?d(e,t).fill(r,n):d(e,t).fill(r):d(e,t)}(null,e,t,r)},h.allocUnsafe=function(e){return m(null,e)},h.allocUnsafeSlow=function(e){return m(null,e)},h.isBuffer=function(b){return!(null==b||!b._isBuffer)},h.compare=function(a,b){if(!h.isBuffer(a)||!h.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var e=a.length,t=b.length,i=0,r=Math.min(e,t);i<r;++i)if(a[i]!==b[i]){e=a[i],t=b[i];break}return e<t?-1:t<e?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!l(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=h.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var o=e[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<e;i+=2)S(this,i,i+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<e;i+=4)S(this,i,i+3),S(this,i+1,i+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<e;i+=8)S(this,i,i+7),S(this,i+1,i+6),S(this,i+2,i+5),S(this,i+3,i+4);return this},h.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):k.apply(this,arguments)},h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===h.compare(this,b)},h.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},h.prototype.compare=function(e,t,r,n,o){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var l=(o>>>=0)-(n>>>=0),c=(r>>>=0)-(t>>>=0),d=Math.min(l,c),f=this.slice(n,o),v=e.slice(t,r),i=0;i<d;++i)if(f[i]!==v[i]){l=f[i],c=v[i];break}return l<c?-1:c<l?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return x(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return x(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var l=!1;;)switch(n){case"hex":return T(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return C(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return j(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=G(e[i]);return o}function L(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function z(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,o,l){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<l)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function V(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function H(e,t,r,n,o,l){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $(e,t,r,n,l){return l||H(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,l){return l||H(e,0,r,8),o.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=h.prototype;else{var o=t-e;r=new h(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},h.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},h.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},h.prototype.readUInt8=function(e,t){return t||z(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return t||z(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return t||z(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||z(e,t,this.length);for(var i=t,n=1,o=this[e+--i];i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){t||z(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){t||z(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},h.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},h.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,255,0),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);F(this,e,t,r,o-1,-o)}var i=0,l=1,sub=0;for(this[t]=255&e;++i<r&&(l*=256);)e<0&&0===sub&&0!==this[t+i-1]&&(sub=1),this[t+i]=(e/l>>0)-sub&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);F(this,e,t,r,o-1,-o)}var i=r-1,l=1,sub=0;for(this[t+i]=255&e;--i>=0&&(l*=256);)e<0&&0===sub&&0!==this[t+i+1]&&(sub=1),this[t+i]=(e/l>>0)-sub&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,127,-128),h.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),h.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},h.prototype.writeFloatLE=function(e,t,r){return $(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return $(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var code=e.charCodeAt(0);code<256&&(e=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=h.isBuffer(e)?e:W(new h(e,n).toString()),l=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%l]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var r;t=t||1/0;for(var n=e.length,o=null,l=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&l.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&l.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&l.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&l.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;l.push(r)}else if(r<2048){if((t-=2)<0)break;l.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;l.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;l.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return l}function Y(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(24))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(r(29)),o=C(r(60)),l=C(r(108)),c=C(r(26)),d=r(20),h=C(r(133)),f=C(r(134)),v=C(r(66)),m=C(r(72)),y=C(r(42)),_=C(r(47)),w=C(r(73)),k=C(r(74)),S=r(63),x=r(49),O=C(r(22)),T=C(r(163)),E=r(164);function C(e){return e&&e.__esModule?e:{default:e}}var I=new Error("Verification timed out"),j=function(e){function t(e,r,n,o,l,c,d){(0,y.default)(this,t);var h=(0,w.default)(this,(t.__proto__||(0,m.default)(t)).call(this));return h._baseApis=e,h.userId=r,h.deviceId=n,h.transactionId=o,"string"==typeof l||l instanceof String?(h.roomId=l,h.startEvent=c,h.request=d):(h.startEvent=l,h.request=c),h.cancelled=!1,h._done=!1,h._promise=null,h._transactionTimeoutTimer=null,h._eventsSubscription=null,h._resetTimer(),h.roomId?h._sendWithTxnId=h._sendMessage:h._sendWithTxnId=h._sendToDevice,h}var r;return(0,k.default)(t,e),(0,_.default)(t,[{key:"_resetTimer",value:function(){var e=this;O.default.info("Refreshing/starting the verification transaction timeout timer"),null!==this._transactionTimeoutTimer&&clearTimeout(this._transactionTimeoutTimer),this._transactionTimeoutTimer=setTimeout((function(){e._done||e.cancelled||(O.default.info("Triggering verification timeout"),e.cancel(I))}),6e5)}},{key:"_endTimer",value:function(){null!==this._transactionTimeoutTimer&&(clearTimeout(this._transactionTimeoutTimer),this._transactionTimeoutTimer=null)}},{key:"_contentFromEventWithTxnId",value:function(e){if(this.roomId){var content=(0,v.default)({},e.getContent());return content["m.relates_to"]=e.getRelation(),content}return e.getContent()}},{key:"_contentWithTxnId",value:function(content){var e=(0,v.default)({},content);return this.roomId?e["m.relates_to"]={rel_type:"m.reference",event_id:this.transactionId}:e.transaction_id=this.transactionId,e}},{key:"_send",value:function(e,t){var content=this._contentWithTxnId(t);return this._sendWithTxnId(e,content)}},{key:"_sendToDevice",value:function(e,content){return this._done?f.default.reject(new Error("Verification is already done")):this._baseApis.sendToDevice(e,(0,h.default)({},this.userId,(0,h.default)({},this.deviceId,content)))}},{key:"_sendMessage",value:function(e,content){return this._done?f.default.reject(new Error("Verification is already done")):this._baseApis.sendEvent(this.roomId,e,content)}},{key:"_waitForEvent",value:function(e){var t=this;return this._done?f.default.reject(new Error("Verification is already done")):(this._expectedEvent=e,new f.default((function(e,r){t._resolveEvent=e,t._rejectEvent=r})))}},{key:"handleEvent",value:function(e){if(!this._done)if(e.getType()===this._expectedEvent)this._expectedEvent=void 0,this._rejectEvent=void 0,this._resetTimer(),this._resolveEvent(e);else if("m.key.verification.cancel"===e.getType()){var t=this._reject;this._reject=void 0,t(new Error("Other side cancelled verification"))}else{var r=new Error("Unexpected message: expecting "+this._expectedEvent+" but got "+e.getType());if(this._expectedEvent=void 0,this._rejectEvent){var n=this._rejectEvent;this._rejectEvent=void 0,n(r)}this.cancel(r)}}},{key:"done",value:function(){this._endTimer(),this._done||(this.roomId&&this._send("m.key.verification.done",{}),this._resolve())}},{key:"cancel",value:function(e){if(this._endTimer(),!this._done){if(this.cancelled=!0,this.userId&&this.deviceId&&this.transactionId)if(e===I){var t=(0,E.newTimeoutError)();this._send(t.getType(),t.getContent())}else if(e instanceof S.MatrixEvent){if(e.getSender()!==this.userId){var content=e.getContent();"m.key.verification.cancel"===e.getType()?(content.code=content.code||"m.unknown",content.reason=content.reason||content.body||"Unknown reason",content.transaction_id=this.transactionId,this._send("m.key.verification.cancel",content)):this._send("m.key.verification.cancel",{code:"m.unknown",reason:content.body||"Unknown reason",transaction_id:this.transactionId})}}else this._send("m.key.verification.cancel",{code:"m.unknown",reason:e.toString(),transaction_id:this.transactionId});null!==this._promise?this._reject&&this._reject(e):(this._eventsSubscription&&(this._eventsSubscription=this._eventsSubscription()),this._promise=f.default.reject(e)),this.emit("cancel",e)}}},{key:"verify",value:function(){var e=this;return this._promise?this._promise:(this._promise=new f.default((function(t,r){e._resolve=function(){e._done=!0,e._endTimer(),e.handler&&e._eventsSubscription&&(e._eventsSubscription=e._eventsSubscription()),t.apply(void 0,arguments)},e._reject=function(){e._done=!0,e._endTimer(),e.handler&&e._eventsSubscription&&(e._eventsSubscription=e._eventsSubscription()),r.apply(void 0,arguments)}})),this._doVerification&&!this._started&&(this._started=!0,this._resetTimer(),f.default.resolve(this._doVerification()).then(this.done.bind(this),this.cancel.bind(this))),this._promise)}},{key:"_verifyKeys",value:(r=(0,d.coroutine)(n.default.mark((function e(t,r,f){var v,m,y,_,w,k,S,x,E,C,I,j,M,R,A,P,B,D;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=[],m=!0,y=!1,_=void 0,e.prev=4,w=(0,c.default)((0,l.default)(r));case 6:if(m=(k=w.next()).done){e.next=29;break}return S=(0,o.default)(k.value,2),x=S[0],E=S[1],C=x.split(":",2)[1],e.next=11,(0,d.resolve)(this._baseApis.getStoredDevice(t,C));case 11:if(!(I=e.sent)){e.next=18;break}return e.next=15,(0,d.resolve)(f(x,I,E));case 15:v.push(C),e.next=26;break;case 18:if(!(j=this._baseApis._crypto._deviceList.getStoredCrossSigningForUser(t))||j.getId()!==C){e.next=25;break}return e.next=22,(0,d.resolve)(f(x,T.default.fromStorage({keys:(0,h.default)({},x,C)},C),E));case 22:v.push(C),e.next=26;break;case 25:O.default.warn("verification: Could not find device "+C+" to verify");case 26:m=!0,e.next=6;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(4),y=!0,_=e.t0;case 35:e.prev=35,e.prev=36,!m&&w.return&&w.return();case 38:if(e.prev=38,!y){e.next=41;break}throw _;case 41:return e.finish(38);case 42:return e.finish(35);case 43:if(v.length){e.next=45;break}throw new Error("No devices could be verified");case 45:M=!0,R=!1,A=void 0,e.prev=48,P=(0,c.default)(v);case 50:if(M=(B=P.next()).done){e.next=57;break}return D=B.value,e.next=54,(0,d.resolve)(this._baseApis.setDeviceVerified(t,D));case 54:M=!0,e.next=50;break;case 57:e.next=63;break;case 59:e.prev=59,e.t1=e.catch(48),R=!0,A=e.t1;case 63:e.prev=63,e.prev=64,!M&&P.return&&P.return();case 66:if(e.prev=66,!R){e.next=69;break}throw A;case 69:return e.finish(66);case 70:return e.finish(63);case 71:case"end":return e.stop()}}),e,this,[[4,31,35,43],[36,,38,42],[48,59,63,71],[64,,66,70]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"setEventsSubscription",value:function(e){this._eventsSubscription=e}}]),t}(x.EventEmitter);t.default=j},,function(e,t,r){e.exports={default:r(508),__esModule:!0}},function(e,t,r){"use strict";var n=d(r(264)),o=d(r(38)),l=d(r(161)),c=d(r(22));function d(e){return e&&e.__esModule?e:{default:e}}var h=r(49).EventEmitter,f=r(21),v=r(218);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.roomId=e,this.members={},this.events={},this.paginationToken=null,this._sentinels={},this._updateModifiedTime(),this._displayNameToUserIds={},this._userIdsToDisplayNames={},this._tokenToInvite={},this._joinedMemberCount=null,this._summaryJoinedMemberCount=null,this._invitedMemberCount=null,this._summaryInvitedMemberCount=null,t||(t={status:1}),this._oobMemberFlags=t}function y(e,t,r){var n=e._userIdsToDisplayNames[t];if(delete e._userIdsToDisplayNames[t],n){var o=f.removeHiddenChars(n),l=e._displayNameToUserIds[o];if(l){var c=l.filter((function(e){return e!==t}));e._displayNameToUserIds[o]=c}}e._userIdsToDisplayNames[t]=r;var d=r&&f.removeHiddenChars(r);d&&(e._displayNameToUserIds[d]||(e._displayNameToUserIds[d]=[]),e._displayNameToUserIds[d].push(t))}f.inherits(m,h),m.prototype.getJoinedMemberCount=function(){return null!==this._summaryJoinedMemberCount?this._summaryJoinedMemberCount:(null===this._joinedMemberCount&&(this._joinedMemberCount=this.getMembers().reduce((function(e,t){return"join"===t.membership?e+1:e}),0)),this._joinedMemberCount)},m.prototype.setJoinedMemberCount=function(e){this._summaryJoinedMemberCount=e},m.prototype.getInvitedMemberCount=function(){return null!==this._summaryInvitedMemberCount?this._summaryInvitedMemberCount:(null===this._invitedMemberCount&&(this._invitedMemberCount=this.getMembers().reduce((function(e,t){return"invite"===t.membership?e+1:e}),0)),this._invitedMemberCount)},m.prototype.setInvitedMemberCount=function(e){this._summaryInvitedMemberCount=e},m.prototype.getMembers=function(){return f.values(this.members)},m.prototype.getMembersExcept=function(e){return f.values(this.members).filter((function(t){return!e.includes(t.userId)}))},m.prototype.getMember=function(e){return this.members[e]||null},m.prototype.getSentinelMember=function(e){if(!e)return null;var t=this._sentinels[e];if(void 0===t){t=new v(this.roomId,e);var r=this.members[e];r&&t.setMembershipEvent(r.events.member,this),this._sentinels[e]=t}return t},m.prototype.getStateEvents=function(e,t){if(!this.events[e])return void 0===t?[]:null;if(void 0===t)return f.values(this.events[e]);var r=this.events[e][t];return r||null},m.prototype.clone=function(){var e=new m(this.roomId,this._oobMemberFlags),t=this._oobMemberFlags.status;return this._oobMemberFlags.status=1,(0,l.default)(this.events).forEach((function(t){var r=(0,l.default)(t);e.setStateEvents(r)})),this._oobMemberFlags.status=t,null!==this._summaryInvitedMemberCount&&e.setInvitedMemberCount(this.getInvitedMemberCount()),null!==this._summaryJoinedMemberCount&&e.setJoinedMemberCount(this.getJoinedMemberCount()),3==this._oobMemberFlags.status&&this.getMembers().forEach((function(t){t.isOutOfBand()&&e.getMember(t.userId).markOutOfBand()})),e},m.prototype.setUnknownStateEvents=function(e){var t=this,r=e.filter((function(e){return void 0===t.events[e.getType()]||void 0===t.events[e.getType()][e.getStateKey()]}));this.setStateEvents(r)},m.prototype.setStateEvents=function(e){var t=this;this._updateModifiedTime(),f.forEach(e,(function(e){e.getRoomId()===t.roomId&&e.isState()&&(t._setStateEvent(e),"m.room.member"===e.getType()&&(y(t,e.getStateKey(),e.getContent().displayname),function(e,t){if(!t.getContent().third_party_invite)return;var r=(t.getContent().third_party_invite.signed||{}).token;if(!r)return;if(!e.getStateEvents("m.room.third_party_invite",r))return;e._tokenToInvite[r]=t}(t,e)),t.emit("RoomState.events",e,t))})),f.forEach(e,(function(e){if(e.getRoomId()===t.roomId&&e.isState())if("m.room.member"===e.getType()){var r=e.getStateKey();"leave"!==e.getContent().membership&&"ban"!==e.getContent().membership||(e.getContent().avatar_url=e.getContent().avatar_url||e.getPrevContent().avatar_url,e.getContent().displayname=e.getContent().displayname||e.getPrevContent().displayname);var n=t._getOrCreateMember(r,e);n.setMembershipEvent(e,t),t._updateMember(n),t.emit("RoomState.members",e,t,n)}else if("m.room.power_levels"===e.getType()){var o=f.values(t.members);f.forEach(o,(function(r){r.setPowerLevelEvent(e),t.emit("RoomState.members",e,t,r)})),t._sentinels={}}}))},m.prototype._getOrCreateMember=function(e,t){var r=this.members[e];return r||(r=new v(this.roomId,e),this.members[e]=r,this.emit("RoomState.newMember",t,this,r)),r},m.prototype._setStateEvent=function(e){void 0===this.events[e.getType()]&&(this.events[e.getType()]={}),this.events[e.getType()][e.getStateKey()]=e},m.prototype._updateMember=function(e){var t=this.getStateEvents("m.room.power_levels","");t&&e.setPowerLevelEvent(t),delete this._sentinels[e.userId],this.members[e.userId]=e,this._joinedMemberCount=null,this._invitedMemberCount=null},m.prototype.needsOutOfBandMembers=function(){return 1===this._oobMemberFlags.status},m.prototype.markOutOfBandMembersStarted=function(){1===this._oobMemberFlags.status&&(this._oobMemberFlags.status=2)},m.prototype.markOutOfBandMembersFailed=function(){2===this._oobMemberFlags.status&&(this._oobMemberFlags.status=1)},m.prototype.clearOutOfBandMembers=function(){var e=this,t=0;(0,o.default)(this.members).forEach((function(r){e.members[r].isOutOfBand()&&(++t,delete e.members[r])})),c.default.log("LL: RoomState removed "+t+" members..."),this._oobMemberFlags.status=1},m.prototype.setOutOfBandMembers=function(e){var t=this;c.default.log("LL: RoomState about to set "+e.length+" OOB members ..."),2===this._oobMemberFlags.status&&(c.default.log("LL: RoomState put in OOB_STATUS_FINISHED state ..."),this._oobMemberFlags.status=3,e.forEach((function(e){return t._setOutOfBandMember(e)})))},m.prototype._setOutOfBandMember=function(e){if("m.room.member"===e.getType()){var t=e.getStateKey(),r=this.getMember(t);if(!r||r.isOutOfBand()){var n=this._getOrCreateMember(t,e);n.setMembershipEvent(e,this),n.markOutOfBand(),y(this,n.userId,n.name),this._setStateEvent(e),this._updateMember(n),this.emit("RoomState.members",e,this,n)}}},m.prototype.setTypingEvent=function(e){f.forEach(f.values(this.members),(function(t){t.setTypingEvent(e)}))},m.prototype.getInviteForThreePidToken=function(e){return this._tokenToInvite[e]||null},m.prototype._updateModifiedTime=function(){this._modified=Date.now()},m.prototype.getLastModifiedTime=function(){return this._modified},m.prototype.getUserIdsWithDisplayName=function(e){return this._displayNameToUserIds[f.removeHiddenChars(e)]||[]},m.prototype.maySendRedactionForEvent=function(e,t){var r=this.getMember(t);if(!r||"leave"===r.membership)return!1;if(e.status||e.isRedacted())return!1;var n=this.maySendEvent("m.room.redaction",t);return e.getSender()===t?n:this._hasSufficientPowerLevelFor("redact",r.powerLevel)},m.prototype._hasSufficientPowerLevelFor=function(e,t){var r=this.getStateEvents("m.room.power_levels",""),n={};r&&(n=r.getContent());var o=50;return f.isNumber(n[e])&&(o=n[e]),t>=o},m.prototype.maySendMessage=function(e){return this._maySendEventOfType("m.room.message",e,!1)},m.prototype.maySendEvent=function(e,t){return this._maySendEventOfType(e,t,!1)},m.prototype.mayClientSendStateEvent=function(e,t){return!t.isGuest()&&this.maySendStateEvent(e,t.credentials.userId)},m.prototype.maySendStateEvent=function(e,t){return this._maySendEventOfType(e,t,!0)},m.prototype._maySendEventOfType=function(e,t,r){var o=this.getStateEvents("m.room.power_levels",""),l=void 0,c={},d=0,h=0,f=0;if(o){c=(l=o.getContent()).events||{},d=(0,n.default)(l.state_default)?l.state_default:50;var v=l.users&&l.users[t];(0,n.default)(v)?f=v:(0,n.default)(l.users_default)&&(f=l.users_default),(0,n.default)(l.events_default)&&(h=l.events_default)}var m=r?d:h;return(0,n.default)(c[e])&&(m=c[e]),f>=m},m.prototype.mayTriggerNotifOfType=function(e,t){var r=this.getMember(t);if(!r)return!1;var n=this.getStateEvents("m.room.power_levels",""),o=50;return n&&n.getContent()&&n.getContent().notifications&&f.isNumber(n.getContent().notifications[e])&&(o=n.getContent().notifications[e]),r.powerLevel>=o},e.exports=m},function(e,t,r){"use strict";var n=w(r(60)),o=w(r(66)),l=w(r(515)),c=w(r(519)),d=w(r(38)),h=w(r(29)),f=w(r(26)),v=r(20),m=w(r(134)),y=w(r(22)),_=w(r(211));function w(e){return e&&e.__esModule?e:{default:e}}var k=r(49).EventEmitter,S=r(63).EventStatus,x=r(522),O=r(218),T=r(63).MatrixEvent,E=r(21),C=r(165),I=r(110),j=r(305),M=["1","2","3","4"];function R(e,t,r){var n={content:{},type:"m.receipt",room_id:t.getRoomId()};return n.content[t.getId()]={},n.content[t.getId()][r]={},n.content[t.getId()][r][e]={ts:t.getTs()},new T(n)}function A(e,t,r,n){if((n=n||{}).pendingEventOrdering=n.pendingEventOrdering||"chronological",this.reEmitter=new _.default(this),-1===["chronological","detached"].indexOf(n.pendingEventOrdering))throw new Error("opts.pendingEventOrdering MUST be either 'chronological' or 'detached'. Got: '"+n.pendingEventOrdering+"'");this.myUserId=r,this.roomId=e,this.name=e,this.tags={},this.accountData={},this.summary=null,this.storageToken=n.storageToken,this._opts=n,this._txnToEvent={},this._receipts={},this._receiptCacheByEventId={},this._realReceipts={},this._notificationCounts={},this._timelineSets=[new j(this,n)],this.reEmitter.reEmit(this.getUnfilteredTimelineSet(),["Room.timeline","Room.timelineReset"]),this._fixUpLegacyTimelineFields(),this._filteredTimelineSets={},"detached"==this._opts.pendingEventOrdering&&(this._pendingEventList=[]),this._blacklistUnverifiedDevices=null,this._selfMembership=null,this._summaryHeroes=null,this._client=t,this._opts.lazyLoadMembers?this._membersPromise=null:this._membersPromise=m.default.resolve()}E.inherits(A,k),A.prototype.getVersion=function(){var e=this.currentState.getStateEvents("m.room.create","");if(!e)return y.default.warn("Room "+this.room_id+" does not have an m.room.create event"),"1";var t=e.getContent().room_version;return void 0===t?"1":t},A.prototype.shouldUpgradeToVersion=function(){return M.includes(this.getVersion())?null:"4"},A.prototype.getRecommendedVersion=(0,v.coroutine)(h.default.mark((function e(){var t,r,n,o,l,c,d,m,_,w;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.resolve)(this._client.getCapabilities());case 2:if(t=e.sent,r=t["m.room_versions"]){e.next=25;break}for(r={default:"4",available:{}},n=!0,o=!1,l=void 0,e.prev=9,c=(0,f.default)(M);!(n=(d=c.next()).done);n=!0)m=d.value,r.available[m]="stable";e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),o=!0,l=e.t0;case 17:e.prev=17,e.prev=18,!n&&c.return&&c.return();case 20:if(e.prev=20,!o){e.next=23;break}throw l;case 23:return e.finish(20);case 24:return e.finish(17);case 25:if(!(_=this._checkVersionAgainstCapability(r)).urgent||!_.needsUpgrade){e.next=38;break}return y.default.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about."),e.next=30,(0,v.resolve)(this._client.getCapabilities(!0));case 30:if(w=e.sent,r=w["m.room_versions"]){e.next=37;break}return y.default.warn("No room version capability - assuming upgrade required."),e.abrupt("return",_);case 37:_=this._checkVersionAgainstCapability(r);case 38:return e.abrupt("return",_);case 39:case"end":return e.stop()}}),e,this,[[9,13,17,25],[18,,20,24]])}))),A.prototype._checkVersionAgainstCapability=function(e){var t=this.getVersion();y.default.log("["+this.roomId+"] Current version: "+t),y.default.log("["+this.roomId+"] Version capability: ",e);var r={version:t,needsUpgrade:!1,urgent:!1};return t===e.default?r:(0,d.default)(e.available).filter((function(t){return"stable"===e.available[t]})).includes(t)?r:(r.version=e.default,r.needsUpgrade=!0,r.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),r.urgent?y.default.warn("URGENT upgrade required on "+this.roomId):y.default.warn("Non-urgent upgrade required on "+this.roomId),r)},A.prototype.userMayUpgradeRoom=function(e){return this.currentState.maySendStateEvent("m.room.tombstone",e)},A.prototype.getPendingEvents=function(){if("detached"!==this._opts.pendingEventOrdering)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this._opts.pendingEventOrdering);return this._pendingEventList},A.prototype.hasPendingEvent=function(e){if("detached"!==this._opts.pendingEventOrdering)throw new Error("Cannot call hasPendingEvent with pendingEventOrdering == "+this._opts.pendingEventOrdering);return this._pendingEventList.some((function(t){return t.getId()===e}))},A.prototype.getLiveTimeline=function(){return this.getUnfilteredTimelineSet().getLiveTimeline()},A.prototype.getLastActiveTimestamp=function(){var e=this.getLiveTimeline().getEvents();return e.length?e[e.length-1].getTs():c.default},A.prototype.getMyMembership=function(){return this._selfMembership},A.prototype.getDMInviter=function(){if(this.myUserId){var e=this.getMember(this.myUserId);if(e)return e.getDMInviter()}if("invite"===this._selfMembership&&(2==this.getInvitedAndJoinedMemberCount()&&this._summaryHeroes.length))return this._summaryHeroes[0]},A.prototype.guessDMUserId=function(){var e=this,t=this.getMember(this.myUserId);if(t){var r=t.getDMInviter();if(r)return r}if(Array.isArray(this._summaryHeroes)&&this._summaryHeroes.length)return this._summaryHeroes[0];var n=this.currentState.getMembers().find((function(t){return t.userId!==e.myUserId}));return n?n.userId:this.myUserId},A.prototype.getAvatarFallbackMember=function(){var e=this;if(!(this.getInvitedAndJoinedMemberCount()>2)){var t=Array.isArray(this._summaryHeroes)&&this._summaryHeroes.length;if(t){var r=this._summaryHeroes.map((function(t){return e.getMember(t)})).find((function(e){return!!e}));if(r)return r}var n=this.currentState.getMembers();if(n.length<=2){var o=n.find((function(t){return t.userId!==e.myUserId}));if(o)return o}if(t){var l=this._summaryHeroes.map((function(t){return e._client.getUser(t)})).find((function(e){return!!e}));if(l){var c=new O(this.roomId,l.userId);return c.user=l,c}}}},A.prototype.updateMyMembership=function(e){var t=this._selfMembership;this._selfMembership=e,t!==e&&("leave"===e&&this._cleanupAfterLeaving(),this.emit("Room.myMembership",this,e,t))},A.prototype._loadMembersFromServer=(0,v.coroutine)(h.default.mark((function e(){var t,r,path,n,o;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._client.store.getSyncToken(),r=E.encodeParams({not_membership:"leave",at:t}),path=E.encodeUri("/rooms/$roomId/members?"+r,{$roomId:this.roomId}),n=this._client._http,e.next=6,(0,v.resolve)(n.authedRequest(void 0,"GET",path));case 6:return o=e.sent,e.abrupt("return",o.chunk);case 8:case"end":return e.stop()}}),e,this)}))),A.prototype._loadMembers=(0,v.coroutine)(h.default.mark((function e(){var t,r,n;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,(0,v.resolve)(this._client.store.getOutOfBandMembers(this.roomId));case 3:if(null!==(r=e.sent)){e.next=10;break}return t=!0,e.next=8,(0,v.resolve)(this._loadMembersFromServer());case 8:r=e.sent,y.default.log("LL: got "+r.length+" members from server for room "+this.roomId);case 10:return n=r.map(this._client.getEventMapper()),e.abrupt("return",{memberEvents:n,fromServer:t});case 12:case"end":return e.stop()}}),e,this)}))),A.prototype.loadMembersIfNeeded=function(){var e=this;if(this._membersPromise)return this._membersPromise;this.currentState.markOutOfBandMembersStarted();var t=this._loadMembers().then((function(t){return e.currentState.setOutOfBandMembers(t.memberEvents),e._client.isCryptoEnabled()&&e._client.isRoomEncrypted(e.roomId)&&e._client._crypto.trackRoomDevices(e.roomId),t.fromServer})).catch((function(t){throw e._membersPromise=null,e.currentState.markOutOfBandMembersFailed(),t}));return t.then((function(t){if(t){var r=e.currentState.getMembers().filter((function(e){return e.isOutOfBand()})).map((function(e){return e.events.member.event}));return y.default.log("LL: telling store to write "+r.length+" members for room "+e.roomId),e._client.store.setOutOfBandMembers(e.roomId,r).catch((function(e){y.default.log("LL: storing OOB room members failed, oh well",e)}))}})).catch((function(e){y.default.error(e)})),this._membersPromise=t,this._membersPromise},A.prototype.clearLoadedMembersIfNeeded=(0,v.coroutine)(h.default.mark((function e(){return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._opts.lazyLoadMembers||!this._membersPromise){e.next=7;break}return e.next=3,(0,v.resolve)(this.loadMembersIfNeeded());case 3:return e.next=5,(0,v.resolve)(this._client.store.clearOutOfBandMembers(this.roomId));case 5:this.currentState.clearOutOfBandMembers(),this._membersPromise=null;case 7:case"end":return e.stop()}}),e,this)}))),A.prototype._cleanupAfterLeaving=function(){var e=this;this.clearLoadedMembersIfNeeded().catch((function(t){y.default.error("error after clearing loaded members from room "+e.roomId+" after leaving"),y.default.log(t)}))},A.prototype.resetLiveTimeline=function(e,t){for(var i=0;i<this._timelineSets.length;i++)this._timelineSets[i].resetLiveTimeline(e,t);this._fixUpLegacyTimelineFields()},A.prototype._fixUpLegacyTimelineFields=function(){this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(I.BACKWARDS),this.currentState=this.getLiveTimeline().getState(I.FORWARDS)},A.prototype.hasUnverifiedDevices=(0,v.coroutine)(h.default.mark((function e(){var t,r,n,o,l,c,d;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._client.isRoomEncrypted(this.roomId)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,v.resolve)(this.getEncryptionTargetMembers());case 4:t=e.sent,r=!0,n=!1,o=void 0,e.prev=8,l=(0,f.default)(t);case 10:if(r=(c=l.next()).done){e.next=20;break}return d=c.value,e.next=14,(0,v.resolve)(this._client.getStoredDevicesForUser(d.userId));case 14:if(!e.sent.some((function(e){return e.isUnverified()}))){e.next=17;break}return e.abrupt("return",!0);case 17:r=!0,e.next=10;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),n=!0,o=e.t0;case 26:e.prev=26,e.prev=27,!r&&l.return&&l.return();case 29:if(e.prev=29,!n){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e,this,[[8,22,26,34],[27,,29,33]])}))),A.prototype.getTimelineSets=function(){return this._timelineSets},A.prototype.getUnfilteredTimelineSet=function(){return this._timelineSets[0]},A.prototype.getTimelineForEvent=function(e){return this.getUnfilteredTimelineSet().getTimelineForEvent(e)},A.prototype.addTimeline=function(){return this.getUnfilteredTimelineSet().addTimeline()},A.prototype.findEventById=function(e){return this.getUnfilteredTimelineSet().findEventById(e)},A.prototype.getUnreadNotificationCount=function(e){return e=e||"total",this._notificationCounts[e]},A.prototype.setUnreadNotificationCount=function(e,t){this._notificationCounts[e]=t},A.prototype.setSummary=function(summary){var e=this,t=summary["m.heroes"],r=summary["m.joined_member_count"],n=summary["m.invited_member_count"];(0,l.default)(r)&&this.currentState.setJoinedMemberCount(r),(0,l.default)(n)&&this.currentState.setInvitedMemberCount(n),Array.isArray(t)&&(this._summaryHeroes=t.filter((function(t){return t!==e.myUserId})))},A.prototype.setBlacklistUnverifiedDevices=function(e){this._blacklistUnverifiedDevices=e},A.prototype.getBlacklistUnverifiedDevices=function(){return this._blacklistUnverifiedDevices},A.prototype.getAvatarUrl=function(e,t,r,n,o){var l=this.currentState.getStateEvents("m.room.avatar","");if(void 0===o&&(o=!0),!l&&!o)return null;var c=l?l.getContent().url:null;return c?C.getHttpUriForMxc(e,c,t,r,n):o?C.getIdenticonUri(e,this.roomId,t,r):null},A.prototype.getAliases=function(){var e=[],t=this.currentState.getStateEvents("m.room.aliases");if(t)for(var r=function(i){var r=t[i];if(E.isArray(r.getContent().aliases)){var n=r.getContent().aliases.filter((function(a){return"string"==typeof a&&("#"===a[0]&&!!a.endsWith(":"+r.getStateKey()))}));Array.prototype.push.apply(e,n)}},i=0;i<t.length;++i)r(i);return e},A.prototype.getCanonicalAlias=function(){var e=this.currentState.getStateEvents("m.room.canonical_alias","");return e?e.getContent().alias:null},A.prototype.addEventsToTimeline=function(e,t,r,n){r.getTimelineSet().addEventsToTimeline(e,t,r,n)},A.prototype.getMember=function(e){return this.currentState.getMember(e)},A.prototype.getJoinedMembers=function(){return this.getMembersWithMembership("join")},A.prototype.getJoinedMemberCount=function(){return this.currentState.getJoinedMemberCount()},A.prototype.getInvitedMemberCount=function(){return this.currentState.getInvitedMemberCount()},A.prototype.getInvitedAndJoinedMemberCount=function(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()},A.prototype.getMembersWithMembership=function(e){return E.filter(this.currentState.getMembers(),(function(t){return t.membership===e}))},A.prototype.getEncryptionTargetMembers=(0,v.coroutine)(h.default.mark((function e(){var t;return h.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.resolve)(this.loadMembersIfNeeded());case 2:return t=this.getMembersWithMembership("join"),this.shouldEncryptForInvitedMembers()&&(t=t.concat(this.getMembersWithMembership("invite"))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),A.prototype.shouldEncryptForInvitedMembers=function(){var e=this.currentState.getStateEvents("m.room.history_visibility","");return e&&e.getContent()&&"joined"!==e.getContent().history_visibility},A.prototype.getDefaultRoomName=function(e){return B(this,e,!0)},A.prototype.hasMembershipState=function(e,t){var r=this.getMember(e);return!!r&&r.membership===t},A.prototype.getOrCreateFilteredTimelineSet=function(filter){if(this._filteredTimelineSets[filter.filterId])return this._filteredTimelineSets[filter.filterId];var e=(0,o.default)({filter:filter},this._opts),t=new j(this,e);this.reEmitter.reEmit(t,["Room.timeline","Room.timelineReset"]),this._filteredTimelineSets[filter.filterId]=t,this._timelineSets.push(t);var r=this.getLiveTimeline();r.getEvents().forEach((function(e){t.addLiveEvent(e)}));for(var n=r;n.getNeighbouringTimeline(I.BACKWARDS);)n=n.getNeighbouringTimeline(I.BACKWARDS);return t.getLiveTimeline().setPaginationToken(n.getPaginationToken(I.BACKWARDS),I.BACKWARDS),t},A.prototype.removeFilteredTimelineSet=function(filter){var e=this._filteredTimelineSets[filter.filterId];delete this._filteredTimelineSets[filter.filterId];var i=this._timelineSets.indexOf(e);i>-1&&this._timelineSets.splice(i,1)},A.prototype._addLiveEvent=function(e,t){if(e.isRedaction()){var r=e.event.redacts,n=this.getUnfilteredTimelineSet().findEventById(r);if(n){if(n.makeRedacted(e),n.getStateKey())this.currentState.getStateEvents(n.getType(),n.getStateKey()).getId()===n.getId()&&this.currentState.setStateEvents([n]);this.emit("Room.redaction",e,this)}}if(e.getUnsigned().transaction_id){var o=this._txnToEvent[e.getUnsigned().transaction_id];if(o)return void this._handleRemoteEcho(e,o)}for(var i=0;i<this._timelineSets.length;i++)this._timelineSets[i].addLiveEvent(e,t);e.sender&&"m.room.redaction"!==e.getType()&&this.addReceipt(R(e.sender.userId,e,"m.read"),!0)},A.prototype.addPendingEvent=function(e,t){if(e.status!==S.SENDING)throw new Error("addPendingEvent called on an event with status "+e.status);if(this._txnToEvent[t])throw new Error("addPendingEvent called on an event with known txnId "+t);if(I.setEventMetadata(e,this.getLiveTimeline().getState(I.FORWARDS),!1),this._txnToEvent[t]=e,"detached"==this._opts.pendingEventOrdering){if(this._pendingEventList.some((function(e){return e.status===S.NOT_SENT}))&&(y.default.warn("Setting event as NOT_SENT due to messages in the same state"),e.setStatus(S.NOT_SENT)),this._pendingEventList.push(e),e.isRelation()&&this._aggregateNonLiveRelation(e),e.isRedaction()){var r=e.event.redacts,n=this._pendingEventList&&this._pendingEventList.find((function(e){return e.getId()===r}));n||(n=this.getUnfilteredTimelineSet().findEventById(r)),n&&(n.markLocallyRedacted(e),this.emit("Room.redaction",e,this))}}else for(var i=0;i<this._timelineSets.length;i++){var o=this._timelineSets[i];o.getFilter()?o.getFilter().filterRoomTimeline([e]).length&&o.addEventToTimeline(e,o.getLiveTimeline(),!1):o.addEventToTimeline(e,o.getLiveTimeline(),!1)}this.emit("Room.localEchoUpdated",e,this,null,null)},A.prototype._aggregateNonLiveRelation=function(e){for(var i=0;i<this._timelineSets.length;i++){var t=this._timelineSets[i];t.getFilter()?t.getFilter().filterRoomTimeline([e]).length&&t.aggregateRelations(e):t.aggregateRelations(e)}},A.prototype._handleRemoteEcho=function(e,t){var r=t.getId(),n=e.getId(),o=t.status;delete this._txnToEvent[e.getUnsigned().transaction_id],this._pendingEventList&&E.removeElement(this._pendingEventList,(function(e){return e.getId()==r}),!1),t.handleRemoteEcho(e.event);for(var i=0;i<this._timelineSets.length;i++){this._timelineSets[i].handleRemoteEcho(t,r,n)}this.emit("Room.localEchoUpdated",t,this,r,o)};var P={};function B(e,t,r){if(!r){var n=e.currentState.getStateEvents("m.room.name","");if(n&&n.getContent()&&n.getContent().name)return n.getContent().name}var o=e.getCanonicalAlias();if(!o){var l=e.getAliases();l.length&&(o=l[0])}if(o)return o;var c=e.currentState.getJoinedMemberCount()+e.currentState.getInvitedMemberCount()-1,d=null;if(e._summaryHeroes)d=e._summaryHeroes.map((function(t){var r=e.getMember(t);return r?r.name:t}));else{var h=e.currentState.getMembers().filter((function(e){return e.userId!==t&&("invite"===e.membership||"join"===e.membership)}));h.sort((function(a,b){return a.userId.localeCompare(b.userId)})),d=(h=h.slice(0,5)).map((function(e){return e.name}))}if(c)return D(d,c);if("join"==e.getMyMembership()){var f=e.currentState.getStateEvents("m.room.third_party_invite");if(f&&f.length)return"Inviting "+D(f.map((function(i){return i.getContent().display_name})))}var v=d;return v.length||(v=e.currentState.getMembers().filter((function(e){return e.userId!==t&&"invite"!==e.membership&&"join"!==e.membership})).map((function(e){return e.name}))),v.length?"Empty room (was "+D(v)+")":"Empty room"}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length+1,r=t-1;if(e.length){if(1===e.length&&r<=1)return e[0];if(2===e.length&&r<=2)return e[0]+" and "+e[1];var n=r>1;return n?e[0]+" and "+r+" others":e[0]+" and 1 other"}return"Empty room"}P[S.ENCRYPTING]=[S.SENDING,S.NOT_SENT],P[S.SENDING]=[S.ENCRYPTING,S.QUEUED,S.NOT_SENT,S.SENT],P[S.QUEUED]=[S.SENDING,S.CANCELLED],P[S.SENT]=[],P[S.NOT_SENT]=[S.SENDING,S.QUEUED,S.CANCELLED],P[S.CANCELLED]=[],A.prototype.updatePendingEvent=function(e,t,r){if(y.default.log("setting pendingEvent status to "+t+" in "+e.getRoomId()),t==S.SENT&&!r)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(t==S.SENT&&this.getUnfilteredTimelineSet().eventIdToTimeline(r))return;var o=e.status,l=e.getId();if(!o)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");var c=P[o];if(!c||c.indexOf(t)<0)throw new Error("Invalid EventStatus transition "+o+"->"+t);if(e.setStatus(t),t==S.SENT){e.replaceLocalEventId(r);for(var i=0;i<this._timelineSets.length;i++)this._timelineSets[i].replaceEventId(l,r)}else if(t==S.CANCELLED){if(this._pendingEventList){var d=this._pendingEventList.findIndex((function(e){return e.getId()===l}));if(-1!==d){var h=this._pendingEventList.splice(d,1),f=(0,n.default)(h,1)[0];f.isRedaction()&&this._revertRedactionLocalEcho(f)}}this.removeEvent(l)}this.emit("Room.localEchoUpdated",e,this,l,o)},A.prototype._revertRedactionLocalEcho=function(e){var t=e.event.redacts;if(t){var r=this.getUnfilteredTimelineSet().findEventById(t);r&&(r.unmarkLocallyRedacted(),this.emit("Room.redactionCancelled",e,this),r.isRelation()&&this._aggregateNonLiveRelation(r))}},A.prototype.addLiveEvents=function(e,t){var i=void 0;if(t&&-1===["replace","ignore"].indexOf(t))throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(i=0;i<this._timelineSets.length;i++){var r=this._timelineSets[i].getLiveTimeline();if(r.getPaginationToken(I.FORWARDS))throw new Error("live timeline "+i+" is no longer live - it has a pagination token ("+r.getPaginationToken(I.FORWARDS)+")");if(r.getNeighbouringTimeline(I.FORWARDS))throw new Error("live timeline "+i+" is no longer live - it has a neighbouring timeline")}for(i=0;i<e.length;i++)this._addLiveEvent(e[i],t)},A.prototype.addEphemeralEvents=function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=(0,f.default)(e);!(t=(o=l.next()).done);t=!0){var c=o.value;"m.typing"===c.getType()?this.currentState.setTypingEvent(c):"m.receipt"===c.getType()&&this.addReceipt(c)}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}},A.prototype.removeEvents=function(e){for(var i=0;i<e.length;++i)this.removeEvent(e[i])},A.prototype.removeEvent=function(e){for(var t=!1,i=0;i<this._timelineSets.length;i++){var r=this._timelineSets[i].removeEvent(e);r&&(r.isRedaction()&&this._revertRedactionLocalEcho(r),t=!0)}return t},A.prototype.recalculate=function(){var e=this,t=this.currentState.getStateEvents("m.room.member",this.myUserId);if(t&&"invite"===t.getContent().membership){var r=t.event.invite_room_state||[];E.forEach(r,(function(t){e.currentState.getStateEvents(t.type,t.state_key)||e.currentState.setStateEvents([new T({type:t.type,state_key:t.state_key,content:t.content,event_id:"$fake"+Date.now(),room_id:e.roomId,user_id:e.myUserId})])}))}var n=this.name;this.name=B(this,this.myUserId),this.summary=new x(this.roomId,{title:this.name}),n!==this.name&&this.emit("Room.name",this)},A.prototype.getUsersReadUpTo=function(e){return this.getReceiptsForEvent(e).filter((function(e){return"m.read"===e.type})).map((function(e){return e.userId}))},A.prototype.getEventReadUpTo=function(e,t){var r=this._receipts;return t&&(r=this._realReceipts),void 0===r["m.read"]||void 0===r["m.read"][e]?null:r["m.read"][e].eventId},A.prototype.hasUserReadEvent=function(e,t){var r=this.getEventReadUpTo(e,!1);if(r===t)return!0;if(this.timeline.length&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===e)return!0;for(var i=this.timeline.length-1;i>=0;--i){var n=this.timeline[i];if(n.getId()===t)return!1;if(n.getId()===r)return!0}return!1},A.prototype.getReceiptsForEvent=function(e){return this._receiptCacheByEventId[e.getId()]||[]},A.prototype.addReceipt=function(e,t){void 0===t&&(t=!1),t||this._addReceiptsToStructure(e,this._realReceipts),this._addReceiptsToStructure(e,this._receipts),this._receiptCacheByEventId=this._buildReceiptCache(this._receipts),this.emit("Room.receipt",e,this)},A.prototype._addReceiptsToStructure=function(e,t){var r=this;E.keys(e.getContent()).forEach((function(n){E.keys(e.getContent()[n]).forEach((function(o){E.keys(e.getContent()[n][o]).forEach((function(l){var c=e.getContent()[n][o][l];t[o]||(t[o]={});var d=t[o][l];if(d){var h=r.getUnfilteredTimelineSet().compareEventOrdering(d.eventId,n);if(null!==h&&h>=0)return}else t[o][l]={};t[o][l]={eventId:n,data:c}}))}))}))},A.prototype._buildReceiptCache=function(e){var t={};return E.keys(e).forEach((function(r){E.keys(e[r]).forEach((function(n){var o=e[r][n];t[o.eventId]||(t[o.eventId]=[]),t[o.eventId].push({userId:n,type:r,data:o.data})}))})),t},A.prototype._addLocalEchoReceipt=function(e,t,r){this.addReceipt(R(e,t,r),!0)},A.prototype.addTags=function(e){this.tags=e.getContent().tags||{},this.emit("Room.tags",e,this)},A.prototype.addAccountData=function(e){for(var i=0;i<e.length;i++){var t=e[i];"m.tag"===t.getType()&&this.addTags(t),this.accountData[t.getType()]=t,this.emit("Room.accountData",t,this)}},A.prototype.getAccountData=function(e){return this.accountData[e]},A.prototype.maySendMessage=function(){return"join"===this.getMyMembership()&&this.currentState.maySendEvent("m.room.message",this.myUserId)},e.exports=A},function(e,t,r){"use strict";var n=r(63),o=c(r(22)),l=c(r(523));function c(e){return e&&e.__esModule?e:{default:e}}var d=r(49).EventEmitter,h=r(21),f=r(110),v=void 0;function m(e,t){this.room=e,this._timelineSupport=Boolean(t.timelineSupport),this._liveTimeline=new f(this),this._unstableClientRelationAggregation=!!t.unstableClientRelationAggregation,this._timelines=[this._liveTimeline],this._eventIdToTimeline={},this._filter=t.filter||null,this._unstableClientRelationAggregation&&(this._relations={})}v=o.default.log.bind(o.default),h.inherits(m,d),m.prototype.getTimelines=function(){return this._timelines},m.prototype.getFilter=function(){return this._filter},m.prototype.setFilter=function(filter){this._filter=filter},m.prototype.getPendingEvents=function(){return this.room?this._filter?this._filter.filterRoomTimeline(this.room.getPendingEvents()):this.room.getPendingEvents():[]},m.prototype.getLiveTimeline=function(){return this._liveTimeline},m.prototype.eventIdToTimeline=function(e){return this._eventIdToTimeline[e]},m.prototype.replaceEventId=function(e,t){var r=this._eventIdToTimeline[e];r&&(delete this._eventIdToTimeline[e],this._eventIdToTimeline[t]=r)},m.prototype.resetLiveTimeline=function(e,t){var r=!this._timelineSupport||!t,n=this._liveTimeline,o=r?n.forkLive(f.FORWARDS):n.fork(f.FORWARDS);r?(this._timelines=[o],this._eventIdToTimeline={}):this._timelines.push(o),t&&n.setPaginationToken(t,f.FORWARDS),o.setPaginationToken(e,f.BACKWARDS),this._liveTimeline=o,this.emit("Room.timelineReset",this.room,this,r)},m.prototype.getTimelineForEvent=function(e){var t=this._eventIdToTimeline[e];return void 0===t?null:t},m.prototype.findEventById=function(e){var t=this.getTimelineForEvent(e);if(t)return h.findElement(t.getEvents(),(function(t){return t.getId()==e}))},m.prototype.addTimeline=function(){if(!this._timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");var e=new f(this);return this._timelines.push(e),e},m.prototype.addEventsToTimeline=function(e,t,r,n){if(!r)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!t&&r==this._liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(!this._filter||(e=this._filter.filterRoomTimeline(e)).length){for(var l=t?f.BACKWARDS:f.FORWARDS,c=t?f.FORWARDS:f.BACKWARDS,d=!1,h=!1,i=0;i<e.length;i++){var m=e[i],y=m.getId(),_=this._eventIdToTimeline[y];if(_)if(h=!1,_!=r){var w=r.getNeighbouringTimeline(l);if(w)v(_==w?"Event "+y+" in neighbouring timeline - switching to "+_:"Event "+y+" already in a different timeline "+_),r=_;else{o.default.info("Already have timeline for "+y+" - joining timeline "+r+" to "+_);var k=_===this._liveTimeline,S=r===this._liveTimeline,x=l===f.BACKWARDS&&k,O=l===f.FORWARDS&&S;x||O?(x&&o.default.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+_+")"),O&&o.default.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+r+")")):(r.setNeighbouringTimeline(_,l),_.setNeighbouringTimeline(r,c),r=_,d=!0)}}else v("Event "+y+" already in timeline "+r);else this.addEventToTimeline(m,r,t),h=!0,d=!0}if(h||!d){if(l===f.FORWARDS&&r===this._liveTimeline)return o.default.warn({lastEventWasNew:h,didUpdate:d}),void o.default.warn("Refusing to set forwards pagination token of live timeline "+r+" to "+n);r.setPaginationToken(n,l)}}},m.prototype.addLiveEvent=function(e,t){if(this._filter&&!this._filter.filterRoomTimeline([e]).length)return;var r=this._eventIdToTimeline[e.getId()];if(r)if("replace"===t){v("EventTimelineSet.addLiveEvent: replacing duplicate event "+e.getId());for(var n=r.getEvents(),o=0;o<n.length;o++)if(n[o].getId()===e.getId()){f.setEventMetadata(e,r.getState(f.FORWARDS),!1),n[o].encryptedType||(n[o]=e);break}}else v("EventTimelineSet.addLiveEvent: ignoring duplicate event "+e.getId());else this.addEventToTimeline(e,this._liveTimeline,!1)},m.prototype.addEventToTimeline=function(e,t,r){var n=e.getId();t.addEvent(e,r),this._eventIdToTimeline[n]=t,this.setRelationsTarget(e),this.aggregateRelations(e);var data={timeline:t,liveEvent:!r&&t==this._liveTimeline};this.emit("Room.timeline",e,this.room,Boolean(r),!1,data)},m.prototype.handleRemoteEcho=function(e,t,r){var n=this._eventIdToTimeline[t];n?(delete this._eventIdToTimeline[t],this._eventIdToTimeline[r]=n):this._filter?this._filter.filterRoomTimeline([e]).length&&this.addEventToTimeline(e,this._liveTimeline,!1):this.addEventToTimeline(e,this._liveTimeline,!1)},m.prototype.removeEvent=function(e){var t=this._eventIdToTimeline[e];if(!t)return null;var r=t.removeEvent(e);if(r){delete this._eventIdToTimeline[e];var data={timeline:t};this.emit("Room.timeline",r,this.room,void 0,!0,data)}return r},m.prototype.compareEventOrdering=function(e,t){if(e==t)return 0;var r=this._eventIdToTimeline[e],n=this._eventIdToTimeline[t];if(void 0===r)return null;if(void 0===n)return null;if(r===n){for(var o=void 0,l=void 0,c=r.getEvents(),d=0;d<c.length&&(void 0===o||void 0===l);d++){var h=c[d].getId();h==e&&(o=d),h==t&&(l=d)}return o-l}for(var v=r;v;){if(v===n)return-1;v=v.getNeighbouringTimeline(f.FORWARDS)}for(v=r;v;){if(v===n)return 1;v=v.getNeighbouringTimeline(f.BACKWARDS)}return null},m.prototype.getRelationsForEvent=function(e,t,r){if(!this._unstableClientRelationAggregation)throw new Error("Client-side relation aggregation is disabled");if(!e||!t||!r)throw new Error("Invalid arguments for `getRelationsForEvent`");return((this._relations[e]||{})[t]||{})[r]},m.prototype.setRelationsTarget=function(e){if(this._unstableClientRelationAggregation){var t=this._relations[e.getId()];if(t){var r=t["m.replace"];if(r){var n=r["m.room.message"];n&&n.setTargetEvent(e)}}}},m.prototype.aggregateRelations=function(e){var t=this;if(this._unstableClientRelationAggregation&&!e.isRedacted()&&e.status!==n.EventStatus.CANCELLED)if(e.isBeingDecrypted())e.once("Event.decrypted",(function(){t.aggregateRelations(e)}));else{var r=e.getRelation();if(r){var o=r.event_id,c=r.rel_type,d=e.getType(),h=this._relations[o];h||(h=this._relations[o]={});var f=h[c];f||(f=h[c]={});var v=f[d],m=!1,y=void 0;v||(v=f[d]=new l.default(c,d,this.room),m=!0,(y=this.findEventById(o))&&v.setTargetEvent(y)),v.addEvent(e),m&&y&&y.emit("Event.relationsCreated",c,d)}}},e.exports=m},function(e,t,r){"use strict";var n=r(49).EventEmitter;function o(e){this.groupId=e,this.name=null,this.avatarUrl=null,this.myMembership=null,this.inviter=null}r(21).inherits(o,n),o.prototype.setProfile=function(e,t){this.name===e&&this.avatarUrl===t||(this.name=e||this.groupId,this.avatarUrl=t,this.emit("Group.profile",this))},o.prototype.setMyMembership=function(e){this.myMembership!==e&&(this.myMembership=e,this.emit("Group.myMembership",this))},o.prototype.setInviter=function(e){this.inviter=e},e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICE_TYPES=void 0;var n,o=r(302),l=(n=o)&&n.__esModule?n:{default:n};t.SERVICE_TYPES=(0,l.default)({IS:"SERVICE_TYPE_IS",IM:"SERVICE_TYPE_IM"})},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,l=r(220),c={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=l.assign({default:c.RFC3986,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}}},c)},,,,,,,,,function(e,t,r){"use strict";t.a=function(e,t){return t=t||{},new Promise((function(r,n){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){o.push(t=t.toLowerCase()),u.push([t,r]),i[t]=i[t]?i[t]+","+r:r})),r(a())},s.onerror=n,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(l,t.headers[l]);s.send(t.body||null)}))}},,function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function c(e,source,t){return e.concat(source).map((function(element){return l(element,t)}))}function d(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(symbol){return e.propertyIsEnumerable(symbol)})):[]}(e))}function h(object,e){try{return e in object}catch(e){return!1}}function f(e,source,t){var r={};return t.isMergeableObject(e)&&d(e).forEach((function(n){r[n]=l(e[n],t)})),d(source).forEach((function(n){(function(e,t){return h(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(h(e,n)&&t.isMergeableObject(source[n])?r[n]=function(e,t){if(!t.customMerge)return v;var r=t.customMerge(e);return"function"==typeof r?r:v}(n,t)(e[n],source[n],t):r[n]=l(source[n],t))})),r}function v(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||c,t.isMergeableObject=t.isMergeableObject||n,t.cloneUnlessOtherwiseSpecified=l;var r=Array.isArray(source);return r===Array.isArray(e)?r?t.arrayMerge(e,source,t):f(e,source,t):l(source,t)}v.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return v(e,r,t)}),{})};var m=v;e.exports=m},function(e,t,r){var n;e.exports=(n=r(35),function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i=window.CodeMirror||n.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},writable:!0,configurable:!0}),t.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=i.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=i.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",(function(t){e.content=t.getValue(),e.$emit&&e.$emit("input",e.content)}));var r={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter((function(e){return!r[e]&&(r[e]=!0)})).forEach((function(t){e.cminstance.on(t,(function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];e.$emit.apply(e,[t].concat(n));var i=t.replace(/([A-Z])/g,"-$1").toLowerCase();i!==t&&e.$emit.apply(e,[i].concat(n))}))})),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick((function(){e.cminstance.refresh()}))},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach((function(t){var r=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,"breakpoints",r.gutterMarkers?null:e.marker())}))},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r.n(n);for(var i in n)["default","default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var s=r(5),a=r(4)(o.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var i=n(r(0)),o=n(r(2)),a=window.CodeMirror||i.default,u=function(e,t){t&&(t.options&&(o.default.props.globalOptions.default=function(){return t.options}),t.events&&(o.default.props.globalEvents.default=function(){return t.events})),e.component(o.default.name,o.default)},l={CodeMirror:a,codemirror:o.default,install:u};t.default=l,t.CodeMirror=a,t.codemirror=o.default,t.install=u},function(e,t){e.exports=function(e,t,r,n,o,i){var s,l=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(s=e,l=e.default);var c,u="function"==typeof l?l.options:l;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId=o),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var d=u.functional,h=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),h(e,t)}):u.beforeCreate=h?[].concat(h,c):[c]}return{esModule:s,exports:l,options:u}}},function(e,t,r){"use strict";var i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vue-codemirror",class:{merge:e.merge}},[e.merge?r("div",{ref:"mergeview"}):r("textarea",{ref:"textarea",attrs:{name:e.name,placeholder:e.placeholder}})])},staticRenderFns:[]};t.a=i}]))},,function(e,t,r){"use strict";var n=r(323),o=r.n(n);let l;l=class{get length(){return Object.keys(this).length}key(e){return Object.keys(this)[e]}setItem(e,data){this[e]=data.toString()}getItem(e){return this[e]}removeItem(e){delete this[e]}clear(){for(const e of Object.keys(this))delete this[e]}};class c{constructor(){this._queue=[],this._flushing=!1}enqueue(e){return this._queue.push(e),this._flushing?Promise.resolve():this.flushQueue()}flushQueue(){this._flushing=!0;const e=()=>{const t=this._queue.shift();if(t)return t.then(e);this._flushing=!1};return Promise.resolve(e())}}function d(e,t){return o()({},e,t)}let h=JSON;t.a=class{constructor(e){this._mutex=new c,this.subscriber=e=>t=>e.subscribe(t),void 0===e&&(e={}),this.key=null!=e.key?e.key:"vuex",this.subscribed=!1,this.supportCircular=e.supportCircular||!1,this.supportCircular&&(h=r(552)),this.storage=e.storage||window.localStorage,this.reducer=null!=e.reducer?e.reducer:null==e.modules?e=>e:t=>e.modules.reduce((a,i)=>d(a,{[i]:t[i]}),{}),this.filter=e.filter||(e=>!0),this.strictMode=e.strictMode||!1,this.RESTORE_MUTATION=function(e,t){const r=d(e,t||{});for(const t of Object.keys(r))this._vm.$set(e,t,r[t])},this.asyncStorage=e.asyncStorage||!1,this.asyncStorage?(this.restoreState=null!=e.restoreState?e.restoreState:(e,t)=>t.getItem(e).then(e=>"string"==typeof e?this.supportCircular?h.parse(e||"{}"):JSON.parse(e||"{}"):e||{}),this.saveState=null!=e.saveState?e.saveState:(e,t,r)=>r.setItem(e,this.asyncStorage?d({},t||{}):this.supportCircular?h.stringify(t):JSON.stringify(t)),this.plugin=e=>{e.restored=this.restoreState(this.key,this.storage).then(t=>{this.strictMode?e.commit("RESTORE_MUTATION",t):e.replaceState(d(e.state,t||{})),this.subscriber(e)((e,t)=>{this.filter(e)&&this._mutex.enqueue(this.saveState(this.key,this.reducer(t),this.storage))}),this.subscribed=!0})}):(this.restoreState=null!=e.restoreState?e.restoreState:(e,t)=>{const r=t.getItem(e);return"string"==typeof r?this.supportCircular?h.parse(r||"{}"):JSON.parse(r||"{}"):r||{}},this.saveState=null!=e.saveState?e.saveState:(e,t,r)=>r.setItem(e,this.supportCircular?h.stringify(t):JSON.stringify(t)),this.plugin=e=>{const t=this.restoreState(this.key,this.storage);this.strictMode?e.commit("RESTORE_MUTATION",t):e.replaceState(d(e.state,t||{})),this.subscriber(e)((e,t)=>{this.filter(e)&&this.saveState(this.key,this.reducer(t),this.storage)}),this.subscribed=!0})}}},function(e,t,r){(function(e,r){var n=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var c="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=c||d||Function("return this")(),f=t&&!t.nodeType&&t,v=f&&"object"==typeof r&&r&&!r.nodeType&&r,m=v&&v.exports===f,y=m&&c.process,_=function(){try{var e=v&&v.require&&v.require("util").types;return e||y&&y.binding&&y.binding("util")}catch(e){}}(),w=_&&_.isTypedArray;function k(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var S,x,O,T=Array.prototype,E=Function.prototype,C=Object.prototype,I=h["__core-js_shared__"],j=E.toString,M=C.hasOwnProperty,R=(S=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",A=C.toString,P=j.call(Object),B=RegExp("^"+j.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=m?h.Buffer:void 0,L=h.Symbol,z=h.Uint8Array,F=D?D.allocUnsafe:void 0,N=(x=Object.getPrototypeOf,O=Object,function(e){return x(O(e))}),V=Object.create,H=C.propertyIsEnumerable,$=T.splice,U=L?L.toStringTag:void 0,K=function(){try{var e=ge(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=D?D.isBuffer:void 0,W=Math.max,Y=Date.now,X=ge(h,"Map"),Q=ge(Object,"create"),J=function(){function object(){}return function(e){if(!Ie(e))return{};if(V)return V(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();function Z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var data=this.__data__=new ee(e);this.size=data.size}function ne(e,t){var r=xe(e),n=!r&&Se(e),o=!r&&!n&&Te(e),l=!r&&!n&&!o&&Me(e),c=r||n||o||l,d=c?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],h=d.length;for(var f in e)!t&&!M.call(e,f)||c&&("length"==f||o&&("offset"==f||"parent"==f)||l&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||be(f,h))||d.push(f);return d}function oe(object,e,t){(void 0===t||ke(object[e],t))&&(void 0!==t||e in object)||se(object,e,t)}function ie(object,e,t){var r=object[e];M.call(object,e)&&ke(r,t)&&(void 0!==t||e in object)||se(object,e,t)}function ae(e,t){for(var r=e.length;r--;)if(ke(e[r][0],t))return r;return-1}function se(object,e,t){"__proto__"==e&&K?K(object,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):object[e]=t}Z.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var data=this.__data__;if(Q){var t=data[e];return"__lodash_hash_undefined__"===t?void 0:t}return M.call(data,e)?data[e]:void 0},Z.prototype.has=function(e){var data=this.__data__;return Q?void 0!==data[e]:M.call(data,e)},Z.prototype.set=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var data=this.__data__,t=ae(data,e);return!(t<0)&&(t==data.length-1?data.pop():$.call(data,t,1),--this.size,!0)},ee.prototype.get=function(e){var data=this.__data__,t=ae(data,e);return t<0?void 0:data[t][1]},ee.prototype.has=function(e){return ae(this.__data__,e)>-1},ee.prototype.set=function(e,t){var data=this.__data__,r=ae(data,e);return r<0?(++this.size,data.push([e,t])):data[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(X||ee),string:new Z}},te.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return me(this,e).get(e)},te.prototype.has=function(e){return me(this,e).has(e)},te.prototype.set=function(e,t){var data=me(this,e),r=data.size;return data.set(e,t),this.size+=data.size==r?0:1,this},re.prototype.clear=function(){this.__data__=new ee,this.size=0},re.prototype.delete=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var data=this.__data__;if(data instanceof ee){var r=data.__data__;if(!X||r.length<199)return r.push([e,t]),this.size=++data.size,this;data=this.__data__=new te(r)}return data.set(e,t),this.size=data.size,this};var le,ce=function(object,e,t){for(var r=-1,n=Object(object),o=t(object),l=o.length;l--;){var c=o[le?l:++r];if(!1===e(n[c],c,n))break}return object};function ue(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=M.call(e,U),r=e[U];try{e[U]=void 0;var n=!0}catch(e){}var o=A.call(e);n&&(t?e[U]=r:delete e[U]);return o}(e):function(e){return A.call(e)}(e)}function de(e){return je(e)&&"[object Arguments]"==ue(e)}function he(e){return!(!Ie(e)||function(e){return!!R&&R in e}(e))&&(Ee(e)?B:n).test(function(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function fe(object){if(!Ie(object))return function(object){var e=[];if(null!=object)for(var t in Object(object))e.push(t);return e}(object);var e=ye(object),t=[];for(var r in object)("constructor"!=r||!e&&M.call(object,r))&&t.push(r);return t}function pe(object,source,e,t,r){object!==source&&ce(source,(function(n,o){if(r||(r=new re),Ie(n))!function(object,source,e,t,r,n,o){var l=_e(object,e),c=_e(source,e),d=o.get(c);if(d)return void oe(object,e,d);var h=n?n(l,c,e+"",object,source,o):void 0,f=void 0===h;if(f){var v=xe(c),m=!v&&Te(c),y=!v&&!m&&Me(c);h=c,v||m||y?xe(l)?h=l:je(x=l)&&Oe(x)?h=function(source,e){var t=-1,r=source.length;e||(e=Array(r));for(;++t<r;)e[t]=source[t];return e}(l):m?(f=!1,h=function(e,t){if(t)return e.slice();var r=e.length,n=F?F(r):new e.constructor(r);return e.copy(n),n}(c,!0)):y?(f=!1,_=c,w=!0?(k=_.buffer,S=new k.constructor(k.byteLength),new z(S).set(new z(k)),S):_.buffer,h=new _.constructor(w,_.byteOffset,_.length)):h=[]:function(e){if(!je(e)||"[object Object]"!=ue(e))return!1;var t=N(e);if(null===t)return!0;var r=M.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&j.call(r)==P}(c)||Se(c)?(h=l,Se(l)?h=function(e){return function(source,e,object,t){var r=!object;object||(object={});var n=-1,o=e.length;for(;++n<o;){var l=e[n],c=t?t(object[l],source[l],l,object,source):void 0;void 0===c&&(c=source[l]),r?se(object,l,c):ie(object,l,c)}return object}(e,Re(e))}(l):Ie(l)&&!Ee(l)||(h=function(object){return"function"!=typeof object.constructor||ye(object)?{}:J(N(object))}(c))):f=!1}var _,w,k,S;var x;f&&(o.set(c,h),r(h,c,t,n,o),o.delete(c));oe(object,e,h)}(object,source,o,e,pe,t,r);else{var l=t?t(_e(object,o),n,o+"",object,source,r):void 0;void 0===l&&(l=n),oe(object,o,l)}}),Re)}function ve(e,t){return we(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,l=W(n.length-t,0),c=Array(l);++o<l;)c[o]=n[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=n[o];return d[t]=r(c),k(e,this,d)}}(e,t,Be),e+"")}function me(map,e){var t,r,data=map.__data__;return("string"==(r=typeof(t=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function ge(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return he(t)?t:void 0}function be(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function _e(object,e){if(("constructor"!==e||"function"!=typeof object[e])&&"__proto__"!=e)return object[e]}var we=function(e){var t=0,r=0;return function(){var n=Y(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Be);function ke(e,t){return e===t||e!=e&&t!=t}var Se=de(function(){return arguments}())?de:function(e){return je(e)&&M.call(e,"callee")&&!H.call(e,"callee")},xe=Array.isArray;function Oe(e){return null!=e&&Ce(e.length)&&!Ee(e)}var Te=G||function(){return!1};function Ee(e){if(!Ie(e))return!1;var t=ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var Me=w?function(e){return function(t){return e(t)}}(w):function(e){return je(e)&&Ce(e.length)&&!!l[ue(e)]};function Re(object){return Oe(object)?ne(object,!0):fe(object)}var Ae,Pe=(Ae=function(object,source,e){pe(object,source,e)},ve((function(object,e){var t=-1,r=e.length,n=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(n=Ae.length>3&&"function"==typeof n?(r--,n):void 0,o&&function(e,t,object){if(!Ie(object))return!1;var r=typeof t;return!!("number"==r?Oe(object)&&be(t,object.length):"string"==r&&t in object)&&ke(object[t],e)}(e[0],e[1],o)&&(n=r<3?void 0:n,r=1),object=Object(object);++t<r;){var source=e[t];source&&Ae(object,source,t,n)}return object})));function Be(e){return e}r.exports=Pe}).call(this,r(24),r(301)(e))},function(e,t,r){"use strict";var n=r(7),o=r(2),l=(r(23),r(3)),c=r(67),d=r(27),object=r(4),h=function(e){var t=Object(object.c)(null);return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var l=JSON.stringify(n);return t[l]=t[l]||e.apply(null,n)}},f=r(88),v=l.a.prototype,m=function(e){return v.$bvConfig?v.$bvConfig.getConfigValue(e):Object(c.a)(Object(d.a)(f.a,e))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?m("".concat(e,".").concat(t)):m(e)||{}},_=function(){return m("breakpoints")},w=h((function(){return _()})),k=function(){return Object(c.a)(w())},S=h((function(){var e=k();return e[0]="",e})),x=r(5),O=r(11),T=r(1),E=O.i?window:{},C=O.b?document:{},I="undefined"!=typeof Element?Element.prototype:{},j=I.matches||I.msMatchesSelector||I.webkitMatchesSelector,M=I.closest||function(e){var t=this;do{if(N(t,e))return t;t=t.parentElement||t.parentNode}while(!Object(T.f)(t)&&t.nodeType===Node.ELEMENT_NODE);return null},R=E.requestAnimationFrame||E.webkitRequestAnimationFrame||E.mozRequestAnimationFrame||E.msRequestAnimationFrame||E.oRequestAnimationFrame||function(e){return setTimeout(e,16)},A=E.MutationObserver||E.WebKitMutationObserver||E.MozMutationObserver||null,P=function(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE)},B=function(e){if(!P(e)||!e.parentNode||!H(C.body,e))return!1;if("none"===e.style.display)return!1;var t=J(e);return!!(t&&t.height>0&&t.width>0)},D=function(e){return!P(e)||e.disabled||Q(e,"disabled")||G(e,"disabled")},L=function(e){return P(e)&&e.offsetHeight},z=function(e,t){return Object(x.c)((P(t)?t:C).querySelectorAll(e))},F=function(e,t){return(P(t)?t:C).querySelector(e)||null},N=function(e,t){return!!P(e)&&j.call(e,t)},V=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!P(t))return null;var n=M.call(t,e);return r?n:n===t?null:n},H=function(e,t){return!(!e||!Object(T.e)(e.contains))&&e.contains(t)},$=function(e){return C.getElementById(/^#/.test(e)?e.slice(1):e)||null},U=function(e,t){t&&P(e)&&e.classList&&e.classList.add(t)},K=function(e,t){t&&P(e)&&e.classList&&e.classList.remove(t)},G=function(e,t){return!!(t&&P(e)&&e.classList)&&e.classList.contains(t)},W=function(e,t,r){t&&P(e)&&e.setAttribute(t,r)},Y=function(e,t){t&&P(e)&&e.removeAttribute(t)},X=function(e,t){return t&&P(e)?e.getAttribute(t):null},Q=function(e,t){return t&&P(e)?e.hasAttribute(t):null},J=function(e){return P(e)?e.getBoundingClientRect():null},Z=function(e){return O.i&&P(e)?E.getComputedStyle(e):{}},ee=function(){return O.i&&E.getSelection?E.getSelection():null},te=function(e){var t={top:0,left:0};if(!P(e)||0===e.getClientRects().length)return t;var r=J(e);if(r){var n=e.ownerDocument.defaultView;t.top=r.top+n.pageYOffset,t.left=r.left+n.pageXOffset}return t},re=function(e){var t={top:0,left:0};if(!P(e))return t;var r={top:0,left:0},n=Z(e);if("fixed"===n.position)t=J(e)||t;else{t=te(e);for(var o=e.ownerDocument,l=e.offsetParent||o.documentElement;l&&(l===o.body||l===o.documentElement)&&"static"===Z(l).position;)l=l.parentNode;if(l&&l!==e&&l.nodeType===Node.ELEMENT_NODE){r=te(l);var c=Z(l);r.top+=parseFloat(c.borderTopWidth),r.left+=parseFloat(c.borderLeftWidth)}}return{top:t.top-r.top-parseFloat(n.marginTop),left:t.left-r.left-parseFloat(n.marginLeft)}},ne=r(15),oe=(r(14),r(12),r(10),r(9),r(13),r(6));function ie(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ae(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ie(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ie(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var se={name:"",enterClass:"",enterActiveClass:"",enterToClass:"show",leaveClass:"show",leaveActiveClass:"",leaveToClass:""},le=ae({},se,{enterActiveClass:"fade",leaveActiveClass:"fade"}),ce=l.a.extend({name:"BVTransition",functional:!0,props:{noFade:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},mode:{type:String},transProps:{type:Object,default:null}},render:function(e,t){var r=t.children,data=t.data,n=t.props,o=n.transProps;return Object(object.k)(o)||(o=n.noFade?se:le,n.appear&&(o=ae({},o,{appear:!0,appearClass:o.enterClass,appearActiveClass:o.enterActiveClass,appearToClass:o.enterToClass}))),o=ae({mode:n.mode},o,{css:!0}),e("transition",Object(oe.a)(data,{props:o}),r)}}),ue=ce,de=r(16),he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(e=Object(x.b)(e).filter(de.a)).some((function(e){return t[e]||r[e]}))},fe=function(e){var slot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Object(x.b)(e).filter(de.a);for(var i=0;i<e.length&&!slot;i++){var o=e[i];slot=r[o]||n[o]}return Object(T.e)(slot)?slot(t):slot},pe={methods:{hasNormalizedSlot:function(e){return he(e,this.$scopedSlots,this.$slots)},normalizeSlot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=fe(e,t,this.$scopedSlots,this.$slots);return r?Object(x.b)(r):r}}},ve={content:{type:String,default:function(){return y("BButtonClose","content")}},disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:function(){return y("BButtonClose","ariaLabel")}},textVariant:{type:String,default:function(){return y("BButtonClose","textVariant")}}},me=l.a.extend({name:"BButtonClose",functional:!0,props:ve,render:function(e,t){var r=t.props,data=t.data,n=t.slots,l=t.scopedSlots,c=n(),d=l||{},h={staticClass:"close",class:Object(o.a)({},"text-".concat(r.textVariant),r.textVariant),attrs:{type:"button",disabled:r.disabled,"aria-label":r.ariaLabel?String(r.ariaLabel):null},on:{click:function(e){r.disabled&&Object(T.c)(e)&&(e.stopPropagation(),e.preventDefault())}}};return he("default",d,c)||(h.domProps={innerHTML:r.content}),e("button",Object(oe.a)(data,h),fe("default",{},d,c))}}),ge=function(e){return""===e||Object(T.a)(e)?0:(e=Object(ne.c)(e))>0?e:0},be=function(e){return""===e||!0===e||!(Object(ne.c)(e)<1)&&!!e},ye=function(e){return!isNaN(Object(ne.c)(e))},_e=l.a.extend({name:"BAlert",mixins:[pe],model:{prop:"show",event:"input"},props:{variant:{type:String,default:function(){return y("BAlert","variant")}},dismissible:{type:Boolean,default:!1},dismissLabel:{type:String,default:function(){return y("BAlert","dismissLabel")}},show:{type:[Boolean,Number,String],default:!1},fade:{type:Boolean,default:!1}},data:function(){return{countDownTimerId:null,countDown:0,localShow:be(this.show)}},watch:{show:function(e){this.countDown=ge(e),this.localShow=be(e)},countDown:function(e){var t=this;this.clearTimer(),ye(this.show)&&(this.$emit("dismiss-count-down",e),this.show!==e&&this.$emit("input",e),e>0?(this.localShow=!0,this.countDownTimerId=setTimeout((function(){t.countDown--}),1e3)):this.$nextTick((function(){R((function(){t.localShow=!1}))})))},localShow:function(e){e||!this.dismissible&&!ye(this.show)||this.$emit("dismissed"),ye(this.show)||this.show===e||this.$emit("input",e)}},created:function(){this.countDown=ge(this.show),this.localShow=be(this.show)},mounted:function(){this.countDown=ge(this.show),this.localShow=be(this.show)},beforeDestroy:function(){this.clearTimer()},methods:{dismiss:function(){this.clearTimer(),this.countDown=0,this.localShow=!1},clearTimer:function(){this.countDownTimerId&&(clearInterval(this.countDownTimerId),this.countDownTimerId=null)}},render:function(e){var t;if(this.localShow){var r=e();this.dismissible&&(r=e(me,{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.normalizeSlot("dismiss")])),t=[t=e("div",{key:this._uid,staticClass:"alert",class:Object(o.a)({"alert-dismissible":this.dismissible},"alert-".concat(this.variant),this.variant),attrs:{role:"alert","aria-live":"polite","aria-atomic":!0}},[r,this.normalizeSlot("default")])]}return e(ue,{props:{noFade:!this.fade}},t)}}),we=Object(n.b)({components:{BAlert:_e}}),ke=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de.a;return(Object(x.d)(e)?e.slice():Object(object.l)(e)).reduce((function(e,n){return e[r(n)]=t[n],e}),{})},Se=r(30),xe=(r(45),r(34),r(83),r(84),r(8)),Oe=/%2C/g,Te=/[!'()*]/g,Ee=/\+/g,Ce=/^(\?|#|&)/,Ie=function(e){return"%"+e.charCodeAt(0).toString(16)},je=function(e){return encodeURIComponent(Object(xe.f)(e)).replace(Te,Ie).replace(Oe,",")},Me=decodeURIComponent,Re=function(e){if(!Object(object.k)(e))return"";var t=Object(object.l)(e).map((function(t){var r=e[t];return Object(T.k)(r)?"":Object(T.f)(r)?je(t):Object(x.d)(r)?r.reduce((function(e,r){return Object(T.f)(r)?e.push(je(t)):Object(T.k)(r)||e.push(je(t)+"="+je(r)),e}),[]).join("&"):je(t)+"="+je(r)})).filter((function(e){return e.length>0})).join("&");return t?"?".concat(t):""},Ae=function(e){var t={};return(e=Object(xe.f)(e).trim().replace(Ce,""))?(e.split("&").forEach((function(param){var e=param.replace(Ee," ").split("="),r=Me(e.shift()),n=e.length>0?Me(e.join("=")):null;Object(T.k)(t[r])?t[r]=n:Object(x.d)(t[r])?t[r].push(n):t[r]=[t[r],n]})),t):t},Pe=function(e){return"a"!==Object(xe.f)(e).toLowerCase()},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.href,r=e.to,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";if(Pe(n))return null;if(t)return t;if(r){if(Object(T.j)(r))return r||l;if(Object(object.k)(r)&&(r.path||r.query||r.hash)){var path=Object(xe.f)(r.path),c=Re(r.query),d=Object(xe.f)(r.hash);return d=d&&"#"!==d.charAt(0)?"#".concat(d):d,"".concat(path).concat(c).concat(d)||l}}return o};function De(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Le(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?De(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):De(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ze=function(){return{href:{type:String,default:null},rel:{type:String,default:null},target:{type:String,default:"_self"},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},to:{type:[String,Object],default:null},append:{type:Boolean,default:!1},replace:{type:Boolean,default:!1},event:{type:[String,Array],default:"click"},activeClass:{type:String},exact:{type:Boolean,default:!1},exactActiveClass:{type:String},routerTag:{type:String,default:"a"},noPrefetch:{type:Boolean,default:!1}}},Fe=(ze(),l.a.extend({name:"BLink",mixins:[pe],inheritAttrs:!1,props:ze(),computed:{computedTag:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.to,r=e.disabled,n=arguments.length>1?arguments[1]:void 0;return n.$router&&t&&!r?n.$nuxt?"nuxt-link":"router-link":"a"}({to:this.to,disabled:this.disabled},this)},isRouterLink:function(){return Pe(this.computedTag)},computedRel:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=e.rel;return"_blank"===t&&Object(T.f)(r)?"noopener":r||null}({target:this.target,rel:this.rel})},computedHref:function(){return Be({to:this.to,href:this.href},this.computedTag)},computedProps:function(){return this.isRouterLink?Le({},this.$props,{tag:this.routerTag}):{}}},methods:{onClick:function(e){var t=arguments,r=Object(T.c)(e),n=this.isRouterLink,o=this.$listeners.click;r&&this.disabled?(e.stopPropagation(),e.stopImmediatePropagation()):(n&&e.currentTarget.__vue__&&e.currentTarget.__vue__.$emit("click",e),Object(x.b)(o).filter((function(e){return Object(T.e)(e)})).forEach((function(e){e.apply(void 0,Object(Se.a)(t))})),this.$root.$emit("clicked::link",e)),r&&(this.disabled||!n&&"#"===this.computedHref)&&e.preventDefault()},focus:function(){this.$el&&this.$el.focus&&this.$el.focus()},blur:function(){this.$el&&this.$el.blur&&this.$el.blur()}},render:function(e){var t=this.computedTag,r=this.computedRel,n=this.computedHref,o=this.isRouterLink,l={class:{active:this.active,disabled:this.disabled},attrs:Le({},this.$attrs,{rel:r,target:this.target,tabindex:this.disabled?"-1":Object(T.k)(this.$attrs.tabindex)?null:this.$attrs.tabindex,"aria-disabled":this.disabled?"true":null}),props:this.computedProps};return l[o?"nativeOn":"on"]=Le({},this.$listeners,{click:this.onClick}),n?l.attrs.href=n:delete l.props.href,e(t,l,this.normalizeSlot("default"))}}));function Ne(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Ve=ze();delete Ve.href.default,delete Ve.to.default;var He=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ne(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ne(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Ve,{tag:{type:String,default:"span"},variant:{type:String,default:function(){return y("BBadge","variant")}},pill:{type:Boolean,default:!1}}),$e=l.a.extend({name:"BBadge",functional:!0,props:He,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=r.href||r.to,l=o?Fe:r.tag,c={staticClass:"badge",class:[r.variant?"badge-".concat(r.variant):"badge-secondary",{"badge-pill":r.pill,active:r.active,disabled:r.disabled}],props:o?ke(Ve,r):{}};return e(l,Object(oe.a)(data,c),n)}}),Ue=Object(n.b)({components:{BBadge:$e}}),qe=/(<([^>]+)>)/gi,Ke=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(text).replace(qe,"")},Ge=function(e,t){return e?{innerHTML:e}:t?{textContent:t}:{}};function We(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Ye=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?We(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):We(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},ze(),{text:{type:String,default:null},html:{type:String,default:null},ariaCurrent:{type:String,default:"location"}}),Xe=l.a.extend({name:"BBreadcrumbLink",functional:!0,props:Ye,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=r.active?"span":Fe,l={props:ke(Ye,r)};return r.active&&(l.attrs={"aria-current":r.ariaCurrent}),n||(l.domProps=Ge(r.html,r.text)),e(o,Object(oe.a)(data,l),n)}}),Qe=l.a.extend({name:"BBreadcrumbItem",functional:!0,props:Ye,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e("li",Object(oe.a)(data,{staticClass:"breadcrumb-item",class:{active:r.active}}),[e(Xe,{props:r},n)])}});function Je(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ze(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Je(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Je(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var et={items:{type:Array,default:null}},tt=l.a.extend({name:"BBreadcrumb",functional:!0,props:et,render:function(e,t){var r=t.props,data=t.data,n=t.children;if(Object(x.d)(r.items)){var o=!1;n=r.items.map((function(t,n){Object(object.j)(t)||(t={text:Object(xe.f)(t)});var l=t.active;return l&&(o=!0),l||o||(l=n+1===r.items.length),e(Qe,{props:Ze({},t,{active:l})})}))}return e("ol",Object(oe.a)(data,{staticClass:"breadcrumb"}),n)}}),nt=Object(n.b)({components:{BBreadcrumb:tt,BBreadcrumbItem:Qe,BBreadcrumbLink:Xe}}),ot=Object(object.g)({SPACE:32,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35,TAB:9,SHIFT:16,CTRL:17,BACKSPACE:8,ALT:18,PAUSE:19,BREAK:19,INSERT:45,INS:45,DELETE:46});function it(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var at={block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:function(){return y("BButton","size")}},variant:{type:String,default:function(){return y("BButton","variant")}},type:{type:String,default:"button"},tag:{type:String,default:"button"},pill:{type:Boolean,default:!1},squared:{type:Boolean,default:!1},pressed:{type:Boolean,default:null}},st=ze();delete st.href.default,delete st.to.default;var lt=Object(object.l)(st),ct=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?it(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):it(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},st,{},at),ut=function(e,t){return Object(xe.f)(e).toLowerCase()===Object(xe.f)(t).toLowerCase()},ht=function(e){"focusin"===e.type?U(e.target,"focus"):"focusout"===e.type&&K(e.target,"focus")},ft=function(e){return e.href||e.to||ut(e.tag,"a")},pt=function(e){return Object(T.a)(e.pressed)},vt=function(e){return!(ft(e)||e.tag&&!ut(e.tag,"button"))},mt=function(e){return!ft(e)&&!vt(e)},gt=function(e){var t;return["btn-".concat(e.variant||y("BButton","variant")),(t={},Object(o.a)(t,"btn-".concat(e.size),e.size),Object(o.a)(t,"btn-block",e.block),Object(o.a)(t,"rounded-pill",e.pill),Object(o.a)(t,"rounded-0",e.squared&&!e.pill),Object(o.a)(t,"disabled",e.disabled),Object(o.a)(t,"active",e.pressed),t)]},bt=function(e){return ft(e)?ke(lt,e):null},yt=function(e,data){var button=vt(e),link=ft(e),t=pt(e),r=mt(e),n=link&&"#"===e.href,o=data.attrs&&data.attrs.role?data.attrs.role:null,l=data.attrs?data.attrs.tabindex:null;return(r||n)&&(l="0"),{type:button&&!link?e.type:null,disabled:button?e.disabled:null,role:r||n?"button":o,"aria-disabled":r?String(e.disabled):null,"aria-pressed":t?String(e.pressed):null,autocomplete:t?"off":null,tabindex:e.disabled&&!button?"-1":l}},_t=l.a.extend({name:"BButton",functional:!0,props:ct,render:function(e,t){var r=t.props,data=t.data,n=t.listeners,o=t.children,l=pt(r),link=ft(r),c=mt(r),d=link&&"#"===r.href,h={keydown:function(e){if(!r.disabled&&(c||d)){var t=e.keyCode;if(t===ot.SPACE||t===ot.ENTER&&c){var n=e.currentTarget||e.target;e.preventDefault(),n.click()}}},click:function(e){r.disabled&&Object(T.c)(e)?(e.stopPropagation(),e.preventDefault()):l&&n&&n["update:pressed"]&&Object(x.b)(n["update:pressed"]).forEach((function(e){Object(T.e)(e)&&e(!r.pressed)}))}};l&&(h.focusin=ht,h.focusout=ht);var f={staticClass:"btn",class:gt(r),props:bt(r),attrs:yt(r,data),on:h};return e(link?Fe:r.tag,Object(oe.a)(data,f),o)}}),wt=Object(n.b)({components:{BButton:_t,BBtn:_t,BButtonClose:me,BBtnClose:me}}),kt={vertical:{type:Boolean,default:!1},size:{type:String,default:function(){return y("BButton","size")}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},St=l.a.extend({name:"BButtonGroup",functional:!0,props:kt,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{class:Object(o.a)({"btn-group":!r.vertical,"btn-group-vertical":r.vertical},"btn-group-".concat(r.size),r.size),attrs:{role:r.ariaRole}}),n)}}),xt=Object(n.b)({components:{BButtonGroup:St,BBtnGroup:St}}),Ot=[".btn:not(.disabled):not([disabled]):not(.dropdown-item)",".form-control:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])",'input[type="checkbox"]:not(.disabled)','input[type="radio"]:not(.disabled)'].join(","),Tt=l.a.extend({name:"BButtonToolbar",mixins:[pe],props:{justify:{type:Boolean,default:!1},keyNav:{type:Boolean,default:!1}},mounted:function(){this.keyNav&&this.getItems()},methods:{onFocusin:function(e){e.target===this.$el&&(e.preventDefault(),e.stopPropagation(),this.focusFirst(e))},stop:function(e){e.preventDefault(),e.stopPropagation()},onKeydown:function(e){if(this.keyNav){var t=e.keyCode,r=e.shiftKey;t===ot.UP||t===ot.LEFT?(this.stop(e),r?this.focusFirst(e):this.focusPrev(e)):t!==ot.DOWN&&t!==ot.RIGHT||(this.stop(e),r?this.focusLast(e):this.focusNext(e))}},setItemFocus:function(e){e&&e.focus&&e.focus()},focusFirst:function(){var e=this.getItems();this.setItemFocus(e[0])},focusPrev:function(e){var t=this.getItems(),r=t.indexOf(e.target);r>-1&&(t=t.slice(0,r).reverse(),this.setItemFocus(t[0]))},focusNext:function(e){var t=this.getItems(),r=t.indexOf(e.target);r>-1&&(t=t.slice(r+1),this.setItemFocus(t[0]))},focusLast:function(){var e=this.getItems().reverse();this.setItemFocus(e[0])},getItems:function(){var e=z(Ot,this.$el);return e.forEach((function(e){e.tabIndex=-1})),e.filter((function(e){return B(e)}))}},render:function(e){return e("div",{staticClass:"btn-toolbar",class:{"justify-content-between":this.justify},attrs:{role:"toolbar",tabindex:this.keyNav?"0":null},on:this.keyNav?{focusin:this.onFocusin,keydown:this.onKeydown}:{}},[this.normalizeSlot("default")])}}),Et=Object(n.b)({components:{BButtonToolbar:Tt,BBtnToolbar:Tt}}),Ct=function e(a,b){if(a===b)return!0;var t=Object(T.b)(a),r=Object(T.b)(b);if(t||r)return!(!t||!r)&&a.getTime()===b.getTime();if(t=Object(x.d)(a),r=Object(x.d)(b),t||r)return!(!t||!r)&&function(a,b){if(a.length!==b.length)return!1;for(var e=!0,i=0;e&&i<a.length;i++)e=Ct(a[i],b[i]);return e}(a,b);if(t=Object(object.j)(a),r=Object(object.j)(b),t||r){if(!t||!r)return!1;if(Object(object.l)(a).length!==Object(object.l)(b).length)return!1;for(var n in a){var o=a.hasOwnProperty(n),l=b.hasOwnProperty(n);if(o&&!l||!o&&l||!e(a[n],b[n]))return!1}}return String(a)===String(b)},It=Ct,jt=r(101),Mt=r(173),Rt=/^\d+-\d+-\d+$/,At=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(Mt.a)(Date,t)},Pt=function(e){if(Object(T.j)(e)&&Rt.test(e.trim())){var t=e.split("-").map(ne.c),r=Object(jt.a)(t,3),n=r[0],o=r[1],l=r[2];return At(n,o-1,l)}return Object(T.b)(e)?At(e.getFullYear(),e.getMonth(),e.getDate()):null},Bt=function(e){if(!(e=Pt(e)))return null;var t=e.getFullYear(),r="0".concat(e.getMonth()+1).slice(-2),n="0".concat(e.getDate()).slice(-2);return"".concat(t,"-").concat(r,"-").concat(n)},Dt=function(e,t){return new Intl.DateTimeFormat(e,t).format},Lt=function(e,t){return Bt(e)===Bt(t)},zt=function(e){return(e=At(e)).setDate(1),e},Ft=function(e){return(e=At(e)).setMonth(e.getMonth()+1),e.setDate(0),e},Nt=function(e){var t=(e=At(e)).getMonth();return e.setMonth(t-1),e.getMonth()===t&&e.setDate(0),e},Vt=function(e){var t=(e=At(e)).getMonth();return e.setMonth(t+1),e.getMonth()===(t+2)%12&&e.setDate(0),e},Ht=function(e){var t=(e=At(e)).getMonth();return e.setMonth(t-12),e.getMonth()!==t&&e.setDate(0),e},$t=function(e){var t=(e=At(e)).getMonth();return e.setMonth(t+12),e.getMonth()!==t&&e.setDate(0),e},Ut={props:{id:{type:String,default:null}},data:function(){return{localId_:null}},computed:{safeId:function(){var e=this.id||this.localId_;return function(t){return e?(t=String(t||"").replace(/\s+/g,"_"))?e+"_"+t:e:null}}},mounted:function(){var e=this;this.$nextTick((function(){e.localId_="__BVID__".concat(e._uid)}))}},qt=r(0),Kt=r(100);function Gt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Wt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Gt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Gt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Yt=ot.UP,Xt=ot.DOWN,Qt=ot.LEFT,Jt=ot.RIGHT,Zt=ot.PAGEUP,er=ot.PAGEDOWN,rr=ot.HOME,nr=ot.END,or=ot.ENTER,ir=ot.SPACE,ar=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((function(e){return e.toLowerCase()})),sr=l.a.extend({name:"BCalendar",mixins:[Ut,pe],model:{prop:"value",event:"input"},props:{value:{type:[String,Date]},valueAsDate:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:{type:[String,Date]},max:{type:[String,Date]},dateDisabledFn:{type:Function},startWeekday:{type:[Number,String],default:0},locale:{type:[String,Array]},direction:{type:String},selectedVariant:{type:String,default:"primary"},todayVariant:{type:String},noHighlightToday:{type:Boolean,default:!1},dateInfoFn:{type:Function},width:{type:String,default:"270px"},block:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},ariaControls:{type:String},roleDescription:{type:String},labelPrevYear:{type:String,default:function(){return y("BCalendar","labelPrevYear")}},labelPrevMonth:{type:String,default:function(){return y("BCalendar","labelPrevMonth")}},labelCurrentMonth:{type:String,default:function(){return y("BCalendar","labelCurrentMonth")}},labelNextMonth:{type:String,default:function(){return y("BCalendar","labelNextMonth")}},labelNextYear:{type:String,default:function(){return y("BCalendar","labelNextYear")}},labelToday:{type:String,default:function(){return y("BCalendar","labelToday")}},labelSelected:{type:String,default:function(){return y("BCalendar","labelSelected")}},labelNoDateSelected:{type:String,default:function(){return y("BCalendar","labelNoDateSelected")}},labelCalendar:{type:String,default:function(){return y("BCalendar","labelCalendar")}},labelNav:{type:String,default:function(){return y("BCalendar","labelNav")}},labelHelp:{type:String,default:function(){return y("BCalendar","labelHelp")}}},data:function(){var e=Bt(this.value)||"";return{selectedYMD:e,activeYMD:e||Bt(this.getToday()),gridHasFocus:!1,isLive:!1}},computed:{selectedDate:function(){return Pt(this.selectedYMD)},activeDate:function(){return Pt(this.activeYMD)},computedMin:function(){return Pt(this.min)},computedMax:function(){return Pt(this.max)},computedWeekStarts:function(){return Math.max(Object(ne.c)(this.startWeekday)||0,0)%7},computedLocale:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gregory";e=Object(x.b)(e).filter(de.a);var r=new Intl.DateTimeFormat(e,{calendar:t});return r.resolvedOptions().locale}(Object(x.b)(this.locale).filter(de.a),"gregory")},calendarLocale:function(){var e=new Intl.DateTimeFormat(this.computedLocale,{calendar:"gregory"}),t=e.resolvedOptions().calendar,r=e.resolvedOptions().locale;return"gregory"!==t&&(r=r.replace(/-u-.+$/i,"").concat("-u-ca-gregory")),r},calendarYear:function(){return this.activeDate.getFullYear()},calendarMonth:function(){return this.activeDate.getMonth()},calendarFirstDay:function(){return At(this.calendarYear,this.calendarMonth,1)},calendarDaysInMonth:function(){var e=At(this.calendarFirstDay);return e.setMonth(e.getMonth()+1,0),e.getDate()},computedVariant:function(){return"btn-".concat(this.selectedVariant||"primary")},computedTodayVariant:function(){return"btn-outline-".concat(this.todayVariant||this.selectedVariant||"primary")},isRTL:function(){var e,t,r,n,o=Object(xe.f)(this.direction).toLowerCase();return"rtl"===o||"ltr"!==o&&(e=this.computedLocale,t=Object(xe.f)(e).toLowerCase().replace(/-u-.+/,"").split("-"),r=t.slice(0,2).join("-"),n=t[0],Object(x.a)(ar,r)||Object(x.a)(ar,n))},context:function(){var e=this.selectedYMD,t=Pt(e),r=this.activeYMD,n=Pt(r);return{selectedYMD:e,selectedDate:t,selectedFormatted:t?this.formatDateString(t):this.labelNoDateSelected,activeYMD:r,activeDate:n,activeFormatted:n?this.formatDateString(n):"",disabled:this.dateDisabled(n),locale:this.computedLocale,calendarLocale:this.calendarLocale,rtl:this.isRTL}},dateOutOfRange:function(){var e=this.computedMin,t=this.computedMax;return function(r){return r=Pt(r),e&&r<e||t&&r>t}},dateDisabled:function(){var e=this.dateOutOfRange,t=Object(T.e)(this.dateDisabledFn)?this.dateDisabledFn:function(){return!1};return function(r){r=Pt(r);var n=Bt(r);return!(!e(r)&&!t(n,r))}},formatDateString:function(){return Dt(this.calendarLocale,{year:"numeric",month:"long",day:"numeric",weekday:"long",calendar:"gregory"})},formatYearMonth:function(){return Dt(this.calendarLocale,{year:"numeric",month:"long",calendar:"gregory"})},formatWeekdayName:function(){return Dt(this.calendarLocale,{weekday:"long",calendar:"gregory"})},formatWeekdayNameShort:function(){return Dt(this.calendarLocale,{weekday:"short",calendar:"gregory"})},formatDay:function(){return Dt(this.calendarLocale,{day:"numeric",calendar:"gregory"})},prevYearDisabled:function(){var e=this.computedMin;return this.disabled||e&&Ft(Ht(this.activeDate))<e},prevMonthDisabled:function(){var e=this.computedMin;return this.disabled||e&&Ft(Nt(this.activeDate))<e},thisMonthDisabled:function(){return this.disabled},nextMonthDisabled:function(){var e=this.computedMax;return this.disabled||e&&zt(Vt(this.activeDate))>e},nextYearDisabled:function(){var e=this.computedMax;return this.disabled||e&&zt($t(this.activeDate))>e},calendar:function(){for(var e=[],t=this.calendarFirstDay,r=t.getFullYear(),n=t.getMonth(),o=this.calendarDaysInMonth,l=t.getDay(),c=(this.computedWeekStarts>l?7:0)-this.computedWeekStarts,d=Object(T.e)(this.dateInfoFn)?this.dateInfoFn:function(){return{}},h=0-c-l,f=0;f<6&&h<o;f++){e[f]=[];for(var v=0;v<7;v++){h++;var m=At(r,n,h),y=m.getMonth(),_=Bt(m),w=this.dateDisabled(m),k=d(_,Pt(_));k=Object(T.j)(k)||Object(x.d)(k)?{class:k}:Object(object.k)(k)?Wt({class:""},k):{class:""},e[f].push({ymd:_,day:this.formatDay(m),label:this.formatDateString(m),isThisMonth:y===n,isDisabled:w,info:k})}}return e},calendarHeadings:function(){var e=this;return this.calendar[0].map((function(t){return{text:e.formatWeekdayNameShort(Pt(t.ymd)),label:e.formatWeekdayName(Pt(t.ymd))}}))}},watch:{value:function(e,t){var r=Bt(e)||"",n=Bt(t)||"";Lt(r,n)||(this.activeYMD=r||this.activeYMD,this.selectedYMD=r)},selectedYMD:function(e,t){e!==t&&this.$emit("input",this.valueAsDate?Pt(e)||null:e||"")},context:function(e,t){It(e,t)||this.$emit("context",e)},hidden:function(e){this.activeYMD=this.selectedYMD||Bt(this.value)||Bt(this.getToday()),this.setLive(!e)}},created:function(){var e=this;this.$nextTick((function(){e.$emit("context",e.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){if(!this.disabled)try{this.$refs.grid.focus()}catch(e){}},blur:function(){try{this.$refs.grid.blur()}catch(e){}},setLive:function(e){var t=this;e?this.$nextTick((function(){R((function(){t.isLive=!0}))})):this.isLive=!1},getToday:function(){return Pt(At())},constrainDate:function(e){e=Pt(e);var t=this.computedMin||e,r=this.computedMax||e;return At(e<t?t:e>r?r:e)},emitSelected:function(e){var t=this;this.$nextTick((function(){t.$emit("selected",Bt(e)||"",Pt(e)||null)}))},setGridFocusFlag:function(e){this.gridHasFocus=!this.disabled&&"focus"===e.type},onKeydownWrapper:function(e){var t=e.keyCode,r=e.altKey;if(Object(x.a)([Zt,er,nr,rr,Qt,Yt,Jt,Xt],t)){e.preventDefault(),e.stopPropagation();var n=At(this.activeDate),o=At(this.activeDate),l=n.getDate(),c=this.isRTL;t===Zt?(n=(r?Ht:Nt)(n),(o=At(n)).setDate(1)):t===er?(n=(r?$t:Vt)(n),(o=At(n)).setMonth(o.getMonth()+1),o.setDate(0)):t===Qt?(n.setDate(l+(c?1:-1)),o=n):t===Jt?(n.setDate(l+(c?-1:1)),o=n):t===Yt?(n.setDate(l-7),o=n):t===Xt?(n.setDate(l+7),o=n):t===rr?o=n=this.getToday():t===nr&&(o=n=Pt(this.selectedDate)||this.getToday()),this.dateOutOfRange(o)||Lt(n,this.activeDate)||(this.activeYMD=Bt(n)),this.focus()}},onKeydownGrid:function(e){var t=e.keyCode,r=this.activeDate;t!==or&&t!==ir||(e.preventDefault(),e.stopPropagation(),this.disabled||this.readonly||this.dateDisabled(r)||(this.selectedYMD=Bt(r),this.emitSelected(r)),this.focus())},onClickDay:function(e){var t=this.selectedDate,r=this.activeDate,n=Pt(e.ymd);this.disabled||e.isDisabled||this.dateDisabled(n)||(this.readonly||(this.selectedYMD=Bt(Lt(n,t)?t:n),this.emitSelected(n)),this.activeYMD=Bt(Lt(n,r)?r:At(n)),this.focus())},gotoPrevYear:function(){this.activeYMD=Bt(this.constrainDate(Ht(this.activeDate)))},gotoPrevMonth:function(){this.activeYMD=Bt(this.constrainDate(Nt(this.activeDate)))},gotoCurrentMonth:function(){this.activeYMD=Bt(this.getToday())},gotoNextMonth:function(){this.activeYMD=Bt(this.constrainDate(Vt(this.activeDate)))},gotoNextYear:function(){this.activeYMD=Bt(this.constrainDate($t(this.activeDate)))}},render:function(e){var t=this;if(this.hidden)return e();var r=this.isRTL,n=Bt(this.getToday()),l=this.selectedYMD,c=this.activeYMD,d=!this.noHighlightToday,h=this.safeId,f=this.isLive,v=h(),m=h("_calendar-value_"),y=h("_calendar-nav_"),_=h("_calendar-grid_"),w=h("_calendar-grid-caption_"),k=h("_calendar-grid-help_"),S=c?h("_cell-".concat(c,"_")):null,x=e("output",{staticClass:"d-block text-center rounded border small p-1 mb-1",class:{"text-muted":this.disabled,readonly:this.readonly||this.disabled},attrs:{id:m,for:_,role:"status","data-selected":Object(xe.f)(l),"aria-live":f?"polite":"off","aria-atomic":f?"true":null}},this.selectedDate?[e("bdi",{staticClass:"sr-only"}," (".concat(Object(xe.f)(this.labelSelected),") ")),e("bdi",{},this.formatDateString(this.selectedDate))]:this.labelNoDateSelected||"");x=e("header",{class:this.hideHeader?"sr-only":"mb-1",attrs:{title:this.selectedDate&&this.labelSelectedDate||null}},[x]);var O=e(Kt.a,{props:{shiftV:.5,flipH:r}},[e(qt.Sb,{props:{shiftH:-2}}),e(qt.Sb,{props:{shiftH:2}})]),T=e(qt.Sb,{props:{shiftV:.5,flipH:r}}),E=e(qt.Wb,{props:{shiftV:.5}}),C=e(qt.Sb,{props:{shiftV:.5,flipH:!r}}),I=e(Kt.a,{props:{shiftV:.5,flipH:!r}},[e(qt.Sb,{props:{shiftH:-2}}),e(qt.Sb,{props:{shiftH:2}})]),j=function(content,label,t,r,n){return e("button",{staticClass:"btn btn-sm btn-outline-secondary border-0 flex-fill p-1 mx-1",class:{disabled:r},attrs:{title:label||null,type:"button","aria-label":label||null,"aria-disabled":r?"true":null,"aria-keyshortcuts":n||null},on:r?{}:{click:t}},[e("div",{attrs:{"aria-hidden":"true"}},[content])])},M=e("div",{staticClass:"b-calendar-nav d-flex mx-n1 mb-1",attrs:{id:y,role:"group","aria-hidden":this.disabled?"true":null,"aria-label":this.labelNav||null,"aria-controls":_}},[j(O,this.labelPrevYear,this.gotoPrevYear,this.prevYearDisabled,"Alt+PageDown"),j(T,this.labelPrevMonth,this.gotoPrevMonth,this.prevMonthDisabled,"PageDown"),j(E,this.labelCurrentMonth,this.gotoCurrentMonth,this.thisMonthDisabled,"Home"),j(C,this.labelNextMonth,this.gotoNextMonth,this.nextMonthDisabled,"PageUp"),j(I,this.labelNextYear,this.gotoNextYear,this.nextYearDisabled,"Alt+PageUp")]),R=e("header",{key:"grid-caption",staticClass:"text-center font-weight-bold p-1 m-0",class:{"text-muted":this.disabled},attrs:{id:w,"aria-live":f?"polite":null,"aria-atomic":f?"true":null}},this.formatYearMonth(this.calendarFirstDay)),A=e("div",{staticClass:"row no-gutters border-bottom",attrs:{"aria-hidden":"true"}},this.calendarHeadings.map((function(r,n){return e("small",{key:n,staticClass:"col",class:{"text-muted":t.disabled},attrs:{title:r.label===r.text?null:r.label,"aria-label":r.label}},r.text)}))),P=this.calendar.map((function(r){var f=r.map((function(r,f){var v,m=r.ymd===l,y=r.ymd===c,_=r.ymd===n,w=h("_cell-".concat(r.ymd,"_")),k=e("span",{staticClass:"btn border-0 rounded-circle text-nowrap",class:(v={focus:y&&t.gridHasFocus,disabled:r.isDisabled||t.disabled,active:m},Object(o.a)(v,t.computedVariant,m),Object(o.a)(v,t.computedTodayVariant,_&&d&&!m&&r.isThisMonth),Object(o.a)(v,"btn-outline-light",!(_&&d||m||y)),Object(o.a)(v,"btn-light",!(_&&d)&&!m&&y),Object(o.a)(v,"text-muted",!r.isThisMonth&&!m),Object(o.a)(v,"text-dark",!(_&&d)&&!m&&!y&&r.isThisMonth),Object(o.a)(v,"font-weight-bold",(m||r.isThisMonth)&&!r.isDisabled),v),on:{click:function(){return t.onClickDay(r)}}},r.day);return e("div",{key:f,staticClass:"col p-0",class:r.isDisabled?"bg-light":r.info.class||"",attrs:{id:w,role:"button","data-date":r.ymd,"aria-hidden":r.isThisMonth?null:"true","aria-disabled":r.isDisabled||t.disabled?"true":null,"aria-label":[r.label,m?"(".concat(t.labelSelected,")"):null,_?"(".concat(t.labelToday,")"):null].filter(de.a).join(" "),"aria-selected":m?"true":null,"aria-current":m?"date":null}},[k])}));return e("div",{key:r[0].ymd,staticClass:"row no-gutters"},f)}));P=e("div",{staticClass:"b-calendar-grid-body",style:this.disabled?{pointerEvents:"none"}:{}},P);var B=e("footer",{staticClass:"border-top small text-muted text-center bg-light",attrs:{id:k}},[e("div",{staticClass:"small"},this.labelHelp)]),D=e("div",{ref:"grid",staticClass:"form-control h-auto text-center p-0 mb-0",attrs:{id:_,role:"application",tabindex:this.disabled?null:"0","data-month":c.slice(0,-3),"aria-roledescription":this.labelCalendar||null,"aria-labelledby":w,"aria-describedby":k,"aria-disabled":this.disabled?"true":null,"aria-activedescendant":S},on:{keydown:this.onKeydownGrid,focus:this.setGridFocusFlag,blur:this.setGridFocusFlag}},[R,A,P,B]),L=this.normalizeSlot("default");L=L?e("footer",{staticClass:"mt-2"},L):e();var z=e("div",{class:this.block?"d-block":"d-inline-block",style:this.block?{}:{width:this.width},attrs:{id:v,dir:r?"rtl":"ltr",lang:this.computedLocale||null,role:"group","aria-disabled":this.disabled?"true":null,"aria-controls":this.ariaControls||null,"aria-roledescription":this.roleDescription||null,"aria-describedby":[this.$attrs["aria-describedby"],m,k].filter(de.a).join(" ")},on:{keydown:this.onKeydownWrapper}},[x,M,D,L]);return e("div",{staticClass:"b-calendar",style:this.block?{}:{display:"inline-block"}},[z])}}),lr=Object(n.b)({components:{BCalendar:sr}}),cr=function(e,t){return e+Object(xe.i)(t)},ur=function(e,t){return Object(xe.d)(t.replace(e,""))},dr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.a;if(Object(x.d)(e))return e.map(t);var r={};for(var n in e)e.hasOwnProperty(n)&&(r[t(n)]=Object(object.j)(e[n])?Object(object.b)(e[n]):e[n]);return r},fr={props:{tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}}},pr={title:{type:String,default:""},titleTag:{type:String,default:"h4"}},vr=l.a.extend({name:"BCardTitle",functional:!0,props:pr,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.titleTag,Object(oe.a)(data,{staticClass:"card-title"}),n||r.title)}}),mr={subTitle:{type:String,default:""},subTitleTag:{type:String,default:"h6"},subTitleTextVariant:{type:String,default:function(){return y("BCardSubTitle","subTitleTextVariant")}}},gr=l.a.extend({name:"BCardSubTitle",functional:!0,props:mr,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.subTitleTag,Object(oe.a)(data,{staticClass:"card-subtitle",class:[r.subTitleTextVariant?"text-".concat(r.subTitleTextVariant):null]}),n||r.subTitle)}});function yr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var _r=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?yr(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):yr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},dr(fr.props,cr.bind(null,"body")),{bodyClass:{type:[String,Object,Array],default:null}},pr,{},mr,{overlay:{type:Boolean,default:!1}}),wr=l.a.extend({name:"BCardBody",functional:!0,props:_r,render:function(e,t){var r,n=t.props,data=t.data,l=t.children,c=e(),d=e(),h=l||[e()];return n.title&&(c=e(vr,{props:ke(pr,n)})),n.subTitle&&(d=e(gr,{props:ke(mr,n),class:["mb-2"]})),e(n.bodyTag,Object(oe.a)(data,{staticClass:"card-body",class:[(r={"card-img-overlay":n.overlay},Object(o.a)(r,"bg-".concat(n.bodyBgVariant),n.bodyBgVariant),Object(o.a)(r,"border-".concat(n.bodyBorderVariant),n.bodyBorderVariant),Object(o.a)(r,"text-".concat(n.bodyTextVariant),n.bodyTextVariant),r),n.bodyClass||{}]}),[c,d].concat(Object(Se.a)(h)))}});function kr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Sr=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?kr(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):kr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},dr(fr.props,cr.bind(null,"header")),{header:{type:String,default:null},headerHtml:{type:String,default:null},headerClass:{type:[String,Object,Array],default:null}}),xr=l.a.extend({name:"BCardHeader",functional:!0,props:Sr,render:function(e,t){var r,n=t.props,data=t.data,l=t.children;return e(n.headerTag,Object(oe.a)(data,{staticClass:"card-header",class:[n.headerClass,(r={},Object(o.a)(r,"bg-".concat(n.headerBgVariant),n.headerBgVariant),Object(o.a)(r,"border-".concat(n.headerBorderVariant),n.headerBorderVariant),Object(o.a)(r,"text-".concat(n.headerTextVariant),n.headerTextVariant),r)]}),l||[e("div",{domProps:Ge(n.headerHtml,n.header)})])}});function Or(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Tr=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Or(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Or(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},dr(fr.props,cr.bind(null,"footer")),{footer:{type:String,default:null},footerHtml:{type:String,default:null},footerClass:{type:[String,Object,Array],default:null}}),Er=l.a.extend({name:"BCardFooter",functional:!0,props:Tr,render:function(e,t){var r,n=t.props,data=t.data,l=t.children;return e(n.footerTag,Object(oe.a)(data,{staticClass:"card-footer",class:[n.footerClass,(r={},Object(o.a)(r,"bg-".concat(n.footerBgVariant),n.footerBgVariant),Object(o.a)(r,"border-".concat(n.footerBorderVariant),n.footerBorderVariant),Object(o.a)(r,"text-".concat(n.footerTextVariant),n.footerTextVariant),r)]}),l||[e("div",{domProps:Ge(n.footerHtml,n.footer)})])}}),Cr={src:{type:String,default:null,required:!0},alt:{type:String,default:null},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},start:{type:Boolean,default:!1},left:{type:Boolean,default:!1},end:{type:Boolean,default:!1},right:{type:Boolean,default:!1},height:{type:[Number,String],default:null},width:{type:[Number,String],default:null}},Ir=l.a.extend({name:"BCardImg",functional:!0,props:Cr,render:function(e,t){var r=t.props,data=t.data,n="card-img";return r.top?n+="-top":r.right||r.end?n+="-right":r.bottom?n+="-bottom":(r.left||r.start)&&(n+="-left"),e("img",Object(oe.a)(data,{class:[n],attrs:{src:r.src,alt:r.alt,height:r.height,width:r.width}}))}});function jr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Mr=dr(Cr,cr.bind(null,"img"));Mr.imgSrc.required=!1;var Rr=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?jr(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):jr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},_r,{},Sr,{},Tr,{},Mr,{},dr(fr.props),{align:{type:String,default:null},noBody:{type:Boolean,default:!1}}),Ar=l.a.extend({name:"BCard",functional:!0,props:Rr,render:function(e,t){var r,n=t.props,data=t.data,l=t.slots,c=t.scopedSlots,d=l(),h=c||{},f=e(),header=e(),content=e(),footer=e(),v=e();if(n.imgSrc){var img=e(Ir,{props:ke(Mr,n,ur.bind(null,"img"))});n.imgBottom?v=img:f=img}return(n.header||he("header",h,d))&&(header=e(xr,{props:ke(Sr,n)},fe("header",{},h,d))),content=fe("default",{},h,d)||[],n.noBody||(content=[e(wr,{props:ke(_r,n)},Object(Se.a)(content))]),(n.footer||he("footer",h,d))&&(footer=e(Er,{props:ke(Tr,n)},fe("footer",{},h,d))),e(n.tag,Object(oe.a)(data,{staticClass:"card",class:(r={"flex-row":n.imgLeft||n.imgStart,"flex-row-reverse":(n.imgRight||n.imgEnd)&&!(n.imgLeft||n.imgStart)},Object(o.a)(r,"text-".concat(n.align),n.align),Object(o.a)(r,"bg-".concat(n.bgVariant),n.bgVariant),Object(o.a)(r,"border-".concat(n.borderVariant),n.borderVariant),Object(o.a)(r,"text-".concat(n.textVariant),n.textVariant),r)}),[f,header].concat(Object(Se.a)(content),[footer,v]))}}),Pr=r(31),Br=r(40),Dr="__bv__visibility_observer",Lr=/^\d+$/,zr=function(){function e(t,r,n){Object(Pr.a)(this,e),this.el=t,this.callback=r.callback,this.margin=r.margin||0,this.once=r.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(n)}return Object(Br.a)(e,[{key:"createObserver",value:function(e){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&Object(T.e)(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(e){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}e.context.$nextTick((function(){R((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(e){var t=e?e[0]:{},r=Boolean(t.isIntersecting||t.intersectionRatio>0);r!==this.visible&&(this.visible=r,this.callback(r),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){var e=this.observer;e&&e.disconnect&&e.disconnect(),this.observer=null}}]),e}(),Fr=function(e){var t=e[Dr];t&&t.stop&&t.stop(),delete e[Dr]},Nr=function(e,t,r){var n=t.value,o=t.modifiers,l={margin:"0px",once:!1,callback:n};Object(object.l)(o).forEach((function(e){Lr.test(e)?l.margin="".concat(e,"px"):"once"===e.toLowerCase()&&(l.once=!0)})),Fr(e),e[Dr]=new zr(e,l,r),e[Dr]._prevModifiers=Object(object.b)(o)},Vr={bind:Nr,componentUpdated:function(e,t,r){var n=t.value,o=t.oldValue,l=t.modifiers;l=Object(object.b)(l),!e||n===o&&e[Dr]&&It(l,e[Dr]._prevModifiers)||Nr(e,{value:n,modifiers:l},r)},unbind:function(e){Fr(e)}},Hr='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',$r={src:{type:String,default:null},srcset:{type:[String,Array],default:null},sizes:{type:[String,Array],default:null},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},block:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},thumbnail:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},blank:{type:Boolean,default:!1},blankColor:{type:String,default:function(){return y("BImg","blankColor")}}},Ur=l.a.extend({name:"BImg",functional:!0,props:$r,render:function(e,t){var r,n=t.props,data=t.data,l=n.src,c=Object(ne.c)(n.width)||null,d=Object(ne.c)(n.height)||null,h=null,f=n.block,v=Object(x.b)(n.srcset).filter(de.a).join(","),m=Object(x.b)(n.sizes).filter(de.a).join(",");return n.blank&&(!d&&c?d=c:!c&&d&&(c=d),c||d||(c=1,d=1),l=function(e,t,r){var n=encodeURIComponent(Hr.replace("%{w}",Object(xe.f)(e)).replace("%{h}",Object(xe.f)(t)).replace("%{f}",r));return"data:image/svg+xml;charset=UTF-8,".concat(n)}(c,d,n.blankColor||"transparent"),v=null,m=null),n.left?h="float-left":n.right?h="float-right":n.center&&(h="mx-auto",f=!0),e("img",Object(oe.a)(data,{attrs:{src:l,alt:n.alt,width:c?Object(xe.f)(c):null,height:d?Object(xe.f)(d):null,srcset:v||null,sizes:m||null},class:(r={"img-thumbnail":n.thumbnail,"img-fluid":n.fluid||n.fluidGrow,"w-100":n.fluidGrow,rounded:""===n.rounded||!0===n.rounded},Object(o.a)(r,"rounded-".concat(n.rounded),Object(T.j)(n.rounded)&&""!==n.rounded),Object(o.a)(r,h,h),Object(o.a)(r,"d-block",f),r)}))}}),qr={src:{type:String,default:null,required:!0},srcset:{type:[String,Array],default:null},sizes:{type:[String,Array],default:null},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},blankSrc:{type:String,default:null},blankColor:{type:String,default:function(){return y("BImgLazy","blankColor")}},blankWidth:{type:[Number,String],default:null},blankHeight:{type:[Number,String],default:null},show:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},block:{type:Boolean,default:!1},thumbnail:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},offset:{type:[Number,String],default:360}},Kr=l.a.extend({name:"BImgLazy",directives:{bVisible:Vr},props:qr,data:function(){return{isShown:this.show}},computed:{computedSrc:function(){return!this.blankSrc||this.isShown?this.src:this.blankSrc},computedBlank:function(){return!(this.isShown||this.blankSrc)},computedWidth:function(){return this.isShown?this.width:this.blankWidth||this.width},computedHeight:function(){return this.isShown?this.height:this.blankHeight||this.height},computedSrcset:function(){var e=Object(x.b)(this.srcset).filter(de.a).join(",");return!this.blankSrc||this.isShown?e:null},computedSizes:function(){var e=Object(x.b)(this.sizes).filter(de.a).join(",");return!this.blankSrc||this.isShown?e:null}},watch:{show:function(e,t){if(e!==t){var r=!O.c||e;this.isShown=r,r!==e&&this.$nextTick(this.updateShowProp)}},isShown:function(e,t){e!==t&&this.updateShowProp()}},mounted:function(){this.isShown=!O.c||this.show},methods:{updateShowProp:function(){this.$emit("update:show",this.isShown)},doShow:function(e){!e&&null!==e||this.isShown||(this.isShown=!0)}},render:function(e){var t,r=[];this.isShown||r.push({name:"b-visible",value:this.doShow,modifiers:(t={},Object(o.a)(t,"".concat(Object(ne.c)(this.offset)||0),!0),Object(o.a)(t,"once",!0),t)});return e(Ur,{directives:r,props:{src:this.computedSrc,blank:this.computedBlank,width:this.computedWidth,height:this.computedHeight,srcset:this.computedSrcset||null,sizes:this.computedSizes||null,alt:this.alt,blankColor:this.blankColor,fluid:this.fluid,fluidGrow:this.fluidGrow,block:this.block,thumbnail:this.thumbnail,rounded:this.rounded,left:this.left,right:this.right,center:this.center}})}});function Gr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Wr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Gr(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Gr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Yr=Wr({},Object(object.m)(qr,["left","right","center","block","rounded","thumbnail","fluid","fluidGrow"]),{top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},start:{type:Boolean,default:!1},left:{type:Boolean,default:!1},end:{type:Boolean,default:!1},right:{type:Boolean,default:!1}}),Xr=l.a.extend({name:"BCardImgLazy",functional:!0,props:Yr,render:function(e,t){var r=t.props,data=t.data,n="card-img";r.top?n+="-top":r.right||r.end?n+="-right":r.bottom?n+="-bottom":(r.left||r.start)&&(n+="-left");var o=Wr({},r,{left:!1,right:!1,center:!1});return e(Kr,Object(oe.a)(data,{class:[n],props:o}))}}),Qr={textTag:{type:String,default:"p"}},Jr=l.a.extend({name:"BCardText",functional:!0,props:Qr,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.textTag,Object(oe.a)(data,{staticClass:"card-text"}),n)}}),Zr={tag:{type:String,default:"div"},deck:{type:Boolean,default:!1},columns:{type:Boolean,default:!1}},en=l.a.extend({name:"BCardGroup",functional:!0,props:Zr,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{class:r.deck?"card-deck":r.columns?"card-columns":"card-group"}),n)}}),tn=Object(n.b)({components:{BCard:Ar,BCardHeader:xr,BCardBody:wr,BCardTitle:vr,BCardSubTitle:gr,BCardFooter:Er,BCardImg:Ir,BCardImgLazy:Xr,BCardText:Jr,BCardGroup:en}}),rn=function(){},nn=r(18);function on(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var an=function(e,t,r){if(e=e?e.$el||e:null,!P(e))return null;if(Object(nn.b)("observeDom"))return null;var n=new A((function(e){for(var r=!1,i=0;i<e.length&&!r;i++){var n=e[i],o=n.type,l=n.target;"characterData"===o&&l.nodeType===Node.TEXT_NODE?r=!0:"attributes"===o?r=!0:"childList"===o&&(n.addedNodes.length>0||n.removedNodes.length>0)&&(r=!0)}r&&t()}));return n.observe(e,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?on(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):on(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({childList:!0,subtree:!0},r)),n},sn={passive:!0},ln={passive:!0,capture:!1},cn=function(e){return O.e?Object(object.j)(e)?e:{capture:!!e||!1}:!!(Object(object.j)(e)?e.capture:e)},un=function(e,t,r,n){e&&e.addEventListener&&e.addEventListener(t,r,cn(n))},dn=function(e,t,r,n){e&&e.removeEventListener&&e.removeEventListener(t,r,cn(n))},hn=function(e){for(var t=e?un:dn,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.apply(void 0,n)},fn={next:{dirClass:"carousel-item-left",overlayClass:"carousel-item-next"},prev:{dirClass:"carousel-item-right",overlayClass:"carousel-item-prev"}},pn={TOUCH:"touch",PEN:"pen"},vn={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend oTransitionEnd",transition:"transitionend"},mn=l.a.extend({name:"BCarousel",mixins:[Ut,pe],provide:function(){return{bvCarousel:this}},model:{prop:"value",event:"input"},props:{labelPrev:{type:String,default:function(){return y("BCarousel","labelPrev")}},labelNext:{type:String,default:function(){return y("BCarousel","labelNext")}},labelGotoSlide:{type:String,default:function(){return y("BCarousel","labelGotoSlide")}},labelIndicators:{type:String,default:function(){return y("BCarousel","labelIndicators")}},interval:{type:Number,default:5e3},indicators:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},noTouch:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},background:{type:String},value:{type:Number,default:0}},data:function(){return{index:this.value||0,isSliding:!1,transitionEndEvent:null,slides:[],direction:null,isPaused:!(Object(ne.c)(this.interval)>0),touchStartX:0,touchDeltaX:0}},computed:{numSlides:function(){return this.slides.length}},watch:{value:function(e,t){e!==t&&this.setSlide(Object(ne.c)(e)||0)},interval:function(e,t){e!==t&&(e?(this.pause(!0),this.start(!1)):this.pause(!1))},isPaused:function(e,t){e!==t&&this.$emit(e?"paused":"unpaused")},index:function(e,t){e===t||this.isSliding||this.doSlide(e,t)}},created:function(){this._intervalId=null,this._animationTimeout=null,this._touchTimeout=null,this.isPaused=!(Object(ne.c)(this.interval)>0)},mounted:function(){this.transitionEndEvent=function(e){for(var t in vn)if(!Object(T.k)(e.style[t]))return vn[t];return null}(this.$el)||null,this.updateSlides(),an(this.$refs.inner,this.updateSlides.bind(this),{subtree:!1,childList:!0,attributes:!0,attributeFilter:["id"]})},beforeDestroy:function(){clearTimeout(this._animationTimeout),clearTimeout(this._touchTimeout),clearInterval(this._intervalId),this._intervalId=null,this._animationTimeout=null,this._touchTimeout=null},methods:{setSlide:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(O.j&&document.visibilityState&&document.hidden)){var n=this.noWrap,o=this.numSlides;e=Math.floor(e),0!==o&&(this.isSliding?this.$once("sliding-end",(function(){return t.setSlide(e,r)})):(this.direction=r,this.index=e>=o?n?o-1:0:e<0?n?0:o-1:e,n&&this.index!==e&&this.index!==this.value&&this.$emit("input",this.index)))}},prev:function(){this.setSlide(this.index-1,"prev")},next:function(){this.setSlide(this.index+1,"next")},pause:function(e){e||(this.isPaused=!0),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},start:function(e){e||(this.isPaused=!1),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this.interval&&this.numSlides>1&&(this._intervalId=setInterval(this.next,Math.max(1e3,this.interval)))},restart:function(){this.$el.contains(document.activeElement)||this.start()},doSlide:function(e,t){var r=this,n=Boolean(this.interval),o=this.calcDirection(this.direction,t,e),l=o.overlayClass,c=o.dirClass,d=this.slides[t],h=this.slides[e];if(d&&h){if(this.isSliding=!0,n&&this.pause(!1),this.$emit("sliding-start",e),this.$emit("input",this.index),this.noAnimation)U(h,"active"),K(d,"active"),this.isSliding=!1,this.$nextTick((function(){return r.$emit("sliding-end",e)}));else{U(h,l),L(h),U(d,c),U(h,c);var f=!1,v=function t(){if(!f){if(f=!0,r.transitionEndEvent)r.transitionEndEvent.split(/\s+/).forEach((function(e){return dn(d,e,t,ln)}));r._animationTimeout=null,K(h,c),K(h,l),U(h,"active"),K(d,"active"),K(d,c),K(d,l),W(d,"aria-current","false"),W(h,"aria-current","true"),W(d,"aria-hidden","true"),W(h,"aria-hidden","false"),r.isSliding=!1,r.direction=null,r.$nextTick((function(){return r.$emit("sliding-end",e)}))}};if(this.transitionEndEvent)this.transitionEndEvent.split(/\s+/).forEach((function(e){return un(d,e,v,ln)}));this._animationTimeout=setTimeout(v,650)}n&&this.start(!1)}},updateSlides:function(){this.pause(!0),this.slides=z(".carousel-item",this.$refs.inner);var e=this.slides.length,t=Math.max(0,Math.min(Math.floor(this.index),e-1));this.slides.forEach((function(r,n){var o=n+1;n===t?(U(r,"active"),W(r,"aria-current","true")):(K(r,"active"),W(r,"aria-current","false")),W(r,"aria-posinset",String(o)),W(r,"aria-setsize",String(e))})),this.setSlide(t),this.start(this.isPaused)},calcDirection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?fn[e]:r>t?fn.next:fn.prev},handleClick:function(e,t){var r=e.keyCode;"click"!==e.type&&r!==ot.SPACE&&r!==ot.ENTER||(e.preventDefault(),e.stopPropagation(),t())},handleSwipe:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0?this.prev():t<0&&this.next()}},touchStart:function(e){O.f&&pn[e.pointerType.toUpperCase()]?this.touchStartX=e.clientX:O.f||(this.touchStartX=e.touches[0].clientX)},touchMove:function(e){e.touches&&e.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=e.touches[0].clientX-this.touchStartX},touchEnd:function(e){O.f&&pn[e.pointerType.toUpperCase()]&&(this.touchDeltaX=e.clientX-this.touchStartX),this.handleSwipe(),this.pause(!1),this._touchTimeout&&clearTimeout(this._touchTimeout),this._touchTimeout=setTimeout(this.start,500+Math.max(1e3,this.interval))}},render:function(e){var t=this,r=e("div",{ref:"inner",class:["carousel-inner"],attrs:{id:this.safeId("__BV_inner_"),role:"list"}},[this.normalizeSlot("default")]),n=e();if(this.controls){var o=function(e){t.isSliding?e.preventDefault():t.handleClick(e,t.prev)},l=function(e){t.isSliding?e.preventDefault():t.handleClick(e,t.next)};n=[e("a",{class:["carousel-control-prev"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_"),"aria-disabled":this.isSliding?"true":null},on:{click:o,keydown:o}},[e("span",{class:["carousel-control-prev-icon"],attrs:{"aria-hidden":"true"}}),e("span",{class:["sr-only"]},[this.labelPrev])]),e("a",{class:["carousel-control-next"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_"),"aria-disabled":this.isSliding?"true":null},on:{click:l,keydown:l}},[e("span",{class:["carousel-control-next-icon"],attrs:{"aria-hidden":"true"}}),e("span",{class:["sr-only"]},[this.labelNext])])]}var c=e("ol",{class:["carousel-indicators"],directives:[{name:"show",rawName:"v-show",value:this.indicators,expression:"indicators"}],attrs:{id:this.safeId("__BV_indicators_"),"aria-hidden":this.indicators?"false":"true","aria-label":this.labelIndicators,"aria-owns":this.safeId("__BV_inner_")}},this.slides.map((function(r,n){return e("li",{key:"slide_".concat(n),class:{active:n===t.index},attrs:{role:"button",id:t.safeId("__BV_indicator_".concat(n+1,"_")),tabindex:t.indicators?"0":"-1","aria-current":n===t.index?"true":"false","aria-label":"".concat(t.labelGotoSlide," ").concat(n+1),"aria-describedby":t.slides[n].id||null,"aria-controls":t.safeId("__BV_inner_")},on:{click:function(e){t.handleClick(e,(function(){t.setSlide(n)}))},keydown:function(e){t.handleClick(e,(function(){t.setSlide(n)}))}}})}))),d={mouseenter:this.noHoverPause?rn:this.pause,mouseleave:this.noHoverPause?rn:this.restart,focusin:this.pause,focusout:this.restart,keydown:function(e){if(!/input|textarea/i.test(e.target.tagName)){var r=e.keyCode;r!==ot.LEFT&&r!==ot.RIGHT||(e.preventDefault(),e.stopPropagation(),t[r===ot.LEFT?"prev":"next"]())}}};return!this.noTouch&&O.h&&(O.f?(d["&pointerdown"]=this.touchStart,d["&pointerup"]=this.touchEnd):(d["&touchstart"]=this.touchStart,d["&touchmove"]=this.touchMove,d["&touchend"]=this.touchEnd)),e("div",{staticClass:"carousel",class:{slide:!this.noAnimation,"carousel-fade":!this.noAnimation&&this.fade,"pointer-event":!this.noTouch&&O.h&&O.f},style:{background:this.background},attrs:{role:"region",id:this.safeId(),"aria-busy":this.isSliding?"true":"false"},on:d},[r,n,c])}}),gn={imgSrc:{type:String},imgAlt:{type:String},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},imgBlank:{type:Boolean,default:!1},imgBlankColor:{type:String,default:"transparent"},contentVisibleUp:{type:String},contentTag:{type:String,default:"div"},caption:{type:String},captionHtml:{type:String},captionTag:{type:String,default:"h3"},text:{type:String},textHtml:{type:String},textTag:{type:String,default:"p"},background:{type:String}},bn=l.a.extend({name:"BCarouselSlide",mixins:[Ut,pe],inject:{bvCarousel:{default:function(){return{noTouch:!0}}}},props:gn,computed:{contentClasses:function(){return[this.contentVisibleUp?"d-none":"",this.contentVisibleUp?"d-".concat(this.contentVisibleUp,"-block"):""]},computedWidth:function(){return this.imgWidth||this.bvCarousel.imgWidth||null},computedHeight:function(){return this.imgHeight||this.bvCarousel.imgHeight||null}},render:function(e){var t=!this.bvCarousel.noTouch&&O.h,img=this.normalizeSlot("img");img||!this.imgSrc&&!this.imgBlank||(img=e(Ur,{props:{fluidGrow:!0,block:!0,src:this.imgSrc,blank:this.imgBlank,blankColor:this.imgBlankColor,width:this.computedWidth,height:this.computedHeight,alt:this.imgAlt},on:t?{dragstart:function(e){e.preventDefault()}}:{}})),img||(img=e());var content=e(),r=[!(!this.caption&&!this.captionHtml)&&e(this.captionTag,{domProps:Ge(this.captionHtml,this.caption)}),!(!this.text&&!this.textHtml)&&e(this.textTag,{domProps:Ge(this.textHtml,this.text)}),this.normalizeSlot("default")||!1];return r.some(Boolean)&&(content=e(this.contentTag,{staticClass:"carousel-caption",class:this.contentClasses},r.map((function(i){return i||e()})))),e("div",{staticClass:"carousel-item",style:{background:this.background||this.bvCarousel.background||null},attrs:{id:this.safeId(),role:"listitem"}},[img,content])}}),yn=Object(n.b)({components:{BCarousel:mn,BCarouselSlide:bn}}),_n={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},wn={enter:function(e){e.style.height=0,R((function(){L(e),e.style.height="".concat(e.scrollHeight,"px")}))},afterEnter:function(e){e.style.height=null},leave:function(e){e.style.height="auto",e.style.display="block",e.style.height="".concat(J(e).height,"px"),L(e),e.style.height=0},afterLeave:function(e){e.style.height=null}},kn=l.a.extend({name:"BVCollapse",functional:!0,props:{appear:{type:Boolean,default:!1}},render:function(e,t){var r=t.props,data=t.data,n=t.children;return e("transition",Object(oe.a)(data,{props:_n,on:wn},{props:r}),n)}}),Sn={methods:{listenOnRoot:function(e,t){var r=this;return this.$root.$on(e,t),this.$on("hook:beforeDestroy",(function(){r.$root.$off(e,t)})),this},listenOnRootOnce:function(e,t){var r=this;return this.$root.$once(e,t),this.$on("hook:beforeDestroy",(function(){r.$root.$off(e,t)})),this},emitOnRoot:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(t=this.$root).$emit.apply(t,[e].concat(n)),this}}},xn=l.a.extend({name:"BCollapse",mixins:[Ut,Sn,pe],model:{prop:"visible",event:"input"},props:{isNav:{type:Boolean,default:!1},accordion:{type:String,default:null},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"},appear:{type:Boolean,default:!1}},data:function(){return{show:this.visible,transitioning:!1}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},watch:{visible:function(e){e!==this.show&&(this.show=e)},show:function(e,t){e!==t&&this.emitState()}},created:function(){this.show=this.visible},mounted:function(){var e=this;this.show=this.visible,this.listenOnRoot("bv::toggle::collapse",this.handleToggleEvt),this.listenOnRoot("bv::collapse::accordion",this.handleAccordionEvt),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){e.emitState()})),this.listenOnRoot("bv::request::collapse::state",(function(t){t===e.safeId()&&e.$nextTick(e.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&O.j&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(e){hn(e,window,"resize",this.handleResize,ln),hn(e,window,"orientationchange",this.handleResize,ln)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit("show")},onAfterEnter:function(){this.transitioning=!1,this.$emit("shown")},onLeave:function(){this.transitioning=!0,this.$emit("hide")},onAfterLeave:function(){this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.$root.$emit("bv::collapse::state",this.safeId(),this.show),this.accordion&&this.show&&this.$root.$emit("bv::collapse::accordion",this.safeId(),this.accordion)},emitSync:function(){this.$root.$emit("bv::collapse::sync::state",this.safeId(),this.show)},checkDisplayBlock:function(){var e=G(this.$el,"show");K(this.$el,"show");var t="block"===Z(this.$el).display;return e&&U(this.$el,"show"),t},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===Z(this.$el).display&&(N(t,".nav-link,.dropdown-item")||V(".nav-link,.dropdown-item",t))&&(this.checkDisplayBlock()||(this.show=!1))},handleToggleEvt:function(e){e===this.safeId()&&this.toggle()},handleAccordionEvt:function(e,t){this.accordion&&t===this.accordion&&(e===this.safeId()?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===Z(this.$el).display}},render:function(e){var t=this,r={visible:this.show,close:function(){return t.show=!1}},content=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},[this.normalizeSlot("default",r)]);return e(kn,{props:{appear:this.appear},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[content])}}),On={hover:!0,click:!0,focus:!0},Tn="__BV_boundEventListeners__",En=function(e){var t=Object(object.l)(e.modifiers||{}).filter((function(e){return!On[e]}));return e.value&&t.push(e.value),t},Cn=function(e,t,r,n){var o=En(t),l=function(){n({targets:o,vnode:e})};return Object(object.l)(On).forEach((function(n){if(r[n]||t.modifiers[n]){un(e.elm,n,l);var o=e.elm[Tn]||{};o[n]=o[n]||[],o[n].push(l),e.elm[Tn]=o}})),o},In=function(e,t,r){Object(object.l)(On).forEach((function(n){if(r[n]||t.modifiers[n]){var o=e.elm[Tn]&&e.elm[Tn][n];o&&(o.forEach((function(t){return dn(e.elm,n,t)})),delete e.elm[Tn][n])}}))},jn={click:!0},Mn="__BV_toggle__",Rn=function(e,t){e[t]=null,delete e[t]},An=function(e){var t=e.targets,r=e.vnode;t.forEach((function(e){r.context.$root.$emit("bv::toggle::collapse",e)}))},Pn=function(e,t,r){if(O.j){if(!It(En(t),e.__BV_toggle_TARGETS__)){In(r,t,jn);var n=Cn(r,t,jn,An);e.__BV_toggle_TARGETS__=n,e.__BV_toggle_CONTROLS__=n.join(" "),W(e,"aria-controls",e.__BV_toggle_CONTROLS__),n.forEach((function(e){r.context.$root.$emit("bv::request::collapse::state",e)}))}!0===e.__BV_toggle_STATE__?(U(e,"collapsed"),W(e,"aria-expanded","true")):!1===e.__BV_toggle_STATE__&&(K(e,"collapsed"),W(e,"aria-expanded","false")),W(e,"aria-controls",e.__BV_toggle_CONTROLS__)}},Bn={bind:function(e,t,r){var n=Cn(r,t,jn,An);if(O.j&&r.context&&n.length>0){e.__BV_toggle_TARGETS__=n,e.__BV_toggle_CONTROLS__=n.join(" "),e.__BV_toggle_STATE__=!1,W(e,"aria-controls",e.__BV_toggle_CONTROLS__),W(e,"aria-expanded","false"),"BUTTON"===e.tagName||Q(e,"role")||W(e,"role","button");e[Mn]=function(t,r){-1!==(e.__BV_toggle_TARGETS__||[]).indexOf(t)&&(W(e,"aria-expanded",r?"true":"false"),e.__BV_toggle_STATE__=r,r?K(e,"collapsed"):U(e,"collapsed"))},r.context.$root.$on("bv::collapse::state",e[Mn]),r.context.$root.$on("bv::collapse::sync::state",e[Mn])}},componentUpdated:Pn,updated:Pn,unbind:function(e,t,r){In(r,t,jn),e[Mn]&&(r.context.$root.$off("bv::collapse::state",e[Mn]),r.context.$root.$off("bv::collapse::sync::state",e[Mn])),Rn(e,Mn),Rn(e,"__BV_toggle_STATE__"),Rn(e,"__BV_toggle_CONTROLS__"),Rn(e,"__BV_toggle_TARGETS__"),K(e,"collapsed"),Y(e,"aria-expanded"),Y(e,"aria-controls"),Y(e,"role")}},Dn=Object(n.b)({components:{BCollapse:xn},directives:{VBToggle:Bn}}),Ln=(r(187),r(136)),zn=(r(44),function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(Pr.a)(this,e),!t)throw new TypeError("Failed to construct '".concat(this.constructor.name,"'. 1 argument required, ").concat(arguments.length," given."));Object(object.a)(this,e.Defaults,this.constructor.Defaults,r,{type:t}),Object(object.e)(this,{type:Object(object.n)(),cancelable:Object(object.n)(),nativeEvent:Object(object.n)(),target:Object(object.n)(),relatedTarget:Object(object.n)(),vueTarget:Object(object.n)(),componentId:Object(object.n)()});var n=!1;this.preventDefault=function(){this.cancelable&&(n=!0)},Object(object.f)(this,"defaultPrevented",{enumerable:!0,get:function(){return n}})}return Object(Br.a)(e,null,[{key:"Defaults",get:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null,componentId:null}}}]),e}()),Fn=r(36),Nn={data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(e,t){e!==t&&(dn(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,ln),e&&un(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,ln))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&un(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,ln)},beforeDestroy:function(){dn(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,ln)},methods:{isClickOut:function(e){return!H(this.$el,e.target)},_clickOutHandler:function(e){this.clickOutHandler&&this.isClickOut(e)&&this.clickOutHandler(e)}}},Vn={data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(e,t){e!==t&&(dn(this.focusInElement,"focusin",this._focusInHandler,ln),e&&un(this.focusInElement,"focusin",this._focusInHandler,ln))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&un(this.focusInElement,"focusin",this._focusInHandler,ln)},beforeDestroy:function(){dn(this.focusInElement,"focusin",this._focusInHandler,ln)},methods:{_focusInHandler:function(e){this.focusInHandler&&this.focusInHandler(e)}}};function Hn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var $n="".concat("bv::dropdown::","shown"),Un="".concat("bv::dropdown::","hidden"),qn={FORM_CHILD:".dropdown form",ITEM_SELECTOR:[".dropdown-item",".b-dropdown-form"].map((function(e){return"".concat(e,":not(.disabled):not([disabled])")})).join(", ")},Kn="top-start",Gn="top-end",Wn="bottom-start",Yn="bottom-end",Xn="right-start",Qn="left-start",Jn={mixins:[Ut,Nn,Vn],provide:function(){return{bvDropdown:this}},inject:{bvNavbar:{default:null}},props:{disabled:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{default:function(){}},boundary:{type:[String,Fn.b],default:"scrollParent"}},data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{inNavbar:function(){return!Object(T.f)(this.bvNavbar)},toggler:function(){var e=this.$refs.toggle;return e?e.$el||e:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""}},watch:{visible:function(e,t){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(e!==t){var r=e?"show":"hide",n=new zn(r,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(n),n.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=t,void this.$off("hidden",this.focusToggler);"show"===r?this.showMenu():this.hideMenu()}},disabled:function(e,t){e!==t&&e&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},methods:{emitEvent:function(e){var t=e.type;this.$emit(t,e),this.$root.$emit("".concat("bv::dropdown::").concat(t),e)},showMenu:function(){var e=this;if(!this.disabled){if(!this.inNavbar)if(void 0===Ln.a)Object(nn.a)("Popper.js not found. Falling back to CSS positioning","BDropdown");else{var t=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;t=t.$el||t,this.createPopper(t)}this.$root.$emit($n,this),this.whileOpenListen(!0),this.$nextTick((function(){e.focusMenu(),e.$emit("shown")}))}},hideMenu:function(){this.whileOpenListen(!1),this.$root.$emit(Un,this),this.$emit("hidden"),this.destroyPopper()},createPopper:function(element){this.destroyPopper(),this.$_popper=new Ln.a(element,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(e){}},getPopperConfig:function(){var e=Wn;this.dropup?e=this.right?Gn:Kn:this.dropright?e=Xn:this.dropleft?e=Qn:this.right&&(e=Yn);var t={placement:e,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}};return this.boundary&&(t.modifiers.preventOverflow={boundariesElement:this.boundary}),function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Hn(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Hn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},t,{},this.popperOpts||{})},whileOpenListen:function(e){this.listenForClickOut=e,this.listenForFocusIn=e;var t=e?"$on":"$off";this.$root[t]($n,this.rootCloseListener)},rootCloseListener:function(e){e!==this&&(this.visible=!1)},show:function(){var e=this;this.disabled||R((function(){e.visible=!0}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,e&&this.$once("hidden",this.focusToggler))},toggle:function(e){var t=e=e||{},r=t.type,n=t.keyCode;("click"===r||"keydown"===r&&-1!==[ot.ENTER,ot.SPACE,ot.DOWN].indexOf(n))&&(this.disabled?this.visible=!1:(this.$emit("toggle",e),e.preventDefault(),e.stopPropagation(),this.visible?this.hide(!0):this.show()))},onMousedown:function(e){e.preventDefault()},onKeydown:function(e){var t=e.keyCode;t===ot.ESC?this.onEsc(e):t===ot.DOWN?this.focusNext(e,!1):t===ot.UP&&this.focusNext(e,!0)},onEsc:function(e){this.visible&&(this.visible=!1,e.preventDefault(),e.stopPropagation(),this.$once("hidden",this.focusToggler))},onSplitClick:function(e){this.disabled?this.visible=!1:this.$emit("click",e)},hideHandler:function(e){var t=e.target;!this.visible||H(this.$refs.menu,t)||H(this.toggler,t)||this.hide()},clickOutHandler:function(e){this.hideHandler(e)},focusInHandler:function(e){this.hideHandler(e)},focusNext:function(e,t){var r=this,n=e.target;!this.visible||e&&V(qn.FORM_CHILD,n)||(e.preventDefault(),e.stopPropagation(),this.$nextTick((function(){var e=r.getItems();if(!(e.length<1)){var o=e.indexOf(n);t&&o>0?o--:!t&&o<e.length-1&&o++,o<0&&(o=0),r.focusItem(o,e)}})))},focusItem:function(e,t){var r=t.find((function(t,i){return i===e}));r&&r.focus&&r.focus()},getItems:function(){return(z(qn.ITEM_SELECTOR,this.$refs.menu)||[]).filter(B)},focusMenu:function(){try{this.$refs.menu.focus()}catch(e){}},focusToggler:function(){var e=this;this.$nextTick((function(){var t=e.toggler;t&&t.focus&&t.focus()}))}}},Zn={text:{type:String,default:""},html:{type:String},size:{type:String,default:function(){return y("BDropdown","size")}},variant:{type:String,default:function(){return y("BDropdown","variant")}},block:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:null},toggleTag:{type:String,default:"button"},toggleText:{type:String,default:function(){return y("BDropdown","toggleText")}},toggleClass:{type:[String,Array,Object],default:null},noCaret:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitHref:{type:String},splitTo:{type:[String,Object]},splitVariant:{type:String,default:function(){return y("BDropdown","splitVariant")}},splitClass:{type:[String,Array,Object],default:null},splitButtonType:{type:String,default:"button",validator:function(e){return Object(x.a)(["button","submit","reset"],e)}},lazy:{type:Boolean,default:!1},role:{type:String,default:"menu"}},eo=l.a.extend({name:"BDropdown",mixins:[Ut,Jn,pe],props:Zn,computed:{dropdownClasses:function(){return[this.directionClass,{show:this.visible,"btn-group":this.split||!this.block,"d-flex":this.block&&this.split,"position-static":"scrollParent"!==this.boundary||!this.boundary}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){return[this.toggleClass,{"dropdown-toggle-split":this.split,"dropdown-toggle-no-caret":this.noCaret&&!this.split}]}},render:function(e){var t=e(),r=this.normalizeSlot("button-content")||this.html||Ke(this.text);if(this.split){var n={variant:this.splitVariant||this.variant,size:this.size,block:this.block,disabled:this.disabled};this.splitTo?n.to=this.splitTo:this.splitHref?n.href=this.splitHref:this.splitButtonType&&(n.type=this.splitButtonType),t=e(_t,{ref:"button",props:n,class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},on:{click:this.onSplitClick}},[r])}var o=e(_t,{ref:"toggle",staticClass:"dropdown-toggle",class:this.toggleClasses,props:{tag:this.toggleTag,variant:this.variant,size:this.size,block:this.block&&!this.split,disabled:this.disabled},attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle}},[this.split?e("span",{class:["sr-only"]},[this.toggleText]):r]),menu=e("ul",{ref:"menu",staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:this.role,tabindex:"-1","aria-labelledby":this.safeId(this.split?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown}},!this.lazy||this.visible?this.normalizeSlot("default",{hide:this.hide}):[e()]);return e("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[t,o,menu])}});function to(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ro(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?to(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):to(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var no=ze(),oo=l.a.extend({name:"BDropdownItem",mixins:[pe],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:ro({},no,{variant:{type:String,default:null}}),methods:{closeDropdown:function(){var e=this;R((function(){e.bvDropdown&&e.bvDropdown.hide(!0)}))},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){return e("li",{attrs:{role:"presentation"}},[e(Fe,{props:this.$props,staticClass:"dropdown-item",class:Object(o.a)({},"text-".concat(this.variant),this.variant&&!(this.active||this.disabled)),attrs:ro({},this.$attrs,{role:"menuitem"}),on:{click:this.onClick},ref:"item"},this.normalizeSlot("default"))])}});function io(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ao(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?io(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):io(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var so={active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},disabled:{type:Boolean,default:!1},variant:{type:String,default:null}},lo=l.a.extend({name:"BDropdownItemButton",mixins:[pe],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:so,methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){var t;return e("li",{attrs:{role:"presentation"}},[e("button",{staticClass:"dropdown-item",class:(t={},Object(o.a)(t,this.activeClass,this.active),Object(o.a)(t,"text-".concat(this.variant),this.variant&&!(this.active||this.disabled)),t),attrs:ao({},this.$attrs,{role:"menuitem",type:"button",disabled:this.disabled}),on:{click:this.onClick},ref:"button"},this.normalizeSlot("default"))])}});function co(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function uo(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?co(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):co(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ho={id:{type:String,default:null},tag:{type:String,default:"header"},variant:{type:String,default:null}},fo=l.a.extend({name:"BDropdownHeader",functional:!0,props:ho,render:function(e,t){var r=t.props,data=t.data,n=t.children,l=data.attrs||{};return data.attrs={},e("li",Object(oe.a)(data,{attrs:{role:"presentation"}}),[e(r.tag,{staticClass:"dropdown-header",class:Object(o.a)({},"text-".concat(r.variant),r.variant),attrs:uo({},l,{id:r.id||null,role:"heading"}),ref:"header"},n)])}});function po(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function vo(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?po(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):po(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var mo={tag:{type:String,default:"hr"}},go=l.a.extend({name:"BDropdownDivider",functional:!0,props:mo,render:function(e,t){var r=t.props,data=t.data,n=data.attrs||{};return data.attrs={},e("li",Object(oe.a)(data,{attrs:{role:"presentation"}}),[e(r.tag,{staticClass:"dropdown-divider",attrs:vo({},n,{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}}),bo={id:{type:String,default:null},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},yo=l.a.extend({name:"BForm",functional:!0,props:bo,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e("form",Object(oe.a)(data,{class:{"form-inline":r.inline,"was-validated":r.validated},attrs:{id:r.id,novalidate:r.novalidate}}),n)}});function _o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function wo(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_o(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ko=l.a.extend({name:"BDropdownForm",functional:!0,props:wo({},bo,{disabled:{type:Boolean,default:!1},formClass:{type:[String,Object,Array],default:null}}),render:function(e,t){var r=t.props,data=t.data,n=t.children,o=data.attrs||{},l=data.on||{};return data.attrs={},data.on={},e("li",Object(oe.a)(data,{attrs:{role:"presentation"}}),[e(yo,{ref:"form",staticClass:"b-dropdown-form",class:[r.formClass,{disabled:r.disabled}],props:r,attrs:wo({},o,{disabled:r.disabled,tabindex:r.disabled?null:"-1"}),on:l},n)])}}),So=l.a.extend({name:"BDropdownText",functional:!0,props:{tag:{type:String,default:"p"},variant:{type:String,default:null}},render:function(e,t){var r=t.props,data=t.data,n=t.children,l=data.attrs||{};return data.attrs={},e("li",Object(oe.a)(data,{attrs:{role:"presentation"}}),[e(r.tag,{staticClass:"b-dropdown-text",class:Object(o.a)({},"text-".concat(r.variant),r.variant),props:r,attrs:l,ref:"text"},n)])}});function xo(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Oo(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?xo(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):xo(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var To={id:{type:String,default:null},header:{type:String,default:null},headerTag:{type:String,default:"header"},headerVariant:{type:String,default:null},headerClasses:{type:[String,Array,Object],default:null},ariaDescribedby:{type:String,default:null}},Eo=l.a.extend({name:"BDropdownGroup",functional:!0,props:To,render:function(e,t){var header,r=t.props,data=t.data,n=t.slots,l=t.scopedSlots,c=n(),d=l||{},h=data.attrs||{};data.attrs={};var f=null;(he("header",d,c)||r.header)&&(f=r.id?"_bv_".concat(r.id,"_group_dd_header"):null,header=e(r.headerTag,{staticClass:"dropdown-header",class:[r.headerClasses,Object(o.a)({},"text-".concat(r.variant),r.variant)],attrs:{id:f,role:"heading"}},fe("header",{},d,c)||r.header));var v=[f,r.ariaDescribedBy].filter(Boolean).join(" ").trim();return e("li",Object(oe.a)(data,{attrs:{role:"presentation"}}),[header||e(),e("ul",{staticClass:"list-unstyled",attrs:Oo({},h,{id:r.id||null,role:"group","aria-describedby":v||null})},fe("default",{},d,c))])}}),Co=Object(n.b)({components:{BDropdown:eo,BDd:eo,BDropdownItem:oo,BDdItem:oo,BDropdownItemButton:lo,BDropdownItemBtn:lo,BDdItemButton:lo,BDdItemBtn:lo,BDropdownHeader:fo,BDdHeader:fo,BDropdownDivider:go,BDdDivider:go,BDropdownForm:ko,BDdForm:ko,BDropdownText:So,BDdText:So,BDropdownGroup:Eo,BDdGroup:Eo}}),Io={type:{type:String,default:"iframe",validator:function(e){return Object(x.a)(["iframe","embed","video","object","img","b-img","b-img-lazy"],e)}},tag:{type:String,default:"div"},aspect:{type:String,default:"16by9"}},jo=l.a.extend({name:"BEmbed",functional:!0,props:Io,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,{ref:data.ref,staticClass:"embed-responsive",class:Object(o.a)({},"embed-responsive-".concat(r.aspect),r.aspect)},[e(r.type,Object(oe.a)(data,{ref:"",staticClass:"embed-responsive-item"}),n)])}}),Mo=Object(n.b)({components:{BEmbed:jo}}),Ro={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){var e=this,t=this.options;return Object(x.d)(t)?t.map((function(option){return e.normalizeOption(option)})):(Object(nn.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(object.l)(t).map((function(r){return e.normalizeOption(t[r]||{},r)})))}},methods:{normalizeOption:function(option){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(object.k)(option)){var t=Object(d.a)(option,this.valueField),text=Object(d.a)(option,this.textField);return{value:Object(T.k)(t)?e||text:t,text:Ke(String(Object(T.k)(text)?e:text)),html:Object(d.a)(option,this.htmlField),disabled:Boolean(Object(d.a)(option,this.disabledField))}}return{value:e||option,text:Ke(String(option)),disabled:!1}}}};function Ao(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Po(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ao(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ao(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Bo=l.a.extend({name:"BFormDatalist",mixins:[Ro,pe],props:{id:{type:String,default:null,required:!0}},render:function(e){var t=this.formOptions.map((function(option,t){return e("option",{key:"option_".concat(t,"_opt"),attrs:{disabled:option.disabled},domProps:Po({},Ge(option.html,option.text),{value:option.value})})}));return e("datalist",{attrs:{id:this.id}},[t,this.normalizeSlot("default")])}}),Do={id:{type:String,default:null},tag:{type:String,default:"small"},textVariant:{type:String,default:function(){return y("BFormText","textVariant")}},inline:{type:Boolean,default:!1}},Lo=l.a.extend({name:"BFormText",functional:!0,props:Do,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{class:Object(o.a)({"form-text":!r.inline},"text-".concat(r.textVariant),r.textVariant),attrs:{id:r.id}}),n)}}),zo={id:{type:String,default:null},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:Boolean,default:null},ariaLive:{type:String,default:null},role:{type:String,default:null}},Fo=l.a.extend({name:"BFormInvalidFeedback",functional:!0,props:zo,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=!0===r.forceShow||!1===r.state;return e(r.tag,Object(oe.a)(data,{class:{"invalid-feedback":!r.tooltip,"invalid-tooltip":r.tooltip,"d-block":o},attrs:{id:r.id,role:r.role,"aria-live":r.ariaLive,"aria-atomic":r.ariaLive?"true":null}}),n)}}),No={id:{type:String,default:null},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:Boolean,default:null},ariaLive:{type:String,default:null},role:{type:String,default:null}},Vo=l.a.extend({name:"BFormValidFeedback",functional:!0,props:No,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=!0===r.forceShow||!0===r.state;return e(r.tag,Object(oe.a)(data,{class:{"valid-feedback":!r.tooltip,"valid-tooltip":r.tooltip,"d-block":o},attrs:{id:r.id,role:r.role,"aria-live":r.ariaLive,"aria-atomic":r.ariaLive?"true":null}}),n)}}),Ho={tag:{type:String,default:"div"}},$o=l.a.extend({name:"BFormRow",functional:!0,props:Ho,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{staticClass:"form-row"}),n)}}),Uo=Object(n.b)({components:{BForm:yo,BFormDatalist:Bo,BDatalist:Bo,BFormText:Lo,BFormInvalidFeedback:Fo,BFormFeedback:Fo,BFormValidFeedback:Vo,BFormRow:$o}}),qo=function(e,t){for(var i=0;i<e.length;i++)if(It(e[i],t))return i;return-1},Ko={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String,default:null},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var e=this;this.$nextTick((function(){R((function(){var t=e.$el;e.autofocus&&B(t)&&(N(t,"input, textarea, select")||(t=F("input, textarea, select",t)),t&&t.focus&&t.focus())}))}))}}};function Go(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Wo(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Go(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Go(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Yo={mixins:[pe],inheritAttrs:!1,model:{prop:"checked",event:"input"},props:{value:{},checked:{},inline:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonVariant:{type:String,default:null},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},data:function(){return{localChecked:this.isGroup?this.bvGroup.checked:this.checked,hasFocus:!1}},computed:{computedLocalChecked:{get:function(){return this.isGroup?this.bvGroup.localChecked:this.localChecked},set:function(e){this.isGroup?this.bvGroup.localChecked=e:this.localChecked=e}},isGroup:function(){return Boolean(this.bvGroup)},isBtnMode:function(){return this.isGroup?this.bvGroup.buttons:this.button},isPlain:function(){return!this.isBtnMode&&(this.isGroup?this.bvGroup.plain:this.plain)},isCustom:function(){return!this.isBtnMode&&!this.isPlain},isSwitch:function(){return!(this.isBtnMode||this.isRadio||this.isPlain)&&(this.isGroup?this.bvGroup.switches:this.switch)},isInline:function(){return this.isGroup?this.bvGroup.inline:this.inline},isDisabled:function(){return this.isGroup&&this.bvGroup.disabled||this.disabled},isRequired:function(){return this.getName&&(this.isGroup?this.bvGroup.required:this.required)},getName:function(){return(this.isGroup?this.bvGroup.groupName:this.name)||null},getForm:function(){return(this.isGroup?this.bvGroup.form:this.form)||null},getSize:function(){return(this.isGroup?this.bvGroup.size:this.size)||""},getState:function(){return this.isGroup?this.bvGroup.computedState:this.computedState},getButtonVariant:function(){return this.buttonVariant?this.buttonVariant:this.isGroup&&this.bvGroup.buttonVariant?this.bvGroup.buttonVariant:"secondary"},buttonClasses:function(){var e;return["btn","btn-".concat(this.getButtonVariant),(e={},Object(o.a)(e,"btn-".concat(this.getSize),this.getSize),Object(o.a)(e,"disabled",this.isDisabled),Object(o.a)(e,"active",this.isChecked),Object(o.a)(e,"focus",this.hasFocus),e)]}},watch:{checked:function(e){this.computedLocalChecked=e}},methods:{handleFocus:function(e){e.target&&("focus"===e.type?this.hasFocus=!0:"blur"===e.type&&(this.hasFocus=!1))},focus:function(){!this.isDisabled&&this.$refs.input&&this.$refs.input.focus&&this.$refs.input.focus()},blur:function(){!this.isDisabled&&this.$refs.input&&this.$refs.input.blur&&this.$refs.input.blur()}},render:function(e){var t=this.normalizeSlot("default"),r={change:this.handleChange};this.isBtnMode&&(r.focus=r.blur=this.handleFocus);var input=e("input",{ref:"input",key:"input",on:r,class:{"form-check-input":this.isPlain,"custom-control-input":this.isCustom,"is-valid":!0===this.getState&&!this.isBtnMode,"is-invalid":!1===this.getState&&!this.isBtnMode,"position-static":this.isPlain&&!t},directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:Wo({},this.$attrs,{id:this.safeId(),type:this.isRadio?"radio":"checkbox",name:this.getName,form:this.getForm,disabled:this.isDisabled,required:this.isRequired,autocomplete:"off","aria-required":this.isRequired||null,"aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||null}),domProps:{value:this.value,checked:this.isChecked}});if(this.isBtnMode){var button=e("label",{class:this.buttonClasses},[input,t]);return this.isGroup||(button=e("div",{class:["btn-group-toggle","d-inline-block"]},[button])),button}var label=e();return this.isPlain&&!t||(label=e("label",{class:{"form-check-label":this.isPlain,"custom-control-label":this.isCustom},attrs:{for:this.safeId()}},t)),e("div",{class:Object(o.a)({"form-check":this.isPlain,"form-check-inline":this.isPlain&&this.isInline,"custom-control":this.isCustom,"custom-control-inline":this.isCustom&&this.isInline,"custom-checkbox":this.isCustom&&this.isCheck&&!this.isSwitch,"custom-switch":this.isSwitch,"custom-radio":this.isCustom&&this.isRadio},"b-custom-control-".concat(this.getSize),Boolean(this.getSize&&!this.isBtnMode))},[input,label])}},Xo={props:{size:{type:String,default:function(){return y("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}},Qo={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return Object(T.a)(this.state)?this.state:null},stateClass:function(){var e=this.computedState;return!0===e?"is-valid":!1===e?"is-invalid":null}}},Jo=l.a.extend({name:"BFormCheckbox",mixins:[Yo,Ut,Ko,Xo,Qo],inject:{bvGroup:{from:"bvCheckGroup",default:!1}},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},checked:{default:null}},computed:{isChecked:function(){var e=this.computedLocalChecked,t=this.value;return Object(x.d)(e)?qo(e,t)>-1:It(e,t)},isRadio:function(){return!1},isCheck:function(){return!0}},watch:{computedLocalChecked:function(e){this.$emit("input",e),this.$refs&&this.$refs.input&&this.$emit("update:indeterminate",this.$refs.input.indeterminate)},indeterminate:function(e){this.setIndeterminate(e)}},mounted:function(){this.setIndeterminate(this.indeterminate)},methods:{handleChange:function(e){var t=e.target,r=t.checked,n=t.indeterminate,o=this.computedLocalChecked,l=this.value,c=Object(x.d)(o),d=c?null:this.uncheckedValue;if(c){var h=qo(o,l);r&&h<0?o=o.concat(l):!r&&h>-1&&(o=o.slice(0,h).concat(o.slice(h+1)))}else o=r?l:d;this.computedLocalChecked=o,this.$emit("change",r?l:d),this.isGroup&&this.bvGroup.$emit("change",o),this.$emit("update:indeterminate",n)},setIndeterminate:function(e){Object(x.d)(this.computedLocalChecked)&&(e=!1),this.$refs&&this.$refs.input&&(this.$refs.input.indeterminate=e,this.$emit("update:indeterminate",e))}}}),Zo=l.a.extend({name:"BFormRadio",mixins:[Ut,Yo,Ko,Xo,Qo],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:{checked:{default:null}},computed:{isChecked:function(){return It(this.value,this.computedLocalChecked)},isRadio:function(){return!0},isCheck:function(){return!1}},watch:{computedLocalChecked:function(){this.$emit("input",this.computedLocalChecked)}},methods:{handleChange:function(e){var t=e.target.checked,r=this.value;this.computedLocalChecked=r,this.$emit("change",t?r:null),this.isGroup&&this.bvGroup.$emit("change",t?r:null)}}}),ei={mixins:[pe],model:{prop:"checked",event:"input"},props:{validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){return this.buttons?["btn-group-toggle",this.inline?"btn-group":"btn-group-vertical",this.size?"btn-group-".concat(this.size):"",this.validated?"was-validated":""]:[this.validated?"was-validated":""]},computedAriaInvalid:function(){var e=this.ariaInvalid;return!0===e||"true"===e||""===e?"true":!1===this.computedState?"true":null}},watch:{checked:function(e){this.localChecked=e},localChecked:function(e){this.$emit("input",e)}},render:function(e){var t=this,r=this.formOptions.map((function(option,r){var n="_BV_option_".concat(r,"_");return e(t.isRadioGroup?Zo:Jo,{key:n,props:{id:t.safeId(n),value:option.value,disabled:option.disabled||!1}},[e("span",{domProps:Ge(option.html,option.text)})])}));return e("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:{id:this.safeId(),role:this.isRadioGroup?"radiogroup":"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[this.normalizeSlot("first"),r,this.normalizeSlot("default")])}},ti={switches:{type:Boolean,default:!1},checked:{type:Array,default:null}},ri=l.a.extend({name:"BFormCheckboxGroup",mixins:[Ut,Ko,ei,Ro,Xo,Qo],provide:function(){return{bvCheckGroup:this}},props:ti,data:function(){return{localChecked:this.checked||[]}},computed:{isRadioGroup:function(){return!1}}}),ni=Object(n.b)({components:{BFormCheckbox:Jo,BCheckbox:Jo,BCheck:Jo,BFormCheckboxGroup:ri,BCheckboxGroup:ri,BCheckGroup:ri}}),oi="__BV_hover_handler__",ii=function(e,t,r){hn(e,t,"mouseenter",r,ln),hn(e,t,"mouseleave",r,ln)},ai=function(e,t){var r=t.value,n=void 0===r?null:r;if(O.j){var o=e[oi],l=Object(T.e)(o),c=!(l&&o.fn===n);l&&c&&(ii(!1,e,o),delete e[oi]),Object(T.e)(n)&&c&&(e[oi]=function(e){var t=function(t){e("mouseenter"===t.type,t)};return t.fn=e,t}(n),ii(!0,e,e[oi]))}},si={bind:ai,componentUpdated:ai,unbind:function(e){ai(e,{value:null})}},ci=function(e){return y("BFormDatepicker",e)||y("BCalendar",e)},ui={props:{value:{type:[String,Date],default:null},valueAsDate:{type:Boolean,default:!1},resetValue:{type:[String,Date],default:""},placeholder:{type:String,default:null},size:{type:String,default:null},min:{type:[String,Date],default:null},max:{type:[String,Date],default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},name:{type:String,default:null},form:{type:String,default:null},state:{type:Boolean,default:null},dateDisabledFn:{type:Function,default:null},noCloseOnSelect:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},locale:{type:[String,Array],default:null},startWeekday:{type:[Number,String],default:0},direction:{type:String,default:null},selectedVariant:{type:String,default:"primary"},todayVariant:{type:String,default:null},noHighlightToday:{type:Boolean,default:!1},todayButton:{type:Boolean,default:!1},labelTodayButton:{type:String,default:function(){return y("BFormDatepicker","labelTodayButton")}},todayButtonVariant:{type:String,default:"outline-primary"},resetButton:{type:Boolean,default:!1},labelResetButton:{type:String,default:function(){return y("BFormDatepicker","labelResetButton")}},resetButtonVariant:{type:String,default:"outline-danger"},closeButton:{type:Boolean,default:!1},labelCloseButton:{type:String,default:function(){return y("BFormDatepicker","labelCloseButton")}},closeButtonVariant:{type:String,default:"outline-secondary"},labelPrevYear:{type:String,default:function(){return ci("labelPrevYear")}},labelPrevMonth:{type:String,default:function(){return ci("labelPrevMonth")}},labelCurrentMonth:{type:String,default:function(){return ci("labelCurrentMonth")}},labelNextMonth:{type:String,default:function(){return ci("labelNextMonth")}},labelNextYear:{type:String,default:function(){return ci("labelNextYear")}},labelToday:{type:String,default:function(){return ci("labelToday")}},labelSelected:{type:String,default:function(){return ci("labelSelected")}},labelNoDateSelected:{type:String,default:function(){return ci("labelNoDateSelected")}},labelCalendar:{type:String,default:function(){return ci("labelCalendar")}},labelNav:{type:String,default:function(){return ci("labelNav")}},labelHelp:{type:String,default:function(){return ci("labelHelp")}},dark:{type:Boolean,default:!1}}},di=l.a.extend({name:"BFormDatepicker",directives:{BHover:si},mixins:[Ut,ui,Jn],model:{prop:"value",event:"input"},data:function(){return{localYMD:Bt(this.value)||"",localLocale:null,isRTL:!1,formatedValue:"",activeYMD:"",hasFocus:!1,isHovered:!1}},computed:{calendarYM:function(){return this.activeYMD.slice(0,-3)},calendarProps:function(){return{ariaControls:[this.safeId("_value_"),this.safeId("_b-form-date_")].filter(de.a).join(" ")||null,value:this.localYMD,hidden:!this.visible,min:this.min,max:this.max,readonly:this.readonly,disabled:this.disabled,locale:this.locale,startWeekday:this.startWeekday,direction:this.direction,dateDisabledFn:this.dateDisabledFn,selectedVariant:this.selectedVariant,todayVariant:this.todayVariant,hideHeader:this.hideHeader,labelPrevYear:this.labelPrevYear,labelPrevMonth:this.labelPrevMonth,labelCurrentMonth:this.labelCurrentMonth,labelNextMonth:this.labelNextMonth,labelNextYear:this.labelNextYear,labelToday:this.labelToday,labelSelected:this.labelSelected,labelNoDateSelected:this.labelNoDateSelected,labelCalendar:this.labelCalendar,labelNav:this.labelNav,labelHelp:this.labelHelp}},computedResetValue:function(){return Pt(this.resetValue)||""}},watch:{value:function(e){this.localYMD=Bt(e)||""},localYMD:function(e){this.$emit("input",this.valueAsDate?Pt(e)||null:e||"")},calendarYM:function(e,t){e!==t&&t&&this.updatePopper()}},mounted:function(){var e=this;this.$on("shown",(function(){try{e.$refs.calendar.focus()}catch(e){}}))},methods:{focus:function(){if(!this.disabled)try{this.$refs.toggle.focus()}catch(e){}},blur:function(){if(!this.disabled)try{this.$refs.toggle.blur()}catch(e){}},setAndClose:function(e){var t=this;this.localYMD=e,this.noCloseOnSelect||this.$nextTick((function(){t.hide(!0)}))},onSelected:function(e){var t=this;this.$nextTick((function(){t.setAndClose(e)}))},onInput:function(e){this.localYMD!==e&&(this.localYMD=e)},onContext:function(e){var t=e.activeYMD,r=e.isRTL,n=e.locale,o=e.selectedYMD,l=e.selectedFormatted;this.isRTL=r,this.localLocale=n,this.formattedValue=l,this.localYMD=o,this.activeYMD=t,this.$emit("context",e)},onTodayButton:function(){this.setAndClose(Bt(At()))},onResetButton:function(){this.setAndClose(this.computedResetValue)},onCloseButton:function(){this.hide(!0)},setFocus:function(e){this.hasFocus="focus"===e.type},handleHover:function(e){this.isHovered=e}},render:function(e){var t,r,n=this.size,l=this.state,c=this.localYMD,d=this.disabled,h=this.readonly,f=this.safeId(),v=this.safeId("_value_"),m=this.safeId("_dialog_"),y=this.safeId("_b-form-date_"),_=e("div",{attrs:{"aria-hidden":"true"}},[this.isHovered||this.hasFocus?e(qt.Cb,{props:{scale:1.25}}):e(qt.Bb,{props:{scale:1.25}})]);_=e("button",{ref:"toggle",staticClass:"btn border-0 h-auto py-0",class:Object(o.a)({},"btn-".concat(n),!!n),attrs:{id:f,type:"button",disabled:d,"aria-haspopup":"dialog","aria-expanded":this.visible?"true":"false","aria-invalid":!1===l?"true":null,"aria-required":this.required?"true":null},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle,"!focus":this.setFocus,"!blur":this.setFocus}},[_]);var w=e("label",{staticClass:"form-control text-break text-wrap border-0 bg-transparent h-auto pl-1 m-0",class:(t={"text-muted":!c},Object(o.a)(t,"form-control-".concat(n),!!n),Object(o.a)(t,"is-invalid",!1===l),Object(o.a)(t,"is-valid",!0===l),t),attrs:{id:v,for:f,dir:this.isRTL?"rtl":"ltr",lang:this.localLocale||null,"aria-invalid":!1===l?"true":null,"aria-required":this.required?"true":null},on:{click:function(e){e.stopPropagation()}}},[c?this.formattedValue:this.placeholder||this.labelNoDateSelected,c?e("span",{staticClass:"sr-only"}," (".concat(this.labelSelected,") ")):e()]),k=[];if(this.todayButton){var label=this.labelTodayButton;k.push(e(_t,{props:{size:"sm",disabled:d||h,variant:this.todayButtonVariant},attrs:{"aria-label":label||null},on:{click:this.onTodayButton}},label))}if(this.resetButton){var S=this.labelResetButton;k.push(e(_t,{props:{size:"sm",disabled:d||h,variant:this.resetButtonVariant},attrs:{"aria-label":S||null},on:{click:this.onResetButton}},S))}if(this.closeButton){var x=this.labelCloseButton;k.push(e(_t,{props:{size:"sm",disabled:this.disabled,variant:this.closeButtonVariant},attrs:{"aria-label":x||null},on:{click:this.onCloseButton}},x))}k.length>0&&(k=[e("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":k.length>1,"justify-content-end":k.length<2}},k)]);var O=e(sr,{key:"calendar",ref:"calendar",staticClass:"b-form-date-calendar",props:this.calendarProps,on:{selected:this.onSelected,input:this.onInput,context:this.onContext}},k),T=e("div",{ref:"menu",staticClass:"dropdown-menu p-2",class:{show:this.visible,"dropdown-menu-right":this.right,"bg-dark":this.dark,"text-light":this.dark},attrs:{id:m,role:"dialog","aria-modal":"false","aria-labelledby":v},on:{keydown:this.onKeydown}},[O]),E=e();return this.name&&!d&&(E=e("input",{attrs:{type:"hidden",name:this.name,form:this.form,value:c||""}})),e("div",{staticClass:"b-form-datepicker form-control dropdown h-auto p-0 d-flex",class:[this.directionClass,(r={show:this.visible,focus:this.hasFocus},Object(o.a)(r,"form-control-".concat(n),!!n),Object(o.a)(r,"is-invalid",!1===l),Object(o.a)(r,"is-valid",!0===l),r)],attrs:{id:y,role:"group","aria-disabled":d,"aria-readonly":h&&!d,"aria-labelledby":v,"aria-invalid":!1===l?"true":null,"aria-required":this.required?"true":null,dir:"ltr"},directives:[{name:"b-hover",value:this.handleHover}]},[_,E,T,w])}}),hi=Object(n.b)({components:{BFormDatepicker:di,BDatepicker:di}}),fi=(r(115),{props:{plain:{type:Boolean,default:!1}},computed:{custom:function(){return!this.plain}}});function pi(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function vi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pi(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):pi(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var mi=l.a.extend({name:"BFormFile",mixins:[Ut,Ko,Qo,fi,pe],inheritAttrs:!1,model:{prop:"value",event:"input"},props:{size:{type:String,default:function(){return y("BFormControl","size")}},value:{type:[Fn.a,Array],default:null,validator:function(e){return""===e?(Object(nn.a)('Setting "value"/"v-model" to an empty string for reset is deprecated. Set to "null" instead.',"BFormFile"),!0):Object(T.l)(e)||Object(T.d)(e)||Object(x.d)(e)&&(0===e.length||e.every(T.d))}},accept:{type:String,default:""},capture:{type:Boolean,default:!1},placeholder:{type:String,default:function(){return y("BFormFile","placeholder")}},browseText:{type:String,default:function(){return y("BFormFile","browseText")}},dropPlaceholder:{type:String,default:function(){return y("BFormFile","dropPlaceholder")}},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1},fileNameFormatter:{type:Function,default:null}},data:function(){return{selectedFile:null,dragging:!1,hasFocus:!1}},computed:{selectLabel:function(){if(this.dragging&&this.dropPlaceholder)return this.dropPlaceholder;if(!this.selectedFile||0===this.selectedFile.length)return this.placeholder;var e=Object(x.b)(this.selectedFile).filter(de.a);return this.hasNormalizedSlot("file-name")?[this.normalizeSlot("file-name",{files:e,names:e.map((function(e){return e.name}))})]:Object(T.e)(this.fileNameFormatter)?Object(xe.f)(this.fileNameFormatter(e)):e.map((function(e){return e.name})).join(", ")}},watch:{selectedFile:function(e,t){e===t||Object(x.d)(e)&&Object(x.d)(t)&&e.length===t.length&&e.every((function(e,i){return e===t[i]}))||(!e&&this.multiple?this.$emit("input",[]):this.$emit("input",e))},value:function(e){(!e||Object(x.d)(e)&&0===e.length)&&this.reset()}},methods:{focusHandler:function(e){this.plain||"focusout"===e.type?this.hasFocus=!1:this.hasFocus=!0},reset:function(){try{this.$refs.input.value=""}catch(e){}this.$refs.input.type="",this.$refs.input.type="file",this.selectedFile=this.multiple?[]:null},onFileChange:function(e){var t=this;this.$emit("change",e);var r=e.dataTransfer&&e.dataTransfer.items;if(!r||this.noTraverse)this.setFiles(e.target.files||e.dataTransfer.files);else{for(var n=[],i=0;i<r.length;i++){var o=r[i].webkitGetAsEntry();o&&n.push(this.traverseFileTree(o))}Promise.all(n).then((function(e){t.setFiles(Object(x.c)(e))}))}},setFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e)if(this.multiple){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);this.selectedFile=t}else this.selectedFile=e[0]||null;else this.selectedFile=null},onReset:function(){this.selectedFile=this.multiple?[]:null},onDragover:function(e){e.preventDefault(),e.stopPropagation(),!this.noDrop&&this.custom&&(this.dragging=!0,e.dataTransfer.dropEffect="copy")},onDragleave:function(e){e.preventDefault(),e.stopPropagation(),this.dragging=!1},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.noDrop||(this.dragging=!1,e.dataTransfer.files&&e.dataTransfer.files.length>0&&this.onFileChange(e))},traverseFileTree:function(e,path){var t=this;return new Promise((function(r){path=path||"",e.isFile?e.file((function(e){e.$path=path,r(e)})):e.isDirectory&&e.createReader().readEntries((function(n){for(var o=[],i=0;i<n.length;i++)o.push(t.traverseFileTree(n[i],path+e.name+"/"));Promise.all(o).then((function(e){r(Object(x.c)(e))}))}))}))}},render:function(e){var input=e("input",{ref:"input",class:[{"form-control-file":this.plain,"custom-file-input":this.custom,focus:this.custom&&this.hasFocus},this.stateClass],attrs:vi({},this.$attrs,{type:"file",id:this.safeId(),name:this.name,disabled:this.disabled,required:this.required,form:this.form||null,capture:this.capture||null,accept:this.accept||null,multiple:this.multiple,webkitdirectory:this.directory,"aria-required":this.required?"true":null}),on:{change:this.onFileChange,focusin:this.focusHandler,focusout:this.focusHandler,reset:this.onReset}});if(this.plain)return input;var label=e("label",{staticClass:"custom-file-label",class:[this.dragging?"dragging":null],attrs:{for:this.safeId(),"data-browse":this.browseText||null}},this.selectLabel);return e("div",{staticClass:"custom-file b-form-file",class:[this.stateClass,Object(o.a)({},"b-custom-control-".concat(this.size),this.size)],attrs:{id:this.safeId("_BV_file_outer_")},on:{dragover:this.onDragover,dragleave:this.onDragleave,drop:this.onDrop}},[input,label])}}),gi=Object(n.b)({components:{BFormFile:mi,BFile:mi}}),bi=function(e,t){return t+(e?Object(xe.i)(e):"")};function yi(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var _i=/^col-/,wi=function(){return{type:[String,Number],default:null}},ki=h((function(e,t,r){var n=e;if(!Object(T.l)(r)&&!1!==r)return t&&(n+="-".concat(t)),"col"!==e||""!==r&&!0!==r?(n+="-".concat(r),Object(xe.c)(n)):Object(xe.c)(n)})),Si=Object(object.c)(null),xi=function(){var e=S().filter(de.a),t=e.reduce((function(e,t){return t&&(e[t]={type:[Boolean,String,Number],default:!1}),e}),Object(object.c)(null)),r=e.reduce((function(e,t){return e[bi(t,"offset")]=wi(),e}),Object(object.c)(null)),n=e.reduce((function(e,t){return e[bi(t,"order")]=wi(),e}),Object(object.c)(null));return Si=Object(object.a)(Object(object.c)(null),{col:Object(object.l)(t),offset:Object(object.l)(r),order:Object(object.l)(n)}),function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?yi(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):yi(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({col:{type:Boolean,default:!1},cols:wi()},t,{offset:wi()},r,{order:wi()},n,{alignSelf:{type:String,default:null,validator:function(e){return Object(x.a)(["auto","start","end","center","baseline","stretch"],e)}},tag:{type:String,default:"div"}})},Oi={name:"BCol",functional:!0,get props(){return delete this.props,this.props=xi()},render:function(e,t){var r,n=t.props,data=t.data,l=t.children,c=[];for(var d in Si)for(var h=Si[d],i=0;i<h.length;i++){var f=ki(d,h[i].replace(d,""),n[h[i]]);f&&c.push(f)}var v=c.some((function(e){return _i.test(e)}));return c.push((r={col:n.col||!v&&!n.cols},Object(o.a)(r,"col-".concat(n.cols),n.cols),Object(o.a)(r,"offset-".concat(n.offset),n.offset),Object(o.a)(r,"order-".concat(n.order),n.order),Object(o.a)(r,"align-self-".concat(n.alignSelf),n.alignSelf),r)),e(n.tag,Object(oe.a)(data,{class:c}),l)}};function Ti(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ei(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ti(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ti(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ci=function(e,t){var content=t.normalizeSlot("invalid-feedback")||t.invalidFeedback,r=e();return content&&(r=e(Fo,{props:{id:t.invalidFeedbackId,state:t.computedState,tooltip:t.tooltip,ariaLive:t.feedbackAriaLive,role:t.feedbackAriaLive?"alert":null},attrs:{tabindex:content?"-1":null}},[content])),r},Ii=function(e,t){var content=t.normalizeSlot("valid-feedback")||t.validFeedback,r=e();return content&&(r=e(Vo,{props:{id:t.validFeedbackId,state:t.computedState,tooltip:t.tooltip,ariaLive:t.feedbackAriaLive,role:t.feedbackAriaLive?"alert":null},attrs:{tabindex:content?"-1":null}},[content])),r},ji=function(e,t){var content=t.normalizeSlot("description")||t.description,r=e();return content&&(r=e(Lo,{attrs:{id:t.descriptionId,tabindex:content?"-1":null}},[content])),r},Mi=h((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"".concat(t).concat(Object(xe.i)(e))})),Ri={name:"BFormGroup",mixins:[Ut,Qo,pe],get props(){return delete this.props,this.props=(e=S(),t=e.reduce((function(e,t){return e[Mi(t,"labelCols")]={type:[Number,String,Boolean],default:!t&&null},e}),Object(object.c)(null)),r=e.reduce((function(e,t){return e[Mi(t,"labelAlign")]={type:String,default:null},e}),Object(object.c)(null)),Ei({label:{type:String,default:null},labelFor:{type:String,default:null},labelSize:{type:String,default:null},labelSrOnly:{type:Boolean,default:!1}},t,{},r,{labelClass:{type:[String,Array,Object],default:null},description:{type:String,default:null},invalidFeedback:{type:String,default:null},validFeedback:{type:String,default:null},tooltip:{type:Boolean,default:!1},feedbackAriaLive:{type:String,default:"assertive"},validated:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}));var e,t,r},computed:{labelColProps:function(){var e=this,t={};return S().forEach((function(r){var n=e[Mi(r,"labelCols")];if(n=""===n||(n||!1),Object(T.a)(n)||"auto"===n||(n=(n=parseInt(n,10)||0)>0&&n),n){var o=r||(Object(T.a)(n)?"col":"cols");t[o]=n}})),t},labelAlignClasses:function(){var e=this,t=[];return S().forEach((function(r){var n=e[Mi(r,"labelAlign")]||null;if(n){var o=r?"text-".concat(r,"-").concat(n):"text-".concat(n);t.push(o)}})),t},isHorizontal:function(){return Object(object.l)(this.labelColProps).length>0},labelId:function(){return this.hasNormalizedSlot("label")||this.label?this.safeId("_BV_label_"):null},descriptionId:function(){return this.hasNormalizedSlot("description")||this.description?this.safeId("_BV_description_"):null},hasInvalidFeedback:function(){return!1===this.computedState&&(this.hasNormalizedSlot("invalid-feedback")||this.invalidFeedback)},invalidFeedbackId:function(){return this.hasInvalidFeedback?this.safeId("_BV_feedback_invalid_"):null},hasValidFeedback:function(){return!0===this.computedState&&(this.hasNormalizedSlot("valid-feedback")||this.validFeedback)},validFeedbackId:function(){return this.hasValidFeedback?this.safeId("_BV_feedback_valid_"):null},describedByIds:function(){return[this.descriptionId,this.invalidFeedbackId,this.validFeedbackId].filter(Boolean).join(" ")||null}},watch:{describedByIds:function(e,t){e!==t&&this.setInputDescribedBy(e,t)}},mounted:function(){var e=this;this.$nextTick((function(){e.setInputDescribedBy(e.describedByIds)}))},methods:{legendClick:function(e){if(!this.labelFor){var t=e.target?e.target.tagName:"";if(!/^(input|select|textarea|label|button|a)$/i.test(t)){var r=z("input:not([disabled]),textarea:not([disabled]),select:not([disabled])",this.$refs.content).filter(B);if(r&&1===r.length&&r[0].focus)try{r[0].focus()}catch(e){}}}},setInputDescribedBy:function(e,t){if(this.labelFor&&O.j){var input=F("#".concat(this.labelFor),this.$refs.content);if(input){var r="aria-describedby",n=(X(input,r)||"").split(/\s+/);e=(e||"").split(/\s+/),t=(t||"").split(/\s+/),n=n.filter((function(e){return!Object(x.a)(t,e)})).concat(e).filter(Boolean),(n=Object(object.l)(n.reduce((function(e,t){return Ei({},e,Object(o.a)({},t,!0))}),{})).join(" ").trim())?W(input,r,n):Y(input,r)}}}},render:function(e){var t=!this.labelFor,r=this.isHorizontal,label=function(e,t){var content=t.normalizeSlot("label")||t.label,r=t.labelFor,n=!r,o=t.isHorizontal,l=n?"legend":"label";if(content||o){if(t.labelSrOnly){var label=e();return content&&(label=e(l,{class:"sr-only",attrs:{id:t.labelId,for:r||null}},[content])),e(o?Oi:"div",{props:o?t.labelColProps:{}},[label])}return e(o?Oi:l,{on:n?{click:t.legendClick}:{},props:o?Ei({tag:l},t.labelColProps):{},attrs:{id:t.labelId,for:r||null,tabindex:n?"-1":null},class:[n?"bv-no-focus-ring":"",o||n?"col-form-label":"",!o&&n?"pt-0":"",o||n?"":"d-block",t.labelSize?"col-form-label-".concat(t.labelSize):"",t.labelAlignClasses,t.labelClass]},[content])}return e()}(e,this),content=e(r?Oi:"div",{ref:"content",staticClass:"bv-no-focus-ring",attrs:{tabindex:t?"-1":null,role:t?"group":null}},[this.normalizeSlot("default")||e(),Ci(e,this),Ii(e,this),ji(e,this)]),data={staticClass:"form-group",class:[this.validated?"was-validated":null,this.stateClass],attrs:{id:this.safeId(),disabled:t?this.disabled:null,role:t?null:"group","aria-invalid":!1===this.computedState?"true":null,"aria-labelledby":t&&r?this.labelId:null,"aria-describedby":t?this.describedByIds:null}};return e(t?"fieldset":r?$o:"div",data,r&&t?[e($o,[label,content])]:[label,content])}},Ai=Object(n.b)({components:{BFormGroup:Ri,BFormFieldset:Ri}}),Pi={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function,default:null},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:Object(xe.f)(this.value),vModelValue:this.value}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null},computedDebounce:function(){return Math.max(Object(ne.c)(this.debounce)||0,0)},hasFormatter:function(){return Object(T.e)(this.formatter)}},watch:{value:function(e){var t=Object(xe.f)(e);t!==this.localValue&&e!==this.vModelValue&&(this.clearDebounce(),this.localValue=t,this.vModelValue=e)}},mounted:function(){this.$_inputDebounceTimer=null,this.$on("hook:beforeDestroy",this.clearDebounce);var e=this.value,t=Object(xe.f)(e);t!==this.localValue&&e!==this.vModelValue&&(this.localValue=t,this.vModelValue=e)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=Object(xe.f)(e),!this.hasFormatter||this.lazyFormatter&&!r||(e=this.formatter(e,t)),e},modifyValue:function(e){if(this.trim&&(e=e.trim()),this.number){var t=Object(ne.b)(e);e=isNaN(t)?e:t}return e},updateValue:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.lazy;if(!n||r)if((e=this.modifyValue(e))!==this.vModelValue){this.clearDebounce();var o=function(){t.vModelValue=e,t.$emit("update",e)},l=this.computedDebounce;l>0&&!n&&!r?this.$_inputDebounceTimer=setTimeout(o,l):o()}else if(this.hasFormatter){var c=this.$refs.input;c&&e!==c.value&&(c.value=e)}},onInput:function(e){if(!e.target.composing){var t=e.target.value,r=this.formatValue(t,e);!1===r||e.defaultPrevented?e.preventDefault():(this.localValue=r,this.updateValue(r),this.$emit("input",r))}},onChange:function(e){var t=e.target.value,r=this.formatValue(t,e);!1===r||e.defaultPrevented?e.preventDefault():(this.localValue=r,this.updateValue(r,!0),this.$emit("change",r))},onBlur:function(e){var t=e.target.value,r=this.formatValue(t,e,!0);!1!==r&&(this.localValue=Object(xe.f)(this.modifyValue(r)),this.updateValue(r,!0)),this.$emit("blur",e)},focus:function(){this.disabled||this.$el.focus()},blur:function(){this.disabled||this.$el.blur()}}},Bi={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}},Di={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}};function Li(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function zi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Li(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Li(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Fi=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],Ni=l.a.extend({name:"BFormInput",mixins:[Ut,Ko,Xo,Qo,Pi,Bi,Di],props:{type:{type:String,default:"text",validator:function(e){return Object(x.a)(Fi,e)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:{type:[String,Number],default:null},list:{type:String,default:null}},computed:{localType:function(){return Object(x.a)(Fi,this.type)?this.type:"text"}},watch:{noWheel:function(e){this.setWheelStopper(e)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(e){var input=this.$el;hn(e,input,"focus",this.onWheelFocus),hn(e,input,"blur",this.onWheelBlur),e||dn(document,"wheel",this.stopWheel)},onWheelFocus:function(){un(document,"wheel",this.stopWheel)},onWheelBlur:function(){dn(document,"wheel",this.stopWheel)},stopWheel:function(e){e.preventDefault(),this.$el.blur()}},render:function(e){return e("input",{ref:"input",class:this.computedClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,type:this.localType,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:this.min,max:this.max,step:this.step,list:"password"!==this.localType?this.list:null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},domProps:{value:this.localValue},on:zi({},this.$listeners,{input:this.onInput,change:this.onChange,blur:this.onBlur})})}}),Vi=Object(n.b)({components:{BFormInput:Ni,BInput:Ni}}),Hi=l.a.extend({name:"BFormRadioGroup",mixins:[Ut,Ko,ei,Ro,Xo,Qo],provide:function(){return{bvRadioGroup:this}},props:{checked:{default:null}},data:function(){return{localChecked:this.checked}},computed:{isRadioGroup:function(){return!0}}}),$i=Object(n.b)({components:{BFormRadio:Zo,BRadio:Zo,BFormRadioGroup:Hi,BRadioGroup:Hi}}),Ui={mixins:[Ro],props:{labelField:{type:String,default:"label"},optionsField:{type:String,default:"options"}},methods:{normalizeOption:function(option){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(object.k)(option)){var t=Object(d.a)(option,this.valueField),text=Object(d.a)(option,this.textField),r=Object(d.a)(option,this.optionsField);return Object(x.d)(r)?{label:String(Object(d.a)(option,this.labelField)||text),options:r}:{value:Object(T.k)(t)?e||text:t,text:String(Object(T.k)(text)?e:text),html:Object(d.a)(option,this.htmlField),disabled:Boolean(Object(d.a)(option,this.disabledField))}}return{value:e||option,text:String(option),disabled:!1}}}},qi={value:{required:!0},disabled:{type:Boolean,default:!1}},Ki=l.a.extend({name:"BFormSelectOption",functional:!0,props:qi,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=r.value,l=r.disabled;return e("option",Object(oe.a)(data,{attrs:{disabled:l},domProps:{value:o}}),n)}}),Gi=l.a.extend({name:"BFormSelectOptionGroup",mixins:[pe,Ro],props:{label:{type:String,required:!0}},render:function(e){return e("optgroup",{attrs:{label:this.label}},[this.normalizeSlot("first"),this.formOptions.map((function(option,t){return e(Ki,{props:{value:option.value,disabled:option.disabled},domProps:Ge(option.html,option.text),key:"option_".concat(t,"_opt")})})),this.normalizeSlot("default")])}}),Wi=l.a.extend({name:"BFormSelect",mixins:[Ut,pe,Ko,Xo,Qo,fi,Ui],model:{prop:"value",event:"input"},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid?"true":"is-invalid"===this.stateClass?"true":null}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit("input",this.localValue)}},methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}},render:function(e){var t=this;return e("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(e){var r=e.target,n=Object(x.c)(r.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));t.localValue=r.multiple?n:n[0],t.$nextTick((function(){t.$emit("change",t.localValue)}))}}},[this.normalizeSlot("first"),this.formOptions.map((function(option,t){var r="option_".concat(t,"_opt"),n=option.options;return Object(x.d)(n)?e(Gi,{props:{label:option.label,options:n},key:r}):e(Ki,{props:{value:option.value,disabled:option.disabled},domProps:Ge(option.html,option.text),key:r})})),this.normalizeSlot("default")])}}),Yi=Object(n.b)({components:{BFormSelect:Wi,BFormSelectOption:Ki,BFormSelectOptionGroup:Gi,BSelect:Wi,BSelectOption:Ki,BSelectOptionGroup:Gi}});function Xi(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Qi(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Xi(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Xi(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ji=ot.UP,Zi=ot.DOWN,ea=ot.HOME,ta=ot.END,ra=ot.PAGEUP,na=ot.PAGEDOWN,oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e=Object(ne.b)(e),isNaN(e)?t:e},ia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e=Object(ne.c)(e),isNaN(e)?Math.abs(t):e},aa=l.a.extend({name:"BFormSpinbutton",mixins:[Ut],inheritAttrs:!1,props:{value:{type:Number,default:null},min:{type:[Number,String],default:1},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},wrap:{type:Boolean,default:!1},formatterFn:{type:Function},size:{type:String},placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},name:{type:String},form:{type:String},state:{type:Boolean,default:null},inline:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},ariaLabel:{type:String,default:null},ariaControls:{type:String,default:null},labelDecrement:{type:String,default:function(){return y("BFormSpinbutton","labelDecrement")}},labelIncrement:{type:String,default:function(){return y("BFormSpinbutton","labelIncrement")}},locale:{type:[String,Array],default:null},repeatDelay:{type:[Number,String],default:500},repeatInterval:{type:[Number,String],default:100},repeatThreshold:{type:[Number,String],default:10},repeatStepMultiplier:{type:[Number,String],default:4}},data:function(){return{localValue:oa(this.value),hasFocus:!1}},computed:{computedStep:function(){return oa(this.step,1)},computedMin:function(){return oa(this.min,1)},computedMax:function(){return oa(this.max,100)},computedDelay:function(){return ia(this.repeatDelay,500)||500},computedInterval:function(){return ia(this.repeatInterval,100)||100},computedThreshold:function(){return ia(this.repeatThreshold,10)||1},computedStepMultiplier:function(){return ia(this.repeatStepMultiplier,4)||1},computedPrecision:function(){var e=this.computedStep;return Math.floor(e)===e?0:(e.toString().split(".")[1]||"").length},computedMultiplier:function(){return Math.pow(10,this.computedPrecision||0)},valueAsFixed:function(){var e=this.localValue;return Object(T.f)(e)?"":e.toFixed(this.computedPrecision)},computedLocale:function(){var e=Object(x.b)(this.locale).filter(de.a);return new Intl.NumberFormat(e).resolvedOptions().locale},defaultFormatter:function(){var e=this.computedPrecision;return new Intl.NumberFormat(this.computedLocale,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format}},watch:{value:function(e){e=Object(ne.b)(e),this.localValue=isNaN(e)?null:e},localValue:function(e){this.$emit("input",e)},disabled:function(e){e&&this.clearRepeat()},readonly:function(e){e&&this.clearRepeat()}},created:function(){this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null,this.$_keyIsDown=!1},beforeDestroy:function(){this.clearRepeat()},deactivated:function(){this.clearRepeat()},methods:{focus:function(){if(!this.disabled)try{this.$refs.spinner.focus()}catch(e){}},blur:function(){if(!this.disabled)try{this.$refs.spinner.blur()}catch(e){}},emitChange:function(){this.$emit("change",this.localValue)},stepValue:function(e){var t=this.localValue;if(!this.disabled&&!Object(T.f)(t)){var r=this.computedStep*e,n=this.computedMin,o=this.computedMax,l=this.computedMultiplier,c=this.wrap;t=Math.round((t-n)/r)*r+n+r,t=Math.round(t*l)/l,this.localValue=t>o?c?n:o:t<n?c?o:n:t}},onFocusBlur:function(e){this.disabled?this.hasFocus=!1:this.hasFocus="focus"===e.type},stepUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;Object(T.f)(t)?this.localValue=this.computedMin:this.stepValue(1*e)},stepDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;Object(T.f)(t)?this.localValue=this.wrap?this.computedMax:this.computedMin:this.stepValue(-1*e)},onKeydown:function(e){var t=e.keyCode,r=e.altKey,n=e.ctrlKey,o=e.metaKey;if(!(this.disabled||this.readonly||r||n||o)&&Object(x.a)([Ji,Zi,ea,ta,ra,na],t)){if(e.preventDefault(),this.$_keyIsDown)return;this.resetTimers(),Object(x.a)([Ji,Zi],t)?(this.$_keyIsDown=!0,t===Ji?this.handleStepRepeat(e,this.stepUp):t===Zi&&this.handleStepRepeat(e,this.stepDown)):t===ra?this.stepUp(this.computedStepMultiplier):t===na?this.stepDown(this.computedStepMultiplier):t===ea?this.localValue=this.computedMin:t===ta&&(this.localValue=this.computedMax)}},onKeyup:function(e){var t=e.keyCode,r=e.altKey,n=e.ctrlKey,o=e.metaKey;this.disabled||this.readonly||r||n||o||Object(x.a)([Ji,Zi,ea,ta,ra,na],t)&&(this.resetTimers(),this.$_keyIsDown=!1,e.preventDefault(),this.emitChange())},handleStepRepeat:function(e,t){var r=this,n=e||{},o=n.type,button=n.button;if(!this.disabled&&!this.readonly){if("mousedown"===o&&button)return;this.resetTimers(),this.setMouseup(!0),t(1);var l=this.computedThreshold,c=this.computedStepMultiplier,d=this.computedDelay,h=this.computedInterval;this.$_autoDelayTimer=setTimeout((function(){var e=0;r.$_autoRepeatTimer=setInterval((function(){t(e<l?1:c),e++}),h)}),d)}},onMouseup:function(e){var t=e||{},r=t.type,button=t.button;"mouseup"===r&&button||(this.resetTimers(),this.setMouseup(!1),this.emitChange())},setMouseup:function(e){try{hn(e,document.body,"mouseup",this.onMouseup,sn),hn(e,document.body,"touchend",this.onMouseup,sn)}catch(e){}},resetTimers:function(){clearTimeout(this.$_autoDelayTimer),clearInterval(this.$_autoRepeatTimer)},clearRepeat:function(){this.resetTimers(),this.setMouseup(!1),this.$_keyIsDown=!1}},render:function(e){var t,r=this,n=this.safeId(),l=this.localValue,c=this.vertical,d=this.inline&&!c,h=this.disabled,f=this.readonly&&!h,v=this.required&&!f&&!h,m=this.state,y=this.size,_=!Object(T.f)(l),w=Object(T.e)(this.formatterFn)?this.formatterFn:this.defaultFormatter,k=function(t,label,o,l,d,v){var m=e(o,{props:{scale:r.hasFocus?1.5:1.25},attrs:{"aria-hidden":"true"}}),y=function(e){h||f||r.handleStepRepeat(e,t)};return e("button",{key:l||null,ref:l,staticClass:"btn btn-sm border-0 rounded-0",class:{"py-0":!c},attrs:{tabindex:"-1",type:"button",disabled:h||f||v,"aria-disabled":h||f||v?"true":null,"aria-controls":n,"aria-label":label||null,"aria-keyshortcuts":d||null},on:{mousedown:y,touchstart:y}},[e("div",{},[m])])},S=k(this.stepUp,this.labelIncrement,qt.oe,"inc","ArrowUp"),x=k(this.stepDown,this.labelDecrement,qt.rc,"dec","ArrowDown"),O=e();this.name&&!h&&(O=e("input",{key:"hidden",attrs:{type:"hidden",name:this.name,form:this.form||null,value:this.valueAsFixed}}));var E=e("output",{ref:"spinner",key:"output",staticClass:"flex-grow-1",class:{"w-100":!c&&!d,"d-flex":c,"align-self-center":!c,"align-items-center":c,"py-1":c,"px-1":!c,"mx-1":c,"border-top":c,"border-bottom":c,"border-left":!c,"border-right":!c},attrs:{id:n,role:"spinbutton",tabindex:h?null:"0","aria-live":"off","aria-label":this.ariaLabel||null,"aria-controls":this.ariaControls||null,"aria-invalid":!1===m||!_&&v?"true":null,"aria-required":v?"true":null,"aria-valuemin":Object(xe.f)(this.computedMin),"aria-valuemax":Object(xe.f)(this.computedMax),"aria-valuenow":_?l:null,"aria-valuetext":_?w(l):null}},[e("div",{staticClass:"w-100"},_?w(l):this.placeholder||"")]);return e("div",{staticClass:"b-form-spinbutton form-control p-0",class:(t={disabled:h,readonly:f,focus:this.hasFocus},Object(o.a)(t,"form-control-".concat(y),!!y),Object(o.a)(t,"d-inline-flex",d||c),Object(o.a)(t,"d-flex",!d&&!c),Object(o.a)(t,"align-items-stretch",!c),Object(o.a)(t,"flex-column",c),Object(o.a)(t,"is-valid",!0===m),Object(o.a)(t,"is-invalid",!1===m),t),attrs:Qi({},this.$attrs,{role:"group",lang:this.computedLocale,tabindex:h?null:"-1",dir:"ltr"}),on:{keydown:this.onKeydown,keyup:this.onKeyup,"!focus":this.onFocusBlur,"!blur":this.onFocusBlur}},c?[S,O,E,x]:[x,O,E,S])}}),sa=Object(n.b)({components:{BFormSpinbutton:aa,BSpinbutton:aa}}),la=(r(151),l.a.extend({name:"BFormTag",mixins:[Ut,pe],props:{variant:{type:String,default:function(){return y("BFormTag","variant")}},disabled:{type:Boolean,default:!1},title:{type:String,default:null},pill:{type:Boolean,default:!1},removeLabel:{type:String,default:function(){return y("BFormTag","removeLabel")}},tag:{type:String,default:"span"}},methods:{onDelete:function(e){var t=e.type,r=e.keyCode;this.disabled||"click"!==t&&("keydown"!==t||r!==ot.DELETE)||this.$emit("remove")}},render:function(e){var t=this.safeId(),r=this.safeId("_taglabel_"),n=e();this.disabled||(n=e(me,{staticClass:"b-form-tag-remove ml-1",props:{ariaLabel:this.removeLabel},attrs:{"aria-controls":t,"aria-describedby":r,"aria-keyshortcuts":"Delete"},on:{click:this.onDelete,keydown:this.onDelete}}));var o=e("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:r}},this.normalizeSlot("default")||this.title||[e()]);return e($e,{staticClass:"b-form-tag d-inline-flex align-items-baseline mw-100",class:{disabled:this.disabled},attrs:{id:t,title:this.title||null,"aria-labelledby":r},props:{tag:this.tag,variant:this.variant,pill:this.pill}},[o,n])}}));function ca(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ua(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ca(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ca(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var da=["text","email","tel","url","number"],ha=/[\s\uFEFF\xA0]+/g,fa=ot.ENTER,pa=ot.BACKSPACE,va=ot.DELETE,ma=function(e){return Object(x.b)(e).map((function(e){return Object(xe.g)(Object(xe.f)(e))})).filter((function(e,t,r){return e.length>0&&r.indexOf(e)===t}))},ga=function(e){return Object(T.j)(e)?e:Object(T.c)(e)&&e.target.value||""},ba=l.a.extend({name:"BFormTags",mixins:[Ut,pe],model:{prop:"value",event:"input"},props:{inputId:{type:String,default:null},placeholder:{type:String,default:function(){return y("BFormTags","placeholder")}},disabled:{type:Boolean,default:!1},name:{type:String,default:null},form:{type:String,default:null},autofocus:{type:Boolean,default:!1},state:{type:Boolean,default:null},size:{type:String,default:null},inputType:{type:String,default:"text",validator:function(e){return Object(x.a)(da,e)}},inputClass:{type:[String,Array,Object],default:null},inputAttrs:{type:Object,default:function(){return{}}},addButtonText:{type:String,default:function(){return y("BFormTags","addButtonText")}},addButtonVariant:{type:String,default:function(){return y("BFormTags","addButtonVariant")}},tagVariant:{type:String,default:function(){return y("BFormTags","tagVariant")}},tagClass:{type:[String,Array,Object],default:null},tagPills:{type:Boolean,default:!1},tagRemoveLabel:{type:String,default:function(){return y("BFormTags","tagRemoveLabel")}},tagRemovedLabel:{type:String,default:function(){return y("BFormTags","tagRemovedLabel")}},tagValidator:{type:Function,default:null},duplicateTagText:{type:String,default:function(){return y("BFormTags","duplicateTagText")}},invalidTagText:{type:String,default:function(){return y("BFormTags","invalidTagText")}},separator:{type:[String,Array],default:null},removeOnDelete:{type:Boolean,default:!1},addOnChange:{type:Boolean,default:!1},noAddOnEnter:{type:Boolean,default:!1},noOuterFocus:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},data:function(){return{hasFocus:!1,newTag:"",tags:[],removedTags:[],tagsState:{all:[],valid:[],invalid:[],duplicate:[]}}},computed:{computedInputId:function(){return this.inputId||this.safeId("__input__")},computedInputType:function(){return Object(x.a)(da,this.inputType)?this.inputType:"text"},computedInputAttrs:function(){return ua({},this.inputAttrs,{id:this.computedInputId,value:this.newTag,disabled:this.disabled||null,form:this.form||null})},computedInputHandlers:function(){return{input:this.onInputInput,change:this.onInputChange,keydown:this.onInputKeydown}},computedSeparator:function(){return Object(x.b)(this.separator).filter(T.j).filter(de.a).join("")},computedSeparatorRegExp:function(){var e,t=this.computedSeparator;return t?new RegExp("[".concat((e=t,Object(xe.a)(e).replace(ha,"\\s")),"]+")):null},computedJoiner:function(){var e=this.computedSeparator.charAt(0);return" "!==e?"".concat(e," "):e},disableAddButton:function(){var e=this,t=Object(xe.g)(this.newTag);return""===t||!this.splitTags(t).some((function(t){return!Object(x.a)(e.tags,t)&&e.validateTag(t)}))},duplicateTags:function(){return this.tagsState.duplicate},hasDuplicateTags:function(){return this.duplicateTags.length>0},invalidTags:function(){return this.tagsState.invalid},hasInvalidTags:function(){return this.invalidTags.length>0}},watch:{value:function(e){this.tags=ma(e)},tags:function(e,t){It(e,this.value)||this.$emit("input",e),It(e,t)||(e=Object(x.b)(e).filter(de.a),t=Object(x.b)(t).filter(de.a),this.removedTags=t.filter((function(t){return!Object(x.a)(e,t)})))},tagsState:function(e,t){It(e,t)||this.$emit("tag-state",e.valid,e.invalid,e.duplicate)}},created:function(){this.tags=ma(this.value)},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{addTag:function(e){if(e=Object(T.j)(e)?e:this.newTag,!this.disabled&&""!==Object(xe.g)(e)){var t=this.parseTags(e);if(t.valid.length>0||0===t.all.length)if(N(this.getInput(),"select"))this.newTag="";else{var r=[].concat(Object(Se.a)(t.invalid),Object(Se.a)(t.duplicate));this.newTag=t.all.filter((function(e){return Object(x.a)(r,e)})).join(this.computedJoiner).concat(r.length>0?this.computedJoiner.charAt(0):"")}t.valid.length>0&&(this.tags=Object(x.b)(this.tags,t.valid)),this.tagsState=t,this.focus()}},removeTag:function(e){var t=this;this.disabled||(this.tags=this.tags.filter((function(t){return t!==e})),this.$nextTick((function(){t.focus()})))},onInputInput:function(e){if(!(this.disabled||Object(T.c)(e)&&e.target.composing)){var t=ga(e),r=this.computedSeparatorRegExp;this.newTag!==t&&(this.newTag=t),t=Object(xe.h)(t),r&&r.test(t.slice(-1))?this.addTag():this.tagsState=""===t?{all:[],valid:[],invalid:[],duplicate:[]}:this.parseTags(t)}},onInputChange:function(e){if(!this.disabled&&this.addOnChange){var t=ga(e);this.newTag!==t&&(this.newTag=t),this.addTag()}},onInputKeydown:function(e){if(!this.disabled&&Object(T.c)(e)){var t=e.keyCode,r=e.target.value||"";this.noAddOnEnter||t!==fa?!this.removeOnDelete||t!==pa&&t!==va||""!==r||(e.preventDefault(),this.tags=this.tags.slice(0,-1)):(e.preventDefault(),this.addTag())}},onClick:function(e){var t=this;!this.disabled&&Object(T.c)(e)&&e.target===e.currentTarget&&this.$nextTick((function(){t.focus()}))},onFocusin:function(){this.hasFocus=!0},onFocusout:function(){this.hasFocus=!1},handleAutofocus:function(){var e=this;this.$nextTick((function(){R((function(){e.autofocus&&!e.disabled&&e.focus()}))}))},focus:function(){if(!this.disabled)try{this.getInput().focus()}catch(e){}},blur:function(){try{this.getInput().blur()}catch(e){}},splitTags:function(e){e=Object(xe.f)(e);var t=this.computedSeparatorRegExp;return(t?e.split(t):[e]).map(xe.g).filter(de.a)},parseTags:function(e){var t=this,r=this.splitTags(e),n={all:r,valid:[],invalid:[],duplicate:[]};return r.forEach((function(e){Object(x.a)(t.tags,e)||Object(x.a)(n.valid,e)?Object(x.a)(n.duplicate,e)||n.duplicate.push(e):t.validateTag(e)?n.valid.push(e):Object(x.a)(n.invalid,e)||n.invalid.push(e)})),n},validateTag:function(e){var t=this.tagValidator;return!Object(T.e)(t)||t(e)},getInput:function(){return F("#".concat(this.computedInputId),this.$el)},defaultRender:function(e){var t=e.tags,r=e.addTag,n=e.removeTag,o=e.inputType,l=e.inputAttrs,c=e.inputHandlers,d=e.inputClass,h=e.tagClass,f=e.tagVariant,v=e.tagPills,m=e.tagRemoveLabel,y=e.invalidTagText,_=e.duplicateTagText,w=e.isInvalid,k=e.isDuplicate,S=e.disabled,O=e.placeholder,T=e.addButtonText,E=e.addButtonVariant,C=e.disableAddButton,I=this.$createElement,j=t.map((function(e){return e=Object(xe.f)(e),I(la,{key:"li-tag__".concat(e),staticClass:"mt-1 mr-1",class:h,props:{tag:"li",title:e,disabled:S,variant:f,pill:v,removeLabel:m},on:{remove:function(){return n(e)}}},e)})),M=y&&w?this.safeId("__invalid_feedback__"):null,R=_&&k?this.safeId("__duplicate_feedback__"):null,A=[l["aria-describedby"],M,R].filter(de.a).join(" "),P=I("input",{ref:"input",directives:[{name:"model",value:l.value}],staticClass:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",class:d,style:{outline:0,minWidth:"5rem"},attrs:ua({},l,{"aria-describedby":A||null,type:o,placeholder:O||null}),domProps:{value:l.value},on:c}),B=I(_t,{ref:"button",staticClass:"b-form-tags-button py-0",class:{invisible:C},style:{fontSize:"90%"},props:{variant:E,disabled:C},on:{click:function(){return r()}}},[this.normalizeSlot("add-button-text")||T]),D=this.safeId("__TAG__LIST__"),L=I("li",{key:"__li-input__",staticClass:"flex-grow-1 mt-1",attrs:{role:"none","aria-live":"off","aria-controls":D}},[I("div",{staticClass:"d-flex",attrs:{role:"group"}},[P,B])]),z=I("ul",{key:"_tags_list_",staticClass:"list-unstyled mt-n1 mb-0 d-flex flex-wrap align-items-center",attrs:{id:D}},Object(x.b)(j,L)),F=I();if(y||_){var N=this.computedJoiner,V=I();M&&(V=I(Fo,{key:"_tags_invalid_feedback_",props:{id:M,forceShow:!0}},[this.invalidTagText,": ",this.invalidTags.join(N)]));var H=I();R&&(H=I(Lo,{key:"_tags_duplicate_feedback_",props:{id:R}},[this.duplicateTagText,": ",this.duplicateTags.join(N)])),F=I("div",{key:"_tags_feedback_",attrs:{"aria-live":"polite","aria-atomic":"true"}},[V,H])}return[z,F]}},render:function(e){var t=this,r={tags:this.tags.slice(),removeTag:this.removeTag,addTag:this.addTag,inputType:this.computedInputType,inputAttrs:this.computedInputAttrs,inputHandlers:this.computedInputHandlers,inputId:this.computedInputId,invalidTags:this.invalidTags.slice(),isInvalid:this.hasInvalidTags,duplicateTags:this.duplicateTags.slice(),isDuplicate:this.hasDuplicateTags,disableAddButton:this.disableAddButton,state:this.state,separator:this.separator,disabled:this.disabled,size:this.size,placeholder:this.placeholder,inputClass:this.inputClass,tagRemoveLabel:this.tagRemoveLabel,tagVariant:this.tagVariant,tagPills:this.tagPills,tagClass:this.tagClass,addButtonText:this.addButtonText,addButtonVariant:this.addButtonVariant,invalidTagText:this.invalidTagText,duplicateTagText:this.duplicateTagText},n=this.normalizeSlot("default",r)||this.defaultRender(r),l=e("output",{staticClass:"sr-only",attrs:{id:this.safeId("_selected-tags_"),role:"status",for:this.computedInputId,"aria-live":this.hasFocus?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"}},this.tags.join(", ")),c=e("div",{staticClass:"sr-only",attrs:{id:this.safeId("_removed-tags_"),role:"status","aria-live":this.hasFocus?"assertive":"off","aria-atomic":"true"}},this.removedTags.length>0?"(".concat(this.tagRemovedLabel,") ").concat(this.removedTags.join(", ")):""),d=e();return this.name&&!this.disabled&&(d=this.tags.map((function(r){return e("input",{key:r,attrs:{type:"hidden",value:r,name:t.name,form:t.form||null}})}))),e("div",{staticClass:"b-form-tags form-control h-auto",class:Object(o.a)({focus:this.hasFocus&&!this.noOuterFocus&&!this.disabled,disabled:this.disabled,"is-valid":!0===this.state,"is-invalid":!1===this.state},"form-control-".concat(this.size),this.size),attrs:{id:this.safeId(),role:"group",tabindex:this.disabled||this.noOuterFocus?null:"-1","aria-describedby":this.safeId("_selected_")},on:{focusin:this.onFocusin,focusout:this.onFocusout,click:this.onClick}},Object(x.b)(l,c,n,d))}}),ya=Object(n.b)({components:{BFormTags:ba,BTags:ba,BFormTag:la,BTag:la}});function _a(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function wa(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_a(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_a(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ka=l.a.extend({name:"BFormTextarea",directives:{"b-visible":Vr},mixins:[Ut,Sn,Ko,Xo,Qo,Pi,Bi,Di],props:{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String],default:null},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}},data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var e={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(e.height=this.heightInPx,e.overflowY="scroll"),e},computedMinRows:function(){return Math.max(parseInt(this.rows,10)||2,2)},computedMaxRows:function(){return Math.max(this.computedMinRows,parseInt(this.maxRows,10)||0)},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(e){e&&this.$nextTick(this.setHeight)},setHeight:function(){var e=this;this.$nextTick((function(){R((function(){e.heightInPx=e.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!Object(T.f)(this.computedRows))return null;var e=this.$el;if(!B(e))return null;var t=Z(e),r=parseFloat(t.lineHeight),n=(parseFloat(t.borderTopWidth)||0)+(parseFloat(t.borderBottomWidth)||0),o=(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0),l=n+o,c=r*this.computedMinRows+l,d=e.style.height||t.height;e.style.height="auto";var h=e.scrollHeight;e.style.height=d;var f=Math.max((h-o)/r,2),v=Math.min(Math.max(f,this.computedMinRows),this.computedMaxRows),m=Math.max(Math.ceil(v*r+l),c);return this.noAutoShrink&&(parseFloat(d)||0)>m?d:"".concat(m,"px")}},render:function(e){return e("textarea",{ref:"input",class:this.computedClass,style:this.computedStyle,directives:[{name:"model",value:this.localValue},{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},domProps:{value:this.localValue},on:wa({},this.$listeners,{input:this.onInput,change:this.onChange,blur:this.onBlur})})}}),Sa=Object(n.b)({components:{BFormTextarea:ka,BTextarea:ka}}),xa=Object(n.b)({components:{BImg:Ur,BImgLazy:Kr}}),Oa={tag:{type:String,default:"div"}},Ta=l.a.extend({name:"BInputGroupText",functional:!0,props:Oa,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{staticClass:"input-group-text"}),n)}});function Ea(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Ca={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}},Ia=l.a.extend({name:"BInputGroupAddon",functional:!0,props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ea(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ea(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Ca,{append:{type:Boolean,default:!1}}),render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{class:{"input-group-append":r.append,"input-group-prepend":!r.append},attrs:{id:r.id}}),r.isText?[e(Ta,n)]:n)}});function ja(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ma(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ja(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ja(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ra=l.a.extend({name:"BInputGroupPrepend",functional:!0,props:Ca,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(Ia,Object(oe.a)(data,{props:Ma({},r,{append:!1})}),n)}});function Aa(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Pa(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Aa(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Aa(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ba=l.a.extend({name:"BInputGroupAppend",functional:!0,props:Ca,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(Ia,Object(oe.a)(data,{props:Pa({},r,{append:!0})}),n)}}),Da={id:{type:String},size:{type:String,default:function(){return y("BInputGroup","size")}},prepend:{type:String},prependHtml:{type:String},append:{type:String},appendHtml:{type:String},tag:{type:String,default:"div"}},La=l.a.extend({name:"BInputGroup",functional:!0,props:Da,render:function(e,t){var r=t.props,data=t.data,n=t.slots,l=t.scopedSlots,c=n(),d=l||{},h=[];return r.prepend||r.prependHtml||he("prepend",d,c)?h.push(e(Ra,[r.prepend||r.prependHtml?e(Ta,{domProps:Ge(r.prependHtml,r.prepend)}):e(),fe("prepend",{},d,c)||e()])):h.push(e()),he("default",d,c)?h.push.apply(h,Object(Se.a)(fe("default",{},d,c))):h.push(e()),r.append||r.appendHtml||he("append",d,c)?h.push(e(Ba,[r.append||r.appendHtml?e(Ta,{domProps:Ge(r.appendHtml,r.append)}):e(),fe("append",{},d,c)||e()])):h.push(e()),e(r.tag,Object(oe.a)(data,{staticClass:"input-group",class:Object(o.a)({},"input-group-".concat(r.size),r.size),attrs:{id:r.id||null,role:"group"}}),h)}}),za=Object(n.b)({components:{BInputGroup:La,BInputGroupAddon:Ia,BInputGroupPrepend:Ra,BInputGroupAppend:Ba,BInputGroupText:Ta}}),Fa={tag:{type:String,default:"div"},fluid:{type:[Boolean,String],default:!1}},Na=l.a.extend({name:"BContainer",functional:!0,props:Fa,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{class:Object(o.a)({container:!(r.fluid||""===r.fluid),"container-fluid":!0===r.fluid||""===r.fluid},"container-".concat(r.fluid),r.fluid&&!0!==r.fluid)}),n)}}),Va={fluid:{type:Boolean,default:!1},containerFluid:{type:[Boolean,String],default:!1},header:{type:String,default:null},headerHtml:{type:String,default:null},headerTag:{type:String,default:"h1"},headerLevel:{type:[Number,String],default:"3"},lead:{type:String,default:null},leadHtml:{type:String,default:null},leadTag:{type:String,default:"p"},tag:{type:String,default:"div"},bgVariant:{type:String,default:function(){return y("BJumbotron","bgVariant")}},borderVariant:{type:String,default:function(){return y("BJumbotron","borderVariant")}},textVariant:{type:String,default:function(){return y("BJumbotron","textVariant")}}},Ha=l.a.extend({name:"BJumbotron",functional:!0,props:Va,render:function(e,t){var r,n=t.props,data=t.data,l=t.slots,c=t.scopedSlots,d=[],h=l(),f=c||{};return(n.header||he("header",f,h)||n.headerHtml)&&d.push(e(n.headerTag,{class:Object(o.a)({},"display-".concat(n.headerLevel),n.headerLevel)},fe("header",{},f,h)||n.headerHtml||Ke(n.header))),(n.lead||he("lead",f,h)||n.leadHtml)&&d.push(e(n.leadTag,{staticClass:"lead"},fe("lead",{},f,h)||n.leadHtml||Ke(n.lead))),he("default",f,h)&&d.push(fe("default",{},f,h)),n.fluid&&(d=[e(Na,{props:{fluid:n.containerFluid}},d)]),e(n.tag,Object(oe.a)(data,{staticClass:"jumbotron",class:(r={"jumbotron-fluid":n.fluid},Object(o.a)(r,"text-".concat(n.textVariant),n.textVariant),Object(o.a)(r,"bg-".concat(n.bgVariant),n.bgVariant),Object(o.a)(r,"border-".concat(n.borderVariant),n.borderVariant),Object(o.a)(r,"border",n.borderVariant),r)}),d)}}),$a=Object(n.b)({components:{BJumbotron:Ha}});function Ua(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var qa=["start","end","center"],Ka=h((function(e,t){return(t=Object(xe.g)(Object(xe.f)(t)))?Object(xe.c)(["row-cols",e,t].filter(de.a).join("-")):null})),Ga=h((function(e){return Object(xe.c)(e.replace("cols",""))})),Wa=[],Ya=function(){var e=S().reduce((function(e,t){return e[bi(t,"cols")]={type:[String,Number],default:null},e}),Object(object.c)(null));return Wa=Object(object.l)(e),function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ua(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ua(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(e){return Object(x.a)(qa.concat(["baseline","stretch"]),e)}},alignH:{type:String,default:null,validator:function(e){return Object(x.a)(qa.concat(["between","around"]),e)}},alignContent:{type:String,default:null,validator:function(e){return Object(x.a)(qa.concat(["between","around","stretch"]),e)}}},e)},Xa={name:"BRow",functional:!0,get props(){return delete this.props,this.props=Ya(),this.props},render:function(e,t){var r,n=t.props,data=t.data,l=t.children,c=[];return Wa.forEach((function(e){var t=Ka(Ga(e),n[e]);t&&c.push(t)})),c.push((r={"no-gutters":n.noGutters},Object(o.a)(r,"align-items-".concat(n.alignV),n.alignV),Object(o.a)(r,"justify-content-".concat(n.alignH),n.alignH),Object(o.a)(r,"align-content-".concat(n.alignContent),n.alignContent),r)),e(n.tag,Object(oe.a)(data,{staticClass:"row",class:c}),l)}},Qa=Object(n.b)({components:{BContainer:Na,BRow:Xa,BCol:Oi,BFormRow:$o}}),Ja=Object(n.b)({components:{BLink:Fe}}),Za={tag:{type:String,default:"div"},flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1}},es=l.a.extend({name:"BListGroup",functional:!0,props:Za,render:function(e,t){var r=t.props,data=t.data,n=t.children,l=""===r.horizontal||r.horizontal;l=!r.flush&&l;var c={staticClass:"list-group",class:Object(o.a)({"list-group-flush":r.flush,"list-group-horizontal":!0===l},"list-group-horizontal-".concat(l),Object(T.j)(l))};return e(r.tag,Object(oe.a)(data,c),n)}});function ts(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var rs=["a","router-link","button","b-link"],ns=ze();delete ns.href.default,delete ns.to.default;var os=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ts(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ts(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({tag:{type:String,default:"div"},action:{type:Boolean,default:null},button:{type:Boolean,default:null},variant:{type:String,default:function(){return y("BListGroupItem","variant")}}},ns),is=l.a.extend({name:"BListGroupItem",functional:!0,props:os,render:function(e,t){var r,n=t.props,data=t.data,l=t.children,c=n.button?"button":n.href||n.to?Fe:n.tag,d=Boolean(n.href||n.to||n.action||n.button||Object(x.a)(rs,n.tag)),h={},f={};"button"===c?(data.attrs&&data.attrs.type||(h.type="button"),n.disabled&&(h.disabled=!0)):f=ke(ns,n);var v={attrs:h,props:f,staticClass:"list-group-item",class:(r={},Object(o.a)(r,"list-group-item-".concat(n.variant),n.variant),Object(o.a)(r,"list-group-item-action",d),Object(o.a)(r,"active",n.active),Object(o.a)(r,"disabled",n.disabled),r)};return e(c,Object(oe.a)(data,v),l)}}),as=Object(n.b)({components:{BListGroup:es,BListGroupItem:is}}),ss={tag:{type:String,default:"div"}},ls=l.a.extend({name:"BMediaBody",functional:!0,props:ss,render:function(e,t){var r=t.props,data=t.data,n=t.children;return e(r.tag,Object(oe.a)(data,{staticClass:"media-body"}),n)}}),cs={tag:{type:String,default:"div"},verticalAlign:{type:String,default:"top"}},us=l.a.extend({name:"BMediaAside",functional:!0,props:cs,render:function(e,t){var r=t.props,data=t.data,n=t.children,l="top"===r.verticalAlign?"start":"bottom"===r.verticalAlign?"end":r.verticalAlign;return e(r.tag,Object(oe.a)(data,{staticClass:"d-flex",class:Object(o.a)({},"align-self-".concat(l),l)}),n)}}),ds={tag:{type:String,default:"div"},rightAlign:{type:Boolean,default:!1},verticalAlign:{type:String,default:"top"},noBody:{type:Boolean,default:!1}},hs=l.a.extend({name:"BMedia",functional:!0,props:ds,render:function(e,t){var r=t.props,data=t.data,n=t.slots,o=t.scopedSlots,l=t.children,c=r.noBody?l:[];if(!r.noBody){var d=n(),h=o||{},f=fe("aside",{},h,d),v=fe("default",{},h,d);f&&!r.rightAlign&&c.push(e(us,{staticClass:"mr-3",props:{verticalAlign:r.verticalAlign}},f)),c.push(e(ls,v)),f&&r.rightAlign&&c.push(e(us,{staticClass:"ml-3",props:{verticalAlign:r.verticalAlign}},f))}return e(r.tag,Object(oe.a)(data,{staticClass:"media"}),c)}}),fs=Object(n.b)({components:{BMedia:hs,BMediaAside:us,BMediaBody:ls}}),ps=l.a.extend({abstract:!0,name:"BTransporterTargetSingle",props:{nodes:{type:[Array,Function]}},data:function(e){return{updatedNodes:e.nodes}},destroyed:function(){var e;(e=this.$el)&&e.parentNode&&e.parentNode.removeChild(e)},render:function(e){var t=Object(T.e)(this.updatedNodes)?this.updatedNodes({}):this.updatedNodes;return(t=Object(x.b)(t).filter(Boolean))&&t.length>0&&!t[0].text?t[0]:e()}}),vs=l.a.extend({name:"BTransporterSingle",mixins:[pe],props:{disabled:{type:Boolean,default:!1},container:{type:[String,Fn.b],default:"body"},tag:{type:String,default:"div"}},watch:{disabled:{immediate:!0,handler:function(e){e?this.unmountTarget():this.$nextTick(this.mountTarget)}}},created:function(){this._bv_defaultFn=null,this._bv_target=null},beforeMount:function(){this.mountTarget()},updated:function(){this.updateTarget()},beforeDestroy:function(){this.unmountTarget(),this._bv_defaultFn=null},methods:{getContainer:function(){if(O.j){var e=this.container;return Object(T.j)(e)?F(e):e}return null},mountTarget:function(){if(!this._bv_target){var e=this.getContainer();if(e){var t=document.createElement("div");e.appendChild(t),this._bv_target=new ps({el:t,parent:this,propsData:{nodes:Object(x.b)(this.normalizeSlot("default"))}})}}},updateTarget:function(){if(O.j&&this._bv_target){var e=this.$scopedSlots.default;this.disabled||(e&&this._bv_defaultFn!==e?this._bv_target.updatedNodes=e:e||(this._bv_target.updatedNodes=this.$slots.default)),this._bv_defaultFn=e}},unmountTarget:function(){this._bv_target&&(this._bv_target.$destroy(),this._bv_target=null)}},render:function(e){if(this.disabled){var t=Object(x.b)(this.normalizeSlot("default")).filter(de.a);if(t.length>0&&!t[0].text)return t[0]}return e()}}),ms={created:function(){var e=this;O.j&&(this.$_bv_documentHandlers_={},this.$once("hook:beforeDestroy",(function(){var t=e.$_bv_documentHandlers_||{};delete e.$_bv_documentHandlers_,Object(object.l)(t).forEach((function(e){(t[e]||[]).forEach((function(t){return dn(document,e,t,ln)}))}))})))},methods:{listenDocument:function(e,t,r){e?this.listenOnDocument(t,r):this.listenOffDocument(t,r)},listenOnDocument:function(e,t){this.$_bv_documentHandlers_&&Object(T.j)(e)&&Object(T.e)(t)&&(this.$_bv_documentHandlers_[e]=this.$_bv_documentHandlers_[e]||[],Object(x.a)(this.$_bv_documentHandlers_[e],t)||(this.$_bv_documentHandlers_[e].push(t),un(document,e,t,ln)))},listenOffDocument:function(e,t){this.$_bv_documentHandlers_&&Object(T.j)(e)&&Object(T.e)(t)&&(dn(document,e,t,ln),this.$_bv_documentHandlers_[e]=(this.$_bv_documentHandlers_[e]||[]).filter((function(e){return e!==t})))}}},gs={beforeCreate:function(){this.$_bv_windowHandlers_={}},beforeDestroy:function(){if(O.j){var e=this.$_bv_windowHandlers_;delete this.$_bv_windowHandlers_,Object(object.l)(e).forEach((function(t){(e[t]||[]).forEach((function(e){return dn(window,t,e,ln)}))}))}},methods:{listenWindow:function(e,t,r){e?this.listenOnWindow(t,r):this.listenOffWindow(t,r)},listenOnWindow:function(e,t){O.j&&this.$_bv_windowHandlers_&&Object(T.j)(e)&&Object(T.e)(t)&&(this.$_bv_windowHandlers_[e]=this.$_bv_windowHandlers_[e]||[],Object(x.a)(this.$_bv_windowHandlers_[e],t)||(this.$_bv_windowHandlers_[e].push(t),un(window,e,t,ln)))},listenOffWindow:function(e,t){O.j&&this.$_bv_windowHandlers_&&Object(T.j)(e)&&Object(T.e)(t)&&(dn(window,e,t,ln),this.$_bv_windowHandlers_[e]=(this.$_bv_windowHandlers_[e]||[]).filter((function(e){return e!==t})))}}},bs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&e.$options._scopeId||t},ys={computed:{scopedStyleAttrs:function(){var e=bs(this.$parent);return e?Object(o.a)({},e,""):{}}}},_s=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ws=".sticky-top",ks=".navbar-toggler",Ss=new(l.a.extend({data:function(){return{modals:[],baseZIndex:null,scrollbarWidth:null,isBodyOverflowing:!1}},computed:{modalCount:function(){return this.modals.length},modalsAreOpen:function(){return this.modalCount>0}},watch:{modalCount:function(e,t){O.j&&(this.getScrollbarWidth(),e>0&&0===t?(this.checkScrollbar(),this.setScrollbar(),U(document.body,"modal-open")):0===e&&t>0&&(this.resetScrollbar(),K(document.body,"modal-open")),W(document.body,"data-modal-open-count",String(e)))},modals:function(e){var t=this;this.checkScrollbar(),R((function(){t.updateModals(e||[])}))}},methods:{registerModal:function(e){var t=this;e&&-1===this.modals.indexOf(e)&&(this.modals.push(e),e.$once("hook:beforeDestroy",(function(){t.unregisterModal(e)})))},unregisterModal:function(e){var t=this.modals.indexOf(e);t>-1&&(this.modals.splice(t,1),e._isBeingDestroyed||e._isDestroyed||this.resetModal(e))},getBaseZIndex:function(){if(Object(T.f)(this.baseZIndex)&&O.j){var div=document.createElement("div");div.className="modal-backdrop d-none",div.style.display="none",document.body.appendChild(div),this.baseZIndex=Object(ne.c)(Z(div).zIndex||1040),document.body.removeChild(div)}return this.baseZIndex||1040},getScrollbarWidth:function(){if(Object(T.f)(this.scrollbarWidth)&&O.j){var div=document.createElement("div");div.className="modal-scrollbar-measure",document.body.appendChild(div),this.scrollbarWidth=J(div).width-div.clientWidth,document.body.removeChild(div)}return this.scrollbarWidth||0},updateModals:function(e){var t=this,r=this.getBaseZIndex(),n=this.getScrollbarWidth();e.forEach((function(e,o){e.zIndex=r+o,e.scrollbarWidth=n,e.isTop=o===t.modals.length-1,e.isBodyOverflowing=t.isBodyOverflowing}))},resetModal:function(e){e&&(e.zIndex=this.getBaseZIndex(),e.isTop=!0,e.isBodyOverflowing=!1)},checkScrollbar:function(){var e=J(document.body),t=e.left,r=e.right;this.isBodyOverflowing=t+r<window.innerWidth},setScrollbar:function(){var body=document.body;if(body._paddingChangedForModal=body._paddingChangedForModal||[],body._marginChangedForModal=body._marginChangedForModal||[],this.isBodyOverflowing){var e=this.scrollbarWidth;z(_s).forEach((function(t){var r=t.style.paddingRight,n=Z(t).paddingRight||0;W(t,"data-padding-right",r),t.style.paddingRight="".concat(Object(ne.b)(n)+e,"px"),body._paddingChangedForModal.push(t)})),z(ws).forEach((function(t){var r=t.style.marginRight,n=Z(t).marginRight||0;W(t,"data-margin-right",r),t.style.marginRight="".concat(Object(ne.b)(n)-e,"px"),body._marginChangedForModal.push(t)})),z(ks).forEach((function(t){var r=t.style.marginRight,n=Z(t).marginRight||0;W(t,"data-margin-right",r),t.style.marginRight="".concat(Object(ne.b)(n)+e,"px"),body._marginChangedForModal.push(t)}));var t=body.style.paddingRight,r=Z(body).paddingRight;W(body,"data-padding-right",t),body.style.paddingRight="".concat(Object(ne.b)(r)+e,"px")}},resetScrollbar:function(){var body=document.body;body._paddingChangedForModal&&body._paddingChangedForModal.forEach((function(e){Q(e,"data-padding-right")&&(e.style.paddingRight=X(e,"data-padding-right")||"",Y(e,"data-padding-right"))})),body._marginChangedForModal&&body._marginChangedForModal.forEach((function(e){Q(e,"data-margin-right")&&(e.style.marginRight=X(e,"data-margin-right")||"",Y(e,"data-margin-right"))})),body._paddingChangedForModal=null,body._marginChangedForModal=null,Q(body,"data-padding-right")&&(body.style.paddingRight=X(body,"data-padding-right")||"",Y(body,"data-padding-right"))}}})),xs=r(102),Os=r(172),Ts=r(61),Es=r(325),Cs=r(103);function Is(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var js=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(Pr.a)(this,t),r=Object(xs.a)(this,Object(Ts.a)(t).call(this,e,n)),Object(object.e)(Object(Os.a)(r),{trigger:Object(object.n)()}),r}return Object(Cs.a)(t,e),Object(Br.a)(t,null,[{key:"Defaults",get:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Is(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Is(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(Es.a)(Object(Ts.a)(t),"Defaults",this),{trigger:null})}}]),t}(zn);function Ms(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Rs(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ms(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ms(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var As={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},Ps=["button","[href]:not(.disabled)","input","select","textarea","[tabindex]","[contenteditable]"].map((function(s){return"".concat(s,":not(:disabled):not([disabled])")})).join(", "),Bs=function(e){if(e&&B(e)&&e.focus)try{e.focus()}catch(e){}return document.activeElement===e},Ds={size:{type:String,default:function(){return y("BModal","size")}},centered:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},buttonSize:{type:String,default:""},noStacking:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},ignoreEnforceFocusSelector:{type:[Array,String],default:""},title:{type:String,default:""},titleHtml:{type:String},titleTag:{type:String,default:function(){return y("BModal","titleTag")}},titleClass:{type:[String,Array,Object],default:null},titleSrOnly:{type:Boolean,default:!1},ariaLabel:{type:String,default:null},headerBgVariant:{type:String,default:function(){return y("BModal","headerBgVariant")}},headerBorderVariant:{type:String,default:function(){return y("BModal","headerBorderVariant")}},headerTextVariant:{type:String,default:function(){return y("BModal","headerTextVariant")}},headerCloseVariant:{type:String,default:function(){return y("BModal","headerCloseVariant")}},headerClass:{type:[String,Array,Object],default:null},bodyBgVariant:{type:String,default:function(){return y("BModal","bodyBgVariant")}},bodyTextVariant:{type:String,default:function(){return y("BModal","bodyTextVariant")}},modalClass:{type:[String,Array,Object],default:null},dialogClass:{type:[String,Array,Object],default:null},contentClass:{type:[String,Array,Object],default:null},bodyClass:{type:[String,Array,Object],default:null},footerBgVariant:{type:String,default:function(){return y("BModal","footerBgVariant")}},footerBorderVariant:{type:String,default:function(){return y("BModal","footerBorderVariant")}},footerTextVariant:{type:String,default:function(){return y("BModal","footerTextVariant")}},footerClass:{type:[String,Array,Object],default:null},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideHeaderClose:{type:Boolean,default:!1},hideBackdrop:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okDisabled:{type:Boolean,default:!1},cancelDisabled:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},returnFocus:{type:[Fn.b,String,Object],default:null},headerCloseContent:{type:String,default:function(){return y("BModal","headerCloseContent")}},headerCloseLabel:{type:String,default:function(){return y("BModal","headerCloseLabel")}},cancelTitle:{type:String,default:function(){return y("BModal","cancelTitle")}},cancelTitleHtml:{type:String},okTitle:{type:String,default:function(){return y("BModal","okTitle")}},okTitleHtml:{type:String},cancelVariant:{type:String,default:function(){return y("BModal","cancelVariant")}},okVariant:{type:String,default:function(){return y("BModal","okVariant")}},lazy:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},static:{type:Boolean,default:!1},autoFocusButton:{type:String,default:null,validator:function(e){return Object(T.l)(e)||Object(x.a)(["ok","cancel","close"],e)}}},Ls=l.a.extend({name:"BModal",mixins:[Ut,ms,Sn,gs,pe,ys],inheritAttrs:!1,model:{prop:"visible",event:"change"},props:Ds,data:function(){return{isHidden:!0,isVisible:!1,isTransitioning:!1,isShow:!1,isBlock:!1,isOpening:!1,isClosing:!1,ignoreBackdropClick:!1,isModalOverflowing:!1,return_focus:this.returnFocus||null,scrollbarWidth:0,zIndex:Ss.getBaseZIndex(),isTop:!0,isBodyOverflowing:!1}},computed:{modalClasses:function(){return[{fade:!this.noFade,show:this.isShow},this.modalClass]},modalStyles:function(){var e="".concat(this.scrollbarWidth,"px");return{paddingLeft:!this.isBodyOverflowing&&this.isModalOverflowing?e:"",paddingRight:this.isBodyOverflowing&&!this.isModalOverflowing?e:"",display:this.isBlock?"block":"none"}},dialogClasses:function(){var e;return[(e={},Object(o.a)(e,"modal-".concat(this.size),this.size),Object(o.a)(e,"modal-dialog-centered",this.centered),Object(o.a)(e,"modal-dialog-scrollable",this.scrollable),e),this.dialogClass]},headerClasses:function(){var e;return[(e={},Object(o.a)(e,"bg-".concat(this.headerBgVariant),this.headerBgVariant),Object(o.a)(e,"text-".concat(this.headerTextVariant),this.headerTextVariant),Object(o.a)(e,"border-".concat(this.headerBorderVariant),this.headerBorderVariant),e),this.headerClass]},titleClasses:function(){return[{"sr-only":this.titleSrOnly},this.titleClass]},bodyClasses:function(){var e;return[(e={},Object(o.a)(e,"bg-".concat(this.bodyBgVariant),this.bodyBgVariant),Object(o.a)(e,"text-".concat(this.bodyTextVariant),this.bodyTextVariant),e),this.bodyClass]},footerClasses:function(){var e;return[(e={},Object(o.a)(e,"bg-".concat(this.footerBgVariant),this.footerBgVariant),Object(o.a)(e,"text-".concat(this.footerTextVariant),this.footerTextVariant),Object(o.a)(e,"border-".concat(this.footerBorderVariant),this.footerBorderVariant),e),this.footerClass]},modalOuterStyle:function(){return{position:"absolute",zIndex:this.zIndex}},slotScope:function(){return{ok:this.onOk,cancel:this.onCancel,close:this.onClose,hide:this.hide,visible:this.isVisible}},computeIgnoreEnforceFocusSelector:function(){return Object(x.b)(this.ignoreEnforceFocusSelector).filter(de.a).join(",").trim()}},watch:{visible:function(e,t){e!==t&&this[e?"show":"hide"]()}},created:function(){this._observer=null},mounted:function(){this.zIndex=Ss.getBaseZIndex(),this.listenOnRoot("bv::show::modal",this.showHandler),this.listenOnRoot("bv::hide::modal",this.hideHandler),this.listenOnRoot("bv::toggle::modal",this.toggleHandler),this.listenOnRoot("bv::modal::show",this.modalListener),!0===this.visible&&this.$nextTick(this.show)},beforeDestroy:function(){this._observer&&(this._observer.disconnect(),this._observer=null),this.isVisible&&(this.isVisible=!1,this.isShow=!1,this.isTransitioning=!1)},methods:{updateModel:function(e){e!==this.visible&&this.$emit("change",e)},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new js(e,Rs({cancelable:!1,target:this.$refs.modal||this.$el||null,relatedTarget:null,trigger:null},t,{vueTarget:this,componentId:this.safeId()}))},show:function(){if(!this.isVisible&&!this.isOpening)if(this.isClosing)this.$once("hidden",this.show);else{this.isOpening=!0,this.return_focus=this.return_focus||this.getActiveElement();var e=this.buildEvent("show",{cancelable:!0});if(this.emitEvent(e),e.defaultPrevented||this.isVisible)return this.isOpening=!1,void this.updateModel(!1);this.doShow()}},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isVisible&&!this.isClosing){this.isClosing=!0;var t=this.buildEvent("hide",{cancelable:"FORCE"!==e,trigger:e||null});if("ok"===e?this.$emit("ok",t):"cancel"===e?this.$emit("cancel",t):"headerclose"===e&&this.$emit("close",t),this.emitEvent(t),t.defaultPrevented||!this.isVisible)return this.isClosing=!1,void this.updateModel(!0);this._observer&&(this._observer.disconnect(),this._observer=null),this.isVisible=!1,this.updateModel(!1)}},toggle:function(e){e&&(this.return_focus=e),this.isVisible?this.hide("toggle"):this.show()},getActiveElement:function(){if(O.j){var e=document.activeElement;if(e&&e!==document.body&&e.focus)return e}return null},getTabables:function(){return z(Ps,this.$refs.content).filter(B).filter((function(i){return i.tabIndex>-1&&!i.disabled}))},doShow:function(){var e=this;Ss.modalsAreOpen&&this.noStacking?this.listenOnRootOnce("bv::modal::hidden",this.doShow):(Ss.registerModal(this),this.isHidden=!1,this.$nextTick((function(){e.isVisible=!0,e.isOpening=!1,e.updateModel(!0),e.$nextTick((function(){e._observer=an(e.$refs.content,e.checkModalOverflow.bind(e),As)}))})))},onBeforeEnter:function(){this.isTransitioning=!0,this.setResizeEvent(!0)},onEnter:function(){var e=this;this.isBlock=!0,R((function(){R((function(){e.isShow=!0}))}))},onAfterEnter:function(){var e=this;this.checkModalOverflow(),this.isTransitioning=!1,R((function(){e.emitEvent(e.buildEvent("shown")),e.setEnforceFocus(!0),e.$nextTick((function(){e.focusFirst()}))}))},onBeforeLeave:function(){this.isTransitioning=!0,this.setResizeEvent(!1),this.setEnforceFocus(!1)},onLeave:function(){this.isShow=!1},onAfterLeave:function(){var e=this;this.isBlock=!1,this.isTransitioning=!1,this.isModalOverflowing=!1,this.isHidden=!0,this.$nextTick((function(){e.isClosing=!1,Ss.unregisterModal(e),e.returnFocusTo(),e.emitEvent(e.buildEvent("hidden"))}))},emitEvent:function(e){var t=e.type;this.emitOnRoot("bv::modal::".concat(t),e,e.componentId),this.$emit(t,e)},onDialogMousedown:function(){var e=this,t=this.$refs.modal;un(t,"mouseup",(function r(n){dn(t,"mouseup",r,ln),n.target===t&&(e.ignoreBackdropClick=!0)}),ln)},onClickOut:function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:this.isVisible&&!this.noCloseOnBackdrop&&H(document.body,e.target)&&(H(this.$refs.content,e.target)||this.hide("backdrop"))},onOk:function(){this.hide("ok")},onCancel:function(){this.hide("cancel")},onClose:function(){this.hide("headerclose")},onEsc:function(e){e.keyCode===ot.ESC&&this.isVisible&&!this.noCloseOnEsc&&this.hide("esc")},focusHandler:function(e){var content=this.$refs.content,t=e.target;if(!(this.noEnforceFocus||!this.isTop||!this.isVisible||!content||document===t||H(content,t)||this.computeIgnoreEnforceFocusSelector&&V(this.computeIgnoreEnforceFocusSelector,t,!0))){var r=this.getTabables(),n=this.$refs,o=n.bottomTrap,l=n.topTrap;if(o&&t===o){if(Bs(r[0]))return}else if(l&&t===l&&Bs(r[r.length-1]))return;content.focus({preventScroll:!0})}},setEnforceFocus:function(e){this.listenDocument(e,"focusin",this.focusHandler)},setResizeEvent:function(e){this.listenWindow(e,"resize",this.checkModalOverflow),this.listenWindow(e,"orientationchange",this.checkModalOverflow)},showHandler:function(e,t){e===this.safeId()&&(this.return_focus=t||this.getActiveElement(),this.show())},hideHandler:function(e){e===this.safeId()&&this.hide("event")},toggleHandler:function(e,t){e===this.safeId()&&this.toggle(t)},modalListener:function(e){this.noStacking&&e.vueTarget!==this&&this.hide()},focusFirst:function(){var e=this;O.j&&R((function(){var t=e.$refs.modal,content=e.$refs.content,r=e.getActiveElement();if(t&&content&&(!r||!H(content,r))){var n=e.$refs["ok-button"],o=e.$refs["cancel-button"],l=e.$refs["close-button"],c=e.autoFocusButton,d="ok"===c&&n?n.$el||n:"cancel"===c&&o?o.$el||o:"close"===c&&l?l.$el||l:content;Bs(d),d===content&&e.$nextTick((function(){t.scrollTop=0}))}}))},returnFocusTo:function(){var e=this.returnFocus||this.return_focus||null;this.return_focus=null,this.$nextTick((function(){(e=Object(T.j)(e)?F(e):e)&&(e=e.$el||e,Bs(e))}))},checkModalOverflow:function(){if(this.isVisible){var e=this.$refs.modal;this.isModalOverflowing=e.scrollHeight>document.documentElement.clientHeight}},makeModal:function(e){var header=e();if(!this.hideHeader){var t=this.normalizeSlot("modal-header",this.slotScope);if(!t){var r=e();this.hideHeaderClose||(r=e(me,{ref:"close-button",props:{content:this.headerCloseContent,disabled:this.isTransitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerCloseVariant||this.headerTextVariant},on:{click:this.onClose}},[this.normalizeSlot("modal-header-close")]));var n=!this.hasNormalizedSlot("modal-title")&&this.titleHtml?{innerHTML:this.titleHtml}:{};t=[e(this.titleTag,{staticClass:"modal-title",class:this.titleClasses,attrs:{id:this.safeId("__BV_modal_title_")},domProps:n},[this.normalizeSlot("modal-title",this.slotScope)||Ke(this.title)]),r]}header=e("header",{ref:"header",staticClass:"modal-header",class:this.headerClasses,attrs:{id:this.safeId("__BV_modal_header_")}},[t])}var body=e("div",{ref:"body",staticClass:"modal-body",class:this.bodyClasses,attrs:{id:this.safeId("__BV_modal_body_")}},this.normalizeSlot("default",this.slotScope)),footer=e();if(!this.hideFooter){var o=this.normalizeSlot("modal-footer",this.slotScope);if(!o){var l=e();if(!this.okOnly){var c=this.cancelTitleHtml?{innerHTML:this.cancelTitleHtml}:null;l=e(_t,{ref:"cancel-button",props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.isTransitioning},on:{click:this.onCancel}},[this.normalizeSlot("modal-cancel")||(c?e("span",{domProps:c}):Ke(this.cancelTitle))])}var d=this.okTitleHtml?{innerHTML:this.okTitleHtml}:null;o=[l,e(_t,{ref:"ok-button",props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.isTransitioning},on:{click:this.onOk}},[this.normalizeSlot("modal-ok")||(d?e("span",{domProps:d}):Ke(this.okTitle))])]}footer=e("footer",{ref:"footer",staticClass:"modal-footer",class:this.footerClasses,attrs:{id:this.safeId("__BV_modal_footer_")}},[o])}var h=e("div",{ref:"content",staticClass:"modal-content",class:this.contentClass,attrs:{role:"document",id:this.safeId("__BV_modal_content_"),tabindex:"-1"}},[header,body,footer]),f=e(),v=e();this.isVisible&&!this.noEnforceFocus&&(f=e("span",{ref:"topTrap",attrs:{tabindex:"0"}}),v=e("span",{ref:"bottomTrap",attrs:{tabindex:"0"}}));var m=e("div",{ref:"dialog",staticClass:"modal-dialog",class:this.dialogClasses,on:{mousedown:this.onDialogMousedown}},[f,h,v]),y=e("div",{ref:"modal",staticClass:"modal",class:this.modalClasses,style:this.modalStyles,directives:[{name:"show",rawName:"v-show",value:this.isVisible,expression:"isVisible"}],attrs:{id:this.safeId(),role:"dialog","aria-hidden":this.isVisible?null:"true","aria-modal":this.isVisible?"true":null,"aria-label":this.ariaLabel,"aria-labelledby":this.hideHeader||this.ariaLabel||!(this.hasNormalizedSlot("modal-title")||this.titleHtml||this.title)?null:this.safeId("__BV_modal_title_"),"aria-describedby":this.safeId("__BV_modal_body_")},on:{keydown:this.onEsc,click:this.onClickOut}},[m]);y=e("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{beforeEnter:this.onBeforeEnter,enter:this.onEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,leave:this.onLeave,afterLeave:this.onAfterLeave}},[y]);var _=e();!this.hideBackdrop&&this.isVisible&&(_=e("div",{staticClass:"modal-backdrop",attrs:{id:this.safeId("__BV_modal_backdrop_")}},[this.normalizeSlot("modal-backdrop")])),_=e(ue,{props:{noFade:this.noFade}},[_]);var w=this.static?{}:this.scopedStyleAttrs;return e("div",{key:"modal-outer-".concat(this._uid),style:this.modalOuterStyle,attrs:Rs({},w,{},this.$attrs,{id:this.safeId("__BV_modal_outer_")})},[y,_])}},render:function(e){return this.static?this.lazy&&this.isHidden?e():this.makeModal(e):this.isHidden?e():e(vs,[this.makeModal(e)])}}),zs="__bv_modal_directive__",Fs=function(e){var t=e.modifiers,r=void 0===t?{}:t,n=e.arg,o=e.value;return Object(T.j)(o)?o:Object(T.j)(n)?n:Object(object.l)(r).reverse()[0]},Ns=function(e){return e&&N(e,".dropdown-menu > li, li.nav-item")&&F("a, button",e)||e},Vs=function(e){e&&"BUTTON"!==e.tagName&&(Q(e,"role")||W(e,"role","button"),"A"===e.tagName||Q(e,"tabindex")||W(e,"tabindex","0"))},Hs=function(e){var t=e[zs]||{},r=t.trigger,n=t.handler;r&&n&&(dn(r,"click",n,sn),dn(r,"keydown",n,sn),dn(e,"click",n,sn),dn(e,"keydown",n,sn)),delete e[zs]},$s=function(e,t,r){var n=e[zs]||{},o=Fs(t),l=Ns(e);o===n.target&&l===n.trigger||(Hs(e),function(e,t,r){var n=Fs(t),o=Ns(e);if(n&&o){var l=function(e){var t=e.currentTarget;if(!D(t)){var o=e.type,l=e.keyCode;"click"!==o&&("keydown"!==o||l!==ot.ENTER&&l!==ot.SPACE)||r.context.$root.$emit("bv::show::modal",n,t)}};e[zs]={handler:l,target:n,trigger:o},Vs(o),un(o,"click",l,sn),"BUTTON"!==o.tagName&&"button"===X(o,"role")&&un(o,"keydown",l,sn)}}(e,t,r)),Vs(l)},Us={inserted:$s,updated:function(){},componentUpdated:$s,unbind:Hs};function qs(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ks(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?qs(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):qs(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Gs=["id"].concat(Object(Se.a)(Object(object.l)(Object(object.m)(Ds,["busy","lazy","noStacking","static","visible"])))),Ws=function(){},Ys={msgBoxContent:"default",title:"modal-title",okTitle:"modal-ok",cancelTitle:"modal-cancel"},Xs=function(e){return Gs.reduce((function(t,r){return Object(T.k)(e[r])||(t[r]=e[r]),t}),{})},Qs=Object(n.b)({plugins:{plugin:function(e){var t=e.extend({name:"BMsgBox",extends:Ls,destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},mounted:function(){var e=this,t=function(){var t=e;e.$nextTick((function(){setTimeout((function(){return t.$destroy()}),0)}))};this.$parent.$once("hook:destroyed",t),this.$once("hidden",t),this.$router&&this.$route&&this.$once("hook:beforeDestroy",this.$watch("$router",t)),this.show()}}),r=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ws;if(!Object(nn.d)("$bvModal")&&!Object(nn.c)("$bvModal")){var o=new t({parent:e,propsData:Ks({},Xs(y("BModal")||{}),{hideHeaderClose:!0,hideHeader:!(r.title||r.titleHtml)},Object(object.m)(r,Object(object.l)(Ys)),{lazy:!1,busy:!1,visible:!1,noStacking:!1,noEnforceFocus:!1})});return Object(object.l)(Ys).forEach((function(e){Object(T.k)(r[e])||(o.$slots[Ys[e]]=Object(x.b)(r[e]))})),new Promise((function(e,t){var r=!1;o.$once("hook:destroyed",(function(){r||t(new Error("BootstrapVue MsgBox destroyed before resolve"))})),o.$on("hide",(function(t){if(!t.defaultPrevented){var o=n(t);t.defaultPrevented||(r=!0,e(o))}}));var div=document.createElement("div");document.body.appendChild(div),o.$mount(div)}))}},n=function(e,content){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(content&&!Object(nn.c)("$bvModal")&&!Object(nn.d)("$bvModal")&&Object(T.e)(n))return r(e,Ks({},Xs(t),{msgBoxContent:content}),n)},o=function(){function e(t){Object(Pr.a)(this,e),Object(object.a)(this,{_vm:t,_root:t.$root}),Object(object.e)(this,{_vm:Object(object.n)(),_root:Object(object.n)()})}return Object(Br.a)(e,[{key:"show",value:function(e){if(e&&this._root){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=this._root).$emit.apply(t,["bv::show::modal",e].concat(n))}}},{key:"hide",value:function(e){if(e&&this._root){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=this._root).$emit.apply(t,["bv::hide::modal",e].concat(n))}}},{key:"msgBoxOk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ks({},t,{okOnly:!0,okDisabled:!1,hideFooter:!1,msgBoxContent:e});return n(this._vm,e,r,(function(){return!0}))}},{key:"msgBoxConfirm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ks({},t,{okOnly:!1,okDisabled:!1,cancelDisabled:!1,hideFooter:!1});return n(this._vm,e,r,(function(e){var t=e.trigger;return"ok"===t||"cancel"!==t&&null}))}}]),e}();e.mixin({beforeCreate:function(){this._bv__modal=new o(this)}}),e.prototype.hasOwnProperty("$bvModal")||Object(object.f)(e.prototype,"$bvModal",{get:function(){return this&&this._bv__modal||Object(nn.a)('"'.concat("$bvModal",'" must be accessed from a Vue instance "this" context.'),"BModal"),this._bv__modal}})}}}),Js=Object(n.b)({components:{BModal:Ls},directives:{VBModal:Us},plugins:{BVModalPlugin:Qs}}),Zs=(r(123),r(189),{tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},align:{type:String,default:null},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},small:{type:Boolean,default:!1},cardHeader:{type:Boolean,default:!1}}),el=l.a.extend({name:"BNav",functional:!0,props:Zs,render:function(e,t){var r,n,l=t.props,data=t.data,c=t.children;return e(l.tag,Object(oe.a)(data,{staticClass:"nav",class:(r={"nav-tabs":l.tabs,"nav-pills":l.pills&&!l.tabs,"card-header-tabs":!l.vertical&&l.cardHeader&&l.tabs,"card-header-pills":!l.vertical&&l.cardHeader&&l.pills&&!l.tabs,"flex-column":l.vertical,"nav-fill":!l.vertical&&l.fill,"nav-justified":!l.vertical&&l.justified},Object(o.a)(r,(n=l.align,"justify-content-".concat(n="left"===n?"start":"right"===n?"end":n)),!l.vertical&&l.align),Object(o.a)(r,"small",l.small),r)}),c)}});function tl(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var rl=ze(),nl=l.a.extend({name:"BNavItem",functional:!0,props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?tl(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):tl(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},rl,{linkAttrs:{type:Object,default:function(){}},linkClasses:{type:[String,Object,Array],default:null}}),render:function(e,t){var r=t.props,data=t.data,n=t.listeners,o=t.children;return delete data.on,e("li",Object(oe.a)(data,{staticClass:"nav-item"}),[e(Fe,{staticClass:"nav-link",class:r.linkClasses,attrs:r.linkAttrs,props:r,on:n},o)])}}),il=l.a.extend({name:"BNavText",functional:!0,props:{},render:function(e,t){var data=t.data,r=t.children;return e("li",Object(oe.a)(data,{staticClass:"navbar-text"}),r)}});function al(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function sl(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?al(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):al(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ll=sl({},Object(object.m)(bo,["inline"]),{formClass:{type:[String,Array,Object],default:null}}),cl=l.a.extend({name:"BNavForm",functional:!0,props:ll,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=t.listeners,l=void 0===o?{}:o,c=data.attrs;data.attrs={},data.on={};var d=e(yo,{class:r.formClass,props:sl({},r,{inline:!0}),attrs:c,on:l},n);return e("li",Object(oe.a)(data,{staticClass:"form-inline"}),[d])}}),hl=ke(["text","html","menuClass","toggleClass","noCaret","role","lazy"],Zn),fl=l.a.extend({name:"BNavItemDropdown",mixins:[Ut,Jn,pe],props:hl,computed:{isNav:function(){return!0},dropdownClasses:function(){return[this.directionClass,{show:this.visible}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){return[this.toggleClass,{"dropdown-toggle-no-caret":this.noCaret}]}},render:function(e){var button=e(Fe,{ref:"toggle",staticClass:"nav-link dropdown-toggle",class:this.toggleClasses,props:{href:"#",disabled:this.disabled},attrs:{id:this.safeId("_BV_button_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle}},[this.$slots["button-content"]||this.$slots.text||e("span",{domProps:Ge(this.html,this.text)})]),menu=e("ul",{staticClass:"dropdown-menu",class:this.menuClasses,ref:"menu",attrs:{tabindex:"-1","aria-labelledby":this.safeId("_BV_button_")},on:{keydown:this.onKeydown}},!this.lazy||this.visible?this.normalizeSlot("default",{hide:this.hide}):[e()]);return e("li",{staticClass:"nav-item b-nav-dropdown dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[button,menu])}}),pl=Object(n.b)({components:{BNav:el,BNavItem:nl,BNavText:il,BNavForm:cl,BNavItemDropdown:fl,BNavItemDd:fl,BNavDropdown:fl,BNavDd:fl},plugins:{DropdownPlugin:Co}}),vl=(r(257),{tag:{type:String,default:"nav"},type:{type:String,default:"light"},variant:{type:String,default:function(){return y("BNavbar","variant")}},toggleable:{type:[Boolean,String],default:!1},fixed:{type:String},sticky:{type:Boolean,default:!1},print:{type:Boolean,default:!1}}),ml=l.a.extend({name:"BNavbar",mixins:[pe],props:vl,provide:function(){return{bvNavbar:this}},computed:{breakpointClass:function(){var e=null,t=_()[0],r=this.toggleable;return r&&Object(T.j)(r)&&r!==t?e="navbar-expand-".concat(r):!1===r&&(e="navbar-expand"),e}},render:function(e){var t;return e(this.tag,{staticClass:"navbar",class:[(t={"d-print":this.print,"sticky-top":this.sticky},Object(o.a)(t,"navbar-".concat(this.type),this.type),Object(o.a)(t,"bg-".concat(this.variant),this.variant),Object(o.a)(t,"fixed-".concat(this.fixed),this.fixed),t),this.breakpointClass],attrs:{role:"nav"===this.tag?null:"navigation"}},[this.normalizeSlot("default")])}}),gl=ke(["tag","fill","justified","align","small"],Zs),bl=l.a.extend({name:"BNavbarNav",functional:!0,props:gl,render:function(e,t){var r,n,l=t.props,data=t.data,c=t.children;return e(l.tag,Object(oe.a)(data,{staticClass:"navbar-nav",class:(r={"nav-fill":l.fill,"nav-justified":l.justified},Object(o.a)(r,(n=l.align,"justify-content-".concat(n="left"===n?"start":"right"===n?"end":n)),l.align),Object(o.a)(r,"small",l.small),r)}),c)}});function yl(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var _l=ze();_l.href.default=void 0,_l.to.default=void 0;var wl=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?yl(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):yl(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},_l,{tag:{type:String,default:"div"}}),kl=l.a.extend({name:"BNavbarBrand",functional:!0,props:wl,render:function(e,t){var r=t.props,data=t.data,n=t.children,o=r.to||r.href;return e(o?Fe:r.tag,Object(oe.a)(data,{staticClass:"navbar-brand",props:o?ke(_l,r):{}}),n)}}),Sl=l.a.extend({name:"BNavbarToggle",mixins:[Sn,pe],props:{label:{type:String,default:function(){return y("BNavbarToggle","label")}},target:{type:String,required:!0}},data:function(){return{toggleState:!1}},created:function(){this.listenOnRoot("bv::collapse::state",this.handleStateEvt),this.listenOnRoot("bv::collapse::sync::state",this.handleStateEvt)},methods:{onClick:function(e){this.$emit("click",e),e.defaultPrevented||this.$root.$emit("bv::toggle::collapse",this.target)},handleStateEvt:function(e,t){e===this.target&&(this.toggleState=t)}},render:function(e){return e("button",{class:["navbar-toggler"],attrs:{type:"button","aria-label":this.label,"aria-controls":this.target,"aria-expanded":this.toggleState?"true":"false"},on:{click:this.onClick}},[this.normalizeSlot("default")||e("span",{class:["navbar-toggler-icon"]})])}}),xl=Object(n.b)({components:{BNavbar:ml,BNavbarNav:bl,BNavbarBrand:kl,BNavbarToggle:Sl,BNavToggle:Sl},plugins:{NavPlugin:pl,CollapsePlugin:Dn,DropdownPlugin:Co}}),Ol=function(e){return Array.apply(null,{length:e})},Tl=function(e){var t=Object(ne.c)(e)||1;return t<1?5:t},El=function(e,t){var r=Object(ne.c)(e)||1;return r>t?t:r<1?1:r},Cl=function(e){if(e.keyCode===ot.SPACE)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),e.currentTarget.click(),!1},Il={mixins:[pe],model:{prop:"value",event:"input"},props:{disabled:{type:Boolean,default:!1},value:{type:[Number,String],default:null,validator:function(e){var t=Object(ne.c)(e);return!(!Object(T.f)(e)&&(isNaN(t)||t<1))||(Object(nn.a)('"v-model" value must be a number greater than "0"',"BPagination"),!1)}},limit:{type:[Number,String],default:5,validator:function(e){var t=Object(ne.c)(e);return!(isNaN(t)||t<1)||(Object(nn.a)('Prop "limit" must be a number greater than "0"',"BPagination"),!1)}},align:{type:String,default:"left"},pills:{type:Boolean,default:!1},hideGotoEndButtons:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Pagination"},labelFirstPage:{type:String,default:"Go to first page"},firstText:{type:String,default:""},firstNumber:{type:Boolean,default:!1},firstClass:{type:[String,Array,Object],default:null},labelPrevPage:{type:String,default:"Go to previous page"},prevText:{type:String,default:""},prevClass:{type:[String,Array,Object],default:null},labelNextPage:{type:String,default:"Go to next page"},nextText:{type:String,default:""},nextClass:{type:[String,Array,Object],default:null},labelLastPage:{type:String,default:"Go to last page"},lastText:{type:String,default:""},lastNumber:{type:Boolean,default:!1},lastClass:{type:[String,Array,Object],default:null},labelPage:{type:[String,Function],default:"Go to page"},pageClass:{type:[String,Array,Object],default:null},hideEllipsis:{type:Boolean,default:!1},ellipsisText:{type:String,default:""},ellipsisClass:{type:[String,Array,Object],default:null}},data:function(){var e=Object(ne.c)(this.value);return{currentPage:e>0?e:-1,localNumberOfPages:1,localLimit:5}},computed:{btnSize:function(){return this.size?"pagination-".concat(this.size):""},alignment:function(){var e=this.align;return"center"===e?"justify-content-center":"end"===e||"right"===e?"justify-content-end":"fill"===e?"text-center":""},styleClass:function(){return this.pills?"b-pagination-pills":""},computedCurrentPage:function(){return El(this.currentPage,this.localNumberOfPages)},paginationParams:function(){var e=this.localLimit,t=this.localNumberOfPages,r=this.computedCurrentPage,n=this.hideEllipsis,o=this.firstNumber,l=this.lastNumber,c=!1,d=!1,h=e,f=1;t<=e?h=t:r<e-1&&e>3?(n&&!l||(d=!0,h=e-(o?0:1)),h=Math.min(h,e)):t-r+2<e&&e>3?(n&&!o||(c=!0,h=e-(l?0:1)),f=t-h+1):(e>3&&(h=e-2,c=!(n&&!o),d=!(n&&!l)),f=r-Math.floor(h/2)),f<1?(f=1,c=!1):f>t-h&&(f=t-h+1,d=!1),c&&o&&f<4&&(h+=2,f=1,c=!1);var v=f+h-1;return d&&l&&v>t-3&&(h+=v===t-2?2:3,d=!1),e<=3&&(o&&1===f?h=Math.min(h+1,t,e+1):l&&t===f+h-1&&(f=Math.max(f-1,1),h=Math.min(t-f+1,t,e+1))),{showFirstDots:c,showLastDots:d,numberOfLinks:h=Math.min(h,t-f+1),startNumber:f}},pageList:function(){var e=this.paginationParams,t=e.numberOfLinks,r=e.startNumber,n=this.computedCurrentPage,o=function(e,t){return Ol(t).map((function(t,i){return{number:e+i,classes:null}}))}(r,t);if(o.length>3){var l=n-r,c="bv-d-xs-down-none";if(0===l)for(var i=3;i<o.length;i++)o[i].classes=c;else if(l===o.length-1)for(var d=0;d<o.length-3;d++)o[d].classes=c;else{for(var h=0;h<l-1;h++)o[h].classes=c;for(var f=o.length-1;f>l+1;f--)o[f].classes=c}}return o}},watch:{value:function(e,t){e!==t&&(this.currentPage=El(e,this.localNumberOfPages))},currentPage:function(e,t){e!==t&&this.$emit("input",e>0?e:null)},limit:function(e,t){e!==t&&(this.localLimit=Tl(e))}},created:function(){var e=this;this.localLimit=Tl(this.limit),this.$nextTick((function(){e.currentPage=e.currentPage>e.localNumberOfPages?e.localNumberOfPages:e.currentPage}))},methods:{handleKeyNav:function(e){var t=e.keyCode,r=e.shiftKey;t===ot.LEFT||t===ot.UP?(e.preventDefault(),r?this.focusFirst():this.focusPrev()):t!==ot.RIGHT&&t!==ot.DOWN||(e.preventDefault(),r?this.focusLast():this.focusNext())},getButtons:function(){return z("a.page-link",this.$el).filter((function(e){return B(e)}))},setBtnFocus:function(e){e.focus()},focusCurrent:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().find((function(t){return Object(ne.c)(X(t,"aria-posinset"))===e.computedCurrentPage}));t&&t.focus?e.setBtnFocus(t):e.focusFirst()}))},focusFirst:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().find((function(e){return!D(e)}));t&&t.focus&&t!==document.activeElement&&e.setBtnFocus(t)}))},focusLast:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().reverse().find((function(e){return!D(e)}));t&&t.focus&&t!==document.activeElement&&e.setBtnFocus(t)}))},focusPrev:function(){var e=this;this.$nextTick((function(){var t=e.getButtons(),r=t.indexOf(document.activeElement);r>0&&!D(t[r-1])&&t[r-1].focus&&e.setBtnFocus(t[r-1])}))},focusNext:function(){var e=this;this.$nextTick((function(){var t=e.getButtons(),r=t.indexOf(document.activeElement);r<t.length-1&&!D(t[r+1])&&t[r+1].focus&&e.setBtnFocus(t[r+1])}))}},render:function(e){var t=this,r=[],n=this.localNumberOfPages,o=this.pageList.map((function(p){return p.number})),l=this.disabled,c=this.paginationParams,d=c.showFirstDots,h=c.showLastDots,f=this.computedCurrentPage,v="fill"===this.align,m=function(e){return e===f},y=this.currentPage<1,_=function(r,o,c,d,h,f,_){var w=l||m(f)||y||r<1||r>n,k=r<1?1:r>n?n:r,S={disabled:w,page:k,index:k-1},x=t.normalizeSlot(c,S)||Object(xe.f)(d)||e(),O=e(w?"span":Fe,{staticClass:"page-link",props:w?{}:t.linkProps(r),attrs:{role:"menuitem",tabindex:w?null:"-1","aria-label":o,"aria-controls":t.ariaControls||null,"aria-disabled":w?"true":null},on:w?{}:{click:function(e){t.onClick(r,e)},keydown:Cl}},[x]);return e("li",{key:_,staticClass:"page-item",class:[{disabled:w,"flex-fill":v},h],attrs:{role:"presentation","aria-hidden":w?"true":null}},[O])},w=function(r){return e("li",{key:"ellipsis-".concat(r?"last":"first"),staticClass:"page-item",class:["disabled","bv-d-xs-down-none",v?"flex-fill":"",t.ellipsisClass],attrs:{role:"separator"}},[e("span",{staticClass:"page-link"},[t.normalizeSlot("ellipsis-text")||Object(xe.f)(t.ellipsisText)||e()])])},k=function(r,o){var c=m(r.number)&&!y,d=l?null:c||y&&0===o?"0":"-1",h={role:"menuitemradio","aria-disabled":l?"true":null,"aria-controls":t.ariaControls||null,"aria-label":Object(T.e)(t.labelPage)?t.labelPage(r.number):"".concat(t.labelPage," ").concat(r.number),"aria-checked":c?"true":"false","aria-posinset":r.number,"aria-setsize":n,tabindex:d},f=Object(xe.f)(t.makePage(r.number)),_={page:r.number,index:r.number-1,content:f,active:c,disabled:l},w=e(l?"span":Fe,{props:l?{}:t.linkProps(r.number),staticClass:"page-link",attrs:h,on:l?{}:{click:function(e){t.onClick(r.number,e)},keydown:Cl}},[t.normalizeSlot("page",_)||f]);return e("li",{key:"page-".concat(r.number),staticClass:"page-item",class:[{disabled:l,active:c,"flex-fill":v},r.classes,t.pageClass],attrs:{role:"presentation"}},[w])},S=e();this.firstNumber||this.hideGotoEndButtons||(S=_(1,this.labelFirstPage,"first-text",this.firstText,this.firstClass,1,"pagination-goto-first")),r.push(S),r.push(_(f-1,this.labelPrevPage,"prev-text",this.prevText,this.prevClass,1,"pagination-goto-prev")),r.push(this.firstNumber&&1!==o[0]?k({number:1},0):e()),r.push(d?w(!1):e()),this.pageList.forEach((function(e,n){var l=d&&t.firstNumber&&1!==o[0]?1:0;r.push(k(e,n+l))})),r.push(h?w(!0):e()),r.push(this.lastNumber&&o[o.length-1]!==n?k({number:n},-1):e()),r.push(_(f+1,this.labelNextPage,"next-text",this.nextText,this.nextClass,n,"pagination-goto-next"));var x=e();this.lastNumber||this.hideGotoEndButtons||(x=_(n,this.labelLastPage,"last-text",this.lastText,this.lastClass,n,"pagination-goto-last")),r.push(x);var O=e("ul",{ref:"ul",staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment,this.styleClass],attrs:{role:"menubar","aria-disabled":l?"true":"false","aria-label":this.ariaLabel||null},on:{keydown:this.handleKeyNav}},r);return this.isNav?e("nav",{attrs:{"aria-disabled":l?"true":null,"aria-hidden":l?"true":"false"}},[O]):O}},jl={size:{type:String,default:function(){return y("BPagination","size")}},perPage:{type:[Number,String],default:20},totalRows:{type:[Number,String],default:0},ariaControls:{type:String,default:null}},Ml=function(e){var t=Object(ne.c)(e)||20;return t<1?1:t},Rl=function(e){var t=Object(ne.c)(e)||0;return t<0?0:t},Al=l.a.extend({name:"BPagination",mixins:[Il],props:jl,computed:{numberOfPages:function(){var e=Math.ceil(Rl(this.totalRows)/Ml(this.perPage));return e<1?1:e},pageSizeNumberOfPages:function(){return{perPage:Ml(this.perPage),totalRows:Rl(this.totalRows),numberOfPages:this.numberOfPages}}},watch:{pageSizeNumberOfPages:function(e,t){Object(T.l)(t)||(e.perPage!==t.perPage&&e.totalRows===t.totalRows?this.currentPage=1:e.numberOfPages!==t.numberOfPages&&this.currentPage>e.numberOfPages&&(this.currentPage=1)),this.localNumberOfPages=e.numberOfPages}},created:function(){var e=this;this.localNumberOfPages=this.numberOfPages;var t=Object(ne.c)(this.value)||0;t>0?this.currentPage=t:this.$nextTick((function(){e.currentPage=0}))},mounted:function(){this.localNumberOfPages=this.numberOfPages},methods:{onClick:function(e,t){var r=this;e>this.numberOfPages?e=this.numberOfPages:e<1&&(e=1),this.currentPage=e,this.$emit("change",this.currentPage),this.$nextTick((function(){var e=t.target;B(e)&&r.$el.contains(e)&&e.focus?e.focus():r.focusCurrent()}))},makePage:function(e){return e},linkProps:function(){return{href:"#"}}}}),Pl=Object(n.b)({components:{BPagination:Al}}),Bl=(r(254),r(258),{size:{type:String,default:function(){return y("BPaginationNav","size")}},numberOfPages:{type:[Number,String],default:1,validator:function(e){var t=Object(ne.c)(e);return!(isNaN(t)||t<1)||(Object(nn.a)('Prop "number-of-pages" must be a number greater than "0"',"BPaginationNav"),!1)}},baseUrl:{type:String,default:"/"},useRouter:{type:Boolean,default:!1},linkGen:{type:Function,default:null},pageGen:{type:Function,default:null},pages:{type:Array,default:null},noPageDetect:{type:Boolean,default:!1},activeClass:{type:String},exact:{type:Boolean,default:!1},exactActiveClass:{type:String},noPrefetch:{type:Boolean,default:!1}}),Dl=l.a.extend({name:"BPaginationNav",mixins:[Il],props:Bl,computed:{isNav:function(){return!0},computedValue:function(){var e=Object(ne.c)(this.value);return isNaN(e)||e<1?null:e}},watch:{numberOfPages:function(){var e=this;this.$nextTick((function(){e.setNumberOfPages()}))},pages:function(){var e=this;this.$nextTick((function(){e.setNumberOfPages()}))}},created:function(){this.setNumberOfPages()},mounted:function(){var e=this;this.$router&&this.$watch("$route",(function(){e.$nextTick((function(){R((function(){e.guessCurrentPage()}))}))}))},methods:{setNumberOfPages:function(){var e,t,r=this;Object(x.d)(this.pages)&&this.pages.length>0?this.localNumberOfPages=this.pages.length:this.localNumberOfPages=(e=this.numberOfPages,(t=Object(ne.c)(e)||1)<1?1:t),this.$nextTick((function(){r.guessCurrentPage()}))},onClick:function(e,t){var r=this;e!==this.currentPage&&(R((function(){r.currentPage=e,r.$emit("change",e)})),this.$nextTick((function(){try{(t.currentTarget||t.target).blur()}catch(e){}})))},getPageInfo:function(e){if(!Object(x.d)(this.pages)||0===this.pages.length||Object(T.k)(this.pages[e-1])){var link="".concat(this.baseUrl).concat(e);return{link:this.useRouter?{path:link}:link,text:Object(xe.f)(e)}}var t=this.pages[e-1];if(Object(object.j)(t)){var r=t.link;return{link:Object(object.j)(r)?r:this.useRouter?{path:r}:r,text:Object(xe.f)(t.text||e)}}return{link:Object(xe.f)(t),text:Object(xe.f)(e)}},makePage:function(e){var t=this.getPageInfo(e);return this.pageGen&&Object(T.e)(this.pageGen)?this.pageGen(e,t):t.text},makeLink:function(e){var t=this.getPageInfo(e);return this.linkGen&&Object(T.e)(this.linkGen)?this.linkGen(e,t):t.link},linkProps:function(e){var link=this.makeLink(e),t={target:this.target||null,rel:this.rel||null,disabled:this.disabled,exact:this.exact,activeClass:this.activeClass,exactActiveClass:this.exactActiveClass,append:this.append,replace:this.replace,noPrefetch:this.noPrefetch};return this.useRouter||Object(object.j)(link)?t.to=link:t.href=link,t},resolveLink:function(){var link,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{(link=document.createElement("a")).href=Be({to:e},"a","/","/"),document.body.appendChild(link);var t=link,r=t.pathname,n=t.hash,o=t.search;return document.body.removeChild(link),{path:r,hash:n,query:Ae(o)}}catch(e){try{link&&link.parentNode&&link.parentNode.removeChild(link)}catch(e){}return{}}},resolveRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=this.$router.resolve(e,this.$route).route;return{path:t.path,hash:t.hash,query:t.query}}catch(e){return{}}},guessCurrentPage:function(){var e=this.computedValue,t=this.$router,r=this.$route;if(!this.noPageDetect&&!e&&(O.j||!O.j&&t))for(var n=t&&r?{path:r.path,hash:r.hash,query:r.query}:{},o=O.j?window.location||document.location:null,l=o?{path:o.pathname,hash:o.hash,query:Ae(o.search)}:{},c=1;!e&&c<=this.localNumberOfPages;c++){var d=this.makeLink(c);e=t&&(Object(object.j)(d)||this.useRouter)?It(this.resolveRoute(d),n)?c:null:O.j?It(this.resolveLink(d),l)?c:null:-1}this.currentPage=e>0?e:0}}}),Ll=Object(n.b)({components:{BPaginationNav:Dl}}),zl={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},Fl={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},Nl=l.a.extend({name:"BVPopper",props:{target:{type:[Fn.b,Fn.c],default:null},placement:{type:String,default:"top"},fallbackPlacement:{type:[String,Array],default:"flip"},offset:{type:Number,default:0},boundary:{type:[String,Fn.b],default:"scrollParent"},boundaryPadding:{type:Number,default:5},arrowPadding:{type:Number,default:6}},data:function(){return{noFade:!1,localShow:!0,attachment:this.getAttachment(this.placement)}},computed:{templateType:function(){return"unknown"},popperConfig:function(){var e=this,t=this.placement;return{placement:this.getAttachment(t),modifiers:{offset:{offset:this.getOffset(t)},flip:{behavior:this.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{padding:this.boundaryPadding,boundariesElement:this.boundary}},onCreate:function(data){data.originalPlacement!==data.placement&&e.popperPlacementChange(data)},onUpdate:function(data){e.popperPlacementChange(data)}}}},created:function(){var e=this;this.$_popper=null,this.localShow=!0,this.$on("show",(function(t){e.popperCreate(t)})),this.$on("hidden",(function(){e.$nextTick(e.$destroy)})),this.$parent.$once("hook:destroyed",this.$destroy)},beforeMount:function(){this.attachment=this.getAttachment(this.placement)},mounted:function(){},updated:function(){this.popperUpdate()},beforeDestroy:function(){this.popperDestroy()},destroyed:function(){var e=this.$el;e&&e.parentNode&&e.parentNode.removeChild(e)},methods:{hide:function(){this.localShow=!1},getAttachment:function(e){return zl[String(e).toUpperCase()]||"auto"},getOffset:function(e){if(!this.offset){var t=this.$refs.arrow||F(".arrow",this.$el),r=(parseFloat(Z(t).width)||0)+(parseFloat(this.arrowPadding)||0);switch(Fl[String(e).toUpperCase()]||0){case 1:return"+50%p - ".concat(r,"px");case-1:return"-50%p + ".concat(r,"px");default:return 0}}return this.offset},popperCreate:function(e){this.popperDestroy(),this.$_popper=new Ln.a(this.target,e,this.popperConfig)},popperDestroy:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},popperUpdate:function(){this.$_popper&&this.$_popper.scheduleUpdate()},popperPlacementChange:function(data){this.attachment=this.getAttachment(data.placement)},renderTemplate:function(e){return e("div")}},render:function(e){var t=this;return e(ce,{props:{appear:!0,noFade:this.noFade},on:{beforeEnter:function(e){return t.$emit("show",e)},afterEnter:function(e){return t.$emit("shown",e)},beforeLeave:function(e){return t.$emit("hide",e)},afterLeave:function(e){return t.$emit("hidden",e)}}},[this.localShow?this.renderTemplate(e):e()])}});function Vl(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Hl=l.a.extend({name:"BVTooltipTemplate",extends:Nl,mixins:[ys],props:{id:{type:String,default:null},html:{type:Boolean,default:!1}},data:function(){return{title:"",content:"",variant:null,customClass:null,interactive:!0}},computed:{templateType:function(){return"tooltip"},templateClasses:function(){var e;return[(e={noninteractive:!this.interactive},Object(o.a)(e,"b-".concat(this.templateType,"-").concat(this.variant),this.variant),Object(o.a)(e,"bs-".concat(this.templateType,"-").concat(this.attachment),this.attachment),e),this.customClass]},templateAttributes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Vl(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Vl(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({id:this.id,role:"tooltip",tabindex:"-1"},this.scopedStyleAttrs)},templateListeners:function(){var e=this;return{mouseenter:function(t){e.$emit("mouseenter",t)},mouseleave:function(t){e.$emit("mouseleave",t)},focusin:function(t){e.$emit("focusin",t)},focusout:function(t){e.$emit("focusout",t)}}}},methods:{renderTemplate:function(e){var t=Object(T.e)(this.title)?this.title({}):Object(T.l)(this.title)?e():this.title,r=this.html&&!Object(T.e)(this.title)?{innerHTML:this.title}:{};return e("div",{staticClass:"tooltip b-tooltip",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[e("div",{ref:"arrow",staticClass:"arrow"}),e("div",{staticClass:"tooltip-inner",domProps:r},[t])])}}});function $l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ul(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ql={title:"",content:"",variant:null,customClass:null,triggers:"",placement:"auto",fallbackPlacement:"flip",target:null,container:null,noFade:!1,boundary:"scrollParent",boundaryPadding:5,offset:0,delay:0,arrowPadding:6,interactive:!0,disabled:!1,id:null,html:!1},Kl=l.a.extend({name:"BVTooltip",props:{},data:function(){return Ul({},ql,{activeTrigger:{hover:!1,click:!1,focus:!1},localShow:!1})},computed:{templateType:function(){return"tooltip"},computedId:function(){return this.id||"__bv_".concat(this.templateType,"_").concat(this._uid,"__")},computedDelay:function(){var e={show:0,hide:0};return Object(object.k)(this.delay)?(e.show=Math.max(parseInt(this.delay.show,10)||0,0),e.hide=Math.max(parseInt(this.delay.hide,10)||0,0)):(Object(T.g)(this.delay)||Object(T.j)(this.delay))&&(e.show=e.hide=Math.max(parseInt(this.delay,10)||0,0)),e},computedTriggers:function(){return Object(x.b)(this.triggers).filter(Boolean).join(" ").trim().toLowerCase().split(/\s+/).sort()},isWithActiveTrigger:function(){for(var e in this.activeTrigger)if(this.activeTrigger[e])return!0;return!1},computedTemplateData:function(){return{title:this.title,content:this.content,variant:this.variant,customClass:this.customClass,noFade:this.noFade,interactive:this.interactive}}},watch:{computedTriggers:function(e,t){var r=this;It(e,t)||this.$nextTick((function(){r.unListen(),t.forEach((function(t){Object(x.a)(e,t)||r.activeTrigger[t]&&(r.activeTrigger[t]=!1)})),r.listen()}))},computedTemplateData:function(){this.handleTemplateUpdate()},disabled:function(e){e?this.disable():this.enable()}},created:function(){var e=this;this.$_tip=null,this.$_hoverTimeout=null,this.$_hoverState="",this.$_visibleInterval=null,this.$_enabled=!this.disabled,this.$_noop=rn.bind(this),this.$parent&&this.$parent.$once("hook:beforeDestroy",this.$destroy),this.$nextTick((function(){var t=e.getTarget();t&&H(document.body,t)?(e.scopeId=bs(e.$parent),e.listen()):Object(nn.a)("Unable to find target element in document.",e.templateType)}))},updated:function(){this.$nextTick(this.handleTemplateUpdate)},deactivated:function(){this.forceHide()},beforeDestroy:function(){this.unListen(),this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.clearVisibilityInterval(),this.destroyTemplate()},methods:{getTemplate:function(){return Hl},updateData:function(){var e=this,data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1;Object(object.l)(ql).forEach((function(r){Object(T.k)(data[r])||e[r]===data[r]||(e[r]=data[r],"title"===r&&(t=!0))})),t&&this.localShow&&this.fixTitle()},createTemplateAndShow:function(){var e=this.getContainer(),t=this.getTemplate(),r=this.$_tip=new t({parent:this,propsData:{id:this.computedId,html:this.html,placement:this.placement,fallbackPlacement:this.fallbackPlacement,target:this.getPlacementTarget(),boundary:this.getBoundary(),offset:parseInt(this.offset,10)||0,arrowPadding:parseInt(this.arrowPadding,10)||0,boundaryPadding:parseInt(this.boundaryPadding,10)||0}});this.handleTemplateUpdate(),r.$once("show",this.onTemplateShow),r.$once("shown",this.onTemplateShown),r.$once("hide",this.onTemplateHide),r.$once("hidden",this.onTemplateHidden),r.$once("hook:destroyed",this.destroyTemplate),r.$on("focusin",this.handleEvent),r.$on("focusout",this.handleEvent),r.$on("mouseenter",this.handleEvent),r.$on("mouseleave",this.handleEvent),r.$mount(e.appendChild(document.createElement("div")))},hideTemplate:function(){this.$_tip&&this.$_tip.hide(),this.clearActiveTriggers(),this.$_hoverState=""},destroyTemplate:function(){this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.localPlacementTarget=null;try{this.$_tip&&this.$_tip.$destroy()}catch(e){}this.$_tip=null,this.removeAriaDescribedby(),this.restoreTitle(),this.localShow=!1},getTemplateElement:function(){return this.$_tip?this.$_tip.$el:null},handleTemplateUpdate:function(){var e=this,t=this.$_tip;if(t){["title","content","variant","customClass","noFade","interactive"].forEach((function(r){t[r]!==e[r]&&(t[r]=e[r])}))}},show:function(){var e=this.getTarget();if(e&&H(document.body,e)&&B(e)&&!this.dropdownOpen()&&(!Object(T.l)(this.title)&&""!==this.title||!Object(T.l)(this.content)&&""!==this.content)&&!this.$_tip&&!this.localShow){this.localShow=!0;var t=this.buildEvent("show",{cancelable:!0});this.emitEvent(t),t.defaultPrevented?this.destroyTemplate():(this.fixTitle(),this.addAriaDescribedby(),this.createTemplateAndShow())}},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getTemplateElement();if(t&&this.localShow){var r=this.buildEvent("hide",{cancelable:!e});this.emitEvent(r),r.defaultPrevented||this.hideTemplate()}else this.restoreTitle()},forceHide:function(){this.getTemplateElement()&&this.localShow&&(this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.$_tip&&(this.$_tip.noFade=!0),this.hide(!0))},enable:function(){this.$_enabled=!0,this.emitEvent(this.buildEvent("enabled"))},disable:function(){this.$_enabled=!1,this.emitEvent(this.buildEvent("disabled"))},onTemplateShow:function(){this.setWhileOpenListeners(!0)},onTemplateShown:function(){var e=this.$_hoverState;this.$_hoverState="","out"===e&&this.leave(null),this.emitEvent(this.buildEvent("shown"))},onTemplateHide:function(){this.setWhileOpenListeners(!1)},onTemplateHidden:function(){this.destroyTemplate(),this.emitEvent(this.buildEvent("hidden"))},getTarget:function(){var e=this.target?this.target.$el||this.target:null;return e=Object(T.j)(e)?$(e.replace(/^#/,"")):e,e=Object(T.e)(e)?e():e,P(e)?e:null},getPlacementTarget:function(){return this.getTarget()},getTargetId:function(){var e=this.getTarget();return e&&e.id?e.id:null},getContainer:function(){var e=!!this.container&&(this.container.$el||this.container),body=document.body,t=this.getTarget();return!1===e?V(".modal-content",t)||body:Object(T.j)(e)&&$(e.replace(/^#/,""))||body},getBoundary:function(){return this.boundary?this.boundary.$el||this.boundary:"scrollParent"},isInModal:function(){var e=this.getTarget();return e&&V(".modal-content",e)},isDropdown:function(){var e=this.getTarget();return e&&G(e,"dropdown")},dropdownOpen:function(){var e=this.getTarget();return this.isDropdown()&&e&&F(".dropdown-menu.show",e)},clearHoverTimeout:function(){this.$_hoverTimeout&&(clearTimeout(this.$_hoverTimeout),this.$_hoverTimeout=null)},clearVisibilityInterval:function(){this.$_visibleInterval&&(clearInterval(this.$_visibleInterval),this.$_visibleInterval=null)},clearActiveTriggers:function(){for(var e in this.activeTrigger)this.activeTrigger[e]=!1},addAriaDescribedby:function(){var e=this.getTarget(),desc=X(e,"aria-describedby")||"";desc=desc.split(/\s+/).concat(this.computedId).join(" ").trim(),W(e,"aria-describedby",desc)},removeAriaDescribedby:function(){var e=this,t=this.getTarget(),desc=X(t,"aria-describedby")||"";(desc=desc.split(/\s+/).filter((function(t){return t!==e.computedId})).join(" ").trim())?W(t,"aria-describedby",desc):Y(t,"aria-describedby")},fixTitle:function(){var e=this.getTarget();e&&X(e,"title")&&(W(e,"data-original-title",X(e,"title")||""),W(e,"title",""))},restoreTitle:function(){var e=this.getTarget();e&&Q(e,"data-original-title")&&(W(e,"title",X(e,"data-original-title")||""),Y(e,"data-original-title"))},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new zn(e,Ul({cancelable:!1,target:this.getTarget(),relatedTarget:this.getTemplateElement()||null,componentId:this.computedId,vueTarget:this},t))},emitEvent:function(e){var t=e.type,r=this.$root;r&&r.$emit&&r.$emit("bv::".concat(this.templateType,"::").concat(t),e),this.$emit(t,e)},listen:function(){var e=this,t=this.getTarget();t&&(this.setRootListener(!0),this.computedTriggers.forEach((function(r){"click"===r?un(t,"click",e.handleEvent,ln):"focus"===r?(un(t,"focusin",e.handleEvent,ln),un(t,"focusout",e.handleEvent,ln)):"blur"===r?un(t,"focusout",e.handleEvent,ln):"hover"===r&&(un(t,"mouseenter",e.handleEvent,ln),un(t,"mouseleave",e.handleEvent,ln))}),this))},unListen:function(){var e=this,t=this.getTarget();this.setRootListener(!1),["click","focusin","focusout","mouseenter","mouseleave"].forEach((function(r){t&&dn(t,r,e.handleEvent,ln)}),this)},setRootListener:function(e){var t=this.$root;if(t){var r=e?"$on":"$off",n=this.templateType;t[r]("bv::hide::".concat(n),this.doHide),t[r]("bv::show::".concat(n),this.doShow),t[r]("bv::disable::".concat(n),this.doDisable),t[r]("bv::enable::".concat(n),this.doEnable)}},setWhileOpenListeners:function(e){this.setModalListener(e),this.setDropdownListener(e),this.visibleCheck(e),this.setOnTouchStartListener(e)},visibleCheck:function(e){var t=this;this.clearVisibilityInterval();var r=this.getTarget(),n=this.getTemplateElement();e&&(this.$_visibleInterval=setInterval((function(){!n||!t.localShow||r.parentNode&&B(r)||t.forceHide()}),100))},setModalListener:function(e){this.isInModal()&&this.$root[e?"$on":"$off"]("bv::modal::hidden",this.forceHide)},setOnTouchStartListener:function(e){var t=this;"ontouchstart"in document.documentElement&&Object(x.c)(document.body.children).forEach((function(r){hn(e,r,"mouseover",t.$_noop)}))},setDropdownListener:function(e){var t=this.getTarget();t&&this.$root&&this.isDropdown&&t.__vue__&&t.__vue__[e?"$on":"$off"]("shown",this.forceHide)},handleEvent:function(e){var t=this.getTarget();if(t&&!D(t)&&this.$_enabled&&!this.dropdownOpen()){var r=e.type,n=this.computedTriggers;if("click"===r&&Object(x.a)(n,"click"))this.click(e);else if("mouseenter"===r&&Object(x.a)(n,"hover"))this.enter(e);else if("focusin"===r&&Object(x.a)(n,"focus"))this.enter(e);else if("focusout"===r&&(Object(x.a)(n,"focus")||Object(x.a)(n,"blur"))||"mouseleave"===r&&Object(x.a)(n,"hover")){var o=this.getTemplateElement(),l=e.target,c=e.relatedTarget;if(o&&H(o,l)&&H(t,c)||o&&H(t,l)&&H(o,c)||o&&H(o,l)&&H(o,c)||H(t,l)&&H(t,c))return;this.leave(e)}}},doHide:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.forceHide()},doShow:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.show()},doDisable:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.disable()},doEnable:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.enable()},click:function(){this.$_enabled&&!this.dropdownOpen()&&(this.activeTrigger.click=!this.activeTrigger.click,this.isWithActiveTrigger?this.enter(null):this.leave(null))},toggle:function(){this.$_enabled&&!this.dropdownOpen()&&(this.localShow?this.leave(null):this.enter(null))},enter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.activeTrigger["focusin"===t.type?"focus":"hover"]=!0),this.localShow||"in"===this.$_hoverState?this.$_hoverState="in":(this.clearHoverTimeout(),this.$_hoverState="in",this.computedDelay.show?(this.fixTitle(),this.$_hoverTimeout=setTimeout((function(){"in"===e.$_hoverState?e.show():e.localShow||e.restoreTitle()}),this.computedDelay.show)):this.show())},leave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.activeTrigger["focusout"===t.type?"focus":"hover"]=!1,"focusout"===t.type&&Object(x.a)(this.computedTriggers,"blur")&&(this.activeTrigger.click=!1,this.activeTrigger.hover=!1)),this.isWithActiveTrigger||(this.clearHoverTimeout(),this.$_hoverState="out",this.computedDelay.hide?this.$_hoverTimeout=setTimeout((function(){"out"===e.$_hoverState&&e.hide()}),this.computedDelay.hide):this.hide())}}}),Gl=l.a.extend({name:"BTooltip",props:{title:{type:String},target:{type:[String,Fn.b,Fn.c,Function,Object],required:!0},triggers:{type:[String,Array],default:"hover focus"},placement:{type:String,default:"top"},fallbackPlacement:{type:[String,Array],default:"flip",validator:function(e){return Object(x.d)(e)&&e.every((function(e){return Object(T.j)(e)}))||Object(x.a)(["flip","clockwise","counterclockwise"],e)}},variant:{type:String,default:function(){return y("BTooltip","variant")}},customClass:{type:String,default:function(){return y("BTooltip","customClass")}},delay:{type:[Number,Object,String],default:function(){return y("BTooltip","delay")}},boundary:{type:[String,Fn.b,Object],default:function(){return y("BTooltip","boundary")}},boundaryPadding:{type:[Number,String],default:function(){return y("BTooltip","boundaryPadding")}},offset:{type:[Number,String],default:0},noFade:{type:Boolean,default:!1},container:{type:[String,Fn.b,Object]},show:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},data:function(){return{localShow:this.show,localTitle:"",localContent:""}},computed:{templateData:function(){return{title:this.localTitle,content:this.localContent,target:this.target,triggers:this.triggers,placement:this.placement,fallbackPlacement:this.fallbackPlacement,variant:this.variant,customClass:this.customClass,container:this.container,boundary:this.boundary,boundaryPadding:this.boundaryPadding,delay:this.delay,offset:this.offset,noFade:this.noFade,interactive:!this.noninteractive,disabled:this.disabled,id:this.id}},templateTitleContent:function(){return{title:this.title,content:this.content}}},watch:{show:function(e,t){e!==t&&e!==this.localShow&&this.$_bv_toolpop&&(e?this.$_bv_toolpop.show():this.$_bv_toolpop.forceHide())},disabled:function(e){e?this.doDisable():this.doEnable()},localShow:function(e){this.$emit("update:show",e)},templateData:function(){var e=this;this.$nextTick((function(){e.$_bv_toolpop&&e.$_bv_toolpop.updateData(e.templateData)}))},templateTitleContent:function(){this.$nextTick(this.updateContent)}},created:function(){this.$_bv_toolpop=null},updated:function(){this.$nextTick(this.updateContent)},beforeDestroy:function(){this.$off("open",this.doOpen),this.$off("close",this.doClose),this.$off("disable",this.doDisable),this.$off("enable",this.doEnable),this.$_bv_toolpop&&this.$_bv_toolpop.$destroy(),this.$_bv_toolpop=null},mounted:function(){var e=this;this.$nextTick((function(){var t=e.getComponent();e.updateContent();var r=bs(e)||bs(e.$parent),n=e.$_bv_toolpop=new t({parent:e,_scopeId:r||void 0});n.updateData(e.templateData),n.$on("show",e.onShow),n.$on("shown",e.onShown),n.$on("hide",e.onHide),n.$on("hidden",e.onHidden),n.$on("disabled",e.onDisabled),n.$on("enabled",e.onEnabled),e.disabled&&e.doDisable(),e.$on("open",e.doOpen),e.$on("close",e.doClose),e.$on("disable",e.doDisable),e.$on("enable",e.doEnable),e.localShow&&e.$_bv_toolpop&&e.$_bv_toolpop.show()}))},methods:{getComponent:function(){return Kl},updateContent:function(){this.setTitle(this.$scopedSlots.default||this.title)},setTitle:function(e){e=Object(T.l)(e)?"":e,this.localTitle!==e&&(this.localTitle=e)},setContent:function(e){e=Object(T.l)(e)?"":e,this.localContent!==e&&(this.localContent=e)},onShow:function(e){this.$emit("show",e),e&&(this.localShow=!e.defaultPrevented)},onShown:function(e){this.localShow=!0,this.$emit("shown",e)},onHide:function(e){this.$emit("hide",e)},onHidden:function(e){this.$emit("hidden",e),this.localShow=!1},onDisabled:function(e){e&&"disabled"===e.type&&(this.$emit("update:disabled",!0),this.$emit("disabled",e))},onEnabled:function(e){e&&"enabled"===e.type&&(this.$emit("update:disabled",!1),this.$emit("enabled",e))},doOpen:function(){!this.localShow&&this.$_bv_toolpop&&this.$_bv_toolpop.show()},doClose:function(){this.localShow&&this.$_bv_toolpop&&this.$_bv_toolpop.hide()},doDisable:function(){this.$_bv_toolpop&&this.$_bv_toolpop.disable()},doEnable:function(){this.$_bv_toolpop&&this.$_bv_toolpop.enable()}},render:function(e){return e()}}),Wl=l.a.extend({name:"BVPopoverTemplate",extends:Hl,computed:{templateType:function(){return"popover"}},methods:{renderTemplate:function(e){var t=Object(T.e)(this.title)?this.title({}):this.title,r=Object(T.e)(this.content)?this.content({}):this.content,n=this.html&&!Object(T.e)(this.title)?{innerHTML:this.title}:{},o=this.html&&!Object(T.e)(this.content)?{innerHTML:this.content}:{};return e("div",{staticClass:"popover b-popover",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[e("div",{ref:"arrow",staticClass:"arrow"}),Object(T.l)(t)||""===t?e():e("h3",{staticClass:"popover-header",domProps:n},[t]),Object(T.l)(r)||""===r?e():e("div",{staticClass:"popover-body",domProps:o},[r])])}}}),Yl=l.a.extend({name:"BVPopover",extends:Kl,computed:{templateType:function(){return"popover"}},methods:{getTemplate:function(){return Wl}}}),Xl=l.a.extend({name:"BPopover",extends:Gl,inheritAttrs:!1,props:{title:{type:String},content:{type:String},triggers:{type:[String,Array],default:"click"},placement:{type:String,default:"right"},variant:{type:String,default:function(){return y("BPopover","variant")}},customClass:{type:String,default:function(){return y("BPopover","customClass")}},delay:{type:[Number,Object,String],default:function(){return y("BPopover","delay")}},boundary:{type:[String,Fn.b,Object],default:function(){return y("BPopover","boundary")}},boundaryPadding:{type:[Number,String],default:function(){return y("BPopover","boundaryPadding")}}},methods:{getComponent:function(){return Yl},updateContent:function(){this.setContent(this.$scopedSlots.default||this.content),this.setTitle(this.$scopedSlots.title||this.title)}}});function Ql(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Jl="__BV_Popover__",Zl={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},ec=/^html$/i,tc=/^nofade$/i,rc=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,nc=/^(window|viewport|scrollParent)$/i,oc=/^d\d+$/i,ic=/^ds\d+$/i,ac=/^dh\d+$/i,sc=/^o-?\d+$/i,lc=/^v-.+$/i,cc=/\s+/,uc=function(e,t){var r="BPopover",n={title:void 0,content:void 0,trigger:"",placement:"right",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,disabled:!1,id:null,html:!1,delay:y(r,"delay"),boundary:String(y(r,"boundary")),boundaryPadding:parseInt(y(r,"boundaryPadding"),10)||0,variant:y(r,"variant"),customClass:y(r,"customClass")};if(Object(T.j)(e.value)||Object(T.g)(e.value)?n.content=e.value:Object(T.e)(e.value)?n.content=e.value:Object(object.k)(e.value)&&(n=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ql(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ql(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},n,{},e.value)),e.arg&&(n.container="#".concat(e.arg)),Object(T.k)(n.title)){var data=t.data||{};n.title=data.attrs&&!Object(T.l)(data.attrs.title)?data.attrs.title:void 0}Object(object.k)(n.delay)||(n.delay={show:parseInt(n.delay,10)||0,hide:parseInt(n.delay,10)||0}),Object(object.l)(e.modifiers).forEach((function(e){if(ec.test(e))n.html=!0;else if(tc.test(e))n.animation=!1;else if(rc.test(e))n.placement=e;else if(nc.test(e))e="scrollparent"===e?"scrollParent":e,n.boundary=e;else if(oc.test(e)){var t=parseInt(e.slice(1),10)||0;n.delay.show=t,n.delay.hide=t}else ic.test(e)?n.delay.show=parseInt(e.slice(2),10)||0:ac.test(e)?n.delay.hide=parseInt(e.slice(2),10)||0:sc.test(e)?n.offset=parseInt(e.slice(1),10)||0:lc.test(e)&&(n.variant=e.slice(2)||null)}));var l={};return Object(x.b)(n.trigger||"").filter(de.a).join(" ").trim().toLowerCase().split(cc).forEach((function(e){Zl[e]&&(l[e]=!0)})),Object(object.l)(e.modifiers).forEach((function(e){e=e.toLowerCase(),Zl[e]&&(l[e]=!0)})),n.trigger=Object(object.l)(l).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger="click"),n},dc=function(e,t,r){if(O.j){var n=uc(t,r);if(!e[Jl]){var o=r.context;e[Jl]=new Yl({parent:o,_scopeId:bs(o,void 0)}),e[Jl].__bv_prev_data__={},e[Jl].$on("show",(function(){var data={};Object(T.e)(n.title)&&(data.title=n.title(e)),Object(T.e)(n.content)&&(data.content=n.content(e)),Object(object.l)(data).length>0&&e[Jl].updateData(data)}))}var data={title:n.title,content:n.content,triggers:n.trigger,placement:n.placement,fallbackPlacement:n.fallbackPlacement,variant:n.variant,customClass:n.customClass,container:n.container,boundary:n.boundary,delay:n.delay,offset:n.offset,noFade:!n.animation,id:n.id,disabled:n.disabled,html:n.html},l=e[Jl].__bv_prev_data__;if(e[Jl].__bv_prev_data__=data,!It(data,l)){var c={target:e};Object(object.l)(data).forEach((function(t){data[t]!==l[t]&&(c[t]="title"!==t&&"content"!==t||!Object(T.e)(data[t])?data[t]:data[t](e))})),e[Jl].updateData(c)}}},hc={bind:function(e,t,r){dc(e,t,r)},componentUpdated:function(e,t,r){r.context.$nextTick((function(){dc(e,t,r)}))},unbind:function(e){!function(e){e[Jl]&&(e[Jl].$destroy(),e[Jl]=null),delete e[Jl]}(e)}},fc=Object(n.b)({directives:{VBPopover:hc}}),pc=Object(n.b)({components:{BPopover:Xl},plugins:{VBPopoverPlugin:fc}}),vc=l.a.extend({name:"BProgressBar",mixins:[pe],inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:[Number,String],default:0},label:{type:String,default:null},labelHtml:{type:String},max:{type:[Number,String],default:null},precision:{type:[Number,String],default:null},variant:{type:String,default:function(){return y("BProgressBar","variant")}},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.computedValue/this.computedMax*100+"%"}},computedValue:function(){return Object(ne.b)(this.value)||0},computedMax:function(){var e=Object(ne.b)(this.max);return isNaN(e)?Object(ne.b)(this.bvProgress.max)||100:e},computedPrecision:function(){var e=Object(ne.c)(this.precision);return isNaN(e)?Object(ne.c)(this.bvProgress.precision)||0:e},computedProgress:function(){var e=this.computedPrecision,p=Math.pow(10,e);return Object(ne.a)(100*p*this.computedValue/this.computedMax/p,e)},computedVariant:function(){return this.variant||this.bvProgress.variant},computedStriped:function(){return Object(T.a)(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(T.a)(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(T.a)(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(T.a)(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t=e();return this.hasNormalizedSlot("default")?t=this.normalizeSlot("default"):this.label||this.labelHtml?t=e("span",{domProps:Ge(this.labelHtml,this.label)}):this.computedShowProgress?t=this.computedProgress:this.computedShowValue&&(t=Object(ne.a)(this.computedValue,this.computedPrecision)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":Object(xe.f)(this.computedMax),"aria-valuenow":Object(ne.a)(this.computedValue,this.computedPrecision)}},[t])}}),mc=l.a.extend({name:"BProgress",mixins:[pe],provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:function(){return y("BProgress","variant")}},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:[Number,String],default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:[Number,String],default:100},value:{type:[Number,String],default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot("default");return t||(t=e(vc,{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),e("div",{class:["progress"],style:this.progressHeight},[t])}}),gc=Object(n.b)({components:{BProgress:mc,BProgressBar:vc}}),bc=l.a.extend({name:"BSpinner",functional:!0,props:{type:{type:String,default:"border"},label:{type:String,default:null},variant:{type:String,default:function(){return y("BSpinner","variant")}},small:{type:Boolean,default:!1},role:{type:String,default:"status"},tag:{type:String,default:"span"}},render:function(e,t){var r,n=t.props,data=t.data,l=t.slots,c=t.scopedSlots,d=l(),label=fe("label",{},c||{},d)||n.label;return label&&(label=e("span",{staticClass:"sr-only"},label)),e(n.tag,Object(oe.a)(data,{attrs:{role:label?n.role||"status":null,"aria-hidden":label?null:"true"},class:(r={},Object(o.a)(r,"spinner-".concat(n.type),n.type),Object(o.a)(r,"spinner-".concat(n.type,"-sm"),n.small),Object(o.a)(r,"text-".concat(n.variant),n.variant),r)}),[label||e()])}}),yc=Object(n.b)({components:{BSpinner:bc}}),_c={methods:{hasListener:function(e){var t=this.$listeners||{},r=this._events||{};return!Object(T.k)(t[e])||Object(x.d)(r[e])&&r[e].length>0}}},wc=/_/g,kc=/([a-z])([A-Z])/g,Sc=/(\s|^)(\w)/g,xc=function(e){return e.replace(wc," ").replace(kc,(function(e,t,r){return t+" "+r})).replace(Sc,(function(e,t,r){return t+r.toUpperCase()}))},Oc={_rowVariant:!0,_cellVariants:!0,_showDetails:!0},Tc=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),Ec=function(e,t){var r=[];if(Object(x.d)(e)&&e.filter(de.a).forEach((function(e){if(Object(T.j)(e))r.push({key:e,label:xc(e)});else if(Object(object.j)(e)&&e.key&&Object(T.j)(e.key))r.push(Object(object.b)(e));else if(Object(object.j)(e)&&1===Object(object.l)(e).length){var t=Object(object.l)(e)[0],n=function(e,t){var r=null;return Object(T.j)(t)?r={key:e,label:t}:Object(T.e)(t)?r={key:e,formatter:t}:Object(object.j)(t)?(r=Object(object.b)(t)).key=r.key||e:!1!==t&&(r={key:e}),r}(t,e[t]);n&&r.push(n)}})),0===r.length&&Object(x.d)(t)&&t.length>0){var n=t[0];Object(object.l)(n).forEach((function(e){Oc[e]||r.push({key:e,label:xc(e)})}))}var o={};return r.filter((function(e){return!o[e.key]&&(o[e.key]=!0,e.label=Object(T.j)(e.label)?e.label:xc(e.key),!0)}))},Cc={props:{items:{type:Array,default:function(){return[]}},fields:{type:Array,default:null},primaryKey:{type:String,default:null},value:{type:Array,default:function(){return[]}}},data:function(){return{localItems:Object(x.d)(this.items)?this.items.slice():[]}},computed:{computedFields:function(){return Ec(this.fields,this.localItems)},computedFieldsObj:function(){var e=this.$parent;return this.computedFields.reduce((function(t,r){if(t[r.key]=Object(object.b)(r),r.formatter){var n=r.formatter;Object(T.j)(n)&&Object(T.e)(e[n])?n=e[n]:Object(T.e)(n)||(n=void 0),t[r.key].formatter=n}return t}),{})},computedItems:function(){return(this.paginatedItems||this.sortedItems||this.filteredItems||this.localItems||[]).slice()},context:function(){return{filter:this.localFilter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,perPage:parseInt(this.perPage,10)||0,currentPage:parseInt(this.currentPage,10)||1,apiUrl:this.apiUrl}}},watch:{items:function(e){Object(x.d)(e)?this.localItems=e.slice():Object(T.l)(e)&&(this.localItems=[])},computedItems:function(e){this.$emit("input",e)},context:function(e,t){It(e,t)||this.$emit("context-changed",e)}},mounted:function(){this.$emit("input",this.computedItems)},methods:{getFieldFormatter:function(e){var t=this.computedFieldsObj[e];return t?t.formatter:void 0}}},Ic={props:{stacked:{type:[Boolean,String],default:!1}},computed:{isStacked:function(){return""===this.stacked||this.stacked},isStackedAlways:function(){return!0===this.isStacked},stackedTableClasses:function(){return Object(o.a)({"b-table-stacked":this.isStackedAlways},"b-table-stacked-".concat(this.stacked),!this.isStackedAlways&&this.isStacked)}}},jc=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(object.l)(e).reduce((function(o,l){if(!Oc[l]&&!(t&&t.length>0&&Object(x.a)(t,l))&&(!(r&&r.length>0)||Object(x.a)(r,l))){var c=n[l]||{},d=e[l],h=c.filterByFormatted,f=Object(T.e)(h)?h:h?c.formatter:null;o[l]=Object(T.e)(f)?f(d,l,e):d}return o}),{})},Mc=function e(t){return Object(T.l)(t)?"":Object(object.j)(t)&&!Object(T.b)(t)?Object(object.l)(t).sort().filter((function(e){return!Object(T.l)(e)})).map((function(r){return e(t[r])})).join(" "):Object(xe.f)(t)},Rc=function(e,t,r,n){return Object(object.j)(e)?Mc(jc(e,t,r,n)):""},Ac='Prop "filter-debounce" is deprecated. Use the debounce feature of "<b-form-input>" instead.',Pc=/[\s\uFEFF\xA0]+/g,Bc={props:{filter:{type:[String,RegExp,Object,Array],default:null},filterFunction:{type:Function,default:null},filterIgnoredFields:{type:Array},filterIncludedFields:{type:Array},filterDebounce:{type:[Number,String],deprecated:Ac,default:0,validator:function(e){return/^\d+/.test(String(e))}}},data:function(){return{isFiltered:!1,localFilter:this.filterSanitize(this.filter)}},computed:{computedFilterIgnored:function(){return this.filterIgnoredFields?Object(x.b)(this.filterIgnoredFields).filter(Boolean):null},computedFilterIncluded:function(){return this.filterIncludedFields?Object(x.b)(this.filterIncludedFields).filter(Boolean):null},computedFilterDebounce:function(){var e=Object(ne.c)(this.filterDebounce)||0;return e>0&&Object(nn.a)(Ac,"BTable"),e},localFiltering:function(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck:function(){return{filteredItems:this.filteredItems,localItems:this.localItems,localFilter:this.localFilter}},localFilterFn:function(){return Object(T.e)(this.filterFunction)?this.filterFunction:null},filteredItems:function(){var e=this.localItems||[],t=this.localFilter,r=this.localFiltering?this.filterFnFactory(this.localFilterFn,t)||this.defaultFilterFnFactory(t):null;return r&&e.length>0?e.filter(r):e}},watch:{computedFilterDebounce:function(e){!e&&this.$_filterTimer&&(clearTimeout(this.$_filterTimer),this.$_filterTimer=null,this.localFilter=this.filterSanitize(this.filter))},filter:{deep:!0,handler:function(e){var t=this,r=this.computedFilterDebounce;clearTimeout(this.$_filterTimer),this.$_filterTimer=null,r&&r>0?this.$_filterTimer=setTimeout((function(){t.localFilter=t.filterSanitize(e)}),r):this.localFilter=this.filterSanitize(e)}},filteredCheck:function(e){var t=e.filteredItems,r=e.localFilter,n=!1;r?It(r,[])||It(r,{})?n=!1:r&&(n=!0):n=!1,n&&this.$emit("filtered",t,t.length),this.isFiltered=n},isFiltered:function(e,t){!1===e&&!0===t&&this.$emit("filtered",this.localItems,this.localItems.length)}},created:function(){var e=this;this.$_filterTimer=null,this.$nextTick((function(){e.isFiltered=Boolean(e.localFilter)}))},beforeDestroy:function(){clearTimeout(this.$_filterTimer),this.$_filterTimer=null},methods:{filterSanitize:function(e){return!this.localFiltering||this.localFilterFn||Object(T.j)(e)||Object(T.i)(e)?Object(c.a)(e):""},filterFnFactory:function(e,t){if(!e||!Object(T.e)(e)||!t||It(t,[])||It(t,{}))return null;return function(r){return e(r,t)}},defaultFilterFnFactory:function(e){var t=this;if(!e||!Object(T.j)(e)&&!Object(T.i)(e))return null;var r=e;if(Object(T.j)(r)){var pattern=Object(xe.a)(e).replace(Pc,"\\s+");r=new RegExp(".*".concat(pattern,".*"),"i")}return function(e){return r.lastIndex=0,r.test(Rc(e,t.computedFilterIgnored,t.computedFilterIncluded,t.computedFieldsObj))}}}},Dc=function(e,t){return e.map((function(a,e){return[e,a]})).sort(function(a,b){return this(a[1],b[1])||a[0]-b[0]}.bind(t)).map((function(e){return e[1]}))},Lc=function(a,b,e,t,r,n,o,l){var c=Object(d.a)(a,e,null),h=Object(d.a)(b,e,null);return Object(T.e)(r)&&(c=r(c,e,a),h=r(h,e,b)),c=Object(T.l)(c)?"":c,h=Object(T.l)(h)?"":h,Object(T.b)(c)&&Object(T.b)(h)||Object(T.g)(c)&&Object(T.g)(h)?c<h?-1:c>h?1:0:l&&""===c&&""!==h?1:l&&""!==c&&""===h?-1:Mc(c).localeCompare(Mc(h),o,n)};function zc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Fc={props:{sortBy:{type:String,default:""},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(e){return Object(x.a)(["asc","desc","last"],e)}},sortCompare:{type:Function,default:null},sortCompareOptions:{type:Object,default:function(){return{numeric:!0}}},sortCompareLocale:{type:[String,Array]},sortNullLast:{type:Boolean,default:!1},noSortReset:{type:Boolean,default:!1},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},labelSortClear:{type:String,default:"Click to clear sorting"},noLocalSorting:{type:Boolean,default:!1},noFooterSorting:{type:Boolean,default:!1},sortIconLeft:{type:Boolean,default:!1}},data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1}},computed:{localSorting:function(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable:function(){return this.computedFields.some((function(e){return e.sortable}))},sortedItems:function(){var e=(this.filteredItems||this.localItems||[]).slice(),t=this.localSortBy,r=this.localSortDesc,n=this.sortCompare,l=this.localSorting,c=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?zc(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):zc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.sortCompareOptions,{usage:"sort"}),d=this.sortCompareLocale||void 0,h=this.sortNullLast;if(t&&l){var f=(this.computedFieldsObj[t]||{}).sortByFormatted,v=Object(T.e)(f)?f:f?this.getFieldFormatter(t):void 0;return Dc(e,(function(a,b){var e=null;return Object(T.e)(n)&&(e=n(a,b,t,r,v,c,d)),(Object(T.l)(e)||!1===e)&&(e=Lc(a,b,t,r,v,c,d,h)),(e||0)*(r?-1:1)}))}return e}},watch:{isSortable:function(e){e?this.isSortable&&this.$on("head-clicked",this.handleSort):this.$off("head-clicked",this.handleSort)},sortDesc:function(e){e!==this.localSortDesc&&(this.localSortDesc=e||!1)},sortBy:function(e){e!==this.localSortBy&&(this.localSortBy=e||"")},localSortDesc:function(e,t){e!==t&&this.$emit("update:sortDesc",e)},localSortBy:function(e,t){e!==t&&this.$emit("update:sortBy",e)}},created:function(){this.isSortable&&this.$on("head-clicked",this.handleSort)},methods:{handleSort:function(e,t,r,n){var o=this;if(this.isSortable&&(!n||!this.noFooterSorting)){var l=!1,c=function(){var e=t.sortDirection||o.sortDirection;"asc"===e?o.localSortDesc=!1:"desc"===e&&(o.localSortDesc=!0)};t.sortable?(e===this.localSortBy?this.localSortDesc=!this.localSortDesc:(this.localSortBy=e,c()),l=!0):this.localSortBy&&!this.noSortReset&&(this.localSortBy="",c(),l=!0),l&&this.$emit("sort-changed",this.context)}},sortTheadThClasses:function(e,t,r){return{"b-table-sort-icon-left":t.sortable&&this.sortIconLeft&&!(r&&this.noFooterSorting)}},sortTheadThAttrs:function(e,t,r){if(!this.isSortable||r&&this.noFooterSorting)return{};var n=t.sortable;return{"aria-sort":n&&this.localSortBy===e?this.localSortDesc?"descending":"ascending":n?"none":null}},sortTheadThLabel:function(e,t,r){if(!this.isSortable||r&&this.noFooterSorting)return null;var n="";if(t.sortable)if(this.localSortBy===e)n=this.localSortDesc?this.labelSortAsc:this.labelSortDesc;else{n=this.localSortDesc?this.labelSortDesc:this.labelSortAsc;var o=this.sortDirection||t.sortDirection;"asc"===o?n=this.labelSortAsc:"desc"===o&&(n=this.labelSortDesc)}else this.noSortReset||(n=this.localSortBy?this.labelSortClear:"");return Object(xe.g)(n)||null}}},Nc={props:{perPage:{type:[Number,String],default:0},currentPage:{type:[Number,String],default:1}},computed:{localPaging:function(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems:function(){var e=this.sortedItems||this.filteredItems||this.localItems||[],t=Math.max(parseInt(this.currentPage,10)||1,1),r=Math.max(parseInt(this.perPage,10)||0,0);return this.localPaging&&r&&(e=e.slice((t-1)*r,t*r)),e}}},Vc={props:{caption:{type:String,default:null},captionHtml:{type:String}},computed:{captionId:function(){return this.isStacked?this.safeId("_caption_"):null}},methods:{renderCaption:function(){var e=this.$createElement,t=this.normalizeSlot("table-caption"),r=e();if(t||this.caption||this.captionHtml){var data={key:"caption",attrs:{id:this.captionId}};t||(data.domProps=Ge(this.captionHtml,this.caption)),r=e("caption",data,[t])}return r}}},Hc={methods:{renderColgroup:function(){var e=this.$createElement,t=this.computedFields,r=e();return this.hasNormalizedSlot("table-colgroup")&&(r=e("colgroup",{key:"colgroup"},[this.normalizeSlot("table-colgroup",{columns:t.length,fields:t})])),r}}},$c=["TD","TH","TR"],Uc=function(e){if(!e||!e.target)return!1;var t=e.target;if(t.disabled||-1!==$c.indexOf(t.tagName))return!1;if(V(".dropdown-menu",t))return!0;var label="LABEL"===t.tagName?t:V("label",t);if(label){var r=X(label,"for"),input=r?$(r):F("input, select, textarea",label);if(input&&!input.disabled)return!0}return N(t,Tc)},qc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=ee();return!!(t&&""!==t.toString().trim()&&t.containsNode&&P(e))&&t.containsNode(e,!0)};function Kc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Gc={headVariant:{type:String,default:null}},Wc=l.a.extend({name:"BThead",mixins:[pe],inheritAttrs:!1,provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},props:Gc,computed:{isThead:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},theadClasses:function(){return[this.headVariant?"thead-".concat(this.headVariant):null]},theadAttrs:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Kc(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Kc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({role:"rowgroup"},this.$attrs)}},render:function(e){return e("thead",{class:this.theadClasses,attrs:this.theadAttrs,on:this.$listeners},this.normalizeSlot("default"))}});function Yc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Xc={footVariant:{type:String,default:null}},Qc=l.a.extend({name:"BTfoot",mixins:[pe],inheritAttrs:!1,provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},props:Xc,computed:{isTfoot:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},tfootClasses:function(){return[this.footVariant?"thead-".concat(this.footVariant):null]},tfootAttrs:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Yc(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Yc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({role:"rowgroup"},this.$attrs)}},render:function(e){return e("tfoot",{class:this.tfootClasses,attrs:this.tfootAttrs,on:this.$listeners},this.normalizeSlot("default"))}});function Jc(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Zc={variant:{type:String,default:null}},eu=l.a.extend({name:"BTr",mixins:[pe],inheritAttrs:!1,provide:function(){return{bvTableTr:this}},inject:{bvTableRowGroup:{default:function(){return{}}}},props:Zc,computed:{inTbody:function(){return this.bvTableRowGroup.isTbody},inThead:function(){return this.bvTableRowGroup.isThead},inTfoot:function(){return this.bvTableRowGroup.isTfoot},isDark:function(){return this.bvTableRowGroup.isDark},isStacked:function(){return this.bvTableRowGroup.isStacked},isResponsive:function(){return this.bvTableRowGroup.isResponsive},isStickyHeader:function(){return this.bvTableRowGroup.isStickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTableRowGroup.hasStickyHeader},tableVariant:function(){return this.bvTableRowGroup.tableVariant},headVariant:function(){return this.inThead?this.bvTableRowGroup.headVariant:null},footVariant:function(){return this.inTfoot?this.bvTableRowGroup.footVariant:null},isRowDark:function(){return"light"!==this.headVariant&&"light"!==this.footVariant&&("dark"===this.headVariant||"dark"===this.footVariant||this.isDark)},trClasses:function(){return[this.variant?"".concat(this.isRowDark?"bg":"table","-").concat(this.variant):null]},trAttrs:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Jc(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Jc(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({role:"row"},this.$attrs)}},render:function(e){return e("tr",{class:this.trClasses,attrs:this.trAttrs,on:this.$listeners},this.normalizeSlot("default"))}});function tu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var ru=/^\d+$/,nu=function(e){return e=parseInt(e,10),ru.test(String(e))&&e>0?e:null},ou=function(e){return Object(T.l)(e)||nu(e)>0},iu={variant:{type:String,default:null},colspan:{type:[Number,String],default:null,validator:ou},rowspan:{type:[Number,String],default:null,validator:ou},stackedHeading:{type:String,default:null},stickyColumn:{type:Boolean,default:!1}},au=l.a.extend({name:"BTableCell",mixins:[pe],inheritAttrs:!1,inject:{bvTableTr:{default:function(){return{}}}},props:iu,computed:{tag:function(){return"td"},inTbody:function(){return this.bvTableTr.inTbody},inThead:function(){return this.bvTableTr.inThead},inTfoot:function(){return this.bvTableTr.inTfoot},isDark:function(){return this.bvTableTr.isDark},isStacked:function(){return this.bvTableTr.isStacked},isStackedCell:function(){return this.inTbody&&this.isStacked},isResponsive:function(){return this.bvTableTr.isResponsive},isStickyHeader:function(){return this.bvTableTr.isStickyHeader},hasStickyHeader:function(){return this.bvTableTr.hasStickyHeader},isStickyColumn:function(){return!this.isStacked&&(this.isResponsive||this.hasStickyHeader)&&this.stickyColumn},rowVariant:function(){return this.bvTableTr.variant},headVariant:function(){return this.bvTableTr.headVariant},footVariant:function(){return this.bvTableTr.footVariant},tableVariant:function(){return this.bvTableTr.tableVariant},computedColspan:function(){return nu(this.colspan)},computedRowspan:function(){return nu(this.rowspan)},cellClasses:function(){var e=this.variant;return(!e&&this.isStickyHeader&&!this.headVariant||!e&&this.isStickyColumn)&&(e=this.rowVariant||this.tableVariant||"b-table-default"),[e?"".concat(this.isDark?"bg":"table","-").concat(e):null,this.isStickyColumn?"b-table-sticky-column":null]},cellAttrs:function(){var e=this.inThead||this.inTfoot,t=this.computedColspan,r=this.computedRowspan,n="cell",l=null;return e?(n="columnheader",l=t>0?"colspan":"col"):"th"===this.tag&&(n="rowheader",l=r>0?"rowgroup":"row"),function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?tu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):tu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({colspan:t,rowspan:r,role:n,scope:l},this.$attrs,{"data-label":this.isStackedCell&&!Object(T.l)(this.stackedHeading)?Object(xe.f)(this.stackedHeading):null})}},render:function(e){var content=[this.normalizeSlot("default")];return e(this.tag,{class:this.cellClasses,attrs:this.cellAttrs,on:this.$listeners},[this.isStackedCell?e("div",[content]):content])}}),su=l.a.extend({name:"BTh",extends:au,computed:{tag:function(){return"th"}}});function lu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function cu(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?lu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):lu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var uu={props:{headVariant:{type:String,default:function(){return y("BTable","headVariant")}},headRowVariant:{type:String,default:null},theadClass:{type:[String,Array,Object]},theadTrClass:{type:[String,Array,Object]}},methods:{fieldClasses:function(e){return[e.class?e.class:"",e.thClass?e.thClass:""]},headClicked:function(e,t,r){this.stopIfBusy&&this.stopIfBusy(e)||Uc(e)||qc(this.$el)||(e.stopPropagation(),e.preventDefault(),this.$emit("head-clicked",t.key,t,e,r))},renderThead:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.$createElement,n=this.computedFields||[];if(this.isStackedAlways||0===n.length)return r();var o=this.isSelectable?this.selectAllRows:function(){},l=this.isSelectable?this.clearSelected:function(){},c=function(n,c){var d=null;n.label.trim()||n.headerTitle||(d=xc(n.key));var h=e.hasListener("head-clicked")||e.isSortable,f={};h&&(f.click=function(r){e.headClicked(r,n,t)},f.keydown=function(r){var o=r.keyCode;o!==ot.ENTER&&o!==ot.SPACE||e.headClicked(r,n,t)});var v=e.isSortable?e.sortTheadThAttrs(n.key,n,t):{},m=e.isSortable?e.sortTheadThClasses(n.key,n,t):null,y=e.isSortable?e.sortTheadThLabel(n.key,n,t):null,data={key:n.key,class:[e.fieldClasses(n),m],props:{variant:n.variant,stickyColumn:n.stickyColumn},style:n.thStyle||{},attrs:cu({tabindex:h?"0":null,abbr:n.headerAbbr||null,title:n.headerTitle||null,"aria-colindex":c+1,"aria-label":d},e.getThValues(null,n.key,n.thAttr,t?"foot":"head",{}),{},v),on:f},_=["head(".concat(n.key,")"),"head(".concat(n.key.toLowerCase(),")"),"head()"];t&&(_=["foot(".concat(n.key,")"),"foot(".concat(n.key.toLowerCase(),")"),"foot()"].concat(Object(Se.a)(_)));var w={label:n.label,column:n.key,field:n,isFoot:t,selectAllRows:o,clearSelected:l},content=e.normalizeSlot(_,w)||(n.labelHtml?r("div",{domProps:Ge(n.labelHtml)}):n.label),k=y?r("span",{staticClass:"sr-only"}," (".concat(y,")")):null;return r(su,data,[content,k].filter(de.a))},d=n.map(c).filter(de.a),h=[];if(t){var f={variant:Object(T.l)(this.footRowVariant)?this.headRowVariant:this.footRowVariant};h.push(r(eu,{class:this.tfootTrClass,props:f},d))}else{var v={columns:n.length,fields:n,selectAllRows:o,clearSelected:l};h.push(this.normalizeSlot("thead-top",v)||r()),h.push(r(eu,{class:this.theadTrClass,props:{variant:this.headRowVariant}},d))}return r(t?Qc:Wc,{key:t?"bv-tfoot":"bv-thead",class:(t?this.tfootClass:this.theadClass)||null,props:t?{footVariant:this.footVariant||this.headVariant||null}:{headVariant:this.headVariant||null}},h)}}},du={props:{footClone:{type:Boolean,default:!1},footVariant:{type:String,default:function(){return y("BTable","footVariant")}},footRowVariant:{type:String,default:null},tfootClass:{type:[String,Array,Object],default:null},tfootTrClass:{type:[String,Array,Object],default:null}},methods:{renderTFootCustom:function(){var e=this.$createElement;return this.hasNormalizedSlot("custom-foot")?e(Qc,{key:"bv-tfoot-custom",class:this.tfootClass||null,props:{footVariant:this.footVariant||this.headVariant||null}},this.normalizeSlot("custom-foot",{items:this.computedItems.slice(),fields:this.computedFields.slice(),columns:this.computedFields.length})):e()},renderTfoot:function(){return this.footClone?this.renderThead(!0):this.renderTFootCustom()}}};function hu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function fu(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?hu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):hu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var pu={tbodyTransitionProps:{type:Object},tbodyTransitionHandlers:{type:Object}},vu=l.a.extend({name:"BTbody",mixins:[pe],inheritAttrs:!1,provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},props:pu,computed:{isTbody:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},isTransitionGroup:function(){return this.tbodyTransitionProps||this.tbodyTransitionHandlers},tbodyAttrs:function(){return fu({role:"rowgroup"},this.$attrs)},tbodyProps:function(){return this.tbodyTransitionProps?fu({},this.tbodyTransitionProps,{tag:"tbody"}):{}}},render:function(e){var data={props:this.tbodyProps,attrs:this.tbodyAttrs};return this.isTransitionGroup?(data.on=this.tbodyTransitionHandlers||{},data.nativeOn=this.$listeners||{}):data.on=this.$listeners||{},e(this.isTransitionGroup?"transition-group":"tbody",data,this.normalizeSlot("default"))}});function mu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function gu(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?mu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):mu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function bu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var yu={mixins:[{props:{tbodyTrClass:{type:[String,Array,Object,Function],default:null},tbodyTrAttr:{type:[Object,Function],default:null},detailsTdClass:{type:[String,Array,Object],default:null}},methods:{getTdValues:function(e,t,r,n){var o=this.$parent;if(r){var l=Object(d.a)(e,t,"");return Object(T.e)(r)?r(l,t,e):Object(T.j)(r)&&Object(T.e)(o[r])?o[r](l,t,e):r}return n},getThValues:function(e,t,r,n,o){var l=this.$parent;if(r){var c=Object(d.a)(e,t,"");return Object(T.e)(r)?r(c,t,e,n):Object(T.j)(r)&&Object(T.e)(l[r])?l[r](c,t,e,n):r}return o},getFormattedValue:function(e,t){var r=t.key,n=this.getFieldFormatter(r),o=Object(d.a)(e,r,null);return Object(T.e)(n)&&(o=n(o,r,e)),Object(T.l)(o)?"":o},toggleDetailsFactory:function(e,t){var r=this;return function(){e&&r.$set(t,"_showDetails",!t._showDetails)}},rowHovered:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-hovered",e)},rowUnhovered:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-unhovered",e)},renderTbodyRowCell:function(e,t,r,n){var o=this,l=this.$createElement,c=this.hasNormalizedSlot("row-details"),h=this.getFormattedValue(r,e),f=e.key,v=!this.isStacked&&(this.isResponsive||this.stickyHeader)&&e.stickyColumn,m=v?e.isRowHeader?su:au:e.isRowHeader?"th":"td",y=r._cellVariants&&r._cellVariants[f]?r._cellVariants[f]:e.variant||null,data={key:"row-".concat(n,"-cell-").concat(t,"-").concat(f),class:[e.class?e.class:"",this.getTdValues(r,f,e.tdClass,"")],props:{},attrs:gu({"aria-colindex":String(t+1)},e.isRowHeader?this.getThValues(r,f,e.thAttr,"row",{}):this.getTdValues(r,f,e.tdAttr,{}))};v?data.props={stackedHeading:this.isStacked?e.label:null,stickyColumn:!0,variant:y}:(data.attrs["data-label"]=this.isStacked&&!Object(T.l)(e.label)?Object(xe.f)(e.label):null,data.attrs.role=e.isRowHeader?"rowheader":"cell",data.attrs.scope=e.isRowHeader?"row":null,y&&data.class.push("".concat(this.dark?"bg":"table","-").concat(y)));var _={item:r,index:n,field:e,unformatted:Object(d.a)(r,f,""),value:h,toggleDetails:this.toggleDetailsFactory(c,r),detailsShowing:Boolean(r._showDetails)};this.supportsSelectableRows&&(_.rowSelected=this.isRowSelected(n),_.selectRow=function(){return o.selectRow(n)},_.unselectRow=function(){return o.unselectRow(n)});var w=this.$_bodyFieldSlotNameCache[f],k=w?this.normalizeSlot(w,_):Object(xe.f)(h);return this.isStacked&&(k=[l("div",[k])]),l(m,data,[k])},renderTbodyRow:function(e,t){var r=this,n=this.$createElement,o=this.computedFields,l=this.striped,c=this.hasNormalizedSlot("row-details"),h=e._showDetails&&c,f=this.$listeners["row-clicked"]||this.hasSelectableRowClick,v=[],m=h?this.safeId("_details_".concat(t,"_")):null,y=o.map((function(n,o){return r.renderTbodyRowCell(n,o,e,t)})),_=null;this.currentPage&&this.perPage&&this.perPage>0&&(_=String((this.currentPage-1)*this.perPage+t+1));var w=this.primaryKey,k=Object(xe.f)(Object(d.a)(e,w))||null,S=k||Object(xe.f)(t),x=k?this.safeId("_row_".concat(k)):null,O=this.selectableRowClasses?this.selectableRowClasses(t):{},E=this.selectableRowAttrs?this.selectableRowAttrs(t):{},C=Object(T.e)(this.tbodyTrClass)?this.tbodyTrClass(e,"row"):this.tbodyTrClass,I=Object(T.e)(this.tbodyTrAttr)?this.tbodyTrAttr(e,"row"):this.tbodyTrAttr;if(v.push(n(eu,{key:"__b-table-row-".concat(S,"__"),ref:"itemRows",refInFor:!0,class:[C,O,h?"b-table-has-details":""],props:{variant:e._rowVariant||null},attrs:gu({id:x},I,{tabindex:f?"0":null,"data-pk":k||null,"aria-details":m,"aria-owns":m,"aria-rowindex":_},E),on:{mouseenter:this.rowHovered,mouseleave:this.rowUnhovered}},y)),h){var j={item:e,index:t,fields:o,toggleDetails:this.toggleDetailsFactory(c,e)};this.supportsSelectableRows&&(j.rowSelected=this.isRowSelected(t),j.selectRow=function(){return r.selectRow(t)},j.unselectRow=function(){return r.unselectRow(t)});var M=n(au,{props:{colspan:o.length},class:this.detailsTdClass},[this.normalizeSlot("row-details",j)]);l&&v.push(n("tr",{key:"__b-table-details-stripe__".concat(S),staticClass:"d-none",attrs:{"aria-hidden":"true",role:"presentation"}}));var R=Object(T.e)(this.tbodyTrClass)?this.tbodyTrClass(e,"row-details"):this.tbodyTrClass,A=Object(T.e)(this.tbodyTrAttr)?this.tbodyTrAttr(e,"row-details"):this.tbodyTrAttr;v.push(n(eu,{key:"__b-table-details__".concat(S),staticClass:"b-table-details",class:[R],props:{variant:e._rowVariant||null},attrs:gu({},A,{id:m,tabindex:"-1"})},[M]))}else c&&(v.push(n()),l&&v.push(n()));return v}}}],props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?bu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):bu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},pu,{tbodyClass:{type:[String,Array,Object]}}),methods:{getTbodyTrs:function(){var e=this.$refs||{},tbody=e.tbody?e.tbody.$el||e.tbody:null,t=(e.itemRows||[]).map((function(tr){return tr.$el||tr}));return tbody&&tbody.children&&tbody.children.length>0&&t&&t.length>0?Object(x.c)(tbody.children).filter((function(tr){return Object(x.a)(t,tr)})):[]},getTbodyTrIndex:function(e){if(!P(e))return-1;var tr="TR"===e.tagName?e:V("tr",e,!0);return tr?this.getTbodyTrs().indexOf(tr):-1},emitTbodyRowEvent:function(e,t){if(e&&this.hasListener(e)&&t&&t.target){var r=this.getTbodyTrIndex(t.target);if(r>-1){var n=this.computedItems[r];this.$emit(e,n,r,t)}}},tbodyRowEvtStopped:function(e){return this.stopIfBusy&&this.stopIfBusy(e)},onTbodyRowKeydown:function(e){var t=e.target;if(!this.tbodyRowEvtStopped(e)&&"TR"===t.tagName&&t===document.activeElement&&0===t.tabIndex){var r=e.keyCode;if(Object(x.a)([ot.ENTER,ot.SPACE],r))e.stopPropagation(),e.preventDefault(),this.onTBodyRowClicked(e);else if(Object(x.a)([ot.UP,ot.DOWN,ot.HOME,ot.END],r)){var n=this.getTbodyTrIndex(t);if(n>-1){e.stopPropagation(),e.preventDefault();var o=this.getTbodyTrs(),l=e.shiftKey;r===ot.HOME||l&&r===ot.UP?o[0].focus():r===ot.END||l&&r===ot.DOWN?o[o.length-1].focus():r===ot.UP&&n>0?o[n-1].focus():r===ot.DOWN&&n<o.length-1&&o[n+1].focus()}}}},onTBodyRowClicked:function(e){this.tbodyRowEvtStopped(e)||Uc(e)||qc(this.$el)||this.emitTbodyRowEvent("row-clicked",e)},onTbodyRowMiddleMouseRowClicked:function(e){this.tbodyRowEvtStopped(e)||2!==e.which||this.emitTbodyRowEvent("row-middle-clicked",e)},onTbodyRowContextmenu:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-contextmenu",e)},onTbodyRowDblClicked:function(e){this.tbodyRowEvtStopped(e)||Uc(e)||this.emitTbodyRowEvent("row-dblclicked",e)},renderTbody:function(){var e=this,t=this.computedItems,r=this.$createElement,n=this.hasListener("row-clicked")||this.hasSelectableRowClick,o=[],l=this.renderBusy?this.renderBusy():null;if(l)o.push(l);else{var c={},d=this.hasNormalizedSlot("cell()")?"cell()":null;this.computedFields.forEach((function(t){var r=t.key,n="cell(".concat(r,")"),o="cell(".concat(r.toLowerCase(),")");c[r]=e.hasNormalizedSlot(n)?n:e.hasNormalizedSlot(o)?o:d})),this.$_bodyFieldSlotNameCache=c,o.push(this.renderTopRow?this.renderTopRow():r()),t.forEach((function(t,r){o.push(e.renderTbodyRow(t,r))})),o.push(this.renderEmpty?this.renderEmpty():r()),o.push(this.renderBottomRow?this.renderBottomRow():r())}var h={auxclick:this.onTbodyRowMiddleMouseRowClicked,contextmenu:this.onTbodyRowContextmenu,dblclick:this.onTbodyRowDblClicked};return n&&(h.click=this.onTBodyRowClicked,h.keydown=this.onTbodyRowKeydown),r(vu,{ref:"tbody",class:this.tbodyClass||null,props:{tbodyTransitionProps:this.tbodyTransitionProps,tbodyTransitionHandlers:this.tbodyTransitionHandlers},on:h},o)}}},_u={props:{showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyHtml:{type:String},emptyFilteredText:{type:String,default:"There are no records matching your request"},emptyFilteredHtml:{type:String}},methods:{renderEmpty:function(){var e,t=this.$createElement,r=this.computedItems;return!this.showEmpty||r&&0!==r.length||this.computedBusy&&this.hasNormalizedSlot("table-busy")||((e=this.normalizeSlot(this.isFiltered?"emptyfiltered":"empty",{emptyFilteredHtml:this.emptyFilteredHtml,emptyFilteredText:this.emptyFilteredText,emptyHtml:this.emptyHtml,emptyText:this.emptyText,fields:this.computedFields,items:this.computedItems}))||(e=t("div",{class:["text-center","my-2"],domProps:this.isFiltered?Ge(this.emptyFilteredHtml,this.emptyFilteredText):Ge(this.emptyHtml,this.emptyText)})),e=t(au,{props:{colspan:this.computedFields.length||null}},[t("div",{attrs:{role:"alert","aria-live":"polite"}},[e])]),e=t(eu,{key:this.isFiltered?"b-empty-filtered-row":"b-empty-row",staticClass:"b-table-empty-row",class:[Object(T.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-empty"):this.tbodyTrClass],attrs:Object(T.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-empty"):this.tbodyTrAttr},[e])),e||t()}}},wu={methods:{renderTopRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot("top-row")||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(eu,{key:"b-top-row",staticClass:"b-table-top-row",class:[Object(T.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-top"):this.tbodyTrClass],attrs:Object(T.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-top"):this.tbodyTrAttr},[this.normalizeSlot("top-row",{columns:t.length,fields:t})])}}},ku={methods:{renderBottomRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot("bottom-row")||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(eu,{key:"b-bottom-row",staticClass:"b-table-bottom-row",class:[Object(T.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"row-bottom"):this.tbodyTrClass],attrs:Object(T.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-bottom"):this.tbodyTrAttr},this.normalizeSlot("bottom-row",{columns:t.length,fields:t}))}}},Su={props:{busy:{type:Boolean,default:!1}},data:function(){return{localBusy:!1}},computed:{computedBusy:function(){return this.busy||this.localBusy}},watch:{localBusy:function(e,t){e!==t&&this.$emit("update:busy",e)}},methods:{stopIfBusy:function(e){return!!this.computedBusy&&(e.preventDefault(),e.stopPropagation(),!0)},renderBusy:function(){var e=this.$createElement;return this.computedBusy&&this.hasNormalizedSlot("table-busy")?e(eu,{key:"table-busy-slot",staticClass:"b-table-busy-slot",class:[Object(T.e)(this.tbodyTrClass)?this.tbodyTrClass(null,"table-busy"):this.tbodyTrClass],attrs:Object(T.e)(this.tbodyTrAttr)?this.tbodyTrAttr(null,"table-busy"):this.tbodyTrAttr},[e(au,{props:{colspan:this.computedFields.length||null}},[this.normalizeSlot("table-busy")])]):null}}},xu={props:{selectable:{type:Boolean,default:!1},selectMode:{type:String,default:"multi",validator:function(e){return Object(x.a)(["range","multi","single"],e)}},selectedVariant:{type:String,default:function(){return y("BTable","selectedVariant")}},noSelectOnClick:{type:Boolean,default:!1}},data:function(){return{selectedRows:[],selectedLastRow:-1}},computed:{isSelectable:function(){return this.selectable&&this.selectMode},hasSelectableRowClick:function(){return this.isSelectable&&!this.noSelectOnClick},supportsSelectableRows:function(){return!0},selectableHasSelection:function(){return this.isSelectable&&this.selectedRows&&this.selectedRows.length>0&&this.selectedRows.some(de.a)},selectableIsMultiSelect:function(){return this.isSelectable&&Object(x.a)(["range","multi"],this.selectMode)},selectableTableClasses:function(){var e;return e={"b-table-selectable":this.isSelectable},Object(o.a)(e,"b-table-select-".concat(this.selectMode),this.isSelectable),Object(o.a)(e,"b-table-selecting",this.selectableHasSelection),Object(o.a)(e,"b-table-selectable-no-click",this.isSelectable&&!this.hasSelectableRowClick),e},selectableTableAttrs:function(){return{"aria-multiselectable":this.isSelectable?this.selectableIsMultiSelect?"true":"false":null}}},watch:{computedItems:function(e,t){var r=!1;if(this.isSelectable&&this.selectedRows.length>0){r=Object(x.d)(e)&&Object(x.d)(t)&&e.length===t.length;for(var i=0;r&&i<e.length;i++)r=It(jc(e[i]),jc(t[i]))}r||this.clearSelected()},selectable:function(e){this.clearSelected(),this.setSelectionHandlers(e)},selectMode:function(){this.clearSelected()},hasSelectableRowClick:function(e){this.clearSelected(),this.setSelectionHandlers(!e)},selectedRows:function(e,t){var r=this;if(this.isSelectable&&!It(e,t)){var n=[];e.forEach((function(e,t){e&&n.push(r.computedItems[t])})),this.$emit("row-selected",n)}}},beforeMount:function(){this.isSelectable&&this.setSelectionHandlers(!0)},methods:{selectRow:function(e){if(this.isSelectable&&Object(T.g)(e)&&e>=0&&e<this.computedItems.length&&!this.isRowSelected(e)){var t=this.selectableIsMultiSelect?this.selectedRows.slice():[];t[e]=!0,this.selectedLastClicked=-1,this.selectedRows=t}},unselectRow:function(e){if(this.isSelectable&&Object(T.g)(e)&&this.isRowSelected(e)){var t=this.selectedRows.slice();t[e]=!1,this.selectedLastClicked=-1,this.selectedRows=t}},selectAllRows:function(){var e=this.computedItems.length;this.isSelectable&&e>0&&(this.selectedLastClicked=-1,this.selectedRows=this.selectableIsMultiSelect?Ol(e).map((function(){return!0})):[!0])},isRowSelected:function(e){return!(!Object(T.g)(e)||!this.selectedRows[e])},clearSelected:function(){this.selectedLastClicked=-1,this.selectedRows=[]},selectableRowClasses:function(e){if(this.isSelectable&&this.isRowSelected(e)){var t=this.selectedVariant;return Object(o.a)({"b-table-row-selected":!0},"".concat(this.dark?"bg":"table","-").concat(t),t)}return{}},selectableRowAttrs:function(e){return{"aria-selected":this.isSelectable?this.isRowSelected(e)?"true":"false":null}},setSelectionHandlers:function(e){var t=e&&!this.noSelectOnClick?"$on":"$off";this[t]("row-clicked",this.selectionHandler),this[t]("filtered",this.clearSelected),this[t]("context-changed",this.clearSelected)},selectionHandler:function(e,t,r){if(this.isSelectable&&!this.noSelectOnClick){var n=this.selectMode,o=this.selectedRows.slice(),l=!o[t];if("single"===n)o=[];else if("range"===n)if(this.selectedLastRow>-1&&r.shiftKey){for(var c=Math.min(this.selectedLastRow,t);c<=Math.max(this.selectedLastRow,t);c++)o[c]=!0;l=!0}else r.ctrlKey||r.metaKey||(o=[],l=!0),this.selectedLastRow=l?t:-1;o[t]=l,this.selectedRows=o}else this.clearSelected()}}},Ou={mixins:[Sn],props:{items:{type:[Array,Function],default:function(){return[]}},noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},apiUrl:{type:String,default:""}},computed:{hasProvider:function(){return Object(T.e)(this.items)},providerTriggerContext:function(){var e={apiUrl:this.apiUrl,filter:null,sortBy:null,sortDesc:null,perPage:null,currentPage:null};return this.noProviderFiltering||(e.filter=this.localFilter),this.noProviderSorting||(e.sortBy=this.localSortBy,e.sortDesc=this.localSortDesc),this.noProviderPaging||(e.perPage=this.perPage,e.currentPage=this.currentPage),Object(object.b)(e)}},watch:{items:function(e){(this.hasProvider||Object(T.e)(e))&&this.$nextTick(this._providerUpdate)},providerTriggerContext:function(e,t){It(e,t)||this.$nextTick(this._providerUpdate)}},mounted:function(){var e=this;!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot("bv::refresh::table",(function(t){t!==e.id&&t!==e||e.refresh()}))},methods:{refresh:function(){this.$off("refreshed",this.refresh),this.computedBusy?this.localBusy&&this.hasProvider&&this.$on("refreshed",this.refresh):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=Object(x.d)(this.items)?this.items.slice():[])},_providerSetLocal:function(e){this.localItems=Object(x.d)(e)?e.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){var e=this;this.hasProvider&&(this.computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick((function(){try{var data=e.items(e.context,e._providerSetLocal);Object(T.h)(data)?data.then((function(t){e._providerSetLocal(t)})):Object(x.d)(data)?e._providerSetLocal(data):2!==e.items.length&&(Object(nn.a)("Provider function didn't request callback and did not return a promise or data.","BTable"),e.localBusy=!1)}catch(t){Object(nn.a)("Provider function error [".concat(t.name,"] ").concat(t.message,"."),"BTable"),e.localBusy=!1,e.$off("refreshed",e.refresh)}}))))}}};function Tu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Eu={inheritAttrs:!1,provide:function(){return{bvTable:this}},props:{striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stickyHeader:{type:[Boolean,String],default:!1},noBorderCollapse:{type:Boolean,default:!1},captionTop:{type:Boolean,default:!1},tableVariant:{type:String,default:null},tableClass:{type:[String,Array,Object],default:null}},computed:{isResponsive:function(){var e=""===this.responsive||this.responsive;return!this.isStacked&&e},isStickyHeader:function(){var e=""===this.stickyHeader||this.stickyHeader;return!this.isStacked&&e},wrapperClasses:function(){return[this.isStickyHeader?"b-table-sticky-header":"",!0===this.isResponsive?"table-responsive":this.isResponsive?"table-responsive-".concat(this.responsive):""].filter(de.a)},wrapperStyles:function(){return this.isStickyHeader&&!Object(T.a)(this.isStickyHeader)?{maxHeight:this.isStickyHeader}:{}},tableClasses:function(){var e=this.isTableSimple?this.hover:this.hover&&this.computedItems.length>0&&!this.computedBusy;return[this.tableClass,{"table-striped":this.striped,"table-hover":e,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,border:this.outlined,"b-table-fixed":this.fixed,"b-table-caption-top":this.captionTop,"b-table-no-border-collapse":this.noBorderCollapse},this.tableVariant?"".concat(this.dark?"bg":"table","-").concat(this.tableVariant):"",this.stackedTableClasses,this.selectableTableClasses]},tableAttrs:function(){var e=[(this.$attrs||{})["aria-describedby"],this.captionId].filter(de.a).join(" ")||null,t=this.computedItems,r=this.filteredItems,n=this.computedFields,l=this.selectableTableAttrs||{},c=this.isTableSimple?{}:{"aria-busy":this.computedBusy?"true":"false","aria-colcount":Object(xe.f)(n.length),"aria-describedby":e};return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Tu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Tu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"aria-rowcount":t&&r&&r.length>t.length?Object(xe.f)(r.length):null},this.$attrs,{id:this.safeId(),role:"table"},c,{},l)}},render:function(e){var t=[];this.isTableSimple?t.push(this.normalizeSlot("default")):(t.push(this.renderCaption?this.renderCaption():null),t.push(this.renderColgroup?this.renderColgroup():null),t.push(this.renderThead?this.renderThead():null),t.push(this.renderTbody?this.renderTbody():null),t.push(this.renderTfoot?this.renderTfoot():null));var r=e("table",{key:"b-table",staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs},t.filter(de.a));return this.wrapperClasses.length>0?e("div",{key:"wrap",class:this.wrapperClasses,style:this.wrapperStyles},[r]):r}},Cu=l.a.extend({name:"BTable",mixins:[_c,Ut,pe,Cc,Eu,Ic,uu,du,yu,Ic,Bc,Fc,Nc,Vc,Hc,xu,_u,wu,ku,Su,Ou]}),Iu=l.a.extend({name:"BTableLite",mixins:[_c,Ut,pe,Cc,Eu,Ic,uu,du,yu,Vc,Hc]}),ju=l.a.extend({name:"BTableSimple",mixins:[Ut,pe,Eu,Ic],computed:{isTableSimple:function(){return!0}}}),Mu=Object(n.b)({components:{BTableLite:Iu}}),Ru=Object(n.b)({components:{BTableSimple:ju,BTbody:vu,BThead:Wc,BTfoot:Qc,BTr:eu,BTd:au,BTh:su}}),Au=Object(n.b)({components:{BTable:Cu},plugins:{TableLitePlugin:Mu,TableSimplePlugin:Ru}});function Pu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Bu=Object(object.m)(Zs,["tabs","isNavBar","cardHeader"]),Du=function(e){return!e.disabled},Lu=l.a.extend({name:"BTabButtonHelper",inject:{bvTabs:{default:function(){return{}}}},props:{tab:{default:null},tabs:{type:Array,default:function(){return[]}},id:{type:String,default:null},controls:{type:String,default:null},tabIndex:{type:Number,default:null},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},noKeyNav:{type:Boolean,default:!1}},methods:{focus:function(){this.$refs&&this.$refs.link&&this.$refs.link.focus&&this.$refs.link.focus()},handleEvt:function(e){var t=function(){e.preventDefault(),e.stopPropagation()};if(!this.tab.disabled){var r=e.type,n=e.keyCode,o=e.shiftKey;"click"===r?(t(),this.$emit("click",e)):"keydown"===r&&n===ot.SPACE?(t(),this.$emit("click",e)):"keydown"!==r||this.noKeyNav||(n===ot.UP||n===ot.LEFT||n===ot.HOME?(t(),o||n===ot.HOME?this.$emit("first",e):this.$emit("prev",e)):n!==ot.DOWN&&n!==ot.RIGHT&&n!==ot.END||(t(),o||n===ot.END?this.$emit("last",e):this.$emit("next",e)))}}},render:function(e){var link=e(Fe,{ref:"link",staticClass:"nav-link",class:[{active:this.tab.localActive&&!this.tab.disabled,disabled:this.tab.disabled},this.tab.titleLinkClass,this.tab.localActive?this.bvTabs.activeNavItemClass:null],props:{disabled:this.tab.disabled},attrs:{role:"tab",id:this.id,tabindex:this.tabIndex,"aria-selected":this.tab.localActive&&!this.tab.disabled?"true":"false","aria-setsize":this.setSize,"aria-posinset":this.posInSet,"aria-controls":this.controls},on:{click:this.handleEvt,keydown:this.handleEvt}},[this.tab.normalizeSlot("title")||this.tab.title]);return e("li",{staticClass:"nav-item",class:[this.tab.titleItemClass],attrs:{role:"presentation"}},[link])}}),zu=l.a.extend({name:"BTabs",mixins:[Ut,pe],provide:function(){return{bvTabs:this}},model:{prop:"value",event:"input"},props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Pu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Pu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Bu,{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object],default:null},navClass:{type:[String,Array,Object],default:null},navWrapperClass:{type:[String,Array,Object],default:null},activeNavItemClass:{type:[String,Array,Object],default:null},activeTabClass:{type:[String,Array,Object],default:null},value:{type:Number,default:null}}),data:function(){var e=parseInt(this.value,10);return{currentTab:e=isNaN(e)?-1:e,tabs:[],registeredTabs:[],isMounted:!1}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var e=[];return this.card&&this.vertical&&e.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(e,[this.navClass])}},watch:{currentTab:function(e){var t=-1;this.tabs.forEach((function(r,n){e!==n||r.disabled?r.localActive=!1:(r.localActive=!0,t=n)})),this.$emit("input",t)},value:function(e,t){if(e!==t){e=parseInt(e,10),e=isNaN(e)?-1:e,t=parseInt(t,10)||0;var r=this.tabs;r[e]&&!r[e].disabled?this.activateTab(r[e]):e<t?this.previousTab():this.nextTab()}},registeredTabs:function(){var e=this;this.$nextTick((function(){R((function(){e.updateTabs()}))}))},tabs:function(e,t){var r=this;It(e.map((function(e){return e._uid})),t.map((function(e){return e._uid})))||this.$nextTick((function(){r.$emit("changed",e.slice(),t.slice())}))},isMounted:function(e){var t=this;e&&R((function(){t.updateTabs()})),this.setObserver(e)}},created:function(){var e=this,t=parseInt(this.value,10);this.currentTab=isNaN(t)?-1:t,this._bvObserver=null,this.$nextTick((function(){e.updateTabs()}))},mounted:function(){var e=this;this.updateTabs(),this.$nextTick((function(){e.isMounted=!0}))},deactivated:function(){this.isMounted=!1},activated:function(){var e=this,t=parseInt(this.value,10);this.currentTab=isNaN(t)?-1:t,this.$nextTick((function(){e.updateTabs(),e.isMounted=!0}))},beforeDestroy:function(){this.isMounted=!1},destroyed:function(){this.tabs=[]},methods:{registerTab:function(e){var t=this;Object(x.a)(this.registeredTabs,e)||(this.registeredTabs.push(e),e.$once("hook:destroyed",(function(){t.unregisterTab(e)})))},unregisterTab:function(e){this.registeredTabs=this.registeredTabs.slice().filter((function(t){return t!==e}))},setObserver:function(e){if(e){this.setObserver(!1);var t=this;this._bvObserver=an(this.$refs.tabsContainer,(function(){t.$nextTick((function(){R((function(){t.updateTabs()}))}))}),{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}else this._bvObserver&&this._bvObserver.disconnect&&this._bvObserver.disconnect(),this._bvObserver=null},getTabs:function(){var e=this.registeredTabs.filter((function(e){return 0===e.$children.filter((function(e){return e._isTab})).length})),t=[];if(this.isMounted&&e.length>0){var r=e.map((function(e){return"#".concat(e.safeId())})).join(", ");t=z(r,this.$el).map((function(e){return e.id})).filter(de.a)}return Dc(e,(function(a,b){return t.indexOf(a.safeId())-t.indexOf(b.safeId())}))},updateTabs:function(){var e=this.getTabs(),t=e.indexOf(e.slice().reverse().find((function(e){return e.localActive&&!e.disabled})));if(t<0){var r=this.currentTab;r>=e.length?t=e.indexOf(e.slice().reverse().find(Du)):e[r]&&!e[r].disabled&&(t=r)}t<0&&(t=e.indexOf(e.find(Du))),e.forEach((function(e){e.localActive=!1})),e[t]&&(e[t].localActive=!0),this.tabs=e,this.currentTab=t},getButtonForTab:function(e){return(this.$refs.buttons||[]).find((function(t){return t.tab===e}))},updateButton:function(e){var button=this.getButtonForTab(e);button&&button.$forceUpdate&&button.$forceUpdate()},activateTab:function(e){var t=!1;if(e){var r=this.tabs.indexOf(e);if(!e.disabled&&r>-1&&r!==this.currentTab){var n=new zn("activate-tab",{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(n.type,r,this.currentTab,n),n.defaultPrevented||(t=!0,this.currentTab=r)}}return t||this.currentTab===this.value||this.$emit("input",this.currentTab),t},deactivateTab:function(e){return!!e&&this.activateTab(this.tabs.filter((function(t){return t!==e})).find(Du))},focusButton:function(e){var t=this;this.$nextTick((function(){var button=t.getButtonForTab(e);button&&button.focus&&button.focus()}))},emitTabClick:function(e,t){Object(T.c)(t)&&e&&e.$emit&&!e.disabled&&e.$emit("click",t)},clickTab:function(e,t){this.activateTab(e),this.emitTabClick(e,t)},firstTab:function(e){var t=this.tabs.find(Du);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))},previousTab:function(e){var t=Math.max(this.currentTab,0),r=this.tabs.slice(0,t).reverse().find(Du);this.activateTab(r)&&e&&(this.focusButton(r),this.emitTabClick(r,e))},nextTab:function(e){var t=Math.max(this.currentTab,-1),r=this.tabs.slice(t+1).find(Du);this.activateTab(r)&&e&&(this.focusButton(r),this.emitTabClick(r,e))},lastTab:function(e){var t=this.tabs.slice().reverse().find(Du);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))}},render:function(e){var t=this,r=this.tabs,n=r.find((function(e){return e.localActive&&!e.disabled})),o=r.find((function(e){return!e.disabled})),l=r.map((function(l,c){var d=null;return t.noKeyNav||(d=-1,(n===l||!n&&o===l)&&(d=null)),e(Lu,{key:l._uid||c,ref:"buttons",refInFor:!0,props:{tab:l,tabs:r,id:l.controlledBy||(l.safeId?l.safeId("_BV_tab_button_"):null),controls:l.safeId?l.safeId():null,tabIndex:d,setSize:r.length,posInSet:c+1,noKeyNav:t.noKeyNav},on:{click:function(e){t.clickTab(l,e)},first:t.firstTab,prev:t.previousTab,next:t.nextTab,last:t.lastTab}})})),nav=e(el,{ref:"nav",class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:this.fill,justified:this.justified,align:this.align,tabs:!this.noNavStyle&&!this.pills,pills:!this.noNavStyle&&this.pills,vertical:this.vertical,small:this.small,cardHeader:this.card&&!this.vertical}},[this.normalizeSlot("tabs-start")||e(),l,this.normalizeSlot("tabs-end")||e()]);nav=e("div",{key:"bv-tabs-nav",class:[{"card-header":this.card&&!this.vertical&&!this.end,"card-footer":this.card&&!this.vertical&&this.end,"col-auto":this.vertical},this.navWrapperClass]},[nav]);var c=e();r&&0!==r.length||(c=e("div",{key:"bv-empty-tab",class:["tab-pane","active",{"card-body":this.card}]},this.normalizeSlot("empty")));var content=e("div",{ref:"tabsContainer",key:"bv-tabs-container",staticClass:"tab-content",class:[{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},Object(x.b)(this.normalizeSlot("default"),c));return e(this.tag,{staticClass:"tabs",class:{row:this.vertical,"no-gutters":this.vertical&&this.card},attrs:{id:this.safeId()}},[this.end?content:e(),[nav],this.end?e():content])}}),Fu=l.a.extend({name:"BTab",mixins:[Ut,pe],inject:{bvTabs:{default:function(){return{}}}},props:{active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String,default:""},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object],default:null},titleLinkClass:{type:[String,Array,Object],default:null},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1}},data:function(){return{localActive:this.active&&!this.disabled,show:!1}},computed:{tabClasses:function(){return[{active:this.localActive,disabled:this.disabled,"card-body":this.bvTabs.card&&!this.noBody},this.localActive?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy},_isTab:function(){return!0}},watch:{localActive:function(e){this.$emit("update:active",e)},active:function(e,t){e!==t&&(e?this.activate():this.deactivate()||this.$emit("update:active",this.localActive))},disabled:function(e,t){e!==t&&e&&this.localActive&&this.bvTabs.firstTab&&(this.localActive=!1,this.bvTabs.firstTab())}},mounted:function(){this.registerTab(),this.show=this.localActive},updated:function(){this.hasNormalizedSlot("title")&&this.bvTabs.updateButton&&this.bvTabs.updateButton(this)},destroyed:function(){this.unregisterTab()},methods:{registerTab:function(){this.bvTabs.registerTab&&this.bvTabs.registerTab(this)},unregisterTab:function(){this.bvTabs.unregisterTab&&this.bvTabs.unregisterTab(this)},activate:function(){return!(!this.bvTabs.activateTab||this.disabled)&&this.bvTabs.activateTab(this)},deactivate:function(){return!(!this.bvTabs.deactivateTab||!this.localActive)&&this.bvTabs.deactivateTab(this)}},render:function(e){var content=e(this.tag,{ref:"panel",staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",rawName:"v-show",value:this.localActive,expression:"localActive"}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":this.localActive?"false":"true","aria-labelledby":this.controlledBy||null}},[this.localActive||!this.computedLazy?this.normalizeSlot("default"):e()]);return e(ue,{props:{mode:"out-in",noFade:this.computedNoFade}},[content])}}),Nu=Object(n.b)({components:{BTabs:zu,BTab:Fu}}),Vu=r(113),Hu={name:{type:String,required:!0},ariaLive:{type:String,default:function(){return y("BToaster","ariaLive")}},ariaAtomic:{type:String,default:function(){return y("BToaster","ariaAtomic")}},role:{type:String,default:function(){return y("BToaster","role")}}},$u=l.a.extend({data:function(){return{name:"b-toaster"}},methods:{onAfterEnter:function(e){var t=this;R((function(){K(e,"".concat(t.name,"-enter-to"))}))}},render:function(e){return e("transition-group",{props:{tag:"div",name:this.name},on:{afterEnter:this.onAfterEnter}},this.$slots.default)}}),Uu=l.a.extend({name:"BToaster",props:Hu,data:function(){return{doRender:!1,dead:!1,staticName:this.name}},beforeMount:function(){var e=this;this.staticName=this.name,Vu.Wormhole.hasTarget(this.staticName)?(Object(nn.a)('A "<portal-target>" with name "'.concat(this.name,'" already exists in the document.'),"BToaster"),this.dead=!0):(this.doRender=!0,this.$once("hook:beforeDestroy",(function(){e.$root.$emit("bv::toaster::destroyed",e.staticName)})))},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},render:function(e){var t=e("div",{class:["d-none",{"b-dead-toaster":this.dead}]});if(this.doRender){var r=e(Vu.PortalTarget,{staticClass:"b-toaster-slot",props:{name:this.staticName,multiple:!0,tag:"div",slim:!1,transition:$u}});t=e("div",{staticClass:"b-toaster",class:[this.staticName],attrs:{id:this.staticName,role:this.role||null,"aria-live":this.ariaLive,"aria-atomic":this.ariaAtomic}},[r])}return t}});function qu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Ku(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?qu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):qu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Gu={id:{type:String,default:null},title:{type:String,default:null},toaster:{type:String,default:function(){return y("BToast","toaster")}},visible:{type:Boolean,default:!1},variant:{type:String,default:function(){return y("BToast","variant")}},isStatus:{type:Boolean,default:!1},appendToast:{type:Boolean,default:!1},noAutoHide:{type:Boolean,default:!1},autoHideDelay:{type:[Number,String],default:function(){return y("BToast","autoHideDelay")}},noCloseButton:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},toastClass:{type:[String,Object,Array],default:function(){return y("BToast","toastClass")}},headerClass:{type:[String,Object,Array],default:function(){return y("BToast","headerClass")}},bodyClass:{type:[String,Object,Array],default:function(){return y("BToast","bodyClass")}},href:{type:String,default:null},to:{type:[String,Object],default:null},static:{type:Boolean,default:!1}},Wu=l.a.extend({name:"BToast",mixins:[Ut,Sn,pe,ys],inheritAttrs:!1,model:{prop:"visible",event:"change"},props:Gu,data:function(){return{isMounted:!1,doRender:!1,localShow:!1,isTransitioning:!1,isHiding:!1,order:0,timer:null,dismissStarted:0,resumeDismiss:0}},computed:{bToastClasses:function(){return Object(o.a)({"b-toast-solid":this.solid,"b-toast-append":this.appendToast,"b-toast-prepend":!this.appendToast},"b-toast-".concat(this.variant),this.variant)},slotScope:function(){return{hide:this.hide}},computedDuration:function(){return Math.max(Object(ne.c)(this.autoHideDelay)||0,1e3)},computedToaster:function(){return String(this.toaster)},transitionHandlers:function(){return{beforeEnter:this.onBeforeEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,afterLeave:this.onAfterLeave}}},watch:{visible:function(e){e?this.show():this.hide()},localShow:function(e){e!==this.visible&&this.$emit("change",e)},toaster:function(){this.$nextTick(this.ensureToaster)},static:function(e){e&&this.localShow&&this.ensureToaster()}},mounted:function(){var e=this;this.isMounted=!0,this.$nextTick((function(){e.visible&&R((function(){e.show()}))})),this.listenOnRoot("bv::show::toast",(function(t){t===e.safeId()&&e.show()})),this.listenOnRoot("bv::hide::toast",(function(t){t&&t!==e.safeId()||e.hide()})),this.listenOnRoot("bv::toaster::destroyed",(function(t){t===e.computedToaster&&e.hide()}))},beforeDestroy:function(){this.clearDismissTimer()},methods:{show:function(){var e=this;if(!this.localShow){this.ensureToaster();var t=this.buildEvent("show");this.emitEvent(t),this.dismissStarted=this.resumeDismiss=0,this.order=Date.now()*(this.appendToast?1:-1),this.isHiding=!1,this.doRender=!0,this.$nextTick((function(){R((function(){e.localShow=!0}))}))}},hide:function(){var e=this;if(this.localShow){var t=this.buildEvent("hide");this.emitEvent(t),this.setHoverHandler(!1),this.dismissStarted=this.resumeDismiss=0,this.clearDismissTimer(),this.isHiding=!0,R((function(){e.localShow=!1}))}},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new zn(e,Ku({cancelable:!1,target:this.$el||null,relatedTarget:null},t,{vueTarget:this,componentId:this.safeId()}))},emitEvent:function(e){var t=e.type;this.$root.$emit("bv::toast:".concat(t),e),this.$emit(t,e)},ensureToaster:function(){if(!this.static&&!Vu.Wormhole.hasTarget(this.computedToaster)){var div=document.createElement("div");document.body.appendChild(div),new Uu({parent:this.$root,propsData:{name:this.computedToaster}}).$mount(div)}},startDismissTimer:function(){this.clearDismissTimer(),this.noAutoHide||(this.timer=setTimeout(this.hide,this.resumeDismiss||this.computedDuration),this.dismissStarted=Date.now(),this.resumeDismiss=0)},clearDismissTimer:function(){clearTimeout(this.timer),this.timer=null},setHoverHandler:function(e){var t=this.$refs["b-toast"];hn(e,t,"mouseenter",this.onPause,ln),hn(e,t,"mouseleave",this.onUnPause,ln)},onPause:function(){if(!this.noAutoHide&&!this.noHoverPause&&this.timer&&!this.resumeDismiss){var e=Date.now()-this.dismissStarted;e>0&&(this.clearDismissTimer(),this.resumeDismiss=Math.max(this.computedDuration-e,1e3))}},onUnPause:function(){this.noAutoHide||this.noHoverPause||!this.resumeDismiss?this.resumeDismiss=this.dismissStarted=0:this.startDismissTimer()},onLinkClick:function(){var e=this;this.$nextTick((function(){R((function(){e.hide()}))}))},onBeforeEnter:function(){this.isTransitioning=!0},onAfterEnter:function(){this.isTransitioning=!1;var e=this.buildEvent("shown");this.emitEvent(e),this.startDismissTimer(),this.setHoverHandler(!0)},onBeforeLeave:function(){this.isTransitioning=!0},onAfterLeave:function(){this.isTransitioning=!1,this.order=0,this.resumeDismiss=this.dismissStarted=0;var e=this.buildEvent("hidden");this.emitEvent(e),this.doRender=!1},makeToast:function(e){var t=this,r=[],n=this.normalizeSlot("toast-title",this.slotScope);n?r.push(n):this.title&&r.push(e("strong",{staticClass:"mr-2"},this.title)),this.noCloseButton||r.push(e(me,{staticClass:"ml-auto mb-1",on:{click:function(){t.hide()}}}));var o=e();r.length>0&&(o=e("header",{staticClass:"toast-header",class:this.headerClass},r));var l=this.href||this.to,c=e(l?Fe:"div",{staticClass:"toast-body",class:this.bodyClass,props:l?{to:this.to,href:this.href}:{},on:l?{click:this.onLinkClick}:{}},[this.normalizeSlot("default",this.slotScope)||e()]);return e("div",{key:"toast-".concat(this._uid),ref:"toast",staticClass:"toast",class:this.toastClass,attrs:Ku({},this.$attrs,{tabindex:"0",id:this.safeId()})},[o,c])}},render:function(e){if(!this.doRender||!this.isMounted)return e();var t="b-toast-".concat(this._uid),r=this.static?{}:this.scopedStyleAttrs;return e(Vu.Portal,{props:{name:t,to:this.computedToaster,order:this.order,slim:!0,disabled:this.static}},[e("div",{key:t,ref:"b-toast",staticClass:"b-toast",class:this.bToastClasses,attrs:Ku({},r,{id:this.safeId("_toast_outer"),role:this.isHiding?null:this.isStatus?"status":"alert","aria-live":this.isHiding?null:this.isStatus?"polite":"assertive","aria-atomic":this.isHiding?null:"true"})},[e(ue,{props:{noFade:this.noFade},on:this.transitionHandlers},[this.localShow?this.makeToast(e):e()])])])}});function Yu(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Xu(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Yu(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Yu(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Qu=["id"].concat(Object(Se.a)(Object(object.l)(Object(object.m)(Gu,["static","visible"])))),Ju={toastContent:"default",title:"toast-title"},Zu=function(e){return Qu.reduce((function(t,r){return Object(T.k)(e[r])||(t[r]=e[r]),t}),{})},ed=Object(n.b)({plugins:{plugin:function(e){var t=e.extend({name:"BToastPop",extends:Wu,destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},mounted:function(){var e=this,t=function(){e.localShow=!1,e.doRender=!1,e.$nextTick((function(){e.$nextTick((function(){R((function(){e.$destroy()}))}))}))};this.$parent.$once("hook:destroyed",t),this.$once("hidden",t),this.listenOnRoot("bv::toaster::destroyed",(function(r){r===e.toaster&&t()}))}}),r=function(e,r){if(!Object(nn.d)("$bvToast")){var n=new t({parent:r,propsData:Xu({},Zu(y("BToast")||{}),{},Object(object.m)(e,Object(object.l)(Ju)),{static:!1,visible:!0})});Object(object.l)(Ju).forEach((function(t){var o=e[t];Object(T.k)(o)||("title"===t&&Object(T.j)(o)&&(o=[r.$createElement("strong",{class:"mr-2"},o)]),n.$slots[Ju[t]]=Object(x.b)(o))}));var div=document.createElement("div");document.body.appendChild(div),n.$mount(div)}},n=function(){function e(t){Object(Pr.a)(this,e),Object(object.a)(this,{_vm:t,_root:t.$root}),Object(object.e)(this,{_vm:Object(object.n)(),_root:Object(object.n)()})}return Object(Br.a)(e,[{key:"toast",value:function(content){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};content&&!Object(nn.d)("$bvToast")&&r(Xu({},Zu(e),{toastContent:content}),this._vm)}},{key:"show",value:function(e){e&&this._root.$emit("bv::show::toast",e)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._root.$emit("bv::hide::toast",e)}}]),e}();e.mixin({beforeCreate:function(){this._bv__toast=new n(this)}}),e.prototype.hasOwnProperty("$bvToast")||Object(object.f)(e.prototype,"$bvToast",{get:function(){return this&&this._bv__toast||Object(nn.a)('"'.concat("$bvToast",'" must be accessed from a Vue instance "this" context.'),"BToast"),this._bv__toast}})}}}),rd=Object(n.b)({components:{BToast:Wu,BToaster:Uu},plugins:{BVToastPlugin:ed}});function nd(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var od="__BV_Tooltip__",id={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},ad=/^html$/i,sd=/^noninteractive$/i,ld=/^nofade$/i,cd=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,ud=/^(window|viewport|scrollParent)$/i,hd=/^d\d+$/i,fd=/^ds\d+$/i,pd=/^dh\d+$/i,vd=/^o-?\d+$/i,md=/^v-.+$/i,gd=/\s+/,bd=function(e,t){var r="BTooltip",n={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:y(r,"delay"),boundary:String(y(r,"boundary")),boundaryPadding:parseInt(y(r,"boundaryPadding"),10)||0,variant:y(r,"variant"),customClass:y(r,"customClass")};if(Object(T.j)(e.value)||Object(T.g)(e.value)?n.title=e.value:Object(T.e)(e.value)?n.title=e.value:Object(object.k)(e.value)&&(n=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?nd(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):nd(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},n,{},e.value)),Object(T.k)(n.title)){var data=t.data||{};n.title=data.attrs&&!Object(T.l)(data.attrs.title)?data.attrs.title:void 0}Object(object.k)(n.delay)||(n.delay={show:parseInt(n.delay,10)||0,hide:parseInt(n.delay,10)||0}),e.arg&&(n.container="#".concat(e.arg)),Object(object.l)(e.modifiers).forEach((function(e){if(ad.test(e))n.html=!0;else if(sd.test(e))n.interactive=!1;else if(ld.test(e))n.animation=!1;else if(cd.test(e))n.placement=e;else if(ud.test(e))e="scrollparent"===e?"scrollParent":e,n.boundary=e;else if(hd.test(e)){var t=parseInt(e.slice(1),10)||0;n.delay.show=t,n.delay.hide=t}else fd.test(e)?n.delay.show=parseInt(e.slice(2),10)||0:pd.test(e)?n.delay.hide=parseInt(e.slice(2),10)||0:vd.test(e)?n.offset=parseInt(e.slice(1),10)||0:md.test(e)&&(n.variant=e.slice(2)||null)}));var l={};return Object(x.b)(n.trigger||"").filter(de.a).join(" ").trim().toLowerCase().split(gd).forEach((function(e){id[e]&&(l[e]=!0)})),Object(object.l)(e.modifiers).forEach((function(e){e=e.toLowerCase(),id[e]&&(l[e]=!0)})),n.trigger=Object(object.l)(l).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger="hover focus"),n},yd=function(e,t,r){if(O.j){var n=bd(t,r);if(!e[od]){var o=r.context;e[od]=new Kl({parent:o,_scopeId:bs(o,void 0)}),e[od].__bv_prev_data__={},e[od].$on("show",(function(){Object(T.e)(n.title)&&e[od].updateData({title:n.title(e)})}))}var data={title:n.title,triggers:n.trigger,placement:n.placement,fallbackPlacement:n.fallbackPlacement,variant:n.variant,customClass:n.customClass,container:n.container,boundary:n.boundary,delay:n.delay,offset:n.offset,noFade:!n.animation,id:n.id,interactive:n.interactive,disabled:n.disabled,html:n.html},l=e[od].__bv_prev_data__;if(e[od].__bv_prev_data__=data,!It(data,l)){var c={target:e};Object(object.l)(data).forEach((function(t){data[t]!==l[t]&&(c[t]="title"===t&&Object(T.e)(data[t])?data[t](e):data[t])})),e[od].updateData(c)}}},_d={bind:function(e,t,r){yd(e,t,r)},componentUpdated:function(e,t,r){r.context.$nextTick((function(){yd(e,t,r)}))},unbind:function(e){!function(e){e[od]&&(e[od].$destroy(),e[od]=null),delete e[od]}(e)}},wd=Object(n.b)({directives:{VBTooltip:_d}}),kd=Object(n.b)({components:{BTooltip:Gl},plugins:{VBTooltipPlugin:wd}}),Sd=Object(n.b)({plugins:{AlertPlugin:we,BadgePlugin:Ue,BreadcrumbPlugin:nt,ButtonPlugin:wt,ButtonGroupPlugin:xt,ButtonToolbarPlugin:Et,CalendarPlugin:lr,CardPlugin:tn,CarouselPlugin:yn,CollapsePlugin:Dn,DropdownPlugin:Co,EmbedPlugin:Mo,FormPlugin:Uo,FormCheckboxPlugin:ni,FormDatepickerPlugin:hi,FormFilePlugin:gi,FormGroupPlugin:Ai,FormInputPlugin:Vi,FormRadioPlugin:$i,FormSelectPlugin:Yi,FormSpinbuttonPlugin:sa,FormTagsPlugin:ya,FormTextareaPlugin:Sa,ImagePlugin:xa,InputGroupPlugin:za,JumbotronPlugin:$a,LayoutPlugin:Qa,LinkPlugin:Ja,ListGroupPlugin:as,MediaPlugin:fs,ModalPlugin:Js,NavPlugin:pl,NavbarPlugin:xl,PaginationPlugin:Pl,PaginationNavPlugin:Ll,PopoverPlugin:pc,ProgressPlugin:gc,SpinnerPlugin:yc,TablePlugin:Au,TabsPlugin:Nu,ToastPlugin:rd,TooltipPlugin:kd}}),xd=Object(n.b)({directives:{VBHover:si}}),Od=Object(n.b)({directives:{VBModal:Us}});r(240);function Td(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Ed={element:"body",offset:10,method:"auto",throttle:75},Cd={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},Id="dropdown-item",jd="active",Md={ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown, .dropup",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Rd="offset",Ad="position",Pd=/^.*(#[^#]+)$/,Bd=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"],Dd=function(){function e(element,t,r){Object(Pr.a)(this,e),this.$el=element,this.$scroller=null,this.$selector=[Md.NAV_LINKS,Md.LIST_ITEMS,Md.DROPDOWN_ITEMS].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$obs_scroller=null,this.$obs_targets=null,this.$root=r||null,this.$config=null,this.updateConfig(t)}return Object(Br.a)(e,[{key:"updateConfig",value:function(e,t){this.$scroller&&(this.unlisten(),this.$scroller=null);var r=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Td(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Td(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.constructor.Default,{},e);if(t&&(this.$root=t),function(e,t,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var o=r[n],l=t[n],c=l&&P(l)?"element":(d=l,Object(object.o)(d).match(/\s([a-zA-Z]+)/)[1].toLowerCase());c=l&&l._isVue?"component":c,new RegExp(o).test(c)||Object(nn.a)("".concat(e,': Option "').concat(n,'" provided type "').concat(c,'" but expected type "').concat(o,'"'))}var d}(this.constructor.Name,r,this.constructor.DefaultType),this.$config=r,this.$root){var n=this;this.$root.$nextTick((function(){n.listen()}))}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var e=this,t=this.getScroller();t&&"BODY"!==t.tagName&&un(t,"scroll",this,ln),un(window,"scroll",this,ln),un(window,"resize",this,ln),un(window,"orientationchange",this,ln),Bd.forEach((function(t){un(window,t,e,ln)})),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var e=this,t=this.getScroller();this.setObservers(!1),t&&"BODY"!==t.tagName&&dn(t,"scroll",this,ln),dn(window,"scroll",this,ln),dn(window,"resize",this,ln),dn(window,"orientationchange",this,ln),Bd.forEach((function(t){dn(window,t,e,ln)}))}},{key:"setObservers",value:function(e){var t=this;this.$obs_scroller&&(this.$obs_scroller.disconnect(),this.$obs_scroller=null),this.$obs_targets&&(this.$obs_targets.disconnect(),this.$obs_targets=null),e&&(this.$obs_targets=an(this.$el,(function(){t.handleEvent("mutation")}),{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$obs_scroller=an(this.getScroller(),(function(){t.handleEvent("mutation")}),{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(e){var t=Object(T.j)(e)?e:e.type,r=this;"scroll"===t?(this.$obs_scroller||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(t)&&(r.$resizeTimeout||(r.$resizeTimeout=setTimeout((function(){r.refresh(),r.process(),r.$resizeTimeout=null}),r.$config.throttle)))}},{key:"refresh",value:function(){var e=this,t=this.getScroller();if(t){var r=t!==t.window?Ad:Rd,n="auto"===this.$config.method?r:this.$config.method,o=n===Ad?re:te,l=n===Ad?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),z(this.$selector,this.$el).map((function(link){return X(link,"href")})).filter((function(e){return e&&Pd.test(e||"")})).map((function(e){var r=e.replace(Pd,"$1").trim();if(!r)return null;var n=F(r,t);return n&&B(n)?{offset:parseInt(o(n).top,10)+l,target:r}:null})).filter(Boolean).sort((function(a,b){return a.offset-b.offset})).reduce((function(t,r){return t[r.target]||(e.$offsets.push(r.offset),e.$targets.push(r.target),t[r.target]=!0),t}),{}),this}}},{key:"process",value:function(){var e=this.getScrollTop()+this.$config.offset,t=this.getScrollHeight(),r=this.$config.offset+t-this.getOffsetHeight();if(this.$scrollHeight!==t&&this.refresh(),e>=r){var n=this.$targets[this.$targets.length-1];this.$activeTarget!==n&&this.activate(n)}else{if(this.$activeTarget&&e<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var i=this.$offsets.length;i--;){this.$activeTarget!==this.$targets[i]&&e>=this.$offsets[i]&&(Object(T.k)(this.$offsets[i+1])||e<this.$offsets[i+1])&&this.activate(this.$targets[i])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var e=this.$config.element;return e?(P(e.$el)?e=e.$el:Object(T.j)(e)&&(e=F(e)),e?(this.$scroller="BODY"===e.tagName?window:e,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var e=this.getScroller();return e===window?e.pageYOffset:e.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var e=this.getScroller();return e===window?window.innerHeight:J(e).height}},{key:"activate",value:function(e){var t=this;this.$activeTarget=e,this.clear();var r=z(this.$selector.split(",").map((function(t){return"".concat(t,'[href$="').concat(e,'"]')})).join(","),this.$el);r.forEach((function(link){if(G(link,Id)){var e=V(Md.DROPDOWN,link);e&&t.setActiveState(F(Md.DROPDOWN_TOGGLE,e),!0),t.setActiveState(link,!0)}else{t.setActiveState(link,!0),N(link.parentElement,Md.NAV_ITEMS)&&t.setActiveState(link.parentElement,!0);for(var r=link;r;){var n=(r=V(Md.NAV_LIST_GROUP,r))?r.previousElementSibling:null;n&&N(n,"".concat(Md.NAV_LINKS,", ").concat(Md.LIST_ITEMS))&&t.setActiveState(n,!0),n&&N(n,Md.NAV_ITEMS)&&(t.setActiveState(F(Md.NAV_LINKS,n),!0),t.setActiveState(n,!0))}}})),r&&r.length>0&&this.$root&&this.$root.$emit("bv::scrollspy::activate",e,r)}},{key:"clear",value:function(){var e=this;z("".concat(this.$selector,", ").concat(Md.NAV_ITEMS),this.$el).filter((function(e){return G(e,jd)})).forEach((function(t){return e.setActiveState(t,!1)}))}},{key:"setActiveState",value:function(e,t){e&&(t?U(e,jd):K(e,jd))}}],[{key:"Name",get:function(){return"v-b-scrollspy"}},{key:"Default",get:function(){return Ed}},{key:"DefaultType",get:function(){return Cd}}]),e}(),Ld="__BV_ScrollSpy__",zd=/^\d+$/,Fd=/^(auto|position|offset)$/,Nd=function(e,t,r){if(O.j){var n=function(e){var t={};return e.arg&&(t.element="#".concat(e.arg)),Object(object.l)(e.modifiers).forEach((function(e){zd.test(e)?t.offset=parseInt(e,10):Fd.test(e)&&(t.method=e)})),Object(T.j)(e.value)?t.element=e.value:Object(T.g)(e.value)?t.offset=Math.round(e.value):Object(object.j)(e.value)&&Object(object.l)(e.value).filter((function(e){return!!Dd.DefaultType[e]})).forEach((function(r){t[r]=e.value[r]})),t}(t);e[Ld]?e[Ld].updateConfig(n,r.context.$root):e[Ld]=new Dd(e,n,r.context.$root)}},Vd={bind:function(e,t,r){Nd(e,t,r)},inserted:function(e,t,r){Nd(e,t,r)},update:function(e,t,r){t.value!==t.oldValue&&Nd(e,t,r)},componentUpdated:function(e,t,r){t.value!==t.oldValue&&Nd(e,t,r)},unbind:function(e){!function(e){e[Ld]&&(e[Ld].dispose(),e[Ld]=null,delete e[Ld])}(e)}},Hd=Object(n.b)({directives:{VBScrollspy:Vd}}),$d=Object(n.b)({directives:{VBToggle:Bn}}),Ud=Object(n.b)({directives:{VBVisible:Vr}}),qd=Object(n.b)({plugins:{VBHoverPlugin:xd,VBModalPlugin:Od,VBPopoverPlugin:fc,VBScrollspyPlugin:Hd,VBTogglePlugin:$d,VBTooltipPlugin:wd,VBVisiblePlugin:Ud}});r(190),r(170);r.d(t,"a",(function(){return Kd}));var Kd={install:Object(n.a)({plugins:{componentsPlugin:Sd,directivesPlugin:qd}}),NAME:"BootstrapVue"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var content=r(358);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(69).default)("32df6d42",content,!0,{sourceMap:!1})},function(e,t,r){(t=r(68)(!1)).push([e.i,"/*!\n * BootstrapVue Custom CSS (https://bootstrap-vue.js.org)\n */.bv-no-focus-ring:focus{outline:none}@media (max-width:575.98px){.bv-d-xs-down-none{display:none!important}}@media (max-width:767.98px){.bv-d-sm-down-none{display:none!important}}@media (max-width:991.98px){.bv-d-md-down-none{display:none!important}}@media (max-width:1199.98px){.bv-d-lg-down-none{display:none!important}}.bv-d-xl-down-none{display:none!important}.b-calendar output.readonly{background-color:#e9ecef;opacity:1}.b-calendar .b-calendar-grid-body .col[data-date] .btn{width:32px;height:32px;font-size:14px;line-height:1;margin:3px auto;padding:9px 0}.b-calendar .btn.disabled,.b-calendar .btn:disabled,.b-calendar .btn[aria-disabled=true]{cursor:default;pointer-events:none}.card-img-left{border-top-left-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-img-right{border-top-right-radius:calc(.25rem - 1px);border-bottom-right-radius:calc(.25rem - 1px)}.dropdown.dropleft .dropdown-toggle.dropdown-toggle-no-caret:before,.dropdown:not(.dropleft) .dropdown-toggle.dropdown-toggle-no-caret:after{display:none!important}.dropdown .dropdown-menu:focus{outline:none}.b-dropdown-form{display:inline-block;padding:.25rem 1.5rem;width:100%;clear:both;font-weight:400}.b-dropdown-form:focus{outline:1px dotted!important;outline:5px auto -webkit-focus-ring-color!important}.b-dropdown-form.disabled,.b-dropdown-form:disabled{outline:0!important;color:#6c757d;pointer-events:none}.b-dropdown-text{display:inline-block;padding:.25rem 1.5rem;margin-bottom:0;width:100%;clear:both;font-weight:lighter}.custom-checkbox.b-custom-control-lg,.input-group-lg .custom-checkbox{font-size:1.25rem;line-height:1.5;padding-left:1.875rem}.custom-checkbox.b-custom-control-lg .custom-control-label:before,.input-group-lg .custom-checkbox .custom-control-label:before{top:.3125rem;left:-1.875rem;width:1.25rem;height:1.25rem;border-radius:.3rem}.custom-checkbox.b-custom-control-lg .custom-control-label:after,.input-group-lg .custom-checkbox .custom-control-label:after{top:.3125rem;left:-1.875rem;width:1.25rem;height:1.25rem;background-size:50% 50%}.custom-checkbox.b-custom-control-sm,.input-group-sm .custom-checkbox{font-size:.875rem;line-height:1.5;padding-left:1.3125rem}.custom-checkbox.b-custom-control-sm .custom-control-label:before,.input-group-sm .custom-checkbox .custom-control-label:before{top:.21875rem;left:-1.3125rem;width:.875rem;height:.875rem;border-radius:.2rem}.custom-checkbox.b-custom-control-sm .custom-control-label:after,.input-group-sm .custom-checkbox .custom-control-label:after{top:.21875rem;left:-1.3125rem;width:.875rem;height:.875rem;background-size:50% 50%}.custom-switch.b-custom-control-lg,.input-group-lg .custom-switch{padding-left:2.8125rem}.custom-switch.b-custom-control-lg .custom-control-label,.input-group-lg .custom-switch .custom-control-label{font-size:1.25rem;line-height:1.5}.custom-switch.b-custom-control-lg .custom-control-label:before,.input-group-lg .custom-switch .custom-control-label:before{top:.3125rem;height:1.25rem;left:-2.8125rem;width:2.1875rem;border-radius:.625rem}.custom-switch.b-custom-control-lg .custom-control-label:after,.input-group-lg .custom-switch .custom-control-label:after{top:calc(.3125rem + 2px);left:calc(-2.8125rem + 2px);width:calc(1.25rem - 4px);height:calc(1.25rem - 4px);border-radius:.625rem;background-size:50% 50%}.custom-switch.b-custom-control-lg .custom-control-input:checked~.custom-control-label:after,.input-group-lg .custom-switch .custom-control-input:checked~.custom-control-label:after{transform:translateX(.9375rem)}.custom-switch.b-custom-control-sm,.input-group-sm .custom-switch{padding-left:1.96875rem}.custom-switch.b-custom-control-sm .custom-control-label,.input-group-sm .custom-switch .custom-control-label{font-size:.875rem;line-height:1.5}.custom-switch.b-custom-control-sm .custom-control-label:before,.input-group-sm .custom-switch .custom-control-label:before{top:.21875rem;left:-1.96875rem;width:1.53125rem;height:.875rem;border-radius:.4375rem}.custom-switch.b-custom-control-sm .custom-control-label:after,.input-group-sm .custom-switch .custom-control-label:after{top:calc(.21875rem + 2px);left:calc(-1.96875rem + 2px);width:calc(.875rem - 4px);height:calc(.875rem - 4px);border-radius:.4375rem;background-size:50% 50%}.custom-switch.b-custom-control-sm .custom-control-input:checked~.custom-control-label:after,.input-group-sm .custom-switch .custom-control-input:checked~.custom-control-label:after{transform:translateX(.65625rem)}.input-group>.input-group-append:last-child>.btn-group:not(:last-child):not(.dropdown-toggle)>.btn,.input-group>.input-group-append:not(:last-child)>.btn-group>.btn,.input-group>.input-group-prepend>.btn-group>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn-group>.btn,.input-group>.input-group-prepend:first-child>.btn-group:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.btn-group>.btn{border-top-left-radius:0;border-bottom-left-radius:0}.b-form-datepicker.form-control{background-image:none}.b-form-datepicker.form-control>.btn{line-height:1;font-size:inherit;box-shadow:none!important}.b-form-datepicker.form-control>.btn>div{transition:transform .15s}.b-form-datepicker.form-control>.btn:disabled{pointer-events:none}.b-form-datepicker.form-control>.btn:focus:not(:disabled)>div,.b-form-datepicker.form-control>.btn:hover:not(:disabled)>div{transform:scale(1.125)}.b-form-datepicker.form-control.is-valid>.btn{color:#28a745}.b-form-datepicker.form-control.is-invalid>.btn{color:#dc3545}.b-form-datepicker.form-control.focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.b-form-datepicker.form-control.focus.is-valid{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.b-form-datepicker.form-control.focus.is-invalid{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.b-form-datepicker.form-control>label{cursor:pointer}.b-form-datepicker.form-control[aria-disabled=true],.b-form-datepicker.form-control[aria-readonly=true]{background-color:#e9ecef;opacity:1}.b-form-datepicker.form-control[aria-disabled=true]{pointer-events:none}.b-form-datepicker.form-control[aria-disabled=true]>label{cursor:default}.b-custom-control-lg.custom-file,.b-custom-control-lg .custom-file-input,.b-custom-control-lg .custom-file-label,.input-group-lg.custom-file,.input-group-lg .custom-file-input,.input-group-lg .custom-file-label{font-size:1.25rem;height:calc(1.5em + 1rem + 2px)}.b-custom-control-lg .custom-file-label,.b-custom-control-lg .custom-file-label:after,.input-group-lg .custom-file-label,.input-group-lg .custom-file-label:after{padding:.5rem 1rem;line-height:1.5}.b-custom-control-lg .custom-file-label,.input-group-lg .custom-file-label{border-radius:.3rem}.b-custom-control-lg .custom-file-label:after,.input-group-lg .custom-file-label:after{font-size:inherit;height:calc(1.5em + 1rem);border-radius:0 .3rem .3rem 0}.b-custom-control-sm.custom-file,.b-custom-control-sm .custom-file-input,.b-custom-control-sm .custom-file-label,.input-group-sm.custom-file,.input-group-sm .custom-file-input,.input-group-sm .custom-file-label{font-size:.875rem;height:calc(1.5em + .5rem + 2px)}.b-custom-control-sm .custom-file-label,.b-custom-control-sm .custom-file-label:after,.input-group-sm .custom-file-label,.input-group-sm .custom-file-label:after{padding:.25rem .5rem;line-height:1.5}.b-custom-control-sm .custom-file-label,.input-group-sm .custom-file-label{border-radius:.2rem}.b-custom-control-sm .custom-file-label:after,.input-group-sm .custom-file-label:after{font-size:inherit;height:calc(1.5em + .5rem);border-radius:0 .2rem .2rem 0}.form-control.is-invalid,.form-control.is-valid,.was-validated .form-control:invalid,.was-validated .form-control:valid{background-position:right calc(.375em + .1875rem) center}input[type=color].form-control{height:calc(1.5em + .75rem + 2px);padding:.125rem .25rem}.input-group-sm input[type=color].form-control,input[type=color].form-control.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.125rem .25rem}.input-group-lg input[type=color].form-control,input[type=color].form-control.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.125rem .25rem}input[type=color].form-control:disabled{background-color:#adb5bd;opacity:.65}.input-group>.custom-range{position:relative;flex:1 1 auto;width:1%;margin-bottom:0}.input-group>.custom-file+.custom-range,.input-group>.custom-range+.custom-file,.input-group>.custom-range+.custom-range,.input-group>.custom-range+.custom-select,.input-group>.custom-range+.form-control,.input-group>.custom-range+.form-control-plaintext,.input-group>.custom-select+.custom-range,.input-group>.form-control+.custom-range,.input-group>.form-control-plaintext+.custom-range{margin-left:-1px}.input-group>.custom-range:focus{z-index:3}.input-group>.custom-range:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-range:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-range{padding:0 .75rem;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;height:calc(1.5em + .75rem + 2px);border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.input-group>.custom-range{transition:none}}.input-group>.custom-range:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.input-group>.custom-range:disabled,.input-group>.custom-range[readonly]{background-color:#e9ecef}.input-group-lg>.custom-range{height:calc(1.5em + 1rem + 2px);padding:0 1rem;border-radius:.3rem}.input-group-sm>.custom-range{height:calc(1.5em + .5rem + 2px);padding:0 .5rem;border-radius:.2rem}.input-group .custom-range.is-valid,.was-validated .input-group .custom-range:valid{border-color:#28a745}.input-group .custom-range.is-valid:focus,.was-validated .input-group .custom-range:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-range.is-valid:focus::-webkit-slider-thumb,.was-validated .custom-range:valid:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #9be7ac}.custom-range.is-valid:focus::-moz-range-thumb,.was-validated .custom-range:valid:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #9be7ac}.custom-range.is-valid:focus::-ms-thumb,.was-validated .custom-range:valid:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #9be7ac}.custom-range.is-valid::-webkit-slider-thumb,.was-validated .custom-range:valid::-webkit-slider-thumb{background-color:#28a745;background-image:none}.custom-range.is-valid::-webkit-slider-thumb:active,.was-validated .custom-range:valid::-webkit-slider-thumb:active{background-color:#9be7ac;background-image:none}.custom-range.is-valid::-webkit-slider-runnable-track,.was-validated .custom-range:valid::-webkit-slider-runnable-track{background-color:rgba(40,167,69,.35)}.custom-range.is-valid::-moz-range-thumb,.was-validated .custom-range:valid::-moz-range-thumb{background-color:#28a745;background-image:none}.custom-range.is-valid::-moz-range-thumb:active,.was-validated .custom-range:valid::-moz-range-thumb:active{background-color:#9be7ac;background-image:none}.custom-range.is-valid::-moz-range-track,.was-validated .custom-range:valid::-moz-range-track{background:rgba(40,167,69,.35)}.custom-range.is-valid~.valid-feedback,.custom-range.is-valid~.valid-tooltip,.was-validated .custom-range:valid~.valid-feedback,.was-validated .custom-range:valid~.valid-tooltip{display:block}.custom-range.is-valid::-ms-thumb,.was-validated .custom-range:valid::-ms-thumb{background-color:#28a745;background-image:none}.custom-range.is-valid::-ms-thumb:active,.was-validated .custom-range:valid::-ms-thumb:active{background-color:#9be7ac;background-image:none}.custom-range.is-valid::-ms-track-lower,.custom-range.is-valid::-ms-track-upper,.was-validated .custom-range:valid::-ms-track-lower,.was-validated .custom-range:valid::-ms-track-upper{background:rgba(40,167,69,.35)}.input-group .custom-range.is-invalid,.was-validated .input-group .custom-range:invalid{border-color:#dc3545}.input-group .custom-range.is-invalid:focus,.was-validated .input-group .custom-range:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-range.is-invalid:focus::-webkit-slider-thumb,.was-validated .custom-range:invalid:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #f6cdd1}.custom-range.is-invalid:focus::-moz-range-thumb,.was-validated .custom-range:invalid:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #f6cdd1}.custom-range.is-invalid:focus::-ms-thumb,.was-validated .custom-range:invalid:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem #f6cdd1}.custom-range.is-invalid::-webkit-slider-thumb,.was-validated .custom-range:invalid::-webkit-slider-thumb{background-color:#dc3545;background-image:none}.custom-range.is-invalid::-webkit-slider-thumb:active,.was-validated .custom-range:invalid::-webkit-slider-thumb:active{background-color:#f6cdd1;background-image:none}.custom-range.is-invalid::-webkit-slider-runnable-track,.was-validated .custom-range:invalid::-webkit-slider-runnable-track{background-color:rgba(220,53,69,.35)}.custom-range.is-invalid::-moz-range-thumb,.was-validated .custom-range:invalid::-moz-range-thumb{background-color:#dc3545;background-image:none}.custom-range.is-invalid::-moz-range-thumb:active,.was-validated .custom-range:invalid::-moz-range-thumb:active{background-color:#f6cdd1;background-image:none}.custom-range.is-invalid::-moz-range-track,.was-validated .custom-range:invalid::-moz-range-track{background:rgba(220,53,69,.35)}.custom-range.is-invalid~.invalid-feedback,.custom-range.is-invalid~.invalid-tooltip,.was-validated .custom-range:invalid~.invalid-feedback,.was-validated .custom-range:invalid~.invalid-tooltip{display:block}.custom-range.is-invalid::-ms-thumb,.was-validated .custom-range:invalid::-ms-thumb{background-color:#dc3545;background-image:none}.custom-range.is-invalid::-ms-thumb:active,.was-validated .custom-range:invalid::-ms-thumb:active{background-color:#f6cdd1;background-image:none}.custom-range.is-invalid::-ms-track-lower,.custom-range.is-invalid::-ms-track-upper,.was-validated .custom-range:invalid::-ms-track-lower,.was-validated .custom-range:invalid::-ms-track-upper{background:rgba(220,53,69,.35)}.custom-radio.b-custom-control-lg,.input-group-lg .custom-radio{font-size:1.25rem;line-height:1.5;padding-left:1.875rem}.custom-radio.b-custom-control-lg .custom-control-label:before,.input-group-lg .custom-radio .custom-control-label:before{top:.3125rem;left:-1.875rem;width:1.25rem;height:1.25rem;border-radius:50%}.custom-radio.b-custom-control-lg .custom-control-label:after,.input-group-lg .custom-radio .custom-control-label:after{top:.3125rem;left:-1.875rem;width:1.25rem;height:1.25rem;background:no-repeat 50%/50% 50%}.custom-radio.b-custom-control-sm,.input-group-sm .custom-radio{font-size:.875rem;line-height:1.5;padding-left:1.3125rem}.custom-radio.b-custom-control-sm .custom-control-label:before,.input-group-sm .custom-radio .custom-control-label:before{top:.21875rem;left:-1.3125rem;width:.875rem;height:.875rem;border-radius:50%}.custom-radio.b-custom-control-sm .custom-control-label:after,.input-group-sm .custom-radio .custom-control-label:after{top:.21875rem;left:-1.3125rem;width:.875rem;height:.875rem;background:no-repeat 50%/50% 50%}.b-form-spinbutton.form-control{text-align:center;overflow:hidden;background-image:none}.b-form-spinbutton.form-control.flex-column{height:auto;width:auto}.b-form-spinbutton.form-control output{font-size:inherit;outline:0;border:0;background-color:transparent}.b-form-spinbutton.form-control output>div{min-width:2em;height:1.5em}.b-form-spinbutton.form-control.d-inline-flex:not(.flex-column),.b-form-spinbutton.form-control.d-inline-flex:not(.flex-column) output{width:auto}.b-form-spinbutton.form-control .btn{line-height:1;box-shadow:none!important}.b-form-spinbutton.form-control .btn:disabled{pointer-events:none}.b-form-spinbutton.form-control .btn:hover:not(:disabled)>div{transform:scale(1.25)}.b-form-spinbutton.form-control.focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.b-form-spinbutton.form-control.focus.is-valid{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.b-form-spinbutton.form-control.focus.is-invalid{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.b-form-spinbutton.form-control.disabled,.b-form-spinbutton.form-control.readonly{background-color:#e9ecef}.b-form-spinbutton.form-control.disabled{pointer-events:none}.b-form-tags.focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.b-form-tags.focus.is-valid{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.b-form-tags.focus.is-invalid{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.b-form-tags.disabled{background-color:#e9ecef}.b-form-tag{font-size:75%;font-weight:400;line-height:1.5}.b-form-tag.disabled{opacity:.75}.b-form-tag>button.b-form-tag-remove{color:inherit;font-size:125%;line-height:1;float:none}.form-control-lg .b-form-tag,.form-control-sm .b-form-tag{line-height:1.5}.modal-backdrop{opacity:.5}.b-pagination-pills .page-item .page-link{border-radius:50rem!important;margin-left:.25rem;line-height:1}.b-pagination-pills .page-item:first-child .page-link{margin-left:0}.popover.b-popover{display:block;opacity:1;outline:0}.popover.b-popover.fade:not(.show){opacity:0}.popover.b-popover.show{opacity:1}.b-popover-primary.popover{background-color:#cce5ff;border-color:#b8daff}.b-popover-primary.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-primary.bs-popover-top>.arrow:before{border-top-color:#b8daff}.b-popover-primary.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-primary.bs-popover-top>.arrow:after{border-top-color:#cce5ff}.b-popover-primary.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-primary.bs-popover-right>.arrow:before{border-right-color:#b8daff}.b-popover-primary.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-primary.bs-popover-right>.arrow:after{border-right-color:#cce5ff}.b-popover-primary.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-primary.bs-popover-bottom>.arrow:before{border-bottom-color:#b8daff}.b-popover-primary.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-primary.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-primary.bs-popover-bottom .popover-header:before,.b-popover-primary.bs-popover-bottom>.arrow:after{border-bottom-color:#bdddff}.b-popover-primary.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-primary.bs-popover-left>.arrow:before{border-left-color:#b8daff}.b-popover-primary.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-primary.bs-popover-left>.arrow:after{border-left-color:#cce5ff}.b-popover-primary .popover-header{color:#212529;background-color:#bdddff;border-bottom-color:#a3d0ff}.b-popover-primary .popover-body{color:#004085}.b-popover-secondary.popover{background-color:#e2e3e5;border-color:#d6d8db}.b-popover-secondary.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-secondary.bs-popover-top>.arrow:before{border-top-color:#d6d8db}.b-popover-secondary.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-secondary.bs-popover-top>.arrow:after{border-top-color:#e2e3e5}.b-popover-secondary.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-secondary.bs-popover-right>.arrow:before{border-right-color:#d6d8db}.b-popover-secondary.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-secondary.bs-popover-right>.arrow:after{border-right-color:#e2e3e5}.b-popover-secondary.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-secondary.bs-popover-bottom>.arrow:before{border-bottom-color:#d6d8db}.b-popover-secondary.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-secondary.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-secondary.bs-popover-bottom .popover-header:before,.b-popover-secondary.bs-popover-bottom>.arrow:after{border-bottom-color:#dadbde}.b-popover-secondary.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-secondary.bs-popover-left>.arrow:before{border-left-color:#d6d8db}.b-popover-secondary.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-secondary.bs-popover-left>.arrow:after{border-left-color:#e2e3e5}.b-popover-secondary .popover-header{color:#212529;background-color:#dadbde;border-bottom-color:#ccced2}.b-popover-secondary .popover-body{color:#383d41}.b-popover-success.popover{background-color:#d4edda;border-color:#c3e6cb}.b-popover-success.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-success.bs-popover-top>.arrow:before{border-top-color:#c3e6cb}.b-popover-success.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-success.bs-popover-top>.arrow:after{border-top-color:#d4edda}.b-popover-success.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-success.bs-popover-right>.arrow:before{border-right-color:#c3e6cb}.b-popover-success.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-success.bs-popover-right>.arrow:after{border-right-color:#d4edda}.b-popover-success.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-success.bs-popover-bottom>.arrow:before{border-bottom-color:#c3e6cb}.b-popover-success.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-success.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-success.bs-popover-bottom .popover-header:before,.b-popover-success.bs-popover-bottom>.arrow:after{border-bottom-color:#c9e8d1}.b-popover-success.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-success.bs-popover-left>.arrow:before{border-left-color:#c3e6cb}.b-popover-success.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-success.bs-popover-left>.arrow:after{border-left-color:#d4edda}.b-popover-success .popover-header{color:#212529;background-color:#c9e8d1;border-bottom-color:#b7e1c1}.b-popover-success .popover-body{color:#155724}.b-popover-info.popover{background-color:#d1ecf1;border-color:#bee5eb}.b-popover-info.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-info.bs-popover-top>.arrow:before{border-top-color:#bee5eb}.b-popover-info.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-info.bs-popover-top>.arrow:after{border-top-color:#d1ecf1}.b-popover-info.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-info.bs-popover-right>.arrow:before{border-right-color:#bee5eb}.b-popover-info.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-info.bs-popover-right>.arrow:after{border-right-color:#d1ecf1}.b-popover-info.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-info.bs-popover-bottom>.arrow:before{border-bottom-color:#bee5eb}.b-popover-info.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-info.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-info.bs-popover-bottom .popover-header:before,.b-popover-info.bs-popover-bottom>.arrow:after{border-bottom-color:#c5e7ed}.b-popover-info.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-info.bs-popover-left>.arrow:before{border-left-color:#bee5eb}.b-popover-info.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-info.bs-popover-left>.arrow:after{border-left-color:#d1ecf1}.b-popover-info .popover-header{color:#212529;background-color:#c5e7ed;border-bottom-color:#b2dfe7}.b-popover-info .popover-body{color:#0c5460}.b-popover-warning.popover{background-color:#fff3cd;border-color:#ffeeba}.b-popover-warning.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-warning.bs-popover-top>.arrow:before{border-top-color:#ffeeba}.b-popover-warning.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-warning.bs-popover-top>.arrow:after{border-top-color:#fff3cd}.b-popover-warning.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-warning.bs-popover-right>.arrow:before{border-right-color:#ffeeba}.b-popover-warning.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-warning.bs-popover-right>.arrow:after{border-right-color:#fff3cd}.b-popover-warning.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-warning.bs-popover-bottom>.arrow:before{border-bottom-color:#ffeeba}.b-popover-warning.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-warning.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-warning.bs-popover-bottom .popover-header:before,.b-popover-warning.bs-popover-bottom>.arrow:after{border-bottom-color:#ffefbe}.b-popover-warning.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-warning.bs-popover-left>.arrow:before{border-left-color:#ffeeba}.b-popover-warning.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-warning.bs-popover-left>.arrow:after{border-left-color:#fff3cd}.b-popover-warning .popover-header{color:#212529;background-color:#ffefbe;border-bottom-color:#ffe9a4}.b-popover-warning .popover-body{color:#856404}.b-popover-danger.popover{background-color:#f8d7da;border-color:#f5c6cb}.b-popover-danger.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-danger.bs-popover-top>.arrow:before{border-top-color:#f5c6cb}.b-popover-danger.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-danger.bs-popover-top>.arrow:after{border-top-color:#f8d7da}.b-popover-danger.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-danger.bs-popover-right>.arrow:before{border-right-color:#f5c6cb}.b-popover-danger.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-danger.bs-popover-right>.arrow:after{border-right-color:#f8d7da}.b-popover-danger.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-danger.bs-popover-bottom>.arrow:before{border-bottom-color:#f5c6cb}.b-popover-danger.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-danger.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-danger.bs-popover-bottom .popover-header:before,.b-popover-danger.bs-popover-bottom>.arrow:after{border-bottom-color:#f6cace}.b-popover-danger.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-danger.bs-popover-left>.arrow:before{border-left-color:#f5c6cb}.b-popover-danger.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-danger.bs-popover-left>.arrow:after{border-left-color:#f8d7da}.b-popover-danger .popover-header{color:#212529;background-color:#f6cace;border-bottom-color:#f2b4ba}.b-popover-danger .popover-body{color:#721c24}.b-popover-light.popover{background-color:#fefefe;border-color:#fdfdfe}.b-popover-light.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-light.bs-popover-top>.arrow:before{border-top-color:#fdfdfe}.b-popover-light.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-light.bs-popover-top>.arrow:after{border-top-color:#fefefe}.b-popover-light.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-light.bs-popover-right>.arrow:before{border-right-color:#fdfdfe}.b-popover-light.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-light.bs-popover-right>.arrow:after{border-right-color:#fefefe}.b-popover-light.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-light.bs-popover-bottom>.arrow:before{border-bottom-color:#fdfdfe}.b-popover-light.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-light.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-light.bs-popover-bottom .popover-header:before,.b-popover-light.bs-popover-bottom>.arrow:after{border-bottom-color:#f6f6f6}.b-popover-light.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-light.bs-popover-left>.arrow:before{border-left-color:#fdfdfe}.b-popover-light.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-light.bs-popover-left>.arrow:after{border-left-color:#fefefe}.b-popover-light .popover-header{color:#212529;background-color:#f6f6f6;border-bottom-color:#eaeaea}.b-popover-light .popover-body{color:#818182}.b-popover-dark.popover{background-color:#d6d8d9;border-color:#c6c8ca}.b-popover-dark.bs-popover-auto[x-placement^=top]>.arrow:before,.b-popover-dark.bs-popover-top>.arrow:before{border-top-color:#c6c8ca}.b-popover-dark.bs-popover-auto[x-placement^=top]>.arrow:after,.b-popover-dark.bs-popover-top>.arrow:after{border-top-color:#d6d8d9}.b-popover-dark.bs-popover-auto[x-placement^=right]>.arrow:before,.b-popover-dark.bs-popover-right>.arrow:before{border-right-color:#c6c8ca}.b-popover-dark.bs-popover-auto[x-placement^=right]>.arrow:after,.b-popover-dark.bs-popover-right>.arrow:after{border-right-color:#d6d8d9}.b-popover-dark.bs-popover-auto[x-placement^=bottom]>.arrow:before,.b-popover-dark.bs-popover-bottom>.arrow:before{border-bottom-color:#c6c8ca}.b-popover-dark.bs-popover-auto[x-placement^=bottom] .popover-header:before,.b-popover-dark.bs-popover-auto[x-placement^=bottom]>.arrow:after,.b-popover-dark.bs-popover-bottom .popover-header:before,.b-popover-dark.bs-popover-bottom>.arrow:after{border-bottom-color:#ced0d2}.b-popover-dark.bs-popover-auto[x-placement^=left]>.arrow:before,.b-popover-dark.bs-popover-left>.arrow:before{border-left-color:#c6c8ca}.b-popover-dark.bs-popover-auto[x-placement^=left]>.arrow:after,.b-popover-dark.bs-popover-left>.arrow:after{border-left-color:#d6d8d9}.b-popover-dark .popover-header{color:#212529;background-color:#ced0d2;border-bottom-color:#c1c4c5}.b-popover-dark .popover-body{color:#1b1e21}.table.b-table.b-table-fixed{table-layout:fixed}.table.b-table.b-table-no-border-collapse{border-collapse:separate;border-spacing:0}.table.b-table[aria-busy=true]{opacity:.55}.table.b-table>tbody>tr.b-table-details>td{border-top:none!important}.table.b-table>caption{caption-side:bottom}.table.b-table.b-table-caption-top>caption{caption-side:top!important}.table.b-table>tbody>.table-active,.table.b-table>tbody>.table-active>td,.table.b-table>tbody>.table-active>th{background-color:rgba(0,0,0,.075)}.table.b-table.table-hover>tbody>tr.table-active:hover td,.table.b-table.table-hover>tbody>tr.table-active:hover th{color:#212529;background-image:linear-gradient(rgba(0,0,0,.075),rgba(0,0,0,.075));background-repeat:no-repeat}.table.b-table>tbody>.bg-active,.table.b-table>tbody>.bg-active>td,.table.b-table>tbody>.bg-active>th{background-color:hsla(0,0%,100%,.075)!important}.table.b-table.table-hover.table-dark>tbody>tr.bg-active:hover td,.table.b-table.table-hover.table-dark>tbody>tr.bg-active:hover th{color:#fff;background-image:linear-gradient(hsla(0,0%,100%,.075),hsla(0,0%,100%,.075));background-repeat:no-repeat}.b-table-sticky-header,.table-responsive,[class*=table-responsive-]{margin-bottom:1rem}.b-table-sticky-header>.table,.table-responsive>.table,[class*=table-responsive-]>.table{margin-bottom:0}.b-table-sticky-header{overflow-y:auto;max-height:300px}@media print{.b-table-sticky-header{overflow-y:visible!important;max-height:none!important}}@supports ((position:-webkit-sticky) or (position:sticky)){.b-table-sticky-header>.table.b-table>thead>tr>th{position:-webkit-sticky;position:sticky;top:0;z-index:2}.b-table-sticky-header>.table.b-table>tbody>tr>.b-table-sticky-column,.b-table-sticky-header>.table.b-table>tfoot>tr>.b-table-sticky-column,.b-table-sticky-header>.table.b-table>thead>tr>.b-table-sticky-column,.table-responsive>.table.b-table>tbody>tr>.b-table-sticky-column,.table-responsive>.table.b-table>tfoot>tr>.b-table-sticky-column,.table-responsive>.table.b-table>thead>tr>.b-table-sticky-column,[class*=table-responsive-]>.table.b-table>tbody>tr>.b-table-sticky-column,[class*=table-responsive-]>.table.b-table>tfoot>tr>.b-table-sticky-column,[class*=table-responsive-]>.table.b-table>thead>tr>.b-table-sticky-column{position:-webkit-sticky;position:sticky;left:0}.b-table-sticky-header>.table.b-table>thead>tr>.b-table-sticky-column,.table-responsive>.table.b-table>thead>tr>.b-table-sticky-column,[class*=table-responsive-]>.table.b-table>thead>tr>.b-table-sticky-column{z-index:5}.b-table-sticky-header>.table.b-table>tbody>tr>.b-table-sticky-column,.b-table-sticky-header>.table.b-table>tfoot>tr>.b-table-sticky-column,.table-responsive>.table.b-table>tbody>tr>.b-table-sticky-column,.table-responsive>.table.b-table>tfoot>tr>.b-table-sticky-column,[class*=table-responsive-]>.table.b-table>tbody>tr>.b-table-sticky-column,[class*=table-responsive-]>.table.b-table>tfoot>tr>.b-table-sticky-column{z-index:2}.table.b-table>tbody>tr>.table-b-table-default,.table.b-table>tfoot>tr>.table-b-table-default,.table.b-table>thead>tr>.table-b-table-default{color:#212529;background-color:#fff}.table.b-table.table-dark>tbody>tr>.bg-b-table-default,.table.b-table.table-dark>tfoot>tr>.bg-b-table-default,.table.b-table.table-dark>thead>tr>.bg-b-table-default{color:#fff;background-color:#343a40}.table.b-table.table-striped>tbody>tr:nth-of-type(odd)>.table-b-table-default{background-image:linear-gradient(rgba(0,0,0,.05),rgba(0,0,0,.05));background-repeat:no-repeat}.table.b-table.table-striped.table-dark>tbody>tr:nth-of-type(odd)>.bg-b-table-default{background-image:linear-gradient(hsla(0,0%,100%,.05),hsla(0,0%,100%,.05));background-repeat:no-repeat}.table.b-table.table-hover>tbody>tr:hover>.table-b-table-default{color:#212529;background-image:linear-gradient(rgba(0,0,0,.075),rgba(0,0,0,.075));background-repeat:no-repeat}.table.b-table.table-hover.table-dark>tbody>tr:hover>.bg-b-table-default{color:#fff;background-image:linear-gradient(hsla(0,0%,100%,.075),hsla(0,0%,100%,.075));background-repeat:no-repeat}}.table.b-table>tfoot>tr>[aria-sort],.table.b-table>thead>tr>[aria-sort]{cursor:pointer;background-image:none;background-repeat:no-repeat;background-size:.65em 1em}.table.b-table>tfoot>tr>[aria-sort]:not(.b-table-sort-icon-left),.table.b-table>thead>tr>[aria-sort]:not(.b-table-sort-icon-left){background-position:right .375rem center;padding-right:calc(.75rem + .65em)}.table.b-table>tfoot>tr>[aria-sort].b-table-sort-icon-left,.table.b-table>thead>tr>[aria-sort].b-table-sort-icon-left{background-position:left .375rem center;padding-left:calc(.75rem + .65em)}.table.b-table>tfoot>tr>[aria-sort=none],.table.b-table>thead>tr>[aria-sort=none]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath opacity='.3' d='M51 1l25 23 24 22H1l25-22zm0 100l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table>tfoot>tr>[aria-sort=ascending],.table.b-table>thead>tr>[aria-sort=ascending]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath d='M51 1l25 23 24 22H1l25-22z'/%3E%3Cpath opacity='.3' d='M51 101l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table>tfoot>tr>[aria-sort=descending],.table.b-table>thead>tr>[aria-sort=descending]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath opacity='.3' d='M51 1l25 23 24 22H1l25-22z'/%3E%3Cpath d='M51 101l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table.table-dark>tfoot>tr>[aria-sort=none],.table.b-table.table-dark>thead>tr>[aria-sort=none],.table.b-table>.thead-dark>tr>[aria-sort=none]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath fill='%23fff' opacity='.3' d='M51 1l25 23 24 22H1l25-22zm0 100l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table.table-dark>tfoot>tr>[aria-sort=ascending],.table.b-table.table-dark>thead>tr>[aria-sort=ascending],.table.b-table>.thead-dark>tr>[aria-sort=ascending]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath fill='%23fff' d='M51 1l25 23 24 22H1l25-22z'/%3E%3Cpath fill='%23fff' opacity='.3' d='M51 101l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table.table-dark>tfoot>tr>[aria-sort=descending],.table.b-table.table-dark>thead>tr>[aria-sort=descending],.table.b-table>.thead-dark>tr>[aria-sort=descending]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath fill='%23fff' opacity='.3' d='M51 1l25 23 24 22H1l25-22z'/%3E%3Cpath fill='%23fff' d='M51 101l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table>tfoot>tr>.table-dark[aria-sort=none],.table.b-table>thead>tr>.table-dark[aria-sort=none]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath fill='%23fff' opacity='.3' d='M51 1l25 23 24 22H1l25-22zm0 100l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table>tfoot>tr>.table-dark[aria-sort=ascending],.table.b-table>thead>tr>.table-dark[aria-sort=ascending]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath fill='%23fff' d='M51 1l25 23 24 22H1l25-22z'/%3E%3Cpath fill='%23fff' opacity='.3' d='M51 101l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table>tfoot>tr>.table-dark[aria-sort=descending],.table.b-table>thead>tr>.table-dark[aria-sort=descending]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='101' height='101' preserveAspectRatio='none'%3E%3Cpath fill='%23fff' opacity='.3' d='M51 1l25 23 24 22H1l25-22z'/%3E%3Cpath fill='%23fff' d='M51 101l25-23 24-22H1l25 22z'/%3E%3C/svg%3E\")}.table.b-table.table-sm>tfoot>tr>[aria-sort]:not(.b-table-sort-icon-left),.table.b-table.table-sm>thead>tr>[aria-sort]:not(.b-table-sort-icon-left){background-position:right .15rem center;padding-right:calc(.3rem + .65em)}.table.b-table.table-sm>tfoot>tr>[aria-sort].b-table-sort-icon-left,.table.b-table.table-sm>thead>tr>[aria-sort].b-table-sort-icon-left{background-position:left .15rem center;padding-left:calc(.3rem + .65em)}.table.b-table.b-table-selectable:not(.b-table-selectable-no-click)>tbody>tr{cursor:pointer}.table.b-table.b-table-selectable:not(.b-table-selectable-no-click).b-table-selecting.b-table-select-range>tbody>tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:575.98px){.table.b-table.b-table-stacked-sm{display:block;width:100%}.table.b-table.b-table-stacked-sm>caption,.table.b-table.b-table-stacked-sm>tbody,.table.b-table.b-table-stacked-sm>tbody>tr,.table.b-table.b-table-stacked-sm>tbody>tr>td,.table.b-table.b-table-stacked-sm>tbody>tr>th{display:block}.table.b-table.b-table-stacked-sm>tfoot,.table.b-table.b-table-stacked-sm>tfoot>tr.b-table-bottom-row,.table.b-table.b-table-stacked-sm>tfoot>tr.b-table-top-row,.table.b-table.b-table-stacked-sm>thead,.table.b-table.b-table-stacked-sm>thead>tr.b-table-bottom-row,.table.b-table.b-table-stacked-sm>thead>tr.b-table-top-row{display:none}.table.b-table.b-table-stacked-sm>caption{caption-side:top!important}.table.b-table.b-table-stacked-sm>tbody>tr>[data-label]:before{content:attr(data-label);width:40%;float:left;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal;padding:0 .5rem 0 0;margin:0}.table.b-table.b-table-stacked-sm>tbody>tr>[data-label]:after{display:block;clear:both;content:\"\"}.table.b-table.b-table-stacked-sm>tbody>tr>[data-label]>div{display:inline-block;width:60%;padding:0 0 0 .5rem;margin:0}.table.b-table.b-table-stacked-sm>tbody>tr.bottom-row,.table.b-table.b-table-stacked-sm>tbody>tr.top-row{display:none}.table.b-table.b-table-stacked-sm>tbody>tr>:first-child,.table.b-table.b-table-stacked-sm>tbody>tr>[rowspan]+td,.table.b-table.b-table-stacked-sm>tbody>tr>[rowspan]+th{border-top-width:3px}}@media (max-width:767.98px){.table.b-table.b-table-stacked-md{display:block;width:100%}.table.b-table.b-table-stacked-md>caption,.table.b-table.b-table-stacked-md>tbody,.table.b-table.b-table-stacked-md>tbody>tr,.table.b-table.b-table-stacked-md>tbody>tr>td,.table.b-table.b-table-stacked-md>tbody>tr>th{display:block}.table.b-table.b-table-stacked-md>tfoot,.table.b-table.b-table-stacked-md>tfoot>tr.b-table-bottom-row,.table.b-table.b-table-stacked-md>tfoot>tr.b-table-top-row,.table.b-table.b-table-stacked-md>thead,.table.b-table.b-table-stacked-md>thead>tr.b-table-bottom-row,.table.b-table.b-table-stacked-md>thead>tr.b-table-top-row{display:none}.table.b-table.b-table-stacked-md>caption{caption-side:top!important}.table.b-table.b-table-stacked-md>tbody>tr>[data-label]:before{content:attr(data-label);width:40%;float:left;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal;padding:0 .5rem 0 0;margin:0}.table.b-table.b-table-stacked-md>tbody>tr>[data-label]:after{display:block;clear:both;content:\"\"}.table.b-table.b-table-stacked-md>tbody>tr>[data-label]>div{display:inline-block;width:60%;padding:0 0 0 .5rem;margin:0}.table.b-table.b-table-stacked-md>tbody>tr.bottom-row,.table.b-table.b-table-stacked-md>tbody>tr.top-row{display:none}.table.b-table.b-table-stacked-md>tbody>tr>:first-child,.table.b-table.b-table-stacked-md>tbody>tr>[rowspan]+td,.table.b-table.b-table-stacked-md>tbody>tr>[rowspan]+th{border-top-width:3px}}@media (max-width:991.98px){.table.b-table.b-table-stacked-lg{display:block;width:100%}.table.b-table.b-table-stacked-lg>caption,.table.b-table.b-table-stacked-lg>tbody,.table.b-table.b-table-stacked-lg>tbody>tr,.table.b-table.b-table-stacked-lg>tbody>tr>td,.table.b-table.b-table-stacked-lg>tbody>tr>th{display:block}.table.b-table.b-table-stacked-lg>tfoot,.table.b-table.b-table-stacked-lg>tfoot>tr.b-table-bottom-row,.table.b-table.b-table-stacked-lg>tfoot>tr.b-table-top-row,.table.b-table.b-table-stacked-lg>thead,.table.b-table.b-table-stacked-lg>thead>tr.b-table-bottom-row,.table.b-table.b-table-stacked-lg>thead>tr.b-table-top-row{display:none}.table.b-table.b-table-stacked-lg>caption{caption-side:top!important}.table.b-table.b-table-stacked-lg>tbody>tr>[data-label]:before{content:attr(data-label);width:40%;float:left;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal;padding:0 .5rem 0 0;margin:0}.table.b-table.b-table-stacked-lg>tbody>tr>[data-label]:after{display:block;clear:both;content:\"\"}.table.b-table.b-table-stacked-lg>tbody>tr>[data-label]>div{display:inline-block;width:60%;padding:0 0 0 .5rem;margin:0}.table.b-table.b-table-stacked-lg>tbody>tr.bottom-row,.table.b-table.b-table-stacked-lg>tbody>tr.top-row{display:none}.table.b-table.b-table-stacked-lg>tbody>tr>:first-child,.table.b-table.b-table-stacked-lg>tbody>tr>[rowspan]+td,.table.b-table.b-table-stacked-lg>tbody>tr>[rowspan]+th{border-top-width:3px}}@media (max-width:1199.98px){.table.b-table.b-table-stacked-xl{display:block;width:100%}.table.b-table.b-table-stacked-xl>caption,.table.b-table.b-table-stacked-xl>tbody,.table.b-table.b-table-stacked-xl>tbody>tr,.table.b-table.b-table-stacked-xl>tbody>tr>td,.table.b-table.b-table-stacked-xl>tbody>tr>th{display:block}.table.b-table.b-table-stacked-xl>tfoot,.table.b-table.b-table-stacked-xl>tfoot>tr.b-table-bottom-row,.table.b-table.b-table-stacked-xl>tfoot>tr.b-table-top-row,.table.b-table.b-table-stacked-xl>thead,.table.b-table.b-table-stacked-xl>thead>tr.b-table-bottom-row,.table.b-table.b-table-stacked-xl>thead>tr.b-table-top-row{display:none}.table.b-table.b-table-stacked-xl>caption{caption-side:top!important}.table.b-table.b-table-stacked-xl>tbody>tr>[data-label]:before{content:attr(data-label);width:40%;float:left;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal;padding:0 .5rem 0 0;margin:0}.table.b-table.b-table-stacked-xl>tbody>tr>[data-label]:after{display:block;clear:both;content:\"\"}.table.b-table.b-table-stacked-xl>tbody>tr>[data-label]>div{display:inline-block;width:60%;padding:0 0 0 .5rem;margin:0}.table.b-table.b-table-stacked-xl>tbody>tr.bottom-row,.table.b-table.b-table-stacked-xl>tbody>tr.top-row{display:none}.table.b-table.b-table-stacked-xl>tbody>tr>:first-child,.table.b-table.b-table-stacked-xl>tbody>tr>[rowspan]+td,.table.b-table.b-table-stacked-xl>tbody>tr>[rowspan]+th{border-top-width:3px}}.table.b-table.b-table-stacked{display:block;width:100%}.table.b-table.b-table-stacked>caption,.table.b-table.b-table-stacked>tbody,.table.b-table.b-table-stacked>tbody>tr,.table.b-table.b-table-stacked>tbody>tr>td,.table.b-table.b-table-stacked>tbody>tr>th{display:block}.table.b-table.b-table-stacked>tfoot,.table.b-table.b-table-stacked>tfoot>tr.b-table-bottom-row,.table.b-table.b-table-stacked>tfoot>tr.b-table-top-row,.table.b-table.b-table-stacked>thead,.table.b-table.b-table-stacked>thead>tr.b-table-bottom-row,.table.b-table.b-table-stacked>thead>tr.b-table-top-row{display:none}.table.b-table.b-table-stacked>caption{caption-side:top!important}.table.b-table.b-table-stacked>tbody>tr>[data-label]:before{content:attr(data-label);width:40%;float:left;text-align:right;word-wrap:break-word;font-weight:700;font-style:normal;padding:0 .5rem 0 0;margin:0}.table.b-table.b-table-stacked>tbody>tr>[data-label]:after{display:block;clear:both;content:\"\"}.table.b-table.b-table-stacked>tbody>tr>[data-label]>div{display:inline-block;width:60%;padding:0 0 0 .5rem;margin:0}.table.b-table.b-table-stacked>tbody>tr.bottom-row,.table.b-table.b-table-stacked>tbody>tr.top-row{display:none}.table.b-table.b-table-stacked>tbody>tr>:first-child,.table.b-table.b-table-stacked>tbody>tr>[rowspan]+td,.table.b-table.b-table-stacked>tbody>tr>[rowspan]+th{border-top-width:3px}.b-toast{display:block;position:relative;max-width:350px;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-clip:padding-box;z-index:1;border-radius:.25rem}.b-toast .toast{background-color:hsla(0,0%,100%,.85)}.b-toast:not(:last-child){margin-bottom:.75rem}.b-toast.b-toast-solid .toast{background-color:#fff}.b-toast .toast{opacity:1}.b-toast .toast.fade:not(.show){opacity:0}.b-toast .toast .toast-body{display:block}.b-toast-primary .toast{background-color:rgba(230,242,255,.85);border-color:rgba(184,218,255,.85);color:#004085}.b-toast-primary .toast .toast-header{color:#004085;background-color:rgba(204,229,255,.85);border-bottom-color:rgba(184,218,255,.85)}.b-toast-primary.b-toast-solid .toast{background-color:#e6f2ff}.b-toast-secondary .toast{background-color:rgba(239,240,241,.85);border-color:rgba(214,216,219,.85);color:#383d41}.b-toast-secondary .toast .toast-header{color:#383d41;background-color:rgba(226,227,229,.85);border-bottom-color:rgba(214,216,219,.85)}.b-toast-secondary.b-toast-solid .toast{background-color:#eff0f1}.b-toast-success .toast{background-color:rgba(230,245,233,.85);border-color:rgba(195,230,203,.85);color:#155724}.b-toast-success .toast .toast-header{color:#155724;background-color:rgba(212,237,218,.85);border-bottom-color:rgba(195,230,203,.85)}.b-toast-success.b-toast-solid .toast{background-color:#e6f5e9}.b-toast-info .toast{background-color:rgba(229,244,247,.85);border-color:rgba(190,229,235,.85);color:#0c5460}.b-toast-info .toast .toast-header{color:#0c5460;background-color:rgba(209,236,241,.85);border-bottom-color:rgba(190,229,235,.85)}.b-toast-info.b-toast-solid .toast{background-color:#e5f4f7}.b-toast-warning .toast{background-color:rgba(255,249,231,.85);border-color:rgba(255,238,186,.85);color:#856404}.b-toast-warning .toast .toast-header{color:#856404;background-color:rgba(255,243,205,.85);border-bottom-color:rgba(255,238,186,.85)}.b-toast-warning.b-toast-solid .toast{background-color:#fff9e7}.b-toast-danger .toast{background-color:rgba(252,237,238,.85);border-color:rgba(245,198,203,.85);color:#721c24}.b-toast-danger .toast .toast-header{color:#721c24;background-color:rgba(248,215,218,.85);border-bottom-color:rgba(245,198,203,.85)}.b-toast-danger.b-toast-solid .toast{background-color:#fcedee}.b-toast-light .toast{background-color:hsla(0,0%,100%,.85);border-color:rgba(253,253,254,.85);color:#818182}.b-toast-light .toast .toast-header{color:#818182;background-color:hsla(0,0%,99.6%,.85);border-bottom-color:rgba(253,253,254,.85)}.b-toast-light.b-toast-solid .toast{background-color:#fff}.b-toast-dark .toast{background-color:rgba(227,229,229,.85);border-color:rgba(198,200,202,.85);color:#1b1e21}.b-toast-dark .toast .toast-header{color:#1b1e21;background-color:rgba(214,216,217,.85);border-bottom-color:rgba(198,200,202,.85)}.b-toast-dark.b-toast-solid .toast{background-color:#e3e5e5}.b-toaster{z-index:1100}.b-toaster .b-toaster-slot{position:relative;display:block}.b-toaster .b-toaster-slot:empty{display:none!important}.b-toaster.b-toaster-bottom-center,.b-toaster.b-toaster-bottom-full,.b-toaster.b-toaster-bottom-left,.b-toaster.b-toaster-bottom-right,.b-toaster.b-toaster-top-center,.b-toaster.b-toaster-top-full,.b-toaster.b-toaster-top-left,.b-toaster.b-toaster-top-right{position:fixed;left:.5rem;right:.5rem;margin:0;padding:0;height:0;overflow:visible}.b-toaster.b-toaster-bottom-center .b-toaster-slot,.b-toaster.b-toaster-bottom-full .b-toaster-slot,.b-toaster.b-toaster-bottom-left .b-toaster-slot,.b-toaster.b-toaster-bottom-right .b-toaster-slot,.b-toaster.b-toaster-top-center .b-toaster-slot,.b-toaster.b-toaster-top-full .b-toaster-slot,.b-toaster.b-toaster-top-left .b-toaster-slot,.b-toaster.b-toaster-top-right .b-toaster-slot{position:absolute;max-width:350px;width:100%;left:0;right:0;padding:0;margin:0}.b-toaster.b-toaster-bottom-full .b-toaster-slot,.b-toaster.b-toaster-bottom-full .b-toaster-slot .b-toast,.b-toaster.b-toaster-bottom-full .b-toaster-slot .toast,.b-toaster.b-toaster-top-full .b-toaster-slot,.b-toaster.b-toaster-top-full .b-toaster-slot .b-toast,.b-toaster.b-toaster-top-full .b-toaster-slot .toast{width:100%;max-width:100%}.b-toaster.b-toaster-top-center,.b-toaster.b-toaster-top-full,.b-toaster.b-toaster-top-left,.b-toaster.b-toaster-top-right{top:0}.b-toaster.b-toaster-top-center .b-toaster-slot,.b-toaster.b-toaster-top-full .b-toaster-slot,.b-toaster.b-toaster-top-left .b-toaster-slot,.b-toaster.b-toaster-top-right .b-toaster-slot{top:.5rem}.b-toaster.b-toaster-bottom-center,.b-toaster.b-toaster-bottom-full,.b-toaster.b-toaster-bottom-left,.b-toaster.b-toaster-bottom-right{bottom:0}.b-toaster.b-toaster-bottom-center .b-toaster-slot,.b-toaster.b-toaster-bottom-full .b-toaster-slot,.b-toaster.b-toaster-bottom-left .b-toaster-slot,.b-toaster.b-toaster-bottom-right .b-toaster-slot{bottom:.5rem}.b-toaster.b-toaster-bottom-center .b-toaster-slot,.b-toaster.b-toaster-bottom-right .b-toaster-slot,.b-toaster.b-toaster-top-center .b-toaster-slot,.b-toaster.b-toaster-top-right .b-toaster-slot{margin-left:auto}.b-toaster.b-toaster-bottom-center .b-toaster-slot,.b-toaster.b-toaster-bottom-left .b-toaster-slot,.b-toaster.b-toaster-top-center .b-toaster-slot,.b-toaster.b-toaster-top-left .b-toaster-slot{margin-right:auto}.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-enter-active,.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-move,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-enter-active,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-move,.b-toaster.b-toaster-top-left .b-toast.b-toaster-enter-active,.b-toaster.b-toaster-top-left .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-top-left .b-toast.b-toaster-move,.b-toaster.b-toaster-top-right .b-toast.b-toaster-enter-active,.b-toaster.b-toaster-top-right .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-top-right .b-toast.b-toaster-move{transition:transform .175s}.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-enter-active .toast.fade,.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-enter-to .toast.fade,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-enter-active .toast.fade,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-enter-to .toast.fade,.b-toaster.b-toaster-top-left .b-toast.b-toaster-enter-active .toast.fade,.b-toaster.b-toaster-top-left .b-toast.b-toaster-enter-to .toast.fade,.b-toaster.b-toaster-top-right .b-toast.b-toaster-enter-active .toast.fade,.b-toaster.b-toaster-top-right .b-toast.b-toaster-enter-to .toast.fade{transition-delay:.175s}.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-top-left .b-toast.b-toaster-leave-active,.b-toaster.b-toaster-top-right .b-toast.b-toaster-leave-active{position:absolute;transition-delay:.175s}.b-toaster.b-toaster-bottom-left .b-toast.b-toaster-leave-active .toast.fade,.b-toaster.b-toaster-bottom-right .b-toast.b-toaster-leave-active .toast.fade,.b-toaster.b-toaster-top-left .b-toast.b-toaster-leave-active .toast.fade,.b-toaster.b-toaster-top-right .b-toast.b-toaster-leave-active .toast.fade{transition-delay:0s}.tooltip.b-tooltip{display:block;opacity:.9;outline:0}.tooltip.b-tooltip.fade:not(.show){opacity:0}.tooltip.b-tooltip.show{opacity:.9}.tooltip.b-tooltip.noninteractive{pointer-events:none}.tooltip.b-tooltip .arrow{margin:0 .25rem}.tooltip.b-tooltip.b-tooltip-danger.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-danger.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-dark.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-dark.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-info.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-info.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-light.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-light.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-primary.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-primary.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-secondary.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-secondary.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-success.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-success.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.b-tooltip-warning.bs-tooltip-auto[x-placement^=left] .arrow,.tooltip.b-tooltip.b-tooltip-warning.bs-tooltip-auto[x-placement^=right] .arrow,.tooltip.b-tooltip.bs-tooltip-left .arrow,.tooltip.b-tooltip.bs-tooltip-right .arrow{margin:.25rem 0}.tooltip.b-tooltip-primary.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-primary.bs-tooltip-top .arrow:before{border-top-color:#007bff}.tooltip.b-tooltip-primary.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-primary.bs-tooltip-right .arrow:before{border-right-color:#007bff}.tooltip.b-tooltip-primary.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-primary.bs-tooltip-bottom .arrow:before{border-bottom-color:#007bff}.tooltip.b-tooltip-primary.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-primary.bs-tooltip-left .arrow:before{border-left-color:#007bff}.tooltip.b-tooltip-primary .tooltip-inner{color:#fff;background-color:#007bff}.tooltip.b-tooltip-secondary.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-secondary.bs-tooltip-top .arrow:before{border-top-color:#6c757d}.tooltip.b-tooltip-secondary.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-secondary.bs-tooltip-right .arrow:before{border-right-color:#6c757d}.tooltip.b-tooltip-secondary.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-secondary.bs-tooltip-bottom .arrow:before{border-bottom-color:#6c757d}.tooltip.b-tooltip-secondary.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-secondary.bs-tooltip-left .arrow:before{border-left-color:#6c757d}.tooltip.b-tooltip-secondary .tooltip-inner{color:#fff;background-color:#6c757d}.tooltip.b-tooltip-success.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-success.bs-tooltip-top .arrow:before{border-top-color:#28a745}.tooltip.b-tooltip-success.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-success.bs-tooltip-right .arrow:before{border-right-color:#28a745}.tooltip.b-tooltip-success.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-success.bs-tooltip-bottom .arrow:before{border-bottom-color:#28a745}.tooltip.b-tooltip-success.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-success.bs-tooltip-left .arrow:before{border-left-color:#28a745}.tooltip.b-tooltip-success .tooltip-inner{color:#fff;background-color:#28a745}.tooltip.b-tooltip-info.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-info.bs-tooltip-top .arrow:before{border-top-color:#17a2b8}.tooltip.b-tooltip-info.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-info.bs-tooltip-right .arrow:before{border-right-color:#17a2b8}.tooltip.b-tooltip-info.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-info.bs-tooltip-bottom .arrow:before{border-bottom-color:#17a2b8}.tooltip.b-tooltip-info.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-info.bs-tooltip-left .arrow:before{border-left-color:#17a2b8}.tooltip.b-tooltip-info .tooltip-inner{color:#fff;background-color:#17a2b8}.tooltip.b-tooltip-warning.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-warning.bs-tooltip-top .arrow:before{border-top-color:#ffc107}.tooltip.b-tooltip-warning.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-warning.bs-tooltip-right .arrow:before{border-right-color:#ffc107}.tooltip.b-tooltip-warning.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-warning.bs-tooltip-bottom .arrow:before{border-bottom-color:#ffc107}.tooltip.b-tooltip-warning.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-warning.bs-tooltip-left .arrow:before{border-left-color:#ffc107}.tooltip.b-tooltip-warning .tooltip-inner{color:#212529;background-color:#ffc107}.tooltip.b-tooltip-danger.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-danger.bs-tooltip-top .arrow:before{border-top-color:#dc3545}.tooltip.b-tooltip-danger.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-danger.bs-tooltip-right .arrow:before{border-right-color:#dc3545}.tooltip.b-tooltip-danger.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-danger.bs-tooltip-bottom .arrow:before{border-bottom-color:#dc3545}.tooltip.b-tooltip-danger.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-danger.bs-tooltip-left .arrow:before{border-left-color:#dc3545}.tooltip.b-tooltip-danger .tooltip-inner{color:#fff;background-color:#dc3545}.tooltip.b-tooltip-light.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-light.bs-tooltip-top .arrow:before{border-top-color:#f8f9fa}.tooltip.b-tooltip-light.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-light.bs-tooltip-right .arrow:before{border-right-color:#f8f9fa}.tooltip.b-tooltip-light.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-light.bs-tooltip-bottom .arrow:before{border-bottom-color:#f8f9fa}.tooltip.b-tooltip-light.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-light.bs-tooltip-left .arrow:before{border-left-color:#f8f9fa}.tooltip.b-tooltip-light .tooltip-inner{color:#212529;background-color:#f8f9fa}.tooltip.b-tooltip-dark.bs-tooltip-auto[x-placement^=top] .arrow:before,.tooltip.b-tooltip-dark.bs-tooltip-top .arrow:before{border-top-color:#343a40}.tooltip.b-tooltip-dark.bs-tooltip-auto[x-placement^=right] .arrow:before,.tooltip.b-tooltip-dark.bs-tooltip-right .arrow:before{border-right-color:#343a40}.tooltip.b-tooltip-dark.bs-tooltip-auto[x-placement^=bottom] .arrow:before,.tooltip.b-tooltip-dark.bs-tooltip-bottom .arrow:before{border-bottom-color:#343a40}.tooltip.b-tooltip-dark.bs-tooltip-auto[x-placement^=left] .arrow:before,.tooltip.b-tooltip-dark.bs-tooltip-left .arrow:before{border-left-color:#343a40}.tooltip.b-tooltip-dark .tooltip-inner{color:#fff;background-color:#343a40}.b-icon.bi{display:inline-block;overflow:visible;vertical-align:-.15em}.btn .b-icon.bi,.dropdown-item .b-icon.bi,.dropdown-toggle .b-icon.bi,.input-group-text .b-icon.bi,.nav-link .b-icon.bi{font-size:125%;vertical-align:text-bottom}",""]),e.exports=t},function(e,t,r){var content=r(360);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(69).default)("3000a27e",content,!0,{sourceMap:!1})},function(e,t,r){(t=r(68)(!1)).push([e.i,'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5)}.cm-animate-fat-cursor,.cm-fat-cursor-mark{-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-feature-settings:"calt";font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""]),e.exports=t},function(e,t,r){var content=r(362);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(69).default)("5c6d384c",content,!0,{sourceMap:!1})},function(e,t,r){(t=r(68)(!1)).push([e.i,".cm-s-mdn-like.CodeMirror{color:#999;background-color:#fff}.cm-s-mdn-like div.CodeMirror-selected{background:#cfc}.cm-s-mdn-like .CodeMirror-line::selection,.cm-s-mdn-like .CodeMirror-line>span::selection,.cm-s-mdn-like .CodeMirror-line>span>span::selection{background:#cfc}.cm-s-mdn-like .CodeMirror-line::-moz-selection,.cm-s-mdn-like .CodeMirror-line>span::-moz-selection,.cm-s-mdn-like .CodeMirror-line>span>span::-moz-selection{background:#cfc}.cm-s-mdn-like .CodeMirror-gutters{background:#f8f8f8;border-left:6px solid rgba(0,83,159,.65);color:#333}.cm-s-mdn-like .CodeMirror-linenumber{color:#aaa;padding-left:8px}.cm-s-mdn-like .CodeMirror-cursor{border-left:2px solid #222}.cm-s-mdn-like .cm-keyword{color:#6262ff}.cm-s-mdn-like .cm-atom{color:#f90}.cm-s-mdn-like .cm-number{color:#ca7841}.cm-s-mdn-like .cm-def{color:#8da6ce}.cm-s-mdn-like span.cm-tag,.cm-s-mdn-like span.cm-variable-2{color:#690}.cm-s-mdn-like .cm-variable,.cm-s-mdn-like span.cm-def,.cm-s-mdn-like span.cm-type,.cm-s-mdn-like span.cm-variable-3{color:#07a}.cm-s-mdn-like .cm-property{color:#905}.cm-s-mdn-like .cm-qualifier{color:#690}.cm-s-mdn-like .cm-operator{color:#cda869}.cm-s-mdn-like .cm-comment{color:#777;font-weight:400}.cm-s-mdn-like .cm-string{color:#07a;font-style:italic}.cm-s-mdn-like .cm-string-2{color:#bd6b18}.cm-s-mdn-like .cm-meta{color:#000}.cm-s-mdn-like .cm-builtin{color:#9b7536}.cm-s-mdn-like .cm-tag{color:#997643}.cm-s-mdn-like .cm-attribute{color:#d6bb6d}.cm-s-mdn-like .cm-header{color:#ff6400}.cm-s-mdn-like .cm-hr{color:#aeaeae}.cm-s-mdn-like .cm-link{color:#ad9361;font-style:italic;text-decoration:none}.cm-s-mdn-like .cm-error{border-bottom:1px solid red}div.cm-s-mdn-like .CodeMirror-activeline-background{background:#efefff}div.cm-s-mdn-like span.CodeMirror-matchingbracket{outline:1px solid grey;color:inherit}.cm-s-mdn-like.CodeMirror{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAyCAYAAAAp8UeFAAAHvklEQVR42s2b63bcNgyEQZCSHCdt2vd/0tWF7I+Q6XgMXiTtuvU5Pl57ZQKkKHzEAOtF5KeIJBGJ8uvL599FRFREZhFx8DeXv8trn68RuGaC8TRfo3SNp9dlDDHedyLyTUTeRWStXKPZrjtpZxaRw5hPqozRs1N8/enzIiQRWcCgy4MUA0f+XWliDhyL8Lfyvx7ei/Ae3iQFHyw7U/59pQVIMEEPEz0G7XiwdRjzSfC3UTtz9vchIntxvry5iMgfIhJoEflOz2CQr3F5h/HfeFe+GTdLaKcu9L8LTeQb/R/7GgbsfKedyNdoHsN31uRPWrfZ5wsj/NzzRQHuToIdU3ahwnsKPxXCjJITuOsi7XLc7SG/v5GdALs7wf8JjTFiB5+QvTEfRyGOfX3Lrx8wxyQi3sNq46O7QahQiCsRFgqddjBouVEHOKDgXAQHD9gJCr5sMKkEdjwsarG/ww3BMHBU7OBjXnzdyY7SfCxf5/z6ATccrwlKuwC/jhznnPF4CgVzhhVf4xp2EixcBActO75iZ8/fM9zAs2OMzKdslgXWJ9XG8PQoOAMA5fGcsvORgv0doBXyHrCwfLJAOwo71QLNkb8n2Pl6EWiR7OCibtkPaz4Kc/0NNAze2gju3zOwekALDaCFPI5vjPFmgGY5AZqyGEvH1x7QfIb8YtxMnA/b+QQ0aQDAwc6JMFg8CbQZ4qoYEEHbRwNojuK3EHwd7VALSgq+MNDKzfT58T8qdpADrgW0GmgcAS1lhzztJmkAzcPNOQbsWEALBDSlMKUG0Eq4CLAQWvEVQ9WU57gZJwZtgPO3r9oBTQ9WO8TjqXINx8R0EYpiZEUWOF3FxkbJkgU9B2f41YBrIj5ZfsQa0M5kTgiAAqM3ShXLgu8XMqcrQBvJ0CL5pnTsfMB13oB8athpAq2XOQmcGmoACCLydx7nToa23ATaSIY2ichfOdPTGxlasXMLaL0MLZAOwAKIM+y8CmicobGdCcbbK9DzN+yYGVoNNI5iUKTMyYOjPse4A8SM1MmcXgU0toOq1yO/v8FOxlASyc7TgeYaAMBJHcY1CcCwGI/TK4AmDbDyKYBBtFUkRwto8gygiQEaByFgJ00BH2M8JWwQS1nafDXQCidWyOI8AcjDCSjCLk8ngObuAm3JAHAdubAmOaK06V8MNEsKPJOhobSprwQa6gD7DclRQdqcwL4zxqgBrQcabUiBLclRDKAlWp+etPkBaNMA0AKlrHwTdEByZAA4GM+SNluSY6wAzcMNewxmgig5Ks0nkrSpBvSaQHMdKTBAnLojOdYyGpQ254602ZILPdTD1hdlggdIm74jbTp8vDwF5ZYUeLWGJpWsh6XNyXgcYwVoJQTEhhTYkxzZjiU5npU2TaB979TQehlaAVq4kaGpiPwwwLkYUuBbQwocyQTv1tA0+1UFWoJF3iv1oq+qoSk8EQdJmwHkziIF7oOZk14EGitibAdjLYYK78H5vZOhtWpoI0ATGHs0Q8OMb4Ey+2bU2UYztCtA0wFAs7TplGLRVQCcqaFdGSPCeTI1QNIC52iWNzof6Uib7xjEp07mNNoUYmVosVItHrHzRlLgBn9LFyRHaQCtVUMbtTNhoXWiTOO9k/V8BdAc1Oq0ArSQs6/5SU0hckNy9NnXqQY0PGYo5dWJ7nINaN6o958FWin27aBaWRka1r5myvLOAm0j30eBJqCxHLReVclxhxOEN2JfDWjxBtAC7MIH1fVaGdoOp4qJYDgKtKPSFNID2gSnGldrCqkFZ+5UeQXQBIRrSwocbdZYQT/2LwRahBPBXoHrB8nxaGROST62DKUbQOMMzZIC9abkuELfQzQALWTnDNAm8KHWFOJgJ5+SHIvTPcmx1xQyZRhNL5Qci689aXMEaN/uNIWkEwDAvFpOZmgsBaaGnbs1NPa1Jm32gBZAIh1pCtG7TSH4aE0y1uVY4uqoFPisGlpP2rSA5qTecWn5agK6BzSpgAyD+wFaqhnYoSZ1Vwr8CmlTQbrcO3ZaX0NAEyMbYaAlyquFoLKK3SPby9CeVUPThrSJmkCAE0CrKUQadi4DrdSlWhmah0YL9z9vClH59YGbHx1J8VZTyAjQepJjmXwAKTDQI3omc3p1U4gDUf6RfcdYfrUp5ClAi2J3Ba6UOXGo+K+bQrjjssitG2SJzshaLwMtXgRagUNpYYoVkMSBLM+9GGiJZMvduG6DRZ4qc04DMPtQQxOjEtACmhO7K1AbNbQDEggZyJwscFpAGwENhoBeUwh3bWolhe8BTYVKxQEWrSUn/uhcM5KhvUu/+eQu0Lzhi+VrK0PrZZNDQKs9cpYUuFYgMVpD4/NxenJTiMCNqdUEUf1qZWjppLT5qSkkUZbCwkbZMSuVnu80hfSkzRbQeqCZSAh6huR4VtoM2gHAlLf72smuWgE+VV7XpE25Ab2WFDgyhnSuKbs4GuGzCjR+tIoUuMFg3kgcWKLTwRqanJQ2W00hAsenfaApRC42hbCvK1SlE0HtE9BGgneJO+ELamitD1YjjOYnNYVcraGhtKkW0EqVVeDx733I2NH581k1NNxNLG0i0IJ8/NjVaOZ0tYZ2Vtr0Xv7tPV3hkWp9EFkgS/J0vosngTaSoaG06WHi+xObQkaAdlbanP8B2+2l0f90LmUAAAAASUVORK5CYII=)}",""]),e.exports=t},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){!function(e){"use strict";var t,n;t=r(35),r(385),r(259),r(191),r(386),r(153),r(387),r(388),r(389),r(391),n={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]},t.defineMode("vue-template",(function(e,r){return t.overlayMode(t.getMode(e,r.backdrop||"text/html"),{token:function(e){if(e.match(/^\{\{.*?\}\}/))return"meta mustache";for(;e.next()&&!e.match("{{",!1););return null}})})),t.defineMode("vue",(function(e){return t.getMode(e,{name:"htmlmixed",tags:n})}),"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),t.defineMIME("script/x-vue","vue"),t.defineMIME("text/x-vue","vue")}()},function(e,t,r){!function(e){"use strict";e.overlayMode=function(base,t,r){return{startState:function(){return{base:e.startState(base),overlay:e.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(base,r.base),overlay:e.copyState(t,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,n){return(e!=n.streamSeen||Math.min(n.basePos,n.overlayPos)<e.start)&&(n.streamSeen=e,n.basePos=n.overlayPos=e.start),e.start==n.basePos&&(n.baseCur=base.token(e,n.base),n.basePos=e.pos),e.start==n.overlayPos&&(e.pos=e.start,n.overlayCur=t.token(e,n.overlay),n.overlayPos=e.pos),e.pos=Math.min(n.basePos,n.overlayPos),null==n.overlayCur?n.baseCur:null!=n.baseCur&&n.overlay.combineTokens||r&&null==n.overlay.combineTokens?n.baseCur+" "+n.overlayCur:n.overlayCur},indent:base.indent&&function(e,t,line){return base.indent(e.base,t,line)},electricChars:base.electricChars,innerMode:function(e){return{state:e.base,mode:base}},blankLine:function(e){var n,o;return base.blankLine&&(n=base.blankLine(e.base)),t.blankLine&&(o=t.blankLine(e.overlay)),null==o?n:r&&null!=n?n+" "+o:o}}}}(r(35))},function(e,t,r){!function(e){"use strict";e.defineMode("coffeescript",(function(e,t){function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,o=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,l=/^[_A-Za-z$][_A-Za-z$0-9]*/,c=/^@[_A-Za-z$][_A-Za-z$0-9]*/,d=r(["and","or","not","is","isnt","in","instanceof","typeof"]),h=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],f=r(h.concat(["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"]));h=r(h);var v=/^('{3}|\"{3}|['\"])/,m=/^(\/{3}|\/)/,y=r(["Infinity","NaN","undefined","null","true","false","on","off","yes","no"]);function _(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var r=t.scope.offset;if(e.eatSpace()){var h=e.indentation();return h>r&&"coffee"==t.scope.type?"indent":h<r?"dedent":null}r>0&&x(e,t)}if(e.eatSpace())return null;var _=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=k,t.tokenize(e,t);if("#"===_)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var S=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(S=!0),e.match(/^-?\d+\.\d*/)&&(S=!0),e.match(/^-?\.\d+/)&&(S=!0),S)return"."==e.peek()&&e.backUp(1),"number";var O=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(O=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(O=!0),e.match(/^-?0(?![\dx])/i)&&(O=!0),O)return"number"}if(e.match(v))return t.tokenize=w(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(m)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=w(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(n)||e.match(d)?"operator":e.match(o)?"punctuation":e.match(y)?"atom":e.match(c)||t.prop&&e.match(l)?"property":e.match(f)?"keyword":e.match(l)?"variable":(e.next(),"error")}function w(e,r,n){return function(o,l){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),r&&o.eol())return n}else{if(o.match(e))return l.tokenize=_,n;o.eat(/['"\/]/)}return r&&(t.singleLineStringErrors?n="error":l.tokenize=_),n}}function k(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=_;break}e.eatWhile("#")}return"comment"}function S(t,r,n){n=n||"coffee";for(var o=0,l=!1,c=null,d=r.scope;d;d=d.prev)if("coffee"===d.type||"}"==d.type){o=d.offset+e.indentUnit;break}"coffee"!==n?(l=null,c=t.column()+t.current().length):r.scope.align&&(r.scope.align=!1),r.scope={offset:o,type:n,prev:r.scope,align:l,alignOffset:c}}function x(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var r=e.indentation(),n=!1,o=t.scope;o;o=o.prev)if(r===o.offset){n=!0;break}if(!n)return!0;for(;t.scope.prev&&t.scope.offset!==r;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}return{startState:function(e){return{tokenize:_,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var r=null===t.scope.align&&t.scope;r&&e.sol()&&(r.align=!1);var style=function(e,t){var style=t.tokenize(e,t),r=e.current();"return"===r&&(t.dedent=!0),(("->"===r||"=>"===r)&&e.eol()||"indent"===style)&&S(e,t);var n="[({".indexOf(r);if(-1!==n&&S(e,t,"])}".slice(n,n+1)),h.exec(r)&&S(e,t),"then"==r&&x(e,t),"dedent"===style&&x(e,t))return"error";if(-1!==(n="])}".indexOf(r))){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),style}(e,t);return style&&"comment"!=style&&(r&&(r.align=!0),t.prop="punctuation"==style&&"."==e.current()),style},indent:function(e,text){if(e.tokenize!=_)return 0;var t=e.scope,r=text&&"])}".indexOf(text.charAt(0))>-1;if(r)for(;"coffee"==t.type&&t.prev;)t=t.prev;var n=r&&t.type===text.charAt(0);return t.align?t.alignOffset-(n?1:0):(n?t.prev:t).offset},lineComment:"#",fold:"indent"}})),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}(r(35))},function(e,t,r){!function(e){"use strict";e.defineMode("sass",(function(t){var r,n=e.mimeModes["text/css"],o=n.propertyKeywords||{},l=n.colorKeywords||{},c=n.valueKeywords||{},d=n.fontProperties||{},h=new RegExp("^"+["true","false","null","auto"].join("|")),f=new RegExp("^"+["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"].join("|")),v=/^::?[a-zA-Z_][\w\-]*/;function m(e){return!e.peek()||e.match(/\s+$/,!1)}function y(e,t){var r=e.peek();return")"===r?(e.next(),t.tokenizer=O,"operator"):"("===r?(e.next(),e.eatSpace(),"operator"):"'"===r||'"'===r?(t.tokenizer=w(e.next()),"string"):(t.tokenizer=w(")",!1),"string")}function _(e,t){return function(r,n){return r.sol()&&r.indentation()<=e?(n.tokenizer=O,O(r,n)):(t&&r.skipTo("*/")?(r.next(),r.next(),n.tokenizer=O):r.skipToEnd(),"comment")}}function w(e,t){return null==t&&(t=!0),function r(n,o){var l=n.next(),c=n.peek(),d=n.string.charAt(n.pos-2);return"\\"!==l&&c===e||l===e&&"\\"!==d?(l!==e&&t&&n.next(),m(n)&&(o.cursorHalf=0),o.tokenizer=O,"string"):"#"===l&&"{"===c?(o.tokenizer=k(r),n.next(),"operator"):"string"}}function k(e){return function(t,r){return"}"===t.peek()?(t.next(),r.tokenizer=e,"operator"):O(t,r)}}function S(e){if(0==e.indentCount){e.indentCount++;var r=e.scopes[0].offset+t.indentUnit;e.scopes.unshift({offset:r})}}function x(e){1!=e.scopes.length&&e.scopes.shift()}function O(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=_(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=_(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=k(O),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=w(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return m(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return m(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return m(e)&&(t.cursorHalf=0),"unit";if(e.match(h))return m(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=y,m(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),m(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(f))return m(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return m(e)&&(t.cursorHalf=0),r=e.current().toLowerCase(),c.hasOwnProperty(r)?"atom":l.hasOwnProperty(r)?"keyword":o.hasOwnProperty(r)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(m(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return S(t),"qualifier";if("#"===e.peek())return S(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return S(t),"builtin";if("#"===e.peek())return S(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(h))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=y,"atom";if("="===n&&e.match(/^=[\w-]+/))return S(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||x(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return S(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){r=e.current().toLowerCase();var T=t.prevProp+"-"+r;return o.hasOwnProperty(T)?"property":o.hasOwnProperty(r)?(t.prevProp=r,"property"):d.hasOwnProperty(r)?"property":"tag"}return e.match(/ *:/,!1)?(S(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):e.match(/ *,/,!1)?"tag":(S(t),"tag")}if(":"===n)return e.match(v)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(f)?"operator":(e.next(),null)}return{startState:function(){return{tokenizer:O,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,r){var style=function(e,r){e.sol()&&(r.indentCount=0);var style=r.tokenizer(e,r),n=e.current();if("@return"!==n&&"}"!==n||x(r),null!==style){for(var o=e.pos-n.length+t.indentUnit*r.indentCount,l=[],i=0;i<r.scopes.length;i++){var c=r.scopes[i];c.offset<=o&&l.push(c)}r.scopes=l}return style}(e,r);return r.lastToken={style:style,content:e.current()},style},indent:function(e){return e.scopes[0].offset}}}),"css"),e.defineMIME("text/x-sass","sass")}(r(35),r(153))},function(e,t,r){!function(e){"use strict";e.defineMode("stylus",(function(e){for(var _,style,S,x,O=e.indentUnit,T="",E=k(t),C=/^(a|b|i|s|col|em)$/i,I=k(l),j=k(c),M=k(f),R=k(h),A=k(r),P=w(r),B=k(o),D=k(n),L=k(d),z=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,F=w(v),N=k(m),V=new RegExp(/^\-(moz|ms|o|webkit)-/i),H=k(y),$="",U={};T.length<O;)T+=" ";function K(e,t){if($=e.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),t.context.line.firstWord=$?$[0].replace(/^\s*/,""):"",t.context.line.indent=e.indentation(),_=e.peek(),e.match("//"))return e.skipToEnd(),["comment","comment"];if(e.match("/*"))return t.tokenize=G,G(e,t);if('"'==_||"'"==_)return e.next(),t.tokenize=W(_),t.tokenize(e,t);if("@"==_)return e.next(),e.eatWhile(/[\w\\-]/),["def",e.current()];if("#"==_){if(e.next(),e.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(e.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return e.match(V)?["meta","vendor-prefixes"]:e.match(/^-?[0-9]?\.?[0-9]/)?(e.eatWhile(/[a-z%]/i),["number","unit"]):"!"==_?(e.next(),[e.match(/^(important|optional)/i)?"keyword":"operator","important"]):"."==_&&e.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:e.match(P)?("("==e.peek()&&(t.tokenize=Y),["property","word"]):e.match(/^[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","mixin"]):e.match(/^(\+|-)[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","block-mixin"]):e.string.match(/^\s*&/)&&e.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:e.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(e.backUp(1),["variable-3","reference"]):e.match(/^&{1}\s*$/)?["variable-3","reference"]:e.match(F)?["operator","operator"]:e.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?e.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!ee(e.current())?(e.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:e.match(z)?["operator",e.current()]:/[:;,{}\[\]\(\)]/.test(_)?(e.next(),[null,_]):(e.next(),[null,null])}function G(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}function W(e){return function(t,r){for(var n,o=!1;null!=(n=t.next());){if(n==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==n}return(n==e||!o&&")"!=e)&&(r.tokenize=null),["string","string"]}}function Y(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=W(")"),[null,"("]}function X(e,t,r,line){this.type=e,this.indent=t,this.prev=r,this.line=line||{firstWord:"",indent:0}}function Q(e,t,r,n){return n=n>=0?n:O,e.context=new X(r,t.indentation()+n,e.context),r}function J(e,t){var r=e.context.indent-O;return t=t||!1,e.context=e.context.prev,t&&(e.context.indent=r),e.context.type}function Z(e,t,r,n){for(var i=n||1;i>0;i--)r.context=r.context.prev;return function(e,t,r){return U[r.context.type](e,t,r)}(e,t,r)}function ee(e){return e.toLowerCase()in E}function te(e){return(e=e.toLowerCase())in I||e in L}function re(e){return e.toLowerCase()in N}function ne(e){return e.toLowerCase().match(V)}function oe(e){var t=e.toLowerCase(),r="variable-2";return ee(e)?r="tag":re(e)?r="block-keyword":te(e)?r="property":t in M||t in H?r="atom":"return"==t||t in R?r="keyword":e.match(/^[A-Z]/)&&(r="string"),r}function ie(e,t){return ce(t)&&("{"==e||"]"==e||"hash"==e||"qualifier"==e)||"block-mixin"==e}function ae(e,t){return"{"==e&&t.match(/^\s*\$?[\w-]+/i,!1)}function se(e,t){return":"==e&&t.match(/^[a-z-]+/,!1)}function le(e){return e.sol()||e.string.match(new RegExp("^\\s*"+e.current().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")))}function ce(e){return e.eol()||e.match(/^\s*$/,!1)}function ue(line){var e=/^\s*[-_]*[a-z0-9]+[\w-]*/i,t="string"==typeof line?line.match(e):line.string.match(e);return t?t[0].replace(/^\s*/,""):""}return U.block=function(e,t,r){if("comment"==e&&le(t)||","==e&&ce(t)||"mixin"==e)return Q(r,t,"block",0);if(ae(e,t))return Q(r,t,"interpolation");if(ce(t)&&"]"==e&&!/^\s*(\.|#|:|\[|\*|&)/.test(t.string)&&!ee(ue(t)))return Q(r,t,"block",0);if(ie(e,t))return Q(r,t,"block");if("}"==e&&ce(t))return Q(r,t,"block",0);if("variable-name"==e)return t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||re(ue(t))?Q(r,t,"variableName"):Q(r,t,"variableName",0);if("="==e)return ce(t)||re(ue(t))?Q(r,t,"block"):Q(r,t,"block",0);if("*"==e&&(ce(t)||t.match(/\s*(,|\.|#|\[|:|{)/,!1)))return x="tag",Q(r,t,"block");if(se(e,t))return Q(r,t,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(e))return Q(r,t,ce(t)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return Q(r,t,"keyframes");if(/@extends?/.test(e))return Q(r,t,"extend",0);if(e&&"@"==e.charAt(0))return t.indentation()>0&&te(t.current().slice(1))?(x="variable-2","block"):/(@import|@require|@charset)/.test(e)?Q(r,t,"block",0):Q(r,t,"block");if("reference"==e&&ce(t))return Q(r,t,"block");if("("==e)return Q(r,t,"parens");if("vendor-prefixes"==e)return Q(r,t,"vendorPrefixes");if("word"==e){var n=t.current();if("property"==(x=oe(n)))return le(t)?Q(r,t,"block",0):(x="atom","block");if("tag"==x){if(/embed|menu|pre|progress|sub|table/.test(n)&&te(ue(t)))return x="atom","block";if(t.string.match(new RegExp("\\[\\s*"+n+"|"+n+"\\s*\\]")))return x="atom","block";if(C.test(n)&&(le(t)&&t.string.match(/=/)||!le(t)&&!t.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!ee(ue(t))))return x="variable-2",re(ue(t))?"block":Q(r,t,"block",0);if(ce(t))return Q(r,t,"block")}if("block-keyword"==x)return x="keyword",t.current(/(if|unless)/)&&!le(t)?"block":Q(r,t,"block");if("return"==n)return Q(r,t,"block",0);if("variable-2"==x&&t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return Q(r,t,"block")}return r.context.type},U.parens=function(e,t,r){if("("==e)return Q(r,t,"parens");if(")"==e)return"parens"==r.context.prev.type?J(r):t.string.match(/^[a-z][\w-]*\(/i)&&ce(t)||re(ue(t))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ue(t))||!t.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&ee(ue(t))?Q(r,t,"block"):t.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||t.string.match(/^\s*(\(|\)|[0-9])/)||t.string.match(/^\s+[a-z][\w-]*\(/i)||t.string.match(/^\s+[\$-]?[a-z]/i)?Q(r,t,"block",0):ce(t)?Q(r,t,"block"):Q(r,t,"block",0);if(e&&"@"==e.charAt(0)&&te(t.current().slice(1))&&(x="variable-2"),"word"==e){var n=t.current();"tag"==(x=oe(n))&&C.test(n)&&(x="variable-2"),"property"!=x&&"to"!=n||(x="atom")}return"variable-name"==e?Q(r,t,"variableName"):se(e,t)?Q(r,t,"pseudo"):r.context.type},U.vendorPrefixes=function(e,t,r){return"word"==e?(x="property",Q(r,t,"block",0)):J(r)},U.pseudo=function(e,t,r){return te(ue(t.string))?Z(e,t,r):(t.match(/^[a-z-]+/),x="variable-3",ce(t)?Q(r,t,"block"):J(r))},U.atBlock=function(e,t,r){if("("==e)return Q(r,t,"atBlock_parens");if(ie(e,t))return Q(r,t,"block");if(ae(e,t))return Q(r,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();if("tag"==(x=/^(only|not|and|or)$/.test(n)?"keyword":A.hasOwnProperty(n)?"tag":D.hasOwnProperty(n)?"attribute":B.hasOwnProperty(n)?"property":j.hasOwnProperty(n)?"string-2":oe(t.current()))&&ce(t))return Q(r,t,"block")}return"operator"==e&&/^(not|and|or)$/.test(t.current())&&(x="keyword"),r.context.type},U.atBlock_parens=function(e,t,r){if("{"==e||"}"==e)return r.context.type;if(")"==e)return ce(t)?Q(r,t,"block"):Q(r,t,"atBlock");if("word"==e){var n=t.current().toLowerCase();return x=oe(n),/^(max|min)/.test(n)&&(x="property"),"tag"==x&&(x=C.test(n)?"variable-2":"atom"),r.context.type}return U.atBlock(e,t,r)},U.keyframes=function(e,t,r){return"0"==t.indentation()&&("}"==e&&le(t)||"]"==e||"hash"==e||"qualifier"==e||ee(t.current()))?Z(e,t,r):"{"==e?Q(r,t,"keyframes"):"}"==e?le(t)?J(r,!0):Q(r,t,"keyframes"):"unit"==e&&/^[0-9]+\%$/.test(t.current())?Q(r,t,"keyframes"):"word"==e&&"block-keyword"==(x=oe(t.current()))?(x="keyword",Q(r,t,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(e)?Q(r,t,ce(t)?"block":"atBlock"):"mixin"==e?Q(r,t,"block",0):r.context.type},U.interpolation=function(e,t,r){return"{"==e&&J(r)&&Q(r,t,"block"),"}"==e?t.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||t.string.match(/^\s*[a-z]/i)&&ee(ue(t))?Q(r,t,"block"):!t.string.match(/^(\{|\s*\&)/)||t.match(/\s*[\w-]/,!1)?Q(r,t,"block",0):Q(r,t,"block"):"variable-name"==e?Q(r,t,"variableName",0):("word"==e&&"tag"==(x=oe(t.current()))&&(x="atom"),r.context.type)},U.extend=function(e,t,r){return"["==e||"="==e?"extend":"]"==e?J(r):"word"==e?(x=oe(t.current()),"extend"):J(r)},U.variableName=function(e,t,r){return"string"==e||"["==e||"]"==e||t.current().match(/^(\.|\$)/)?(t.current().match(/^\.[\w-]+/i)&&(x="variable-2"),"variableName"):Z(e,t,r)},{startState:function(base){return{tokenize:null,state:"block",context:new X("block",base||0,null)}},token:function(e,t){return!t.tokenize&&e.eatSpace()?null:((style=(t.tokenize||K)(e,t))&&"object"==typeof style&&(S=style[1],style=style[0]),x=style,t.state=U[t.state](S,e,t),x)},indent:function(e,t,line){var r=e.context,n=t&&t.charAt(0),o=r.indent,l=ue(t),c=line.match(/^\s*/)[0].replace(/\t/g,T).length,d=e.context.prev?e.context.prev.line.firstWord:"",h=e.context.prev?e.context.prev.line.indent:c;return r.prev&&("}"==n&&("block"==r.type||"atBlock"==r.type||"keyframes"==r.type)||")"==n&&("parens"==r.type||"atBlock_parens"==r.type)||"{"==n&&"at"==r.type)?o=r.indent-O:/(\})/.test(n)||(/@|\$|\d/.test(n)||/^\{/.test(t)||/^\s*\/(\/|\*)/.test(t)||/^\s*\/\*/.test(d)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(t)||/^(\+|-)?[a-z][\w-]*\(/i.test(t)||/^return/.test(t)||re(l)?o=c:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(n)||ee(l)?o=/\,\s*$/.test(d)?h:/^\s+/.test(line)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(d)||ee(d))?c<=h?h:h+O:c:/,\s*$/.test(line)||!ne(l)&&!te(l)||(o=re(d)?c<=h?h:h+O:/^\{/.test(d)?c<=h?c:h+O:ne(d)||te(d)?c>=h?h:c:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(d)||/=\s*$/.test(d)||ee(d)||/^\$[\w-\.\[\]\'\"]/.test(d)?h+O:c)),o},electricChars:"}",lineComment:"//",fold:"indent"}}));var t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],r=["domain","regexp","url","url-prefix"],n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],c=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],h=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],f=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],v=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],m=["for","if","else","unless","from","to"],y=["null","true","false","href","title","type","not-allowed","readonly","disabled"],_=t.concat(r,n,o,l,c,h,f,d,v,m,y,["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"]);function w(e){return e=e.sort((function(a,b){return b>a})),new RegExp("^(("+e.join(")|(")+"))\\b")}function k(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=!0;return t}e.registerHelper("hintWords","stylus",_),e.defineMIME("text/x-styl","stylus")}(r(35))},function(e,t,r){!function(e){"use strict";e.defineMode("pug",(function(t){var r="keyword",n={"{":"}","(":")","[":"]"},o=e.getMode(t,"javascript");function l(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(o),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function c(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function filter(r,n){var o;if(r.match(/^:([\w\-]+)/))return t&&t.innerModes&&(o=t.innerModes(r.current().substring(1))),o||(o=r.current().substring(1)),"string"==typeof o&&(o=e.getMode(t,o)),d(r,n,o),"atom"}function d(r,n,o){o=e.mimeModes[o]||o,o=t.innerModes&&t.innerModes(o)||o,o=e.mimeModes[o]||o,o=e.getMode(t,o),n.indentOf=r.indentation(),o&&"null"!==o.name?n.innerMode=o:n.indentToken="string"}function h(t,r,n){if(t.indentation()>r.indentOf||r.innerModeForLine&&!t.sol()||n)return r.innerMode?(r.innerState||(r.innerState=r.innerMode.startState?e.startState(r.innerMode,t.indentation()):{}),t.hideFirstChars(r.indentOf+2,(function(){return r.innerMode.token(t,r.innerState)||!0}))):(t.skipToEnd(),r.indentToken);t.sol()&&(r.indentOf=1/0,r.indentToken=null,r.innerMode=null,r.innerState=null)}return l.prototype.copy=function(){var t=new l;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(o,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:function(){return new l},copyState:function(e){return e.copy()},token:function(t,l){var f=h(t,l)||function(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var r=t.restOfLine;return t.restOfLine="",r}}(t,l)||function(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return o.token(e,t.jsState)||!0}}(t,l)||function(e,t){if(t.isIncludeFiltered){var r=filter(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",r}}(t,l)||function(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,r;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){for(;!e.match(/^ in\b/,!1)&&e.next(););return"variable"}}}(t,l)||function t(r,l){if(l.isAttrs){if(n[r.peek()]&&l.attrsNest.push(n[r.peek()]),l.attrsNest[l.attrsNest.length-1]===r.peek())l.attrsNest.pop();else if(r.eat(")"))return l.isAttrs=!1,"punctuation";if(l.inAttributeName&&r.match(/^[^=,\)!]+/))return"="!==r.peek()&&"!"!==r.peek()||(l.inAttributeName=!1,l.jsState=e.startState(o),"script"===l.lastTag&&"type"===r.current().trim().toLowerCase()?l.attributeIsType=!0:l.attributeIsType=!1),"attribute";var c=o.token(r,l.jsState);if(l.attributeIsType&&"string"===c&&(l.scriptType=r.current().toString()),0===l.attrsNest.length&&("string"===c||"variable"===c||"keyword"===c))try{return Function("","var x "+l.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),l.inAttributeName=!0,l.attrValue="",r.backUp(r.current().length),t(r,l)}catch(e){}return l.attrValue+=r.current(),c||!0}}(t,l)||function(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var r=o.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),r||!0}}(t,l)||function(e,t){if(t.javaScriptArguments)return 0===t.javaScriptArgumentsDepth&&"("!==e.peek()?void(t.javaScriptArguments=!1):("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth?void(t.javaScriptArguments=!1):o.token(e,t.jsState)||!0)}(t,l)||function(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}(t,l)||function(e){if(e.match(/^yield\b/))return"keyword"}(t)||function(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return"meta"}(t)||c(t,l)||function(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,r}(t,l)||function(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,r}(t,l)||function(e){if(e.match(/^default\b/))return r}(t)||function(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",r}(t,l)||function(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",r}(t,l)||function(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",r}(t,l)||function(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",r}(t,l)||function(e,t){if(e.match(/^include\b/))return t.restOfLine="string",r}(t,l)||function(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,r}(t,l)||function(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,r}(t,l)||function(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match(/^\+#{/,!1)?(e.next(),t.mixinCallAfter=!0,c(e,t)):void 0}(t,l)||function(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,r}(t,l)||function(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,r}(t,l)||function(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,r}(t,l)||function(e,t){var r;if(r=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=r[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}(t,l)||filter(t,l)||function(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}(t,l)||function(e){if(e.match(/^#([\w-]+)/))return"builtin"}(t)||function(e){if(e.match(/^\.([\w-]+)/))return"qualifier"}(t)||function(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}(t,l)||function(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}(t,l)||function(e){if(e.sol()&&e.eatSpace())return"indent"}(t)||function(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?(d(e,t,"htmlmixed"),t.innerModeForLine=!0,h(e,t,!0)):void 0}(t,l)||function(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}(t,l)||function(e){if(e.match(/^: */))return"colon"}(t)||function(e,t){if(e.eat(".")){var r=null;return"script"===t.lastTag&&-1!=t.scriptType.toLowerCase().indexOf("javascript")?r=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(r="css"),d(e,t,r),"dot"}}(t,l)||function(e){return e.next(),null}(t);return!0===f?null:f}}}),"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")}(r(35),r(191),r(153),r(390))},function(e,t,r){!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},r={};function n(text,e){var t=text.match(function(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(e));return t?/^\s*(.*?)\s*$/.exec(t[2])[1]:""}function o(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function l(e,t){for(var r in e)for(var n=t[r]||(t[r]=[]),source=e[r],i=source.length-1;i>=0;i--)n.unshift(source[i])}e.defineMode("htmlmixed",(function(r,c){var d=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:c.multilineTagIndentFactor,multilineTagIndentPastTag:c.multilineTagIndentPastTag}),h={},f=c&&c.tags,v=c&&c.scriptTypes;if(l(t,h),f&&l(f,h),v)for(var i=v.length-1;i>=0;i--)h.script.unshift(["type",v[i].matches,v[i].mode]);function html(t,l){var c,style=d.token(t,l.htmlState),f=/\btag\b/.test(style);if(f&&!/[<>\s\/]/.test(t.current())&&(c=l.htmlState.tagName&&l.htmlState.tagName.toLowerCase())&&h.hasOwnProperty(c))l.inTag=c+" ";else if(l.inTag&&f&&/>$/.test(t.current())){var v=/^([\S]+) (.*)/.exec(l.inTag);l.inTag=null;var m=">"==t.current()&&function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(!r[0]||r[1].test(n(t,r[0])))return r[2]}}(h[v[1]],v[2]),y=e.getMode(r,m),_=o(v[1],!0),w=o(v[1],!1);l.token=function(e,t){return e.match(_,!1)?(t.token=html,t.localState=t.localMode=null,null):function(e,t,style){var r=e.current(),n=r.search(t);return n>-1?e.backUp(r.length-n):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),style}(e,w,t.localMode.token(e,t.localState))},l.localMode=y,l.localState=e.startState(y,d.indent(l.htmlState,"",""))}else l.inTag&&(l.inTag+=t.current(),t.eol()&&(l.inTag+=" "));return style}return{startState:function(){return{token:html,inTag:null,localMode:null,localState:null,htmlState:e.startState(d)}},copyState:function(t){var r;return t.localState&&(r=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:r,htmlState:e.copyState(d,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,r,line){return!t.localMode||/^\s*<\//.test(r)?d.indent(t.htmlState,r,line):t.localMode.indent?t.localMode.indent(t.localState,r,line):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||d}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(r(35),r(259),r(191),r(153))},function(e,t,r){!function(e){"use strict";e.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),e.defineMode("handlebars",(function(t,r){var n=e.getMode(t,"handlebars-tags");return r&&r.base?e.multiplexingMode(e.getMode(t,r.base),{open:"{{",close:/\}\}\}?/,mode:n,parseDelimiters:!0}):n})),e.defineMIME("text/x-handlebars-template","handlebars")}(r(35),r(392),r(393))},function(e,t,r){!function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function r(e,t){if(!e)return/(?:)/;var r="";return e instanceof RegExp?(e.ignoreCase&&(r="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",r)}function n(data,e){(data.next||data.push)&&t(e,data.next||data.push),this.regex=r(data.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],i=0;i<e.length;i++)t.push(e[i]&&e[i].replace(/\./g," "));return t}(data.token),this.data=data}function o(e,t){return function(r,n){if(n.pending){var o=n.pending.shift();return 0==n.pending.length&&(n.pending=null),r.pos+=o.text.length,o.token}if(n.local){if(n.local.end&&r.match(n.local.end)){var l=n.local.endToken||null;return n.local=n.localState=null,l}var d;return l=n.local.mode.token(r,n.localState),n.local.endScan&&(d=n.local.endScan.exec(r.current()))&&(r.pos=r.start+d.index),l}for(var h=e[n.state],i=0;i<h.length;i++){var f=h[i],v=(!f.data.sol||r.sol())&&r.match(f.regex);if(v){f.data.next?n.state=f.data.next:f.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=f.data.push):f.data.pop&&n.stack&&n.stack.length&&(n.state=n.stack.pop()),f.data.mode&&c(t,n,f.data.mode,f.token),f.data.indent&&n.indent.push(r.indentation()+t.indentUnit),f.data.dedent&&n.indent.pop();var m=f.token;if(m&&m.apply&&(m=m(v)),v.length>2&&f.token&&"string"!=typeof f.token){n.pending=[];for(var y=2;y<v.length;y++)v[y]&&n.pending.push({text:v[y],token:f.token[y-1]});return r.backUp(v[0].length-(v[1]?v[1].length:0)),m[0]}return m&&m.join?m[0]:m}}return r.next(),null}}function l(a,b){if(a===b)return!0;if(!a||"object"!=typeof a||!b||"object"!=typeof b)return!1;var e=0;for(var t in a)if(a.hasOwnProperty(t)){if(!b.hasOwnProperty(t)||!l(a[t],b[t]))return!1;e++}for(var t in b)b.hasOwnProperty(t)&&e--;return 0==e}function c(t,n,o,c){var d;if(o.persistent)for(var p=n.persistentStates;p&&!d;p=p.next)(o.spec?l(o.spec,p.spec):o.mode==p.mode)&&(d=p);var h=d?d.mode:o.mode||e.getMode(t,o.spec),f=d?d.state:e.startState(h);o.persistent&&!d&&(n.persistentStates={mode:h,spec:o.spec,state:f,next:n.persistentStates}),n.localState=f,n.local={mode:h,end:o.end&&r(o.end),endScan:o.end&&!1!==o.forceEnd&&r(o.end,!1),endToken:c&&c.join?c[c.length-1]:c}}function d(t,meta){return function(r,n,line){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,n,line);if(null==r.indent||r.local||meta.dontIndentStates&&function(e,t){for(var i=0;i<t.length;i++)if(t[i]===e)return!0}(r.state,meta.dontIndentStates)>-1)return e.Pass;var o=r.indent.length-1,l=t[r.state];e:for(;;){for(var i=0;i<l.length;i++){var c=l[i];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var d=c.regex.exec(n);if(d&&d[0]){o--,(c.next||c.push)&&(l=t[c.next||c.push]),n=n.slice(d[0].length);continue e}}}break}return o<0?0:r.indent[o]}}e.defineSimpleMode=function(t,r){e.defineMode(t,(function(t){return e.simpleMode(t,r)}))},e.simpleMode=function(r,l){t(l,"start");var c={},meta=l.meta||{},h=!1;for(var f in l)if(f!=meta&&l.hasOwnProperty(f))for(var v=c[f]=[],m=l[f],i=0;i<m.length;i++){var data=m[i];v.push(new n(data,l)),(data.indent||data.dedent)&&(h=!0)}var y={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:h?[]:null}},copyState:function(t){var s={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(s.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(s.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)s.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?s.localState:e.copyState(r.mode,r.state),next:s.persistentStates};return s},token:o(c,r),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:d(c,meta)};if(meta)for(var _ in meta)meta.hasOwnProperty(_)&&(y[_]=meta[_]);return y}}(r(35))},function(e,t,r){!function(e){"use strict";e.multiplexingMode=function(t){var r=Array.prototype.slice.call(arguments,1);function n(e,pattern,t,r){if("string"==typeof pattern){var n=e.indexOf(pattern,t);return r&&n>-1?n+pattern.length:n}var o=pattern.exec(t?e.slice(t):e);return o?o.index+t+(r?o[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(r){return{outer:e.copyState(t,r.outer),innerActive:r.innerActive,inner:r.innerActive&&e.copyState(r.innerActive.mode,r.inner)}},token:function(o,l){if(l.innerActive){var c=l.innerActive;if(f=o.string,!c.close&&o.sol())return l.innerActive=l.inner=null,this.token(o,l);if((v=c.close?n(f,c.close,o.pos,c.parseDelimiters):-1)==o.pos&&!c.parseDelimiters)return o.match(c.close),l.innerActive=l.inner=null,c.delimStyle&&c.delimStyle+" "+c.delimStyle+"-close";v>-1&&(o.string=f.slice(0,v));var d=c.mode.token(o,l.inner);return v>-1&&(o.string=f),v==o.pos&&c.parseDelimiters&&(l.innerActive=l.inner=null),c.innerStyle&&(d=d?d+" "+c.innerStyle:c.innerStyle),d}for(var h=1/0,f=o.string,i=0;i<r.length;++i){var v,m=r[i];if((v=n(f,m.open,o.pos))==o.pos){m.parseDelimiters||o.match(m.open),l.innerActive=m;var y=0;if(t.indent){var _=t.indent(l.outer,"","");_!==e.Pass&&(y=_)}return l.inner=e.startState(m.mode,y),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open"}-1!=v&&v<h&&(h=v)}h!=1/0&&(o.string=f.slice(0,h));var w=t.token(o,l.outer);return h!=1/0&&(o.string=f),w},indent:function(r,n,line){var o=r.innerActive?r.innerActive.mode:t;return o.indent?o.indent(r.innerActive?r.inner:r.outer,n,line):e.Pass},blankLine:function(n){var o=n.innerActive?n.innerActive.mode:t;if(o.blankLine&&o.blankLine(n.innerActive?n.inner:n.outer),n.innerActive)"\n"===n.innerActive.close&&(n.innerActive=n.inner=null);else for(var i=0;i<r.length;++i){var l=r[i];"\n"===l.open&&(n.innerActive=l,n.inner=e.startState(l.mode,o.indent?o.indent(n.outer,"",""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}}(r(35))},function(e,t,r){!function(e){"use strict";var t="CodeMirror-activeline-background";function r(e){for(var i=0;i<e.state.activeLines.length;i++)e.removeLineClass(e.state.activeLines[i],"wrap","CodeMirror-activeline"),e.removeLineClass(e.state.activeLines[i],"background",t),e.removeLineClass(e.state.activeLines[i],"gutter","CodeMirror-activeline-gutter")}function n(e,n){for(var o=[],i=0;i<n.length;i++){var l=n[i],option=e.getOption("styleActiveLine");if("object"==typeof option&&option.nonEmpty?l.anchor.line==l.head.line:l.empty()){var line=e.getLineHandleVisualStart(l.head.line);o[o.length-1]!=line&&o.push(line)}}(function(a,b){if(a.length!=b.length)return!1;for(var i=0;i<a.length;i++)if(a[i]!=b[i])return!1;return!0})(e.state.activeLines,o)||e.operation((function(){r(e);for(var i=0;i<o.length;i++)e.addLineClass(o[i],"wrap","CodeMirror-activeline"),e.addLineClass(o[i],"background",t),e.addLineClass(o[i],"gutter","CodeMirror-activeline-gutter");e.state.activeLines=o}))}function o(e,t){n(e,t.ranges)}e.defineOption("styleActiveLine",!1,(function(t,l,c){var d=c!=e.Init&&c;l!=d&&(d&&(t.off("beforeSelectionChange",o),r(t),delete t.state.activeLines),l&&(t.state.activeLines=[],n(t,t.listSelections()),t.on("beforeSelectionChange",o)))}))}(r(35))},function(e,t,r){!function(e){"use strict";var t={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function r(e){for(var r in this.options={},t)this.options[r]=(e&&e.hasOwnProperty(r)?e:t)[r];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function n(e){var t=e.state.matchHighlighter;(t.active||e.hasFocus())&&l(e,t)}function o(e){var t=e.state.matchHighlighter;t.active||(t.active=!0,l(e,t))}function l(e,t){clearTimeout(t.timeout),t.timeout=setTimeout((function(){h(e)}),t.options.delay)}function c(e,t,r,style){var n=e.state.matchHighlighter;if(e.addOverlay(n.overlay=function(e,t,style){return{token:function(r){if(r.match(e)&&(!t||function(e,t){return!(e.start&&t.test(e.string.charAt(e.start-1))||e.pos!=e.string.length&&t.test(e.string.charAt(e.pos)))}(r,t)))return style;r.next(),r.skipTo(e.charAt(0))||r.skipToEnd()}}}(t,r,style)),n.options.annotateScrollbar&&e.showMatchesOnScrollbar){var o=r?new RegExp("\\b"+t.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+"\\b"):t;n.matchesonscroll=e.showMatchesOnScrollbar(o,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function d(e){var t=e.state.matchHighlighter;t.overlay&&(e.removeOverlay(t.overlay),t.overlay=null,t.matchesonscroll&&(t.matchesonscroll.clear(),t.matchesonscroll=null))}function h(e){e.operation((function(){var t=e.state.matchHighlighter;if(d(e),e.somethingSelected()||!t.options.showToken){var r=e.getCursor("from"),n=e.getCursor("to");if(r.line==n.line&&(!t.options.wordsOnly||function(e,t,r){if(null!==e.getRange(t,r).match(/^\w+$/)){if(t.ch>0){var n={line:t.line,ch:t.ch-1};if(null===e.getRange(n,t).match(/\W/))return!1}return!(r.ch<e.getLine(t.line).length&&(n={line:r.line,ch:r.ch+1},null===e.getRange(r,n).match(/\W/)))}return!1}(e,r,n))){var o=e.getRange(r,n);t.options.trim&&(o=o.replace(/^\s+|\s+$/g,"")),o.length>=t.options.minChars&&c(e,o,!1,t.options.style)}}else{for(var l=!0===t.options.showToken?/[\w$]/:t.options.showToken,h=e.getCursor(),line=e.getLine(h.line),f=h.ch,v=f;f&&l.test(line.charAt(f-1));)--f;for(;v<line.length&&l.test(line.charAt(v));)++v;f<v&&c(e,line.slice(f,v),l,t.options.style)}}))}e.defineOption("highlightSelectionMatches",!1,(function(t,l,c){if(c&&c!=e.Init&&(d(t),clearTimeout(t.state.matchHighlighter.timeout),t.state.matchHighlighter=null,t.off("cursorActivity",n),t.off("focus",o)),l){var f=t.state.matchHighlighter=new r(l);t.hasFocus()?(f.active=!0,h(t)):t.on("focus",o),t.on("cursorActivity",n)}}))}(r(35),r(396))},function(e,t,r){!function(e){"use strict";function t(e,t,r,n){this.cm=e,this.options=n;var o={listenForChanges:!1};for(var l in n)o[l]=n[l];o.className||(o.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(o),this.query=t,this.caseFold=r,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var c=this;e.on("change",this.changeHandler=function(e,t){c.onChange(t)})}function r(line,e,t){return line<=e?line:Math.max(e,line+t)}e.defineExtension("showMatchesOnScrollbar",(function(e,r,n){return"string"==typeof n&&(n={className:n}),n||(n={}),new t(this,e,r,n)})),t.prototype.findMatches=function(){if(this.gap){for(var i=0;i<this.matches.length&&!((r=this.matches[i]).from.line>=this.gap.to);i++)r.to.line>=this.gap.from&&this.matches.splice(i--,1);for(var cursor=this.cm.getSearchCursor(this.query,e.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),t=this.options&&this.options.maxMatches||1e3;cursor.findNext();){var r;if((r={from:cursor.from(),to:cursor.to()}).from.line>=this.gap.to)break;if(this.matches.splice(i++,0,r),this.matches.length>t)break}this.gap=null}},t.prototype.onChange=function(t){var n=t.from.line,o=e.changeEnd(t).line,l=o-t.to.line;if(this.gap?(this.gap.from=Math.min(r(this.gap.from,n,l),t.from.line),this.gap.to=Math.max(r(this.gap.to,n,l),t.from.line)):this.gap={from:t.from.line,to:o+1},l)for(var i=0;i<this.matches.length;i++){var c=this.matches[i],d=r(c.from.line,n,l);d!=c.from.line&&(c.from=e.Pos(d,c.from.ch));var h=r(c.to.line,n,l);h!=c.to.line&&(c.to=e.Pos(h,c.to.ch))}clearTimeout(this.update);var f=this;this.update=setTimeout((function(){f.updateAfterChange()}),250)},t.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},t.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}(r(35),r(260),r(397))},function(e,t,r){!function(e){"use strict";function t(e,t){function r(e){clearTimeout(n.doRedraw),n.doRedraw=setTimeout((function(){n.redraw()}),e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var n=this;e.on("refresh",this.resizeHandler=function(){clearTimeout(n.doUpdate),n.doUpdate=setTimeout((function(){n.computeScale()&&r(20)}),100)}),e.on("markerAdded",this.resizeHandler),e.on("markerCleared",this.resizeHandler),!1!==t.listenForChanges&&e.on("changes",this.changeHandler=function(){r(250)})}e.defineExtension("annotateScrollbar",(function(e){return"string"==typeof e&&(e={className:e}),new t(this,e)})),e.defineOption("scrollButtonHeight",0),t.prototype.computeScale=function(){var e=this.cm,t=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.getScrollerElement().scrollHeight;if(t!=this.hScale)return this.hScale=t,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var t=this.cm,r=this.hScale,n=document.createDocumentFragment(),o=this.annotations,l=t.getOption("lineWrapping"),c=l&&1.5*t.defaultTextHeight(),d=null,h=null;function f(e,r){return d!=e.line&&(d=e.line,h=t.getLineHandle(d)),h.widgets&&h.widgets.length||l&&h.height>c?t.charCoords(e,"local")[r?"top":"bottom"]:t.heightAtLine(h,"local")+(r?0:h.height)}var v=t.lastLine();if(t.display.barWidth)for(var m,i=0;i<o.length;i++){var y=o[i];if(!(y.to.line>v)){for(var _=m||f(y.from,!0)*r,w=f(y.to,!1)*r;i<o.length-1&&!(o[i+1].to.line>v)&&!((m=f(o[i+1].from,!0)*r)>w+.9);)w=f((y=o[++i]).to,!1)*r;if(w!=_){var k=Math.max(w-_,3),S=n.appendChild(document.createElement("div"));S.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(_+this.buttonHeight)+"px; height: "+k+"px",S.className=this.options.className,y.id&&S.setAttribute("annotation-id",y.id)}}}this.div.textContent="",this.div.appendChild(n)},t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}}(r(35))},function(e,t,r){var content=r(399);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(69).default)("56c13eae",content,!0,{sourceMap:!1})},function(e,t,r){(t=r(68)(!1)).push([e.i,".CodeMirror-dialog{position:absolute;left:0;right:0;background:inherit;z-index:15;padding:.1em .8em;overflow:hidden;color:inherit}.CodeMirror-dialog-top{border-bottom:1px solid #eee;top:0}.CodeMirror-dialog-bottom{border-top:1px solid #eee;bottom:0}.CodeMirror-dialog input{border:none;outline:none;background:transparent;width:20em;color:inherit;font-family:monospace}.CodeMirror-dialog button{font-size:70%}",""]),e.exports=t},function(e,t,r){!function(e){"use strict";function t(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new t)}function n(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,r){return e.getSearchCursor(t,r,{caseFold:n(t),multiline:!0})}function dialog(e,text,t,r,n){e.openDialog?e.openDialog(text,n,{value:r,selectValueOnOpen:!0}):n(prompt(t,r))}function l(e){return e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"==t?"\\":e}))}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=l(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function d(e,t,r){t.queryText=r,t.query=c(r),e.removeOverlay(t.overlay,n(t.query)),t.overlay=function(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var r=e.exec(t.string);if(r&&r.index==t.pos)return t.pos+=r[0].length||1,"searching";r?t.pos=r.index:t.skipToEnd()}}}(t.query,n(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,n(t.query)))}function h(t,n,o,l){var c=r(t);if(c.query)return f(t,n);var q=t.getSelection()||c.lastQuery;if(q instanceof RegExp&&"x^"==q.source&&(q=null),o&&t.openDialog){var h=null,y=function(r,n){e.e_stop(n),r&&(r!=c.queryText&&(d(t,c,r),c.posFrom=c.posTo=t.getCursor()),h&&(h.style.opacity=1),f(t,n.shiftKey,(function(e,r){var dialog;r.line<3&&document.querySelector&&(dialog=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&dialog.getBoundingClientRect().bottom-4>t.cursorCoords(r,"window").top&&((h=dialog).style.opacity=.4)})))};!function(e,text,t,r,n){e.openDialog(text,r,{value:t,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){v(e)},onKeyDown:n})}(t,m(t),q,y,(function(n,o){var l=e.keyName(n),c=t.getOption("extraKeys"),h=c&&c[l]||e.keyMap[t.getOption("keyMap")][l];"findNext"==h||"findPrev"==h||"findPersistentNext"==h||"findPersistentPrev"==h?(e.e_stop(n),d(t,r(t),o),t.execCommand(h)):"find"!=h&&"findPersistent"!=h||(e.e_stop(n),y(o,n))})),l&&q&&(d(t,c,q),f(t,n))}else dialog(t,m(t),"Search for:",q,(function(e){e&&!c.query&&t.operation((function(){d(t,c,e),c.posFrom=c.posTo=t.getCursor(),f(t,n)}))}))}function f(t,n,l){t.operation((function(){var c=r(t),cursor=o(t,c.query,n?c.posFrom:c.posTo);(cursor.find(n)||(cursor=o(t,c.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(n))&&(t.setSelection(cursor.from(),cursor.to()),t.scrollIntoView({from:cursor.from(),to:cursor.to()},20),c.posFrom=cursor.from(),c.posTo=cursor.to(),l&&l(cursor.from(),cursor.to()))}))}function v(e){e.operation((function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))}))}function m(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function y(e,t,text){e.operation((function(){for(var cursor=o(e,t);cursor.findNext();)if("string"!=typeof t){var r=e.getRange(cursor.from(),cursor.to()).match(t);cursor.replace(text.replace(/\$(\d)/g,(function(e,i){return r[i]})))}else cursor.replace(text)}))}function _(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,d='<span class="CodeMirror-search-label">'+(t?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";dialog(e,d+function(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(e),d,n,(function(r){r&&(r=c(r),dialog(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(e),e.phrase("Replace with:"),"",(function(text){if(text=l(text),t)y(e,r,text);else{v(e);var cursor=o(e,r,e.getCursor("from")),n=function(){var t,l=cursor.from();!(t=cursor.findNext())&&(cursor=o(e,r),!(t=cursor.findNext())||l&&cursor.from().line==l.line&&cursor.from().ch==l.ch)||(e.setSelection(cursor.from(),cursor.to()),e.scrollIntoView({from:cursor.from(),to:cursor.to()}),function(e,text,t,r){e.openConfirm?e.openConfirm(text,r):confirm(t)&&r[0]()}(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}(e),e.phrase("Replace?"),[function(){c(t)},n,function(){y(e,r,text)}]))},c=function(e){cursor.replace("string"==typeof r?text:text.replace(/\$(\d)/g,(function(t,i){return e[i]}))),n()};n()}})))}))}}e.commands.find=function(e){v(e),h(e)},e.commands.findPersistent=function(e){v(e),h(e,!1,!0)},e.commands.findPersistentNext=function(e){h(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){h(e,!0,!0,!0)},e.commands.findNext=h,e.commands.findPrev=function(e){h(e,!0)},e.commands.clearSearch=v,e.commands.replace=_,e.commands.replaceAll=function(e){_(e,!0)}}(r(35),r(260),r(261))},,,,,,,,,function(e,t,r){e.exports={default:r(410),__esModule:!0}},,,,,,function(e,t,r){e.exports={default:r(416),__esModule:!0}},,,,,,,,function(e,t,r){"use strict";var data=r(424);var n=RegExp(Object.keys(data).map((function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")})).join("|"),"g");function o(e){return data[e]}e.exports=function(e){return e.replace(n,o)}},function(e){e.exports=JSON.parse('{"0":"O","1":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","\\u2028":" ","\\u2029":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":"_","":"_","":"_","":"_","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-","":"-.","":"","":",","":",","":",","":",","":",","":"","":"","":";","":"","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":":","":"::=","":":","":"!","":"!","":"!","":"!!","":"!?","":"?","":"?","":"?","":"?","":"?","":"?!","":"??","":"","":".","":".","":".","":".","":".","":".","":".","":".","":".","":".,","":"..","":"..","":"...","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"<","":">","":">","":">","":"4","":"b","":"b","":"d","":"J","":"L","":"P","":"U","":"V","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","`":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'","":"\'\'","\\"":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'","":"\'\'\'","":"\'\'\'","":"\'\'\'\'","":"\'B","":"\'D","":"\'n","":"\'P","":"\'T","":"\'Y","":"(","":"(","":"(","":"(","":"(","":"((","":"()","":"(2)","":"(2O)","":"(3)","":"(4)","":"(5)","":"(6)","":"(7)","":"(8)","":"(9)","":"(a)","":"(A)","":"(b)","":"(B)","":"(c)","":"(C)","":"(d)","":"(D)","":"(e)","":"(E)","":"(f)","":"(F)","":"(g)","":"(G)","":"(h)","":"(H)","":"(i)","":"(j)","":"(J)","":"(k)","":"(K)","":"(l)","":"(l)","":"(l)","":"(L)","":"(l2)","":"(l3)","":"(l4)","":"(l5)","":"(l6)","":"(l7)","":"(l8)","":"(l9)","":"(ll)","":"(lO)","":"(M)","":"(n)","":"(N)","":"(o)","":"(O)","":"(p)","":"(P)","":"(q)","":"(Q)","":"(r)","":"(R)","":"(rn)","":"(s)","":"(S)","":"(S)","":"(t)","":"(T)","":"(u)","":"(U)","":"(v)","":"(V)","":"(w)","":"(W)","":"(x)","":"(X)","":"(y)","":"(Y)","":"(z)","":"(Z)","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":"()","":")","":")","":")","":")","":")","":"))","":"{","":"{","":"}","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"*","":"*","":"*","":"*","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"//","":"///","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\","":"\\\\\\\\","":"\\\\\\\\","":"\\\\","":"&","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"^","":"^","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"b","":"bi","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"C","":"F","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"+","":"","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<","":"<<","":"<<<","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"=","":"==","":"===","":"=","":">","":">","":">","":">","":">","":">","":">","":"><","":">>","":">>","":">>>","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"~","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"2","":"","":"","":"","":"","":"","":"","":"2","":"2,","":"2.","":"22","":"22","":"23","":"23","":"24","":"24","":"25","":"26","":"27","":"28","":"29","":"2l","":"2l","":"2O.","":"2O","":"2O","":"","":"","":"2","":"2","":"2","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"3","":"","":"","":"","":"","":"3","":"3,","":"3.","":"3l","":"3O","":"3","":"3","":"3","":"4","":"4","":"4","":"4","":"4","":"4","":"4","":"","":"","":"","":"4,","":"4.","":"4","":"4","":"4","":"4","":"5","":"5","":"5","":"5","":"5","":"5","":"5","":"","":"5,","":"5.","":"5","":"5","":"5","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"6","":"","":"","":"","":"6,","":"6.","":"6","":"6","":"6","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"7","":"","":"7,","":"7.","":"7","":"7","":"7","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"8","":"","":"","":"8,","":"8.","":"8","":"8","":"8","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"9","":"","":"","":"","":"","":"","":"9,","":"9.","":"9","":"9","":"9","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"","":"","":"","":"","":"","":"a/c","":"a/s","":"aa","":"AA","":"ae","":"ae","":"AE","":"AE","":"ao","":"AO","":"AR","":"au","":"AU","":"av","":"av","":"AV","":"AV","":"ay","":"AY","":"","":"","":"","":"","":"","":"","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b\'","":"bl","":"","":"","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"c","":"c","":"C","":"c","":"c","":"C","":"C","":"C\'","":"c/o","":"c/u","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"d","":"d","":"d","":"d","":"D","":"D","":"D","":"d","":"","":"d","":"d\'","":"d","":"dz","":"dz","":"Dz","":"DZ","":"d","":"D","":"D","":"d","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"","":"","":"e","":"E","":"e","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"f","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"F","":"f","":"F","":"f","":"FAX","":"ff","":"ffi","":"ffl","":"fi","":"fl","":"f","":"","":"","":"","":"","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"","":"g","":"","":"","":"","":"g","":"G","":"G\'","":"","":"","":"","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"","":"h","":"h","":"h","":"H","":"H","":"h","":"h","":"h","":"H","":"H","":"H","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"","":"i","":"","":"","":"i","":"i","":"i","":"ii","":"iii","":"ij","":"iv","":"ix","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"J","":"j","":"J","":"J","":"","":"","":"","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"k","":"K","":"K","":"K","":"K","":"K","":"K\'","":"l","|":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","I":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"L","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l,","":"l.","":"l\'","":"l2.","":"l2","":"l2","":"l2","":"l3.","":"l3","":"l3","":"l4.","":"l4","":"l4","":"l5.","":"l5","":"l5","":"l6.","":"l6","":"l6","":"l7.","":"l7","":"l7","":"l8.","":"l8","":"l8","":"l9.","":"l9","":"l9","":"lj","":"lJ","":"Lj","":"LJ","":"ll","":"ll","":"ll","":"ll","":"ll","":"ll","":"ll.","":"lll","":"llS","":"ll","":"ll","":"ll","":"lO","":"lO.","":"lO","":"lO","":"lO","":"ls","":"lt","":"lV","":"lX","":"l","":"lz","":"l","":"l","":"l","":"l","":"l","":"l","":"lo","":"l","":"l","":"l","":"","":"","":"","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"MB","":"","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"N","":"n","":"nj","":"Nj","":"NJ","":"No","":"","":"","":"","":"","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"","":"","":"","":"","":"o","":"","":"o","":"o","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"O,","":"O.","":"o\'","":"O\'","":"O\'","%":"/","":"/","":"/","":"/","":"/","":"/","":"/","":"oe","":"OE","":"o","":"oo","":"oo","":"oo","":"OO","":"OO","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oo","":"o","":"O","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"e","":"","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"p","":"p","":"p","":"P\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"Q","":"q","":"QE","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"r","":"r","":"r","":"r","":"r","":"r\'","":"rn","m":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"rn","":"Rs","":"","":"","":"","":"","":"","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"s","":"s","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"sss","":"st","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"t","":"T","":"T","":"","":"T","":"T","":"T","":"t","":"T","":"t","":"","":"T3","":"t","":"TEL","":"tf","":"ts","":"t","":"t","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"","":"","":"u","":"u","":"U","":"U","":"U","":"U\'","":"ue","":"uo","":"","":"","":"","":"","":"","":"","":"","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VB","":"vi","":"vii","":"viii","":"Vl","":"Vll","":"Vlll","":"V","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"w","":"w","":"W","":"w","":"","":"","":"","":"","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"x","":"","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"X","":"x","":"X","":"X","":"xi","":"xii","":"Xl","":"Xll","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"y","":"y","":"y","":"Y","":"Y","":"Y","":"","":"","":"","":"","":"","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"z","":"z","":"Z","":"z","":"Z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"i","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" lo","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":" lo o ","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"l","":"l","":"l","":"l","":"l","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"l","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"l","":"l","":"o","":"o","":"o","":"o","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\'","":"/","":"","":"","":"","":"","":"","":"\'","":"","":"","":"\'","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"<","":"b","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"b","":"b","":"d","":"P","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"J","":"","":"","":"","":"","":"","":"","":"","":"J","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}')},,,,,,,,function(e,t,r){e.exports={default:r(433),__esModule:!0}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(26)),o=y(r(29)),l=r(20),c=y(l),d=y(r(60)),h=y(r(277)),f=y(r(21)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(279)),m=y(r(22));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){var n=e.openCursor(t);return new c.default((function(e,t){var o=[];n.onerror=function(e){t(new Error("Query failed: "+e.target.errorCode))},n.onsuccess=function(t){var cursor=t.target.result;cursor?(o.push(r(cursor)),cursor.continue()):e(o)}}))}function w(e){return new c.default((function(t,r){e.oncomplete=function(e){t(e)},e.onerror=function(e){r(e.target.error)}}))}function k(e){return new c.default((function(t,r){e.onsuccess=function(e){t(e)},e.onerror=function(e){r(e.target.error)}}))}function S(e){return new c.default((function(t,r){e.onsuccess=function(){return t(e)},e.onerror=function(e){return r(e)}}))}function x(e){return k(e).then((function(e){return e.target.result}))}var O,T,E,C=function(e,t){this.indexedDB=e,this._dbName="matrix-js-sdk:"+(t||"default"),this.db=null,this._disconnected=!0,this._syncAccumulator=new h.default,this._isNewlyCreated=!1};C.exists=function(e,t){return t="matrix-js-sdk:"+(t||"default"),v.exists(e,t)},C.prototype={connect:function(){var e=this;if(!this._disconnected)return m.default.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),c.default.resolve();this._disconnected=!1,m.default.log("LocalIndexedDBStoreBackend.connect: connecting...");var t=this.indexedDB.open(this._dbName,3);return t.onupgradeneeded=function(t){var r=t.target.result,n=t.oldVersion;m.default.log("LocalIndexedDBStoreBackend.connect: upgrading from "+n),n<1&&(e._isNewlyCreated=!0,function(e){e.createObjectStore("users",{keyPath:["userId"]}),e.createObjectStore("accountData",{keyPath:["type"]}),e.createObjectStore("sync",{keyPath:["clobber"]})}(r)),n<2&&function(e){e.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")}(r),n<3&&function(e){e.createObjectStore("client_options",{keyPath:["clobber"]})}(r)},t.onblocked=function(){m.default.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},m.default.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),k(t).then((function(t){return m.default.log("LocalIndexedDBStoreBackend.connect: connected"),e.db=t.target.result,e.db.onversionchange=function(){e.db.close()},e._init()}))},isNewlyCreated:function(){return c.default.resolve(this._isNewlyCreated)},_init:function(){var e=this;return c.default.all([this._loadAccountData(),this._loadSyncData()]).then((function(t){var r=(0,d.default)(t,2),n=r[0],o=r[1];m.default.log("LocalIndexedDBStoreBackend: loaded initial data"),e._syncAccumulator.accumulate({next_batch:o.nextBatch,rooms:o.roomsData,groups:o.groupsData,account_data:{events:n}})}))},getOutOfBandMembers:function(e){var t=this;return new c.default((function(r,n){var o=t.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),l=IDBKeyRange.only(e),c=o.openCursor(l),d=[],h=!1;c.onsuccess=function(e){var cursor=e.target.result;if(!cursor)return d.length||h?r(d):r(null);var t=cursor.value;t.oob_written?h=!0:d.push(t),cursor.continue()},c.onerror=function(e){n(e)}})).then((function(t){return m.default.log("LL: got "+(t&&t.length)+" membershipEvents from storage for room "+e+" ..."),t}))},setOutOfBandMembers:(E=(0,l.coroutine)(o.default.mark((function e(t,r){var n,c,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.default.log("LL: backend about to store "+r.length+" members for "+t),n=this.db.transaction(["oob_membership_events"],"readwrite"),c=n.objectStore("oob_membership_events"),r.forEach((function(e){c.put(e)})),d={room_id:t,oob_written:!0,state_key:0},c.put(d),e.next=8,(0,l.resolve)(w(n));case 8:m.default.log("LL: backend done storing for "+t+"!");case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)}),clearOutOfBandMembers:(T=(0,l.coroutine)(o.default.mark((function e(t){var r,n,h,f,v,y,_,w,k,O,T,E,C;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.db.transaction(["oob_membership_events"],"readonly"),n=r.objectStore("oob_membership_events"),h=n.index("room"),f=IDBKeyRange.only(t),v=x(h.openKeyCursor(f,"next")).then((function(cursor){return cursor&&cursor.primaryKey[1]})),y=x(h.openKeyCursor(f,"prev")).then((function(cursor){return cursor&&cursor.primaryKey[1]})),e.next=8,(0,l.resolve)(c.default.all([v,y]));case 8:return _=e.sent,w=(0,d.default)(_,2),k=w[0],O=w[1],T=this.db.transaction(["oob_membership_events"],"readwrite"),E=T.objectStore("oob_membership_events"),C=IDBKeyRange.bound([t,k],[t,O]),m.default.log("LL: Deleting all users + marker in storage for room "+t+", with key range:",[t,k],[t,O]),e.next=18,(0,l.resolve)(S(E.delete(C)));case 18:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)}),clearDatabase:function(){var e=this;return new c.default((function(t,r){m.default.log("Removing indexeddb instance: "+e._dbName);var n=e.indexedDB.deleteDatabase(e._dbName);n.onblocked=function(){m.default.log("can't yet delete indexeddb "+e._dbName+" because it is open elsewhere")},n.onerror=function(e){m.default.warn("unable to delete js-sdk store indexeddb: "+e.target.error),t()},n.onsuccess=function(){m.default.log("Removed indexeddb instance: "+e._dbName),t()}}))},getSavedSync:function(e){void 0===e&&(e=!0);var data=this._syncAccumulator.getJSON();return data.nextBatch?e?c.default.resolve(f.default.deepCopy(data)):c.default.resolve(data):c.default.resolve(null)},getNextBatchToken:function(){return c.default.resolve(this._syncAccumulator.getNextBatchToken())},setSyncData:function(e){var t=this;return c.default.resolve().then((function(){t._syncAccumulator.accumulate(e)}))},syncToDatabase:function(e){var t=this._syncAccumulator.getJSON();return c.default.all([this._persistUserPresenceEvents(e),this._persistAccountData(t.accountData),this._persistSyncData(t.nextBatch,t.roomsData,t.groupsData)])},_persistSyncData:function(e,t,r){var n=this;return m.default.log("Persisting sync data up to ",e),c.default.try((function(){var o=n.db.transaction(["sync"],"readwrite");return o.objectStore("sync").put({clobber:"-",nextBatch:e,roomsData:t,groupsData:r}),w(o)}))},_persistAccountData:function(e){var t=this;return c.default.try((function(){for(var r=t.db.transaction(["accountData"],"readwrite"),n=r.objectStore("accountData"),i=0;i<e.length;i++)n.put(e[i]);return w(r)}))},_persistUserPresenceEvents:function(e){var t=this;return c.default.try((function(){var r=t.db.transaction(["users"],"readwrite"),o=r.objectStore("users"),l=!0,c=!1,d=void 0;try{for(var h,f=(0,n.default)(e);!(l=(h=f.next()).done);l=!0){var v=h.value;o.put({userId:v[0],event:v[1]})}}catch(e){c=!0,d=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}return w(r)}))},getUserPresenceEvents:function(){var e=this;return c.default.try((function(){return _(e.db.transaction(["users"],"readonly").objectStore("users"),void 0,(function(cursor){return[cursor.value.userId,cursor.value.event]}))}))},_loadAccountData:function(){var e=this;return m.default.log("LocalIndexedDBStoreBackend: loading account data..."),c.default.try((function(){return _(e.db.transaction(["accountData"],"readonly").objectStore("accountData"),void 0,(function(cursor){return cursor.value})).then((function(e){return m.default.log("LocalIndexedDBStoreBackend: loaded account data"),e}))}))},_loadSyncData:function(){var e=this;return m.default.log("LocalIndexedDBStoreBackend: loading sync data..."),c.default.try((function(){return _(e.db.transaction(["sync"],"readonly").objectStore("sync"),void 0,(function(cursor){return cursor.value})).then((function(e){return m.default.log("LocalIndexedDBStoreBackend: loaded sync data"),e.length>1&&m.default.warn("loadSyncData: More than 1 sync row found."),e.length>0?e[0]:{}}))}))},getClientOptions:function(){var e=this;return c.default.resolve().then((function(){return _(e.db.transaction(["client_options"],"readonly").objectStore("client_options"),void 0,(function(cursor){if(cursor.value&&cursor.value&&cursor.value.options)return cursor.value.options})).then((function(e){return e[0]}))}))},storeClientOptions:(O=(0,l.coroutine)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.db.transaction(["client_options"],"readwrite")).objectStore("client_options").put({clobber:"-",options:t}),e.next=5,(0,l.resolve)(w(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},t.default=C},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(20)),o=c(r(22)),l=r(21);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t,r){this._workerScript=e,this._dbName=t,this._workerApi=r,this._worker=null,this._nextSeq=0,this._inFlight={},this._startPromise=null};d.prototype={connect:function(){var e=this;return this._ensureStarted().then((function(){return e._doCmd("connect")}))},clearDatabase:function(){var e=this;return this._ensureStarted().then((function(){return e._doCmd("clearDatabase")}))},isNewlyCreated:function(){return this._doCmd("isNewlyCreated")},getSavedSync:function(){return this._doCmd("getSavedSync")},getNextBatchToken:function(){return this._doCmd("getNextBatchToken")},setSyncData:function(e){return this._doCmd("setSyncData",[e])},syncToDatabase:function(e){return this._doCmd("syncToDatabase",[e])},getOutOfBandMembers:function(e){return this._doCmd("getOutOfBandMembers",[e])},setOutOfBandMembers:function(e,t){return this._doCmd("setOutOfBandMembers",[e,t])},clearOutOfBandMembers:function(e){return this._doCmd("clearOutOfBandMembers",[e])},getClientOptions:function(){return this._doCmd("getClientOptions")},storeClientOptions:function(e){return this._doCmd("storeClientOptions",[e])},getUserPresenceEvents:function(){return this._doCmd("getUserPresenceEvents")},_ensureStarted:function(){return null===this._startPromise&&(this._worker=new this._workerApi(this._workerScript),this._worker.onmessage=this._onWorkerMessage.bind(this),this._startPromise=this._doCmd("_setupWorker",[this._dbName]).then((function(){o.default.log("IndexedDB worker is ready")}))),this._startPromise},_doCmd:function(e,t){var r=this;return n.default.resolve().then((function(){var n=r._nextSeq++,o=(0,l.defer)();return r._inFlight[n]=o,r._worker.postMessage({command:e,seq:n,args:t}),o.promise}))},_onWorkerMessage:function(e){var t=e.data;if("cmd_success"==t.command||"cmd_fail"==t.command){if(void 0===t.seq)return void o.default.error("Got reply from worker with no seq");var r=this._inFlight[t.seq];if(void 0===r)return void o.default.error("Got reply for unknown seq "+t.seq);if(delete this._inFlight[t.seq],"cmd_success"==t.command)r.resolve(t.result);else{var n=new Error(t.error.message);n.name=t.error.name,r.reject(n)}}else o.default.warn("Unrecognised message from worker: "+t)}},t.default=d},function(e,t,r){"use strict";var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,o=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,l=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,c=/\\([\u000b\u0020-\u00ff])/g,d=/([\\"])/g,h=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function f(e){var t=String(e);if(l.test(t))return t;if(t.length>0&&!o.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(d,"\\$1")+'"'}function v(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,r=e.type;if(!r||!h.test(r))throw new TypeError("invalid type");var n=r;if(t&&"object"==typeof t)for(var param,o=Object.keys(t).sort(),i=0;i<o.length;i++){if(param=o[i],!l.test(param))throw new TypeError("invalid parameter name");n+="; "+param+"="+f(t[param])}return n},t.parse=function(e){if(!e)throw new TypeError("argument string is required");var header="object"==typeof e?function(e){var header;"function"==typeof e.getHeader?header=e.getHeader("content-type"):"object"==typeof e.headers&&(header=e.headers&&e.headers["content-type"]);if("string"!=typeof header)throw new TypeError("content-type header is missing from object");return header}(e):e;if("string"!=typeof header)throw new TypeError("argument string is required to be a string");var t=header.indexOf(";"),r=-1!==t?header.substr(0,t).trim():header.trim();if(!h.test(r))throw new TypeError("invalid media type");var o=new v(r.toLowerCase());if(-1!==t){var l,d,f;for(n.lastIndex=t;d=n.exec(header);){if(d.index!==t)throw new TypeError("invalid parameter format");t+=d[0].length,l=d[1].toLowerCase(),'"'===(f=d[2])[0]&&(f=f.substr(1,f.length-2).replace(c,"$1")),o.parameters[l]=f}if(t!==header.length)throw new TypeError("invalid parameter format")}return o}},function(e,t,r){"use strict";(function(t){var n,o=r(22),l=(n=o)&&n.__esModule?n:{default:n};var c=0,d=void 0,h=[];e.exports.setNow=function(e){f=e||Date.now};var f=Date.now;function v(){d&&t.clearTimeout(d);var e=h[0];if(e){var r=f(),n=Math.min(e.runAt-r,1e3);d=t.setTimeout(m,n)}}function m(){for(var e=void 0,r=f(),n=[];;){var o=h[0];if(!o||o.runAt>r)break;(e=h.shift()).key,n.push(e)}v();for(var i=0;i<n.length;i++){e=n[i];try{e.func.apply(t,e.params)}catch(e){l.default.error("Uncaught exception in callback function",e.stack||e)}}}function y(e,t){for(var r=0,n=e.length;r<n;){var o=r+n>>1;t(e[o])>0?n=o:r=o+1}return r}e.exports.setTimeout=function(e,t){(t=t||0)<0&&(t=0);var r=Array.prototype.slice.call(arguments,2),n=f()+t,o=c++,data={runAt:n,func:e,params:r,key:o},l=y(h,(function(e){return e.runAt-n}));return h.splice(l,0,data),v(),o},e.exports.clearTimeout=function(e){if(0!==h.length){var i=void 0;for(i=0;i<h.length;i++){if(h[i].key==e){h.splice(i,1);break}}0===i&&v()}}}).call(this,r(24))},function(e,t,r){e.exports={default:r(444),__esModule:!0}},,,function(e,t,r){e.exports={default:r(447),__esModule:!0}},,,function(e,t,r){e.exports={default:r(450),__esModule:!0}},,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(29)),o=r(20),l=h(r(42)),c=h(r(47)),d=h(r(132));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,l.default)(this,e),this._cryptoStore=t,this._roomEncryption={}}var t,r;return(0,c.default)(e,[{key:"init",value:(r=(0,o.coroutine)(n.default.mark((function e(){var t=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.resolve)(this._cryptoStore.doTxn("readwrite",[d.default.STORE_ROOMS],(function(e){t._cryptoStore.getEndToEndRooms(e,(function(e){t._roomEncryption=e}))})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRoomEncryption",value:function(e){return this._roomEncryption[e]||null}},{key:"isRoomEncrypted",value:function(e){return Boolean(this.getRoomEncryption(e))}},{key:"setRoomEncryption",value:(t=(0,o.coroutine)(n.default.mark((function e(t,r){var l=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._roomEncryption[t]=r,e.next=3,(0,o.resolve)(this._cryptoStore.doTxn("readwrite",[d.default.STORE_ROOMS],(function(e){l._cryptoStore.storeEndToEndRoom(t,r,e)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(r(65)),o=x(r(38)),l=x(r(161)),c=x(r(60)),d=x(r(108)),h=x(r(26)),f=x(r(72)),v=x(r(42)),m=x(r(47)),y=x(r(73)),_=x(r(74)),w=x(r(20)),k=x(r(22)),S=x(r(212));function x(e){return e&&e.__esModule?e:{default:e}}function O(e){return"crypto.sessions/"+e}function T(e,t){return"crypto.inboundgroupsessions/"+e+"/"+t}function E(e){return"crypto.rooms/"+e}var C=function(e){function t(e){(0,v.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return r.store=e,r}return(0,_.default)(t,e),(0,m.default)(t,[{key:"countEndToEndSessions",value:function(e,t){for(var r=0,i=0;i<this.store.length;++i)this.store.key(i).startsWith(O(""))&&++r;t(r)}},{key:"_getEndToEndSessions",value:function(e,t,r){var n=I(this.store,O(e)),o={},l=!0,f=!1,v=void 0;try{for(var m,y=(0,h.default)((0,d.default)(n||{}));!(l=(m=y.next()).done);l=!0){var _=(0,c.default)(m.value,2),w=_[0],k=_[1];o[w]="string"==typeof k?{session:k}:k}}catch(e){f=!0,v=e}finally{try{!l&&y.return&&y.return()}finally{if(f)throw v}}return o}},{key:"getEndToEndSession",value:function(e,t,r,n){n(this._getEndToEndSessions(e)[t]||{})}},{key:"getEndToEndSessions",value:function(e,t,r){r(this._getEndToEndSessions(e)||{})}},{key:"getAllEndToEndSessions",value:function(e,t){for(var i=0;i<this.store.length;++i)if(this.store.key(i).startsWith(O(""))){var r=this.store.key(i).split("/")[1],n=!0,o=!1,c=void 0;try{for(var d,f=(0,h.default)((0,l.default)(this._getEndToEndSessions(r)));!(n=(d=f.next()).done);n=!0){t(d.value)}}catch(e){o=!0,c=e}finally{try{!n&&f.return&&f.return()}finally{if(o)throw c}}}}},{key:"storeEndToEndSession",value:function(e,t,r,n){var o=this._getEndToEndSessions(e)||{};o[t]=r,j(this.store,O(e),o)}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){n(I(this.store,T(e,t)))}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){for(var i=0;i<this.store.length;++i){var r=this.store.key(i);r.startsWith("crypto.inboundgroupsessions/")&&t({senderKey:r.substr("crypto.inboundgroupsessions/".length,43),sessionId:r.substr("crypto.inboundgroupsessions/".length+44),sessionData:I(this.store,r)})}t(null)}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){I(this.store,T(e,t))||this.storeEndToEndInboundGroupSession(e,t,r,n)}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){j(this.store,T(e,t),r)}},{key:"getEndToEndDeviceData",value:function(e,t){t(I(this.store,"crypto.device_data"))}},{key:"storeEndToEndDeviceData",value:function(e,t){j(this.store,"crypto.device_data",e)}},{key:"storeEndToEndRoom",value:function(e,t,r){j(this.store,E(e),t)}},{key:"getEndToEndRooms",value:function(e,t){for(var r={},n=E(""),i=0;i<this.store.length;++i){var o=this.store.key(i);if(o.startsWith(n))r[o.substr(n.length)]=I(this.store,o)}t(r)}},{key:"getSessionsNeedingBackup",value:function(e){var t=this,r=I(this.store,"crypto.sessionsneedingbackup")||{},n=[];for(var o in r){if(Object.prototype.hasOwnProperty.call(r,o))if("break"===function(){var r=o.substr(0,43),l=o.substr(44);if(t.getEndToEndInboundGroupSession(r,l,null,(function(e){n.push({senderKey:r,sessionId:l,sessionData:e})})),e&&o.length>=e)return"break"}())break}return w.default.resolve(n)}},{key:"countSessionsNeedingBackup",value:function(){var e=I(this.store,"crypto.sessionsneedingbackup")||{};return w.default.resolve((0,o.default)(e).length)}},{key:"unmarkSessionsNeedingBackup",value:function(e){var t=I(this.store,"crypto.sessionsneedingbackup")||{},r=!0,n=!1,o=void 0;try{for(var l,c=(0,h.default)(e);!(r=(l=c.next()).done);r=!0){var d=l.value;delete t[d.senderKey+"/"+d.sessionId]}}catch(e){n=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw o}}return j(this.store,"crypto.sessionsneedingbackup",t),w.default.resolve()}},{key:"markSessionsNeedingBackup",value:function(e){var t=I(this.store,"crypto.sessionsneedingbackup")||{},r=!0,n=!1,o=void 0;try{for(var l,c=(0,h.default)(e);!(r=(l=c.next()).done);r=!0){var d=l.value;t[d.senderKey+"/"+d.sessionId]=!0}}catch(e){n=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw o}}return j(this.store,"crypto.sessionsneedingbackup",t),w.default.resolve()}},{key:"deleteAllData",value:function(){return this.store.removeItem("crypto.account"),w.default.resolve()}},{key:"getAccount",value:function(e,t){t(I(this.store,"crypto.account"))}},{key:"storeAccount",value:function(e,t){j(this.store,"crypto.account",t)}},{key:"getCrossSigningKeys",value:function(e,t){t(I(this.store,"crypto.cross_signing_keys"))}},{key:"storeCrossSigningKeys",value:function(e,t){j(this.store,"crypto.cross_signing_keys",t)}},{key:"doTxn",value:function(e,t,r){return w.default.resolve(r(null))}}],[{key:"exists",value:function(e){for(var t=e.length,i=0;i<t;i++)if(e.key(i).startsWith("crypto."))return!0;return!1}}]),t}(S.default);function I(e,t){try{return JSON.parse(e.getItem(t))}catch(e){k.default.log("Error: Failed to get key %s: %s",t,e.stack||e),k.default.log(e.stack)}return null}function j(e,t,r){e.setItem(t,(0,n.default)(r))}t.default=C},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Backend=t.VERSION=void 0;var n=f(r(66)),o=f(r(42)),l=f(r(47));t.upgradeDatabase=function(e,t){d.default.log("Upgrading IndexedDBCryptoStore from version "+t+" to "+v),t<1&&function(e){var t=e.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});t.createIndex("session",["requestBody.room_id","requestBody.session_id"]),t.createIndex("state","state")}(e);t<2&&e.createObjectStore("account");if(t<3){e.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey")}t<4&&e.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]});t<5&&e.createObjectStore("device_data");t<6&&e.createObjectStore("rooms");t<7&&e.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]})};var c=f(r(20)),d=f(r(22)),h=f(r(21));function f(e){return e&&e.__esModule?e:{default:e}}var v=t.VERSION=7;t.Backend=function(){function e(t){var r=this;(0,o.default)(this,e),this._db=t,t.onversionchange=function(e){d.default.log("versionchange for indexeddb "+r._dbName+": closing"),t.close()}}return(0,l.default)(e,[{key:"getOrAddOutgoingRoomKeyRequest",value:function(e){var t=this,r=e.requestBody;return new c.default((function(n,o){var l=t._db.transaction("outgoingRoomKeyRequests","readwrite");l.onerror=o,t._getOutgoingRoomKeyRequest(l,r,(function(t){if(t)return d.default.log("already have key request outstanding for "+r.room_id+" / "+r.session_id+": not sending another"),void n(t);d.default.log("enqueueing key request for "+r.room_id+" / "+r.session_id),l.oncomplete=function(){n(e)},l.objectStore("outgoingRoomKeyRequests").add(e)}))}))}},{key:"getOutgoingRoomKeyRequest",value:function(e){var t=this;return new c.default((function(r,n){var o=t._db.transaction("outgoingRoomKeyRequests","readonly");o.onerror=n,t._getOutgoingRoomKeyRequest(o,e,(function(e){r(e)}))}))}},{key:"_getOutgoingRoomKeyRequest",value:function(e,t,r){e.objectStore("outgoingRoomKeyRequests").index("session").openCursor([t.room_id,t.session_id]).onsuccess=function(e){var cursor=e.target.result;if(cursor){var n=cursor.value;h.default.deepCompare(n.requestBody,t)?r(n):cursor.continue()}else r(null)}}},{key:"getOutgoingRoomKeyRequestByState",value:function(e){if(0===e.length)return c.default.resolve(null);var t=0,r=void 0;var n=this._db.transaction("outgoingRoomKeyRequests","readonly"),o=n.objectStore("outgoingRoomKeyRequests"),l=e[t];return o.index("state").openCursor(l).onsuccess=function n(o){var cursor=o.target.result;if(cursor)r=cursor.value;else if(!(++t>=e.length)){var l=e[t];o.target.source.openCursor(l).onsuccess=n}},y(n).then((function(){return r}))}},{key:"getOutgoingRoomKeyRequestsByTarget",value:function(e,t,r){var n=0,o=[];var l=this._db.transaction("outgoingRoomKeyRequests","readonly"),c=l.objectStore("outgoingRoomKeyRequests"),d=r[n];return c.index("state").openCursor(d).onsuccess=function l(c){var cursor=c.target.result;if(cursor){var d=cursor.value;d.recipients.includes({userId:e,deviceId:t})&&o.push(d),cursor.continue()}else{if(++n>=r.length)return;var h=r[n];c.target.source.openCursor(h).onsuccess=l}},y(l).then((function(){return o}))}},{key:"updateOutgoingRoomKeyRequest",value:function(e,t,r){var o=null;var l=this._db.transaction("outgoingRoomKeyRequests","readwrite");return l.objectStore("outgoingRoomKeyRequests").openCursor(e).onsuccess=function(e){var cursor=e.target.result;if(cursor){var data=cursor.value;data.state==t?((0,n.default)(data,r),cursor.update(data),o=data):d.default.warn("Cannot update room key request from "+t+" as it was already updated to "+data.state)}},y(l).then((function(){return o}))}},{key:"deleteOutgoingRoomKeyRequest",value:function(e,t){var r=this._db.transaction("outgoingRoomKeyRequests","readwrite");return r.objectStore("outgoingRoomKeyRequests").openCursor(e).onsuccess=function(e){var cursor=e.target.result;if(cursor){var data=cursor.value;data.state==t?cursor.delete():d.default.warn("Cannot delete room key request in state "+data.state+" (expected "+t+")")}},y(r)}},{key:"getAccount",value:function(e,t){var r=e.objectStore("account").get("-");r.onsuccess=function(){try{t(r.result||null)}catch(t){m(e,t)}}}},{key:"storeAccount",value:function(e,t){e.objectStore("account").put(t,"-")}},{key:"getCrossSigningKeys",value:function(e,t){var r=e.objectStore("account").get("crossSigningKeys");r.onsuccess=function(){try{t(r.result||null)}catch(t){m(e,t)}}}},{key:"storeCrossSigningKeys",value:function(e,t){e.objectStore("account").put(t,"crossSigningKeys")}},{key:"countEndToEndSessions",value:function(e,t){var r=e.objectStore("sessions").count();r.onsuccess=function(){t(r.result)}}},{key:"getEndToEndSessions",value:function(e,t,r){var n=t.objectStore("sessions").index("deviceKey").openCursor(e),o={};n.onsuccess=function(){var cursor=n.result;if(cursor)o[cursor.value.sessionId]={session:cursor.value.session,lastReceivedMessageTs:cursor.value.lastReceivedMessageTs},cursor.continue();else try{r(o)}catch(e){m(t,e)}}}},{key:"getEndToEndSession",value:function(e,t,r,n){var o=r.objectStore("sessions").get([e,t]);o.onsuccess=function(){try{o.result?n({session:o.result.session,lastReceivedMessageTs:o.result.lastReceivedMessageTs}):n(null)}catch(e){m(r,e)}}}},{key:"getAllEndToEndSessions",value:function(e,t){var r=e.objectStore("sessions").openCursor();r.onsuccess=function(){var cursor=r.result;if(cursor)t(cursor.value),cursor.continue();else try{t(null)}catch(t){m(e,t)}}}},{key:"storeEndToEndSession",value:function(e,t,r,n){n.objectStore("sessions").put({deviceKey:e,sessionId:t,session:r.session,lastReceivedMessageTs:r.lastReceivedMessageTs})}},{key:"getEndToEndInboundGroupSession",value:function(e,t,r,n){var o=r.objectStore("inbound_group_sessions").get([e,t]);o.onsuccess=function(){try{o.result?n(o.result.session):n(null)}catch(e){m(r,e)}}}},{key:"getAllEndToEndInboundGroupSessions",value:function(e,t){var r=e.objectStore("inbound_group_sessions").openCursor();r.onsuccess=function(){var cursor=r.result;if(cursor){try{t({senderKey:cursor.value.senderCurve25519Key,sessionId:cursor.value.sessionId,sessionData:cursor.value.session})}catch(t){m(e,t)}cursor.continue()}else try{t(null)}catch(t){m(e,t)}}}},{key:"addEndToEndInboundGroupSession",value:function(e,t,r,n){var o=n.objectStore("inbound_group_sessions").add({senderCurve25519Key:e,sessionId:t,session:r});o.onerror=function(r){"ConstraintError"===o.error.name?(r.stopPropagation(),r.preventDefault(),d.default.log("Ignoring duplicate inbound group session: "+e+" / "+t)):m(n,new Error("Failed to add inbound group session: "+o.error))}}},{key:"storeEndToEndInboundGroupSession",value:function(e,t,r,n){n.objectStore("inbound_group_sessions").put({senderCurve25519Key:e,sessionId:t,session:r})}},{key:"getEndToEndDeviceData",value:function(e,t){var r=e.objectStore("device_data").get("-");r.onsuccess=function(){try{t(r.result||null)}catch(t){m(e,t)}}}},{key:"storeEndToEndDeviceData",value:function(e,t){t.objectStore("device_data").put(e,"-")}},{key:"storeEndToEndRoom",value:function(e,t,r){r.objectStore("rooms").put(t,e)}},{key:"getEndToEndRooms",value:function(e,t){var r={},n=e.objectStore("rooms").openCursor();n.onsuccess=function(){var cursor=n.result;if(cursor)r[cursor.key]=cursor.value,cursor.continue();else try{t(r)}catch(t){m(e,t)}}}},{key:"getSessionsNeedingBackup",value:function(e){var t=this;return new c.default((function(r,n){var o=[],l=t._db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");l.onerror=n,l.oncomplete=function(){r(o)};var c=l.objectStore("sessions_needing_backup"),d=l.objectStore("inbound_group_sessions"),h=c.openCursor();h.onsuccess=function(){var cursor=h.result;if(cursor){var t=d.get(cursor.key);t.onsuccess=function(){o.push({senderKey:t.result.senderCurve25519Key,sessionId:t.result.sessionId,sessionData:t.result.session})},(!e||o.length<e)&&cursor.continue()}}}))}},{key:"countSessionsNeedingBackup",value:function(e){e||(e=this._db.transaction("sessions_needing_backup","readonly"));var t=e.objectStore("sessions_needing_backup");return new c.default((function(e,r){var n=t.count();n.onerror=r,n.onsuccess=function(){return e(n.result)}}))}},{key:"unmarkSessionsNeedingBackup",value:function(e,t){t||(t=this._db.transaction("sessions_needing_backup","readwrite"));var r=t.objectStore("sessions_needing_backup");return c.default.all(e.map((function(e){return new c.default((function(t,n){var o=r.delete([e.senderKey,e.sessionId]);o.onsuccess=t,o.onerror=n}))})))}},{key:"markSessionsNeedingBackup",value:function(e,t){t||(t=this._db.transaction("sessions_needing_backup","readwrite"));var r=t.objectStore("sessions_needing_backup");return c.default.all(e.map((function(e){return new c.default((function(t,n){var o=r.put({senderCurve25519Key:e.senderKey,sessionId:e.sessionId});o.onsuccess=t,o.onerror=n}))})))}},{key:"doTxn",value:function(e,t,r){var n=this._db.transaction(t,e),o=y(n),l=r(n);return o.then((function(){return l}))}}]),e}();function m(e,t){e._mx_abortexception=t;try{e.abort()}catch(t){}}function y(e){return new c.default((function(t,r){e.oncomplete=function(){void 0!==e._mx_abortexception&&r(e._mx_abortexception),t()},e.onerror=function(t){void 0!==e._mx_abortexception?r(e._mx_abortexception):(d.default.log("Error performing indexeddb txn",t),r(t.target.error))},e.onabort=function(t){void 0!==e._mx_abortexception?r(e._mx_abortexception):(d.default.log("Error performing indexeddb txn",t),r(t.target.error))}}))}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.verificationMethods=void 0;var n,o,l=F(r(42)),c=F(r(130)),d=r(20),h=F(d),f=F(r(65)),v=F(r(213)),m=F(r(66)),y=F(r(60)),_=F(r(108)),w=F(r(38)),k=F(r(29)),S=F(r(26)),x=F(r(476)),O=F(r(133)),T=(o=(0,d.coroutine)(k.default.mark((function e(t){var r,n,o,l,c,f;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(t._olmDevice.getOneTimeKeys());case 2:for(l in r=e.sent,n={},o=[],r.curve25519)r.curve25519.hasOwnProperty(l)&&(c={key:r.curve25519[l]},n["signed_curve25519:"+l]=c,o.push(t._signObject(c)));return e.next=8,(0,d.resolve)(h.default.all(o));case 8:return e.next=10,(0,d.resolve)(t._baseApis.uploadKeysRequest({one_time_keys:n},{device_id:t._deviceId}));case 10:return f=e.sent,e.next=13,(0,d.resolve)(t._olmDevice.markKeysAsPublished());case 13:return e.abrupt("return",f);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)});t.isCryptoAvailable=function(){return Boolean(e.Olm)},t.default=we;var E=r(49),C=F(r(211)),I=F(r(22)),j=r(162),M=r(292),R=F(r(482)),A=F(r(495)),P=F(r(132)),B=r(496),D=F(r(497)),L=r(164),z=r(21);function F(e){return e&&e.__esModule?e:{default:e}}var N=r(214),V=r(21),H=r(498),$=r(99),U=r(499),K=r(163),G=K.DeviceVerification,W=r(502).default,Y=(n={},(0,O.default)(n,B.ScanQRCode.NAME,B.ScanQRCode),(0,O.default)(n,B.ShowQRCode.NAME,B.ShowQRCode),(0,O.default)(n,D.default.NAME,D.default),n);t.verificationMethods={QR_CODE_SCAN:B.ScanQRCode.NAME,QR_CODE_SHOW:B.ShowQRCode.NAME,SAS:D.default.NAME};function X(e,t,r){var n=!1;t&&(n=e.isRoomEncrypted(t)),n&&e.on("Event.decrypted",r),e.on("event",r);var o=!0;return function(){return o&&(n&&e.off("Event.decrypted",r),e.off("event",r),o=!1),null}}var Q,J,Z,ee,te,re,ne,oe,ie,ae,se,le,ce,ue,de,he,fe,pe,ve,me,ge,be,ye,_e;function we(e,t,r,n,o,l,c,d){if(this._onDeviceListUserCrossSigningUpdated=this._onDeviceListUserCrossSigningUpdated.bind(this),this._reEmitter=new C.default(this),this._baseApis=e,this._sessionStore=t,this._userId=r,this._deviceId=n,this._clientStore=o,this._cryptoStore=l,this._roomList=c,this._verificationMethods=new x.default,d){var h=!0,f=!1,v=void 0;try{for(var m,y=(0,S.default)(d);!(h=(m=y.next()).done);h=!0){var _=m.value;"string"==typeof _?Y[_]&&this._verificationMethods.set(_,Y[_]):_.NAME&&this._verificationMethods.set(_.NAME,_)}}catch(e){f=!0,v=e}finally{try{!h&&y.return&&y.return()}finally{if(f)throw v}}}this.backupInfo=null,this.backupKey=null,this._checkedForBackup=!1,this._sendingBackups=!1,this._olmDevice=new H(l),this._deviceList=new W(e,l,this._olmDevice),this._deviceList.on("userCrossSigningUpdated",this._onDeviceListUserCrossSigningUpdated),this._reEmitter.reEmit(this._deviceList,["crypto.devicesUpdated"]),this._lastOneTimeKeyCheck=null,this._oneTimeKeyCheckInProgress=!1,this._roomEncryptors={},this._roomDecryptors={},this._supportedAlgorithms=V.keys(U.DECRYPTION_CLASSES),this._deviceKeys={},this._globalBlacklistUnverifiedDevices=!1,this._outgoingRoomKeyRequestManager=new A.default(e,this._deviceId,this._cryptoStore),this._receivedRoomKeyRequests=[],this._receivedRoomKeyRequestCancellations=[],this._processingRoomKeyRequests=!1,this._lazyLoadMembers=!1,this._roomDeviceTrackingState={},this._lastNewSessionForced={},this._verificationTransactions=new x.default,this._crossSigningInfo=new M.CrossSigningInfo(r,this._baseApis._cryptoCallbacks),this._secretStorage=new R.default(e,this._baseApis._cryptoCallbacks,this._crossSigningInfo)}function ke(e){if(!e._oneTimeKeyCheckInProgress){var t=Date.now();if(!(null!==e._lastOneTimeKeyCheck&&t-e._lastOneTimeKeyCheck<6e4)){e._lastOneTimeKeyCheck=t;var r=e._olmDevice.maxNumberOfOneTimeKeys(),n=Math.floor(r/2);e._oneTimeKeyCheckInProgress=!0,h.default.resolve().then((function(){return void 0!==e._oneTimeKeyCount?h.default.resolve(e._oneTimeKeyCount):e._baseApis.uploadKeysRequest({},{device_id:e._deviceId}).then((function(e){return e.one_time_key_counts.signed_curve25519||0}))})).then((function(t){return function t(r){if(n<=r)return h.default.resolve();var o=Math.min(n-r,5);return e._olmDevice.generateOneTimeKeys(o).then((function(){return T(e)})).then((function(e){if(e.one_time_key_counts&&e.one_time_key_counts.signed_curve25519)return t(e.one_time_key_counts.signed_curve25519);throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519")}))}(t)})).catch((function(e){I.default.error("Error uploading one-time keys",e.stack||e)})).finally((function(){e._oneTimeKeyCount=void 0,e._oneTimeKeyCheckInProgress=!1})).done()}}}function Se(e,t,r,n){return function(o){if(o.getRoomId()===r&&o.getSender()===t&&"m.room.encrypted"!==o.getType()){var l=o.getRelation();l&&l.rel_type&&"m.reference"===l.rel_type&&l.event_id&&l.event_id===n&&e.handleEvent(o)}}}V.inherits(we,E.EventEmitter),we.prototype.init=(0,d.coroutine)(k.default.mark((function t(){var r,n,o=this;return k.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I.default.log("Crypto: initialising Olm..."),t.next=3,(0,d.resolve)(e.Olm.init());case 3:return I.default.log("Crypto: initialising Olm device..."),t.next=6,(0,d.resolve)(this._olmDevice.init());case 6:return I.default.log("Crypto: loading device list..."),t.next=9,(0,d.resolve)(this._deviceList.load());case 9:return this._deviceKeys["ed25519:"+this._deviceId]=this._olmDevice.deviceEd25519Key,this._deviceKeys["curve25519:"+this._deviceId]=this._olmDevice.deviceCurve25519Key,I.default.log("Crypto: fetching own devices..."),(r=this._deviceList.getRawStoredDevicesForUser(this._userId))||(r={}),r[this._deviceId]||(I.default.log("Crypto: adding this device to the store..."),n={keys:this._deviceKeys,algorithms:this._supportedAlgorithms,verified:G.VERIFIED,known:!0},r[this._deviceId]=n,this._deviceList.storeDevicesForUser(this._userId,r),this._deviceList.saveIfDirty()),t.next=17,(0,d.resolve)(this._cryptoStore.doTxn("readonly",[P.default.STORE_ACCOUNT],(function(e){o._cryptoStore.getCrossSigningKeys(e,(function(e){e&&o._crossSigningInfo.setKeys(e)}))})));case 17:this._deviceList.startTrackingDeviceList(this._userId),I.default.log("Crypto: checking for key backup..."),this._checkAndStartKeyBackup();case 20:case"end":return t.stop()}}),t,this)}))),we.prototype.addSecretKey=function(e,t,r){return this._secretStorage.addKey(e,t,r)},we.prototype.storeSecret=function(e,t,r){return this._secretStorage.store(e,t,r)},we.prototype.getSecret=function(e){return this._secretStorage.get(e)},we.prototype.isSecretStored=function(e,t){return this._secretStorage.isStored(e,t)},we.prototype.requestSecret=function(e,t){return t||(t=(0,w.default)(this._deviceList.getRawStoredDevicesForUser(this._userId))),this._secretStorage.request(e,t)},we.prototype.getDefaultSecretStorageKeyId=function(){return this._secretStorage.getDefaultKeyId()},we.prototype.setDefaultSecretStorageKeyId=function(e){return this._secretStorage.setDefaultKeyId(e)},we.prototype.checkPrivateKey=function(t,r){var n=null;try{return(n=new e.Olm.PkSigning).init_with_seed(t)===r}finally{n&&n.free()}},we.prototype.doesCrossSigningHaveKeys=function(){return this._crossSigningInfo.hasKeys()},we.prototype.resetCrossSigningKeys=(Q=(0,d.coroutine)(k.default.mark((function e(t,r){var n,o,l,c,h,f,v,m,x,T,E,C,j,R,A,B,D,L,z,F,N,V,H,$,U,K,G,W,Y,X=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(this._crossSigningInfo.resetKeys(r));case 2:return e.next=4,(0,d.resolve)(this._signObject(this._crossSigningInfo.keys.master));case 4:return e.next=6,(0,d.resolve)(this._cryptoStore.doTxn("readwrite",[P.default.STORE_ACCOUNT],(function(e){X._cryptoStore.storeCrossSigningKeys(e,X._crossSigningInfo.keys)})));case 6:for(n={},o=!0,l=!1,c=void 0,e.prev=10,h=(0,S.default)((0,_.default)(this._crossSigningInfo.keys));!(o=(f=h.next()).done);o=!0)v=(0,y.default)(f.value,2),m=v[0],x=v[1],n[m+"_key"]=x;e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),l=!0,c=e.t0;case 18:e.prev=18,e.prev=19,!o&&h.return&&h.return();case 21:if(e.prev=21,!l){e.next=24;break}throw c;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.next=28,(0,d.resolve)(this._baseApis.uploadDeviceSigningKeys(t||{},n));case 28:return this._baseApis.emit("crossSigning.keysChanged",{}),T=this._deviceList.getStoredDevice(this._userId,this._deviceId),e.next=32,(0,d.resolve)(this._crossSigningInfo.signDevice(this._userId,T));case 32:return E=e.sent,e.next=35,(0,d.resolve)(this._baseApis.uploadKeySignatures((0,O.default)({},this._userId,(0,O.default)({},this._deviceId,E))));case 35:C={},j=!0,R=!1,A=void 0,e.prev=39,B=(0,S.default)((0,_.default)(this._deviceList._crossSigningInfo));case 41:if(j=(D=B.next()).done){e.next=50;break}return L=(0,y.default)(D.value,2),z=L[0],F=L[1],e.next=45,(0,d.resolve)(this._checkForDeviceVerificationUpgrade(z,M.CrossSigningInfo.fromStorage(F,z)));case 45:(N=e.sent)&&(C[z]=N);case 47:j=!0,e.next=41;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(39),R=!0,A=e.t1;case 56:e.prev=56,e.prev=57,!j&&B.return&&B.return();case 59:if(e.prev=59,!R){e.next=62;break}throw A;case 62:return e.finish(59);case 63:return e.finish(56);case 64:if(V=this._baseApis._cryptoCallbacks.shouldUpgradeDeviceVerifications,!((0,w.default)(C).length>0&&V)){e.next=103;break}return e.prev=66,e.next=69,(0,d.resolve)(V({users:C}));case 69:if(!(H=e.sent)){e.next=98;break}$=!0,U=!1,K=void 0,e.prev=74,G=(0,S.default)(H);case 76:if($=(W=G.next()).done){e.next=84;break}if(!((Y=W.value)in C)){e.next=81;break}return e.next=81,(0,d.resolve)(this._baseApis.setDeviceVerified(Y,C[Y].crossSigningInfo.getId()));case 81:$=!0,e.next=76;break;case 84:e.next=90;break;case 86:e.prev=86,e.t2=e.catch(74),U=!0,K=e.t2;case 90:e.prev=90,e.prev=91,!$&&G.return&&G.return();case 93:if(e.prev=93,!U){e.next=96;break}throw K;case 96:return e.finish(93);case 97:return e.finish(90);case 98:e.next=103;break;case 100:e.prev=100,e.t3=e.catch(66),I.default.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",e.t3);case 103:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25],[39,52,56,64],[57,,59,63],[66,100],[74,86,90,98],[91,,93,97]])}))),function(e,t){return Q.apply(this,arguments)}),we.prototype._checkForDeviceVerificationUpgrade=(J=(0,d.coroutine)(k.default.mark((function e(t,r){var n,o,l;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._crossSigningInfo.checkUserTrust(r),!r.firstUse||n.verified){e.next=8;break}return o=this._deviceList.getRawStoredDevicesForUser(t),e.next=5,(0,d.resolve)(this._checkForValidDeviceSignature(t,r.keys.master,o));case 5:if(!(l=e.sent).length){e.next=8;break}return e.abrupt("return",{devices:l.map((function(e){return K.fromStorage(o[e],e)})),crossSigningInfo:r});case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return J.apply(this,arguments)}),we.prototype._checkForValidDeviceSignature=(Z=(0,d.coroutine)(k.default.mark((function e(t,r,n){var o,l,c,h,f,v,m,_,x,O;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],!(n&&r.signatures&&r.signatures[t])){e.next=36;break}l=!0,c=!1,h=void 0,e.prev=5,f=(0,S.default)((0,w.default)(r.signatures[t]));case 7:if(l=(v=f.next()).done){e.next=22;break}if(m=v.value,_=m.split(":",2),x=(0,y.default)(_,2),!((O=x[1])in n&&n[O].verified===G.VERIFIED)){e.next=19;break}return e.prev=11,e.next=14,(0,d.resolve)($.verifySignature(this._olmDevice,r,t,O,n[O].keys[m]));case 14:o.push(O),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(11);case 19:l=!0,e.next=7;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(5),c=!0,h=e.t1;case 28:e.prev=28,e.prev=29,!l&&f.return&&f.return();case 31:if(e.prev=31,!c){e.next=34;break}throw h;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",o);case 37:case"end":return e.stop()}}),e,this,[[5,24,28,36],[11,17],[29,,31,35]])}))),function(e,t,r){return Z.apply(this,arguments)}),we.prototype.getCrossSigningId=function(e){return this._crossSigningInfo.getId(e)},we.prototype.getStoredCrossSigningForUser=function(e){return this._deviceList.getStoredCrossSigningForUser(e)},we.prototype.checkUserTrust=function(e){var t=this._deviceList.getStoredCrossSigningForUser(e);return t?this._crossSigningInfo.checkUserTrust(t):new M.UserTrustLevel(!1,!1)},we.prototype.checkDeviceTrust=function(e,t){var r=this._deviceList.getStoredDevice(e,t),n=r&&r.isVerified(),o=this._deviceList.getStoredCrossSigningForUser(e);return r&&o?this._crossSigningInfo.checkDeviceTrust(o,r,n):new M.DeviceTrustLevel(!1,!1,n)},we.prototype._onDeviceListUserCrossSigningUpdated=(ee=(0,d.coroutine)(k.default.mark((function e(t){var r,n,o,l;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this._userId){e.next=13;break}if(r=this._deviceList.getStoredCrossSigningForUser(t),n=r?r.getId():null,o=this._crossSigningInfo.getId(),l=o!==n,!o||!n||l){e.next=10;break}return e.next=8,(0,d.resolve)(this.checkOwnCrossSigningTrust());case 8:e.next=11;break;case 10:this.emit("crossSigning.keysChanged",{});case 11:e.next=16;break;case 13:return e.next=15,(0,d.resolve)(this._checkDeviceVerifications(t));case 15:this.emit("userTrustStatusChanged",t,this.checkUserTrust(t));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return ee.apply(this,arguments)}),we.prototype.checkOwnCrossSigningTrust=(0,d.coroutine)(k.default.mark((function e(){var t,r,n,o,l,c,h,f,v,m,y,_=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._userId,r=this._deviceList.getStoredCrossSigningForUser(t)){e.next=5;break}return I.default.error("Got cross-signing update event for user "+t+" but no new cross-signing information found!"),e.abrupt("return");case 5:if(n=r.getId(),!(o=this._crossSigningInfo.getId()!==n)){e.next=19;break}return I.default.info("Got new master key",n),l=null,e.prev=10,e.next=13,(0,d.resolve)(this._crossSigningInfo.getCrossSigningKey("master",n));case 13:c=e.sent,l=c[1];case 15:return e.prev=15,l.free(),e.finish(15);case 18:I.default.info("Got matching private key from callback for new public master key");case 19:return h=this._crossSigningInfo.getId("self_signing"),f=this._crossSigningInfo.getId("user_signing"),this._crossSigningInfo.setKeys(r.keys),e.next=24,(0,d.resolve)(this._cryptoStore.doTxn("readwrite",[P.default.STORE_ACCOUNT],(function(e){_._cryptoStore.storeCrossSigningKeys(e,_._crossSigningInfo.keys)})));case 24:if(v={},h===r.getId("self_signing")){e.next=32;break}return I.default.info("Got new self-signing key",r.getId("self_signing")),m=this._deviceList.getStoredDevice(this._userId,this._deviceId),e.next=30,(0,d.resolve)(this._crossSigningInfo.signDevice(this._userId,m));case 30:y=e.sent,v[this._deviceId]=y;case 32:if(f!==r.getId("user_signing")&&I.default.info("Got new user-signing key",r.getId("user_signing")),!o){e.next=37;break}return e.next=36,(0,d.resolve)(this._signObject(this._crossSigningInfo.keys.master));case 36:v[this._crossSigningInfo.getId()]=this._crossSigningInfo.keys.master;case 37:if(!(0,w.default)(v).length){e.next=40;break}return e.next=40,(0,d.resolve)(this._baseApis.uploadKeySignatures((0,O.default)({},this._userId,v)));case 40:return this.emit("userTrustStatusChanged",t,this.checkUserTrust(t)),e.next=43,(0,d.resolve)(this.checkKeyBackup());case 43:case"end":return e.stop()}}),e,this,[[10,,15,18]])}))),we.prototype._checkDeviceVerifications=(te=(0,d.coroutine)(k.default.mark((function e(t){var r,n,o;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._crossSigningInfo.keys.user_signing){e.next=14;break}if(!(r=this._deviceList.getStoredCrossSigningForUser(t))){e.next=14;break}return e.next=5,(0,d.resolve)(this._checkForDeviceVerificationUpgrade(t,r));case 5:if(n=e.sent,o=this._baseApis._cryptoCallbacks.shouldUpgradeDeviceVerifications,!n||!o){e.next=14;break}return e.next=10,(0,d.resolve)(o({users:(0,O.default)({},t,n)}));case 10:if(!e.sent.includes(t)){e.next=14;break}return e.next=14,(0,d.resolve)(this._baseApis.setDeviceVerified(t,r.getId()));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return te.apply(this,arguments)}),we.prototype._checkAndStartKeyBackup=(0,d.coroutine)(k.default.mark((function e(){var t,r;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.default.log("Checking key backup status..."),!this._baseApis.isGuest()){e.next=5;break}return I.default.log("Skipping key backup check since user is guest"),this._checkedForBackup=!0,e.abrupt("return",null);case 5:return t=void 0,e.prev=6,e.next=9,(0,d.resolve)(this._baseApis.getKeyBackupVersion());case 9:t=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(6),I.default.log("Error checking for active key backup",e.t0),e.t0.httpStatus/100==4&&(this._checkedForBackup=!0),e.abrupt("return",null);case 17:return this._checkedForBackup=!0,e.next=20,(0,d.resolve)(this.isKeyBackupTrusted(t));case 20:return(r=e.sent).usable&&!this.backupInfo?(I.default.log("Found usable key backup v"+t.version+": enabling key backups"),this._baseApis.enableKeyBackup(t)):!r.usable&&this.backupInfo?(I.default.log("No usable key backup: disabling key backup"),this._baseApis.disableKeyBackup()):r.usable||this.backupInfo?r.usable&&this.backupInfo&&(t.version!==this.backupInfo.version?(I.default.log("On backup version "+this.backupInfo.version+" but found version "+t.version+": switching."),this._baseApis.disableKeyBackup(),this._baseApis.enableKeyBackup(t)):I.default.log("Backup version "+t.version+" still current")):I.default.log("No usable key backup: not enabling key backup"),e.abrupt("return",{backupInfo:t,trustInfo:r});case 23:case"end":return e.stop()}}),e,this,[[6,12]])}))),we.prototype.setTrustedBackupPubKey=(re=(0,d.coroutine)(k.default.mark((function e(t){return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._sessionStore.setLocalTrustedBackupPubKey(t),e.next=3,(0,d.resolve)(this.checkKeyBackup());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return re.apply(this,arguments)}),we.prototype.checkKeyBackup=(0,d.coroutine)(k.default.mark((function e(){var t;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkedForBackup=!1,e.next=3,(0,d.resolve)(this._checkAndStartKeyBackup());case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),we.prototype.isKeyBackupTrusted=(ne=(0,d.coroutine)(k.default.mark((function e(t){var r,n,o,l,c,h,f,v,y,_,x,O,T;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={usable:!1,trusted_locally:!1,sigs:[]},t&&t.algorithm&&t.auth_data&&t.auth_data.public_key&&t.auth_data.signatures){e.next=4;break}return I.default.info("Key backup is absent or missing required data"),e.abrupt("return",r);case 4:n=this._sessionStore.getLocalTrustedBackupPubKey(),t.auth_data.public_key===n&&(I.default.info("Backup public key "+n+" is trusted locally"),r.trusted_locally=!0),o=t.auth_data.signatures[this._userId]||[],l=!0,c=!1,h=void 0,e.prev=10,f=(0,S.default)((0,w.default)(o));case 12:if(l=(v=f.next()).done){e.next=55;break}if(y=v.value,"ed25519"===(_=y.split(":"))[0]){e.next=18;break}return I.default.log("Ignoring unknown signature type: "+_[0]),e.abrupt("continue",52);case 18:if(x={deviceId:_[1]},(O=this._crossSigningInfo.getId())!==y){e.next=34;break}return x.cross_signing_key=O,e.prev=22,e.next=25,(0,d.resolve)($.verifySignature(this._olmDevice,t.auth_data,this._userId,x.deviceId,O));case 25:x.valid=!0,e.next=32;break;case 28:e.prev=28,e.t0=e.catch(22),I.default.warning("Bad signature from cross signing key "+O,e.t0),x.valid=!1;case 32:return r.sigs.push(x),e.abrupt("continue",52);case 34:if(!(T=this._deviceList.getStoredDevice(this._userId,x.deviceId))){e.next=49;break}return x.device=T,e.prev=37,e.next=40,(0,d.resolve)($.verifySignature(this._olmDevice,(0,m.default)({},t.auth_data),this._userId,T.deviceId,T.getFingerprint()));case 40:x.valid=!0,e.next=47;break;case 43:e.prev=43,e.t1=e.catch(37),I.default.info("Bad signature from key ID "+y+" userID "+this._userId+" device ID "+T.deviceId+" fingerprint: "+T.getFingerprint(),t.auth_data,e.t1),x.valid=!1;case 47:e.next=51;break;case 49:x.valid=null,I.default.info("Ignoring signature from unknown key "+y);case 51:r.sigs.push(x);case 52:l=!0,e.next=12;break;case 55:e.next=61;break;case 57:e.prev=57,e.t2=e.catch(10),c=!0,h=e.t2;case 61:e.prev=61,e.prev=62,!l&&f.return&&f.return();case 64:if(e.prev=64,!c){e.next=67;break}throw h;case 67:return e.finish(64);case 68:return e.finish(61);case 69:return r.usable=r.sigs.some((function(s){return s.valid&&(s.device&&s.device.isVerified()||s.cross_signing_key)})),r.usable|=r.trusted_locally,e.abrupt("return",r);case 72:case"end":return e.stop()}}),e,this,[[10,57,61,69],[22,28],[37,43],[62,,64,68]])}))),function(e){return ne.apply(this,arguments)}),we.prototype.enableLazyLoading=function(){this._lazyLoadMembers=!0},we.prototype.registerEventHandlers=function(e){var t=this;e.on("RoomMember.membership",(function(e,r,n){try{t._onRoomMembership(e,r,n)}catch(e){I.default.error("Error handling membership change:",e)}})),e.on("toDeviceEvent",(function(e){t._onToDeviceEvent(e)})),e.on("Room.timeline",(function(e){t._onTimelineEvent(e)})),e.on("Event.decrypted",(function(e){t._onTimelineEvent(e)}))},we.prototype.start=function(){this._outgoingRoomKeyRequestManager.start()},we.prototype.stop=function(){this._outgoingRoomKeyRequestManager.stop(),this._deviceList.stop()},we.getOlmVersion=function(){return H.getOlmVersion()},we.prototype.getDeviceEd25519Key=function(){return this._olmDevice.deviceEd25519Key},we.prototype.setGlobalBlacklistUnverifiedDevices=function(e){this._globalBlacklistUnverifiedDevices=e},we.prototype.getGlobalBlacklistUnverifiedDevices=function(){return this._globalBlacklistUnverifiedDevices},we.prototype.uploadDeviceKeys=function(){var e=this,t=e._userId,r=e._deviceId,n={algorithms:e._supportedAlgorithms,device_id:r,keys:e._deviceKeys,user_id:t};return e._signObject(n).then((function(){return e._baseApis.uploadKeysRequest({device_keys:n},{device_id:r})}))},we.prototype.updateOneTimeKeyCount=function(e){if(!isFinite(e))throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number");this._oneTimeKeyCount=e},we.prototype.downloadKeys=function(e,t){return this._deviceList.downloadKeys(e,t)},we.prototype.getStoredDevicesForUser=function(e){return this._deviceList.getStoredDevicesForUser(e)},we.prototype.getStoredDevice=function(e,t){return this._deviceList.getStoredDevice(e,t)},we.prototype.saveDeviceList=function(e){return this._deviceList.saveIfDirty(e)},we.prototype.setDeviceVerification=(oe=(0,d.coroutine)(k.default.mark((function e(t,r,n,o,l){var c,h,f,v,m,y,_,w;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=null),void 0===o&&(o=null),void 0===l&&(l=null),!(c=this._deviceList.getStoredCrossSigningForUser(t))||c.getId()!==r){e.next=16;break}if(null===o&&null===l){e.next=7;break}throw new Error("Cannot set blocked or known for a cross-signing key");case 7:if(n){e.next=9;break}throw new Error("Cannot set a cross-signing key as unverified");case 9:return e.next=11,(0,d.resolve)(this._crossSigningInfo.signUser(c));case 11:if(!(h=e.sent)){e.next=15;break}return e.next=15,(0,d.resolve)(this._baseApis.uploadKeySignatures((0,O.default)({},t,(0,O.default)({},r,h))));case 15:return e.abrupt("return",h);case 16:if((f=this._deviceList.getRawStoredDevicesForUser(t))&&f[r]){e.next=19;break}throw new Error("Unknown device "+t+":"+r);case 19:if(v=f[r],m=v.verified,n?m=G.VERIFIED:null!==n&&m==G.VERIFIED&&(m=G.UNVERIFIED),o?m=G.BLOCKED:null!==o&&m==G.BLOCKED&&(m=G.UNVERIFIED),y=v.known,null!==l&&(y=l),v.verified===m&&v.known===y||(v.verified=m,v.known=y,this._deviceList.storeDevicesForUser(t,f),this._deviceList.saveIfDirty()),!n||t!==this._userId){e.next=33;break}return e.next=29,(0,d.resolve)(this._crossSigningInfo.signDevice(t,K.fromStorage(v,r)));case 29:if(!(_=e.sent)){e.next=33;break}return e.next=33,(0,d.resolve)(this._baseApis.uploadKeySignatures((0,O.default)({},t,(0,O.default)({},r,_))));case 33:return w=K.fromStorage(v,r),this.emit("deviceVerificationChanged",t,r,w),e.abrupt("return",w);case 36:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return oe.apply(this,arguments)}),we.prototype.requestVerificationDM=(ie=(0,d.coroutine)(k.default.mark((function e(t,r,n){var o,l,c,f,m,y,_,w,O,T,E=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=void 0,!n){e.next=24;break}for(o=new x.default,l=!0,c=!1,f=void 0,e.prev=6,m=(0,S.default)(n);!(l=(y=m.next()).done);l=!0)"string"==typeof(_=y.value)?o.set(_,Y[_]):_.NAME&&o.set(_.NAME,_);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),c=!0,f=e.t0;case 14:e.prev=14,e.prev=15,!l&&m.return&&m.return();case 17:if(e.prev=17,!c){e.next=20;break}throw f;case 20:return e.finish(17);case 21:return e.finish(14);case 22:e.next=25;break;case 24:o=this._baseApis._crypto._verificationMethods;case 25:return w=void 0,O=new h.default((function(e,n){var l=X(E._baseApis,r,(function(e){if(e.getRoomId()===r&&e.getSender()===t){var n=e.getRelation();if(n&&n.rel_type&&"m.reference"===n.rel_type&&n.event_id&&n.event_id===w){var content=e.getContent();switch(e.getType()){case"m.key.verification.start":var l=new(o.get(content.method))(E._baseApis,t,content.from_device,w,r,e);l.handler=Se(l,t,r,w);var h=X(E._baseApis,r,l.handler);l.setEventsSubscription(h),c(l);break;case"m.key.verification.cancel":d(e)}}}})),c=function(){l&&(l=l()),e.apply(void 0,arguments)},d=function(){l&&(l=l()),n.apply(void 0,arguments)}})),e.next=29,(0,d.resolve)(this._baseApis.sendEvent(r,"m.room.message",{body:this._baseApis.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:"m.key.verification.request",to:t,from_device:this._baseApis.getDeviceId(),methods:[].concat((0,v.default)(o.keys()))}));case 29:return T=e.sent,w=T.event_id,e.abrupt("return",O);case 32:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])}))),function(e,t,r){return ie.apply(this,arguments)}),we.prototype.acceptVerificationDM=function(e,t){"string"==typeof t&&(t=Y[t]);var content=e.getContent(),r=new t(this._baseApis,e.getSender(),content.from_device,e.getId(),e.getRoomId());r.handler=Se(r,e.getSender(),e.getRoomId(),e.getId());var n=X(this._baseApis,e.getRoomId(),r.handler);return r.setEventsSubscription(n),r},we.prototype.requestVerification=function(e,t,r){var n=this;t||(t=[].concat((0,v.default)(this._verificationMethods.keys()))),r||(r=(0,w.default)(this._deviceList.getRawStoredDevicesForUser(e))),this._verificationTransactions.has(e)||this._verificationTransactions.set(e,new x.default);var o=(0,j.randomString)(32),l=new h.default((function(l,c){n._verificationTransactions.get(e).set(o,{request:{methods:t,devices:r,resolve:l,reject:c}})})),c={transaction_id:o,from_device:this._baseApis.deviceId,methods:t,timestamp:Date.now()},d={},f=!0,m=!1,y=void 0;try{for(var _,k=(0,S.default)(r);!(f=(_=k.next()).done);f=!0){d[_.value]=c}}catch(e){m=!0,y=e}finally{try{!f&&k.return&&k.return()}finally{if(m)throw y}}return this._baseApis.sendToDevice("m.key.verification.request",(0,O.default)({},e,d)),l},we.prototype.beginKeyVerification=function(e,t,r,n){if(this._verificationTransactions.has(t)||this._verificationTransactions.set(t,new x.default),n=n||(0,j.randomString)(32),this._verificationMethods.has(e)){var o=new(this._verificationMethods.get(e))(this._baseApis,t,r,n);return this._verificationTransactions.get(t).has(n)||this._verificationTransactions.get(t).set(n,{}),this._verificationTransactions.get(t).get(n).verifier=o,o}throw(0,L.newUnknownMethodError)()},we.prototype.getOlmSessionsForUser=(ae=(0,d.coroutine)(k.default.mark((function e(t){var r,n,o,l,c,h;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.getStoredDevicesForUser(t)||[],n={},o=0;case 3:if(!(o<r.length)){e.next=13;break}return l=r[o],c=l.getIdentityKey(),e.next=8,(0,d.resolve)(this._olmDevice.getSessionInfoForDevice(c));case 8:h=e.sent,n[l.deviceId]={deviceIdKey:c,sessions:h};case 10:++o,e.next=3;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return ae.apply(this,arguments)}),we.prototype.getEventSenderDeviceInfo=function(e){var t=e.getSenderKey(),r=e.getWireContent().algorithm;if(!t||!r)return null;if(e.getForwardingCurve25519KeyChain().length>0)return null;var n=this._deviceList.getDeviceByIdentityKey(r,t);if(null===n)return null;var o=e.getClaimedEd25519Key();return o?o!==n.getFingerprint()?(I.default.warn("Event "+e.getId()+" claims ed25519 key "+o+"but sender device has key "+n.getFingerprint()),null):n:(I.default.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),null)},we.prototype.forceDiscardSession=function(e){var t=this._roomEncryptors[e];if(void 0===t)throw new Error("Room not encrypted");if(void 0===t.forceDiscardSession)throw new Error("Room encryption algorithm doesn't support session discarding");t.forceDiscardSession()},we.prototype.setRoomEncryption=(se=(0,d.coroutine)(k.default.mark((function e(t,r,n){var o,l,c,h;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.algorithm){e.next=3;break}return I.default.log("Ignoring setRoomEncryption with no algorithm"),e.abrupt("return");case 3:if(!(o=this._roomList.getRoomEncryption(t))){e.next=8;break}if((0,f.default)(o)==(0,f.default)(r)){e.next=8;break}return I.default.error("Ignoring m.room.encryption event which requests a change of config in "+t),e.abrupt("return");case 8:if(!this._roomEncryptors[t]){e.next=11;break}return e.abrupt("return");case 11:if(l=null,o||(l=this._roomList.setRoomEncryption(t,r)),c=U.ENCRYPTION_CLASSES[r.algorithm]){e.next=16;break}throw new Error("Unable to encrypt with "+r.algorithm);case 16:if(h=new c({userId:this._userId,deviceId:this._deviceId,crypto:this,olmDevice:this._olmDevice,baseApis:this._baseApis,roomId:t,config:r}),this._roomEncryptors[t]=h,!l){e.next=21;break}return e.next=21,(0,d.resolve)(l);case 21:if(this._lazyLoadMembers){e.next=28;break}return I.default.log("Enabling encryption in "+t+"; starting to track device lists for all users therein"),e.next=25,(0,d.resolve)(this.trackRoomDevices(t));case 25:this.inhibitDeviceQuery||this._deviceList.refreshOutdatedDeviceLists(),e.next=29;break;case 28:I.default.log("Enabling encryption in "+t);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return se.apply(this,arguments)}),we.prototype.trackRoomDevices=function(e){var t,r=this,n=(t=(0,d.coroutine)(k.default.mark((function t(){var n;return k.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r._roomEncryptors[e]){t.next=2;break}return t.abrupt("return");case 2:if(n=r._clientStore.getRoom(e)){t.next=5;break}throw new Error("Unable to start tracking devices in unknown room "+e);case 5:return I.default.log("Starting to track devices for room "+e+" ..."),t.next=8,(0,d.resolve)(n.getEncryptionTargetMembers());case 8:t.sent.forEach((function(e){r._deviceList.startTrackingDeviceList(e.userId)}));case 10:case"end":return t.stop()}}),t,r)}))),function(){return t.apply(this,arguments)}),o=this._roomDeviceTrackingState[e];return o||(o=n(),this._roomDeviceTrackingState[e]=o),o},we.prototype.ensureOlmSessionsForUsers=function(e){for(var t={},i=0;i<e.length;++i){var r=e[i];t[r]=[];for(var n=this.getStoredDevicesForUser(r)||[],o=0;o<n.length;++o){var l=n[o];l.getIdentityKey()!=this._olmDevice.deviceCurve25519Key&&(l.verified!=G.BLOCKED&&t[r].push(l))}}return $.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,t)},we.prototype.exportRoomKeys=(0,d.coroutine)(k.default.mark((function e(){var t,r=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,(0,d.resolve)(this._cryptoStore.doTxn("readonly",[P.default.STORE_INBOUND_GROUP_SESSIONS],(function(e){r._cryptoStore.getAllEndToEndInboundGroupSessions(e,(function(s){if(null!==s){var e=r._olmDevice.exportInboundGroupSession(s.senderKey,s.sessionId,s.sessionData);delete e.first_known_index,e.algorithm=$.MEGOLM_ALGORITHM,t.push(e)}}))})));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),we.prototype.importRoomKeys=function(e){var t=this;return h.default.all(e.map((function(e){return e.room_id&&e.algorithm?t._getRoomDecryptor(e.room_id,e.algorithm).importRoomKey(e):(I.default.warn("ignoring room key entry with missing fields",e),null)})))},we.prototype.scheduleKeyBackupSend=(le=(0,d.coroutine)(k.default.mark((function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._sendingBackups){e.next=2;break}return e.abrupt("return");case 2:return this._sendingBackups=!0,e.prev=3,t=Math.random()*n,e.next=7,(0,d.resolve)((0,z.sleep)(t));case 7:r=0;case 8:if(this.backupKey){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,(0,d.resolve)(this._backupPendingKeys(200));case 14:if(0!==e.sent){e.next=17;break}return e.abrupt("return");case 17:r=0,e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(11),r++,I.default.log("Key backup request failed",e.t0),!e.t0.data){e.next=30;break}if("M_NOT_FOUND"!=e.t0.data.errcode&&"M_WRONG_ROOM_KEYS_VERSION"!=e.t0.data.errcode){e.next=30;break}return e.next=28,(0,d.resolve)(this.checkKeyBackup());case 28:throw this.emit("crypto.keyBackupFailed",e.t0.data.errcode),e.t0;case 30:if(!r){e.next=33;break}return e.next=33,(0,d.resolve)((0,z.sleep)(1e3*Math.pow(2,Math.min(r-1,4))));case 33:e.next=8;break;case 35:return e.prev=35,this._sendingBackups=!1,e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[3,,35,38],[11,20]])}))),function(e){return le.apply(this,arguments)}),we.prototype._backupPendingKeys=(ce=(0,d.coroutine)(k.default.mark((function e(t){var r,n,data,o,l,c,h,v,m,y,_,w,x,O,T;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(this._cryptoStore.getSessionsNeedingBackup(t));case 2:if((r=e.sent).length){e.next=5;break}return e.abrupt("return",0);case 5:return e.next=7,(0,d.resolve)(this._cryptoStore.countSessionsNeedingBackup());case 7:n=e.sent,this.emit("crypto.keyBackupSessionsRemaining",n),data={},o=!0,l=!1,c=void 0,e.prev=13,h=(0,S.default)(r);case 15:if(o=(v=h.next()).done){e.next=34;break}return m=v.value,y=m.sessionData.room_id,void 0===data[y]&&(data[y]={sessions:{}}),e.next=21,(0,d.resolve)(this._olmDevice.exportInboundGroupSession(m.senderKey,m.sessionId,m.sessionData));case 21:(_=e.sent).algorithm=$.MEGOLM_ALGORITHM,delete _.session_id,delete _.room_id,w=_.first_known_index,delete _.first_known_index,x=this.backupKey.encrypt((0,f.default)(_)),O=(_.forwarding_curve25519_key_chain||[]).length,T=this._deviceList.getDeviceByIdentityKey($.MEGOLM_ALGORITHM,m.senderKey),data[y].sessions[m.sessionId]={first_message_index:w,forwarded_count:O,is_verified:!(!T||!T.isVerified()),session_data:x};case 31:o=!0,e.next=15;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(13),l=!0,c=e.t0;case 40:e.prev=40,e.prev=41,!o&&h.return&&h.return();case 43:if(e.prev=43,!l){e.next=46;break}throw c;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return e.next=50,(0,d.resolve)(this._baseApis.sendKeyBackup(void 0,void 0,this.backupInfo.version,{rooms:data}));case 50:return e.next=52,(0,d.resolve)(this._cryptoStore.unmarkSessionsNeedingBackup(r));case 52:return e.next=54,(0,d.resolve)(this._cryptoStore.countSessionsNeedingBackup());case 54:return n=e.sent,this.emit("crypto.keyBackupSessionsRemaining",n),e.abrupt("return",r.length);case 57:case"end":return e.stop()}}),e,this,[[13,36,40,48],[41,,43,47]])}))),function(e){return ce.apply(this,arguments)}),we.prototype.backupGroupSession=(ue=(0,d.coroutine)(k.default.mark((function e(t,r,n,o,l,c,h){return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backupInfo){e.next=2;break}throw new Error("Key backups are not enabled");case 2:return e.next=4,(0,d.resolve)(this._cryptoStore.markSessionsNeedingBackup([{senderKey:r,sessionId:o}]));case 4:this.scheduleKeyBackupSend();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,l,c){return ue.apply(this,arguments)}),we.prototype.scheduleAllGroupSessionsForBackup=(0,d.coroutine)(k.default.mark((function e(){return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(this.flagAllGroupSessionsForBackup());case 2:this.scheduleKeyBackupSend(0);case 3:case"end":return e.stop()}}),e,this)}))),we.prototype.flagAllGroupSessionsForBackup=(0,d.coroutine)(k.default.mark((function e(){var t,r=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(this._cryptoStore.doTxn("readwrite",[P.default.STORE_INBOUND_GROUP_SESSIONS,P.default.STORE_BACKUP],(function(e){r._cryptoStore.getAllEndToEndInboundGroupSessions(e,(function(t){null!==t&&r._cryptoStore.markSessionsNeedingBackup([t],e)}))})));case 2:return e.next=4,(0,d.resolve)(this._cryptoStore.countSessionsNeedingBackup());case 4:return t=e.sent,this.emit("crypto.keyBackupSessionsRemaining",t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),we.prototype.encryptEvent=(de=(0,d.coroutine)(k.default.mark((function e(t,r){var n,o,content,l,c;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Cannot send encrypted messages in unknown rooms");case 2:if(n=t.getRoomId(),o=this._roomEncryptors[n]){e.next=6;break}throw new Error("Room was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");case 6:return this._roomDeviceTrackingState[n]||this.trackRoomDevices(n),e.next=9,(0,d.resolve)(this._roomDeviceTrackingState[n]);case 9:return content=t.getContent(),(l=content["m.relates_to"])&&delete(content=(0,m.default)({},content))["m.relates_to"],e.next=14,(0,d.resolve)(o.encryptMessage(r,t.getType(),content));case 14:c=e.sent,l&&(c["m.relates_to"]=l),t.makeEncrypted("m.room.encrypted",c,this._olmDevice.deviceCurve25519Key,this._olmDevice.deviceEd25519Key);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return de.apply(this,arguments)}),we.prototype.decryptEvent=function(e){if(e.isRedacted())return h.default.resolve({clearEvent:{room_id:e.getRoomId(),type:"m.room.message",content:{}}});var content=e.getWireContent();return this._getRoomDecryptor(e.getRoomId(),content.algorithm).decryptEvent(e)},we.prototype.handleDeviceListChanges=(he=(0,d.coroutine)(k.default.mark((function e(t,r){return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.oldSyncToken){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,d.resolve)(this._evalDeviceListChanges(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return he.apply(this,arguments)}),we.prototype.requestRoomKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._outgoingRoomKeyRequestManager.sendRoomKeyRequest(e,t,r).catch((function(e){I.default.error("Error requesting key for event",e)})).done()},we.prototype.cancelRoomKeyRequest=function(e){this._outgoingRoomKeyRequestManager.cancelRoomKeyRequest(e).catch((function(e){I.default.warn("Error clearing pending room key requests",e)})).done()},we.prototype.onCryptoEvent=(fe=(0,d.coroutine)(k.default.mark((function e(t){var r,content;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getRoomId(),content=t.getContent(),e.prev=2,e.next=5,(0,d.resolve)(this.setRoomEncryption(r,content,!0));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),I.default.error("Error configuring encryption in room "+r+":",e.t0);case 10:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return fe.apply(this,arguments)}),we.prototype.onSyncWillProcess=(pe=(0,d.method)((function(e){e.oldSyncToken||(I.default.log("Initial sync performed - resetting device tracking state"),this._deviceList.stopTrackingAllDeviceLists(),this._deviceList.startTrackingDeviceList(this._userId),this._roomDeviceTrackingState={})})),function(e){return pe.apply(this,arguments)}),we.prototype.onSyncCompleted=(ve=(0,d.method)((function(e){var t=e.nextSyncToken;this._deviceList.setSyncToken(e.nextSyncToken),this._deviceList.saveIfDirty(),this._deviceList.lastKnownSyncToken=t,this._deviceList.startTrackingDeviceList(this._userId),this._deviceList.refreshOutdatedDeviceLists(),e.catchingUp||(ke(this),this._processReceivedRoomKeyRequests())})),function(e){return ve.apply(this,arguments)}),we.prototype._evalDeviceListChanges=(me=(0,d.coroutine)(k.default.mark((function e(t){var r,n=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.changed&&Array.isArray(t.changed)&&t.changed.forEach((function(u){n._deviceList.invalidateUserDeviceList(u)})),!(t.left&&Array.isArray(t.left)&&t.left.length)){e.next=8;break}return e.t0=c.default,e.next=5,(0,d.resolve)(this._getTrackedE2eUsers());case 5:e.t1=e.sent,r=new e.t0(e.t1),t.left.forEach((function(u){r.has(u)||n._deviceList.stopTrackingDeviceList(u)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return me.apply(this,arguments)}),we.prototype._getTrackedE2eUsers=(0,d.coroutine)(k.default.mark((function e(){var t,r,n,o,l,c,h,f,v,m,y,_,w,x;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=!0,n=!1,o=void 0,e.prev=4,l=(0,S.default)(this._getTrackedE2eRooms());case 6:if(r=(c=l.next()).done){e.next=33;break}return h=c.value,e.next=10,(0,d.resolve)(h.getEncryptionTargetMembers());case 10:for(f=e.sent,v=!0,m=!1,y=void 0,e.prev=14,_=(0,S.default)(f);!(v=(w=_.next()).done);v=!0)x=w.value,t.push(x.userId);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),m=!0,y=e.t0;case 22:e.prev=22,e.prev=23,!v&&_.return&&_.return();case 25:if(e.prev=25,!m){e.next=28;break}throw y;case 28:return e.finish(25);case 29:return e.finish(22);case 30:r=!0,e.next=6;break;case 33:e.next=39;break;case 35:e.prev=35,e.t1=e.catch(4),n=!0,o=e.t1;case 39:e.prev=39,e.prev=40,!r&&l.return&&l.return();case 42:if(e.prev=42,!n){e.next=45;break}throw o;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return e.abrupt("return",t);case 48:case"end":return e.stop()}}),e,this,[[4,35,39,47],[14,18,22,30],[23,,25,29],[40,,42,46]])}))),we.prototype._getTrackedE2eRooms=function(){var e=this;return this._clientStore.getRooms().filter((function(t){if(!e._roomEncryptors[t.roomId])return!1;if(!e._roomDeviceTrackingState[t.roomId])return!1;var r=t.getMyMembership();return"join"===r||"invite"===r}))},we.prototype._onToDeviceEvent=function(e){var t=this;try{I.default.log("received to_device "+e.getType()+" from: "+e.getSender()+" id: "+e.getId()),"m.room_key"==e.getType()||"m.forwarded_room_key"==e.getType()?this._onRoomKeyEvent(e):"m.room_key_request"==e.getType()?this._onRoomKeyRequestEvent(e):"m.secret.request"===e.getType()?this._secretStorage._onRequestReceived(e):"m.secret.send"===e.getType()?this._secretStorage._onSecretReceived(e):"m.key.verification.request"===e.getType()?this._onKeyVerificationRequest(e):"m.key.verification.start"===e.getType()?this._onKeyVerificationStart(e):e.getContent().transaction_id?this._onKeyVerificationMessage(e):"m.bad.encrypted"===e.getContent().msgtype?this._onToDeviceBadEncrypted(e):e.isBeingDecrypted()&&e.once("Event.decrypted",(function(e){t._onToDeviceEvent(e)}))}catch(e){I.default.error("Error handling toDeviceEvent:",e)}},we.prototype._onRoomKeyEvent=function(e){var content=e.getContent();content.room_id&&content.algorithm?(this._checkedForBackup||this._checkAndStartKeyBackup(),this._getRoomDecryptor(content.room_id,content.algorithm).onRoomKeyEvent(e)):I.default.error("key event is missing fields")},we.prototype._onKeyVerificationRequest=function(e){var t=this;if(e.isCancelled())I.default.warn("Ignoring flagged verification request from "+e.getSender());else{var content=e.getContent();if("from_device"in content&&"string"==typeof content.from_device&&"transaction_id"in content&&"methods"in content&&Array.isArray(content.methods)&&"timestamp"in content&&"number"==typeof content.timestamp){var r=Date.now();if(r<content.timestamp-3e5||r>content.timestamp+6e5)I.default.log("received verification that is too old or from the future");else{var n=e.getSender();if(n!==this._userId||content.from_device!==this._deviceId){if(this._verificationTransactions.has(n)){if(this._verificationTransactions.get(n).has(content.transaction_id)){var o=(0,L.newUnexpectedMessageError)({transaction_id:content.transaction_id});return this._verificationTransactions.get(n).get(content.transaction_id).verifier?this._verificationTransactions.get(n).get(content.transaction_id).verifier.cancel(o):(this._verificationTransactions.get(n).get(content.transaction_id).reject(o),this.sendToDevice("m.key.verification.cancel",(0,O.default)({},n,(0,O.default)({},content.from_device,o.getContent())))),void this._verificationTransactions.get(n).delete(content.transaction_id)}}else this._verificationTransactions.set(n,new x.default);var l=[],c=!0,d=!1,h=void 0;try{for(var f,v=(0,S.default)(content.methods);!(c=(f=v.next()).done);c=!0){var m=f.value;"string"==typeof m&&(this._verificationMethods.has(m)&&l.push(m))}}catch(o){d=!0,h=o}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}if(0===l.length)this._baseApis.emit("crypto.verification.request.unknown",e.getSender(),(function(){t.sendToDevice("m.key.verification.cancel",(0,O.default)({},n,(0,O.default)({},content.from_device,(0,L.newUserCancelledError)({transaction_id:content.transaction_id}).getContent())))}));else{var y={timeout:3e5,event:e,methods:l,beginKeyVerification:function(e){var r=t.beginKeyVerification(e,n,content.from_device,content.transaction_id);return t._verificationTransactions.get(n).get(content.transaction_id).verifier=r,r},cancel:function(){t._baseApis.sendToDevice("m.key.verification.cancel",(0,O.default)({},n,(0,O.default)({},content.from_device,(0,L.newUserCancelledError)({transaction_id:content.transaction_id}).getContent())))}};this._verificationTransactions.get(n).set(content.transaction_id,{request:y}),this._baseApis.emit("crypto.verification.request",y)}}}}else I.default.warn("received invalid verification request from "+e.getSender())}},we.prototype._onKeyVerificationStart=function(e){var t=this;if(e.isCancelled())I.default.warn("Ignoring flagged verification start from "+e.getSender());else{var r=e.getSender(),content=e.getContent(),n=content.transaction_id,o=content.from_device;if(n&&o){var l=this._verificationTransactions.has(r)&&this._verificationTransactions.get(r).get(n),c=function(e){l.verifier?l.verifier.cancel(e):l.request&&l.request.cancel&&l.request.cancel(e),t.sendToDevice("m.key.verification.cancel",(0,O.default)({},r,(0,O.default)({},o,e.getContent())))};if(this._verificationMethods.has(content.method)){var d=new(this._verificationMethods.get(content.method))(this._baseApis,r,o,content.transaction_id,e,l&&l.request);if(l){if(!l.verifier&&(l.verifier=d,l.request)){if(!l.request.devices.includes(o))return void c((0,L.newUnexpectedMessageError)({transaction_id:content.transactionId}));if(!l.request.methods.includes(content.method))return void c((0,L.newUnknownMethodError)({transaction_id:content.transactionId}));var h={transaction_id:n,code:"m.accepted",reason:"Verification request accepted by another device"},f={},v=!0,m=!1,y=void 0;try{for(var _,w=(0,S.default)(l.request.devices);!(v=(_=w.next()).done);v=!0){var k=_.value;k!==o&&(f[k]=h)}}catch(e){m=!0,y=e}finally{try{!v&&w.return&&w.return()}finally{if(m)throw y}}this._baseApis.sendToDevice("m.key.verification.cancel",(0,O.default)({},r,f)),l.request.resolve(d)}}else this._verificationTransactions.has(r)||this._verificationTransactions.set(r,new x.default),l=this._verificationTransactions.get(r).set(n,{verifier:d});this._baseApis.emit("crypto.verification.start",d);var T={event:e,timeout:3e5,methods:[content.method],beginKeyVerification:function(e){if(content.method===e)return d},cancel:function(){return d.cancel("User cancelled")}};this._baseApis.emit("crypto.verification.request",T)}else c((0,L.newUnknownMethodError)({transaction_id:content.transactionId}))}}},we.prototype._onKeyVerificationMessage=function(e){var t=e.getSender(),r=e.getContent().transaction_id,n=this._verificationTransactions.has(t)&&this._verificationTransactions.get(t).get(r);if(n)if("m.key.verification.cancel"===e.getType())I.default.log(e),n.verifier?n.verifier.cancel(e):n.request&&n.request.cancel&&n.request.cancel(e);else if(n.verifier){var o=n.verifier;o.events&&o.events.includes(e.getType())&&o.handleEvent(e)}},we.prototype._onTimelineEvent=function(e){var t=this;if("m.room.message"===e.getType()){var content=e.getContent();if("m.key.verification.request"===content.msgtype)if("from_device"in content&&"string"==typeof content.from_device&&"methods"in content&&Array.isArray(content.methods)&&"to"in content&&"string"==typeof content.to){if(content.to===this._baseApis.getUserId()){if(!(e.getLocalAge()>=297e3)){var r={event:e,timeout:3e5,methods:content.methods,beginKeyVerification:function(r){return t.acceptVerificationDM(e,r)},cancel:function(){t.acceptVerificationDM(e,content.methods[0]).cancel("User declined")}};this._baseApis.emit("crypto.verification.request",r)}}}else I.default.warn("received invalid verification request over DM from "+e.getSender())}},we.prototype._onToDeviceBadEncrypted=(ge=(0,d.coroutine)(k.default.mark((function e(t){var content,r,n,o,l,c,h,f,v,m,y,_,w,x,T;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(content=t.getWireContent(),r=t.getSender(),n=content.algorithm,o=content.sender_key,void 0!==r&&void 0!==o&&void 0!==o){e.next=6;break}return e.abrupt("return");case 6:if(this._lastNewSessionForced[r]=this._lastNewSessionForced[r]||{},!((l=this._lastNewSessionForced[r][o]||0)+36e5>Date.now())){e.next=11;break}return I.default.debug("New session already forced with device "+r+":"+o+" at "+l+": not forcing another"),e.abrupt("return");case 11:if(c=this._deviceList.getDeviceByIdentityKey(n,o)){e.next=15;break}return I.default.info("Couldn't find device for identity key "+o+": not re-establishing session"),e.abrupt("return");case 15:return(h={})[r]=[c],e.next=19,(0,d.resolve)($.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,h,!0));case 19:return this._lastNewSessionForced[r][o]=Date.now(),f={algorithm:$.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}},e.next=23,(0,d.resolve)($.encryptMessageForDevice(f.ciphertext,this._userId,this._deviceId,this._olmDevice,r,c,{type:"m.dummy"}));case 23:return e.next=25,(0,d.resolve)(this._baseApis.sendToDevice("m.room.encrypted",(0,O.default)({},r,(0,O.default)({},c.deviceId,f))));case 25:return e.next=27,(0,d.resolve)(this._outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(r,c.deviceId));case 27:for(v=e.sent,m=!0,y=!1,_=void 0,e.prev=31,w=(0,S.default)(v);!(m=(x=w.next()).done);m=!0)T=x.value,this.requestRoomKey(T.requestBody,T.recipients,!0);e.next=39;break;case 35:e.prev=35,e.t0=e.catch(31),y=!0,_=e.t0;case 39:e.prev=39,e.prev=40,!m&&w.return&&w.return();case 42:if(e.prev=42,!y){e.next=45;break}throw _;case 45:return e.finish(42);case 46:return e.finish(39);case 47:case"end":return e.stop()}}),e,this,[[31,35,39,47],[40,,42,46]])}))),function(e){return ge.apply(this,arguments)}),we.prototype._onRoomMembership=function(e,t,r){var n=t.roomId,o=this._roomEncryptors[n];o&&(this._roomDeviceTrackingState[n]&&("join"==t.membership?(I.default.log("Join event for "+t.userId+" in "+n),this._deviceList.startTrackingDeviceList(t.userId)):"invite"==t.membership&&this._clientStore.getRoom(n).shouldEncryptForInvitedMembers()&&(I.default.log("Invite event for "+t.userId+" in "+n),this._deviceList.startTrackingDeviceList(t.userId))),o.onRoomMembership(e,t,r))},we.prototype._onRoomKeyRequestEvent=function(e){var content=e.getContent();if("request"===content.action){var t=new xe(e);this._receivedRoomKeyRequests.push(t)}else if("request_cancellation"===content.action){var r=new Oe(e);this._receivedRoomKeyRequestCancellations.push(r)}},we.prototype._processReceivedRoomKeyRequests=(0,d.coroutine)(k.default.mark((function e(){var t,r,n=this;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._processingRoomKeyRequests){e.next=2;break}return e.abrupt("return");case 2:return this._processingRoomKeyRequests=!0,e.prev=3,t=this._receivedRoomKeyRequests,this._receivedRoomKeyRequests=[],r=this._receivedRoomKeyRequestCancellations,this._receivedRoomKeyRequestCancellations=[],e.next=10,(0,d.resolve)(h.default.all(t.map((function(e){return n._processReceivedRoomKeyRequest(e)}))));case 10:return e.next=12,(0,d.resolve)(h.default.all(r.map((function(e){return n._processReceivedRoomKeyRequestCancellation(e)}))));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),I.default.error("Error processing room key requsts: "+e.t0);case 17:return e.prev=17,this._processingRoomKeyRequests=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[3,14,17,20]])}))),we.prototype._processReceivedRoomKeyRequest=(be=(0,d.coroutine)(k.default.mark((function e(t){var r,n,body,o,l,c,h,f,v;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,n=t.deviceId,body=t.requestBody,o=body.room_id,l=body.algorithm,I.default.log("m.room_key_request from "+r+":"+n+" for "+o+" / "+body.session_id+" (id "+t.requestId+")"),r===this._userId){e.next=24;break}if(this._roomEncryptors[o]){e.next=10;break}return I.default.debug("room key request for unencrypted room "+o),e.abrupt("return");case 10:if(c=this._roomEncryptors[o],h=this._deviceList.getStoredDevice(r,n)){e.next=15;break}return I.default.debug("Ignoring keyshare for unknown device "+r+":"+n),e.abrupt("return");case 15:return e.prev=15,e.next=18,(0,d.resolve)(c.reshareKeyWithDevice(body.sender_key,body.session_id,r,h));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),I.default.warn("Failed to re-share keys for session "+body.session_id+" with device "+r+":"+h.deviceId,e.t0);case 23:return e.abrupt("return");case 24:if(this._roomDecryptors[o]){e.next=27;break}return I.default.log("room key request for unencrypted room "+o),e.abrupt("return");case 27:if(f=this._roomDecryptors[o][l]){e.next=31;break}return I.default.log("room key request for unknown alg "+l+" in room "+o),e.abrupt("return");case 31:return e.next=33,(0,d.resolve)(f.hasKeysForKeyRequest(t));case 33:if(e.sent){e.next=36;break}return I.default.log("room key request for unknown session "+o+" / "+body.session_id),e.abrupt("return");case 36:if(t.share=function(){f.shareKeysWithDevice(t)},!(v=this._deviceList.getStoredDevice(r,n))||!v.isVerified()){e.next=42;break}return I.default.log("device is already verified: sharing keys"),t.share(),e.abrupt("return");case 42:this.emit("crypto.roomKeyRequest",t);case 43:case"end":return e.stop()}}),e,this,[[15,20]])}))),function(e){return be.apply(this,arguments)}),we.prototype._processReceivedRoomKeyRequestCancellation=(ye=(0,d.method)((function(e){I.default.log("m.room_key_request cancellation for "+e.userId+":"+e.deviceId+" (id "+e.requestId+")"),this.emit("crypto.roomKeyRequestCancellation",e)})),function(e){return ye.apply(this,arguments)}),we.prototype._getRoomDecryptor=function(e,t){var r=void 0,n=void 0;if((e=e||null)&&((r=this._roomDecryptors[e])||(this._roomDecryptors[e]=r={}),n=r[t]))return n;var o=U.DECRYPTION_CLASSES[t];if(!o)throw new U.DecryptionError("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+t+'".');return n=new o({userId:this._userId,crypto:this,olmDevice:this._olmDevice,baseApis:this._baseApis,roomId:e}),r&&(r[t]=n),n},we.prototype._signObject=(_e=(0,d.coroutine)(k.default.mark((function e(t){var r,n;return k.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures||{},n=t.unsigned,delete t.signatures,delete t.unsigned,r[this._userId]=r[this._userId]||{},e.next=7,(0,d.resolve)(this._olmDevice.sign(N.stringify(t)));case 7:r[this._userId]["ed25519:"+this._deviceId]=e.sent,t.signatures=r,void 0!==n&&(t.unsigned=n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return _e.apply(this,arguments)});var xe=function e(t){(0,l.default)(this,e);var content=t.getContent();this.userId=t.getSender(),this.deviceId=content.requesting_device_id,this.requestId=content.request_id,this.requestBody=content.body||{},this.share=function(){throw new Error("don't know how to share keys for this request yet")}},Oe=function e(t){(0,l.default)(this,e);var content=t.getContent();this.userId=t.getSender(),this.deviceId=content.requesting_device_id,this.requestId=content.request_id}}).call(this,r(24))},function(e,t,r){e.exports={default:r(473),__esModule:!0}},,,,function(e,t,r){e.exports={default:r(477),__esModule:!0}},,,,,,function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.SECRET_STORAGE_ALGORITHM_V1=void 0;var n=I(r(133)),o=I(r(38)),l=I(r(60)),c=I(r(26)),d=I(r(29)),h=r(20),f=I(r(134)),v=I(r(72)),m=I(r(42)),y=I(r(47)),_=I(r(73)),w=I(r(74)),k=r(49),S=I(r(22)),x=r(99),O=I(x),T=r(162),E=r(297),C=r(298);function I(e){return e&&e.__esModule?e:{default:e}}var j=t.SECRET_STORAGE_ALGORITHM_V1="m.secret_storage.v1.curve25519-aes-sha2",M=function(t){function r(e,t,n){(0,m.default)(this,r);var o=(0,_.default)(this,(r.__proto__||(0,v.default)(r)).call(this));return o._baseApis=e,o._cryptoCallbacks=t,o._crossSigningInfo=n,o._requests={},o._incomingRequests={},o}var k,I,M,R,A;return(0,w.default)(r,t),(0,y.default)(r,[{key:"getDefaultKeyId",value:function(){var e=this._baseApis.getAccountData("m.secret_storage.default_key");return e?e.getContent().key:null}},{key:"setDefaultKeyId",value:function(e){var t=this;return new f.default((function(r){t._baseApis.on("accountData",(function n(o){"m.secret_storage.default_key"===o.getType()&&o.getContent().key===e&&(t._baseApis.removeListener("accountData",n),r())})),t._baseApis.setAccountData("m.secret_storage.default_key",{key:e})}))}},{key:"addKey",value:(A=(0,h.coroutine)(d.default.mark((function t(r,n,o){var l,c,f;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l={algorithm:r},n||(n={}),n.name&&(l.name=n.name),t.t0=r,t.next=t.t0===j?6:22;break;case 6:if(c=new e.Olm.PkDecryption,t.prev=7,!n.passphrase){t.next=17;break}return t.next=11,(0,h.resolve)((0,E.keyFromPassphrase)(n.passphrase));case 11:f=t.sent,l.passphrase={algorithm:"m.pbkdf2",iterations:f.iterations,salt:f.salt},n.encodedkey=(0,C.encodeRecoveryKey)(f.key),l.pubkey=c.init_with_private_key(f.key),t.next=18;break;case 17:n.privkey?(l.pubkey=c.init_with_private_key(n.privkey),n.encodedkey=(0,C.encodeRecoveryKey)(n.privkey)):(l.pubkey=c.generate_key(),n.encodedkey=(0,C.encodeRecoveryKey)(c.get_private_key()));case 18:return t.prev=18,c.free(),t.finish(18);case 21:return t.abrupt("break",23);case 22:throw new Error("Unknown key algorithm "+n.algorithm);case 23:if(!o)do{o=(0,T.randomString)(32)}while(this._baseApis.getAccountData("m.secret_storage.key."+o));return t.next=26,(0,h.resolve)(this._crossSigningInfo.signObject(l,"master"));case 26:return t.next=28,(0,h.resolve)(this._baseApis.setAccountData("m.secret_storage.key."+o,l));case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}}),t,this,[[7,,18,21]])}))),function(e,t,r){return A.apply(this,arguments)})},{key:"store",value:(R=(0,h.coroutine)(d.default.mark((function t(r,n,o){var l,f,v,m,y,_,w,k,O,T,E;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l={},o){t.next=6;break}if(f=this.getDefaultKeyId()){t.next=5;break}throw new Error("No keys specified and no default key present");case 5:o=[f];case 6:if(0!==o.length){t.next=8;break}throw new Error("Zero keys given to encrypt with!");case 8:v=!0,m=!1,y=void 0,t.prev=11,_=(0,c.default)(o);case 13:if(v=(w=_.next()).done){t.next=30;break}if(k=w.value,O=this._baseApis.getAccountData("m.secret_storage.key."+k)){t.next=18;break}throw new Error("Unknown key: "+k);case 18:T=O.getContent(),(0,x.pkVerify)(T,this._crossSigningInfo.getId("master"),this._crossSigningInfo.userId),t.t0=T.algorithm,t.next=t.t0===j?23:26;break;case 23:E=new e.Olm.PkEncryption;try{E.set_recipient_key(T.pubkey),l[k]=E.encrypt(n)}finally{E.free()}return t.abrupt("break",27);case 26:S.default.warn("unknown algorithm for secret storage key "+k+": "+T.algorithm);case 27:v=!0,t.next=13;break;case 30:t.next=36;break;case 32:t.prev=32,t.t1=t.catch(11),m=!0,y=t.t1;case 36:t.prev=36,t.prev=37,!v&&_.return&&_.return();case 39:if(t.prev=39,!m){t.next=42;break}throw y;case 42:return t.finish(39);case 43:return t.finish(36);case 44:return t.next=46,(0,h.resolve)(this._baseApis.setAccountData(r,{encrypted:l}));case 46:case"end":return t.stop()}}),t,this,[[11,32,36,44],[37,,39,43]])}))),function(e,t,r){return R.apply(this,arguments)})},{key:"get",value:(M=(0,h.coroutine)(d.default.mark((function e(t){var r,n,f,v,m,y,_,w,k,S,x,O,T,E,C,I;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._baseApis.getAccountData(t)){e.next=3;break}return e.abrupt("return");case 3:if((n=r.getContent()).encrypted){e.next=6;break}throw new Error("Content is not encrypted!");case 6:f={},v=!0,m=!1,y=void 0,e.prev=10,_=(0,c.default)((0,o.default)(n.encrypted));case 12:if(v=(w=_.next()).done){e.next=24;break}k=w.value,S=this._baseApis.getAccountData("m.secret_storage.key."+k).getContent(),x=n.encrypted[k],e.t0=S.algorithm,e.next=e.t0===j?19:21;break;case 19:return S.pubkey&&x.ciphertext&&x.mac&&x.ephemeral&&(f[k]=S),e.abrupt("break",21);case 21:v=!0,e.next=12;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(10),m=!0,y=e.t1;case 30:e.prev=30,e.prev=31,!v&&_.return&&_.return();case 33:if(e.prev=33,!m){e.next=36;break}throw y;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return O=void 0,T=void 0,e.prev=40,e.next=43,(0,h.resolve)(this._getSecretStorageKey(f));case 43:E=e.sent,C=(0,l.default)(E,2),O=C[0],T=C[1],I=n.encrypted[O],e.t2=f[O].algorithm,e.next=e.t2===j?51:52;break;case 51:return e.abrupt("return",T.decrypt(I.ephemeral,I.mac,I.ciphertext));case 52:return e.prev=52,T&&T.free(),e.finish(52);case 55:case"end":return e.stop()}}),e,this,[[10,26,30,38],[31,,33,37],[40,,52,55]])}))),function(e){return M.apply(this,arguments)})},{key:"isStored",value:function(e,t){var r=this._baseApis.getAccountData(e);if(!r)return!1;void 0===t&&(t=!0);var n=r.getContent();if(!n.encrypted)return!1;var l=!0,d=!1,h=void 0;try{for(var f,v=(0,c.default)((0,o.default)(n.encrypted));!(l=(f=v.next()).done);l=!0){var m=f.value,y=this._baseApis.getAccountData("m.secret_storage.key."+m).getContent(),_=n.encrypted[m];switch(t&&(0,x.pkVerify)(y,this._crossSigningInfo.getId("master"),this._crossSigningInfo.userId),y.algorithm){case j:if(y.pubkey&&_.ciphertext&&_.mac&&_.ephemeral)return!0}}}catch(e){d=!0,h=e}finally{try{!l&&v.return&&v.return()}finally{if(d)throw h}}return!1}},{key:"request",value:function(e,t){var r=this,o=this._baseApis.makeTxnId(),l=this._requests[o]={devices:t},d=new f.default((function(e,t){l.resolve=e,l.reject=t})),h={name:e,action:"request",requesting_device_id:this._baseApis.deviceId,request_id:o},v={},m=!0,y=!1,_=void 0;try{for(var w,k=(0,c.default)(t);!(m=(w=k.next()).done);m=!0){v[w.value]=h}}catch(e){y=!0,_=e}finally{try{!m&&k.return&&k.return()}finally{if(y)throw _}}return this._baseApis.sendToDevice("m.secret.request",(0,n.default)({},this._baseApis.getUserId(),v)),{request_id:o,promise:d,cancel:function(e){var d={action:"request_cancellation",requesting_device_id:r._baseApis.deviceId,request_id:o},h={},f=!0,v=!1,m=void 0;try{for(var y,_=(0,c.default)(t);!(f=(y=_.next()).done);f=!0){h[y.value]=d}}catch(e){v=!0,m=e}finally{try{!f&&_.return&&_.return()}finally{if(v)throw m}}r._baseApis.sendToDevice("m.secret.request",(0,n.default)({},r._baseApis.getUserId(),h)),l.reject(new Error(e||"Cancelled"))}}}},{key:"_onRequestReceived",value:(I=(0,h.coroutine)(d.default.mark((function e(t){var r,content,o,l,c,f,v;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getSender(),content=t.getContent(),r===this._baseApis.getUserId()&&content.name&&content.action&&content.requesting_device_id&&content.request_id){e.next=4;break}return e.abrupt("return");case 4:if(o=content.requesting_device_id,"request_cancellation"!==content.action){e.next=9;break}this._incomingRequests[o]&&this._incomingRequests[o][content.request_id]&&(S.default.info("received request cancellation for secret ("+r+", "+o+", "+content.request_id+")"),this.baseApis.emit("crypto.secrets.requestCancelled",{user_id:r,device_id:o,request_id:content.request_id})),e.next=40;break;case 9:if("request"!==content.action){e.next=40;break}if(o!==this._baseApis.deviceId){e.next=12;break}return e.abrupt("return");case 12:if(S.default.info("received request for secret ("+r+", "+o+", "+content.request_id+")"),this._cryptoCallbacks.onSecretRequested){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,(0,h.resolve)(this._cryptoCallbacks.onSecretRequested({user_id:r,device_id:o,request_id:content.request_id,name:content.name,device_trust:this._baseApis.checkDeviceTrust(r,o)}));case 17:if(!(l=e.sent)){e.next=40;break}return c={type:"m.secret.send",content:{request_id:content.request_id,secret:l}},f={algorithm:O.default.OLM_ALGORITHM,sender_key:this._baseApis._crypto._olmDevice.deviceCurve25519Key,ciphertext:{}},e.t0=h.resolve,e.t1=O.default,e.t2=this._baseApis._crypto._olmDevice,e.t3=this._baseApis,e.t4=n.default,e.t5={},e.t6=r,e.next=30,(0,h.resolve)(this._baseApis.getStoredDevice(r,o));case 30:return e.t7=e.sent,e.t8=[e.t7],e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.t10=e.t1.ensureOlmSessionsForDevices.call(e.t1,e.t2,e.t3,e.t9),e.next=36,(0,e.t0)(e.t10);case 36:return e.next=38,(0,h.resolve)(O.default.encryptMessageForDevice(f.ciphertext,this._baseApis.getUserId(),this._baseApis.deviceId,this._baseApis._crypto._olmDevice,r,this._baseApis._crypto.getStoredDevice(r,o),c));case 38:v=(0,n.default)({},r,(0,n.default)({},o,f)),this._baseApis.sendToDevice("m.room.encrypted",v);case 40:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"_onSecretReceived",value:function(e){if(e.getSender()===this._baseApis.getUserId()){var content=e.getContent();S.default.log("got secret share for request ",content.request_id);var t=this._requests[content.request_id];if(t){var r=this._baseApis._crypto._deviceList.getDeviceByIdentityKey(O.default.OLM_ALGORITHM,e.getSenderKey());if(!r)return void S.default.log("secret share from unknown device with key",e.getSenderKey());if(!t.devices.includes(r.deviceId))return void S.default.log("unsolicited secret share from device",r.deviceId);t.resolve(content.secret)}}}},{key:"_getSecretStorageKey",value:(k=(0,h.coroutine)(d.default.mark((function t(r){var n,o,c,v,m,y;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._cryptoCallbacks.getSecretStorageKey){t.next=2;break}throw new Error("No getSecretStorageKey callback supplied");case 2:return t.next=4,(0,h.resolve)(f.default.resolve(this._cryptoCallbacks.getSecretStorageKey({keys:r})));case 4:if(n=t.sent){t.next=7;break}throw new Error("getSecretStorageKey callback returned falsey");case 7:if(!(n.length<2)){t.next=9;break}throw new Error("getSecretStorageKey callback returned invalid data");case 9:if(o=(0,l.default)(n,2),c=o[0],v=o[1],r[c]){t.next=12;break}throw new Error("App returned unknown key from getSecretStorageKey!");case 12:t.t0=r[c].algorithm,t.next=t.t0===j?15:29;break;case 15:m=new e.Olm.PkDecryption,y=void 0,t.prev=17,y=m.init_with_private_key(v),t.next=25;break;case 21:throw t.prev=21,t.t1=t.catch(17),m.free(),new Error("getSecretStorageKey callback returned invalid key");case 25:if(y===r[c].pubkey){t.next=28;break}throw m.free(),new Error("getSecretStorageKey callback returned incorrect key");case 28:return t.abrupt("return",[c,m]);case 29:throw new Error("Unknown key type: "+r[c].algorithm);case 30:case"end":return t.stop()}}),t,this,[[17,21]])}))),function(e){return k.apply(this,arguments)})}]),r}(k.EventEmitter);t.default=M}).call(this,r(24))},,,,,,,function(e,t,r){"use strict";t.byteLength=function(e){var t=d(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,i,r=d(e),n=r[0],c=r[1],h=new l(function(e,t,r){return 3*(t+r)/4-r}(0,n,c)),f=0,v=c>0?n-4:n;for(i=0;i<v;i+=4)t=o[e.charCodeAt(i)]<<18|o[e.charCodeAt(i+1)]<<12|o[e.charCodeAt(i+2)]<<6|o[e.charCodeAt(i+3)],h[f++]=t>>16&255,h[f++]=t>>8&255,h[f++]=255&t;2===c&&(t=o[e.charCodeAt(i)]<<2|o[e.charCodeAt(i+1)]>>4,h[f++]=255&t);1===c&&(t=o[e.charCodeAt(i)]<<10|o[e.charCodeAt(i+1)]<<4|o[e.charCodeAt(i+2)]>>2,h[f++]=t>>8&255,h[f++]=255&t);return h},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,l=[],i=0,c=r-o;i<c;i+=16383)l.push(h(e,i,i+16383>c?c:i+16383));1===o?(t=e[r-1],l.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],l.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return l.join("")};for(var n=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,c=code.length;i<c;++i)n[i]=code[i],o[code.charCodeAt(i)]=i;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var o,l,output=[],i=t;i<r;i+=3)o=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),output.push(n[(l=o)>>18&63]+n[l>>12&63]+n[l>>6&63]+n[63&l]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var l,c,d=8*o-n-1,h=(1<<d)-1,f=h>>1,v=-7,i=r?o-1:0,m=r?-1:1,s=e[t+i];for(i+=m,l=s&(1<<-v)-1,s>>=-v,v+=d;v>0;l=256*l+e[t+i],i+=m,v-=8);for(c=l&(1<<-v)-1,l>>=-v,v+=n;v>0;c=256*c+e[t+i],i+=m,v-=8);if(0===l)l=1-f;else{if(l===h)return c?NaN:1/0*(s?-1:1);c+=Math.pow(2,n),l-=f}return(s?-1:1)*c*Math.pow(2,l-n)},t.write=function(e,t,r,n,o,l){var c,d,h,f=8*l-o-1,v=(1<<f)-1,m=v>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=n?0:l-1,y=n?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,c=v):(c=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-c))<1&&(c--,h*=2),(t+=c+m>=1?rt/h:rt*Math.pow(2,1-m))*h>=2&&(c++,h/=2),c+m>=v?(d=0,c=v):c+m>=1?(d=(t*h-1)*Math.pow(2,o),c+=m):(d=t*Math.pow(2,m-1)*Math.pow(2,o),c=0));o>=8;e[r+i]=255&d,i+=y,d/=256,o-=8);for(c=c<<o|d,f+=o;f>0;e[r+i]=255&c,i+=y,c/=256,f-=8);e[r+i-y]|=128*s}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=r(493);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,r){"use strict";var n=r(494).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");var t=new Uint8Array(256);t.fill(255);for(var i=0;i<e.length;i++){var r=e.charAt(i),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=i}var l=e.length,c=e.charAt(0),d=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function f(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return n.alloc(0);var e=0;if(" "!==source[e]){for(var r=0,o=0;source[e]===c;)r++,e++;for(var h=(source.length-e)*d+1>>>0,f=new Uint8Array(h);source[e];){var v=t[source.charCodeAt(e)];if(255===v)return;for(var i=0,m=h-1;(0!==v||i<o)&&-1!==m;m--,i++)v+=l*f[m]>>>0,f[m]=v%256>>>0,v=v/256>>>0;if(0!==v)throw new Error("Non-zero carry");o=i,e++}if(" "!==source[e]){for(var y=h-o;y!==h&&0===f[y];)y++;var _=n.allocUnsafe(r+(h-y));_.fill(0,0,r);for(var w=r;y!==h;)_[w++]=f[y++];return _}}}return{encode:function(source){if(!n.isBuffer(source))throw new TypeError("Expected Buffer");if(0===source.length)return"";for(var t=0,r=0,o=0,d=source.length;o!==d&&0===source[o];)o++,t++;for(var f=(d-o)*h+1>>>0,v=new Uint8Array(f);o!==d;){for(var m=source[o],i=0,y=f-1;(0!==m||i<r)&&-1!==y;y--,i++)m+=256*v[y]>>>0,v[y]=m%l>>>0,m=m/l>>>0;if(0!==m)throw new Error("Non-zero carry");r=i,o++}for(var _=f-r;_!==f&&0===v[_];)_++;for(var w=c.repeat(t);_<f;++_)w+=e.charAt(v[_]);return w},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+l+" character")}}}},function(e,t,r){var n=r(299),o=n.Buffer;function l(e,t){for(var r in e)t[r]=e[r]}function c(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(l(n,t),t.Buffer=c),c.prototype=Object.create(o.prototype),l(o,c),c.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},c.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},c.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(26)),o=m(r(29)),l=r(20),c=m(l),d=m(r(42)),h=m(r(47)),f=m(r(22)),v=m(r(21));function m(e){return e&&e.__esModule?e:{default:e}}var y=0,_=1,w=2,k=3,S=function(){function t(e,r,n){(0,d.default)(this,t),this._baseApis=e,this._deviceId=r,this._cryptoStore=n,this._sendOutgoingRoomKeyRequestsTimer=null,this._sendOutgoingRoomKeyRequestsRunning=!1,this._clientRunning=!1}var r;return(0,h.default)(t,[{key:"start",value:function(){this._clientRunning=!0,this._startTimer()}},{key:"stop",value:function(){f.default.log("stopping OutgoingRoomKeyRequestManager"),this._clientRunning=!1}},{key:"sendRoomKeyRequest",value:(r=(0,l.coroutine)(o.default.mark((function e(t,r){var n,c,d,h,v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.resolve)(this._cryptoStore.getOutgoingRoomKeyRequest(t));case 2:if(n=e.sent){e.next=8;break}return e.next=6,(0,l.resolve)(this._cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:t,recipients:r,requestId:this._baseApis.makeTxnId(),state:y}));case 6:e.next=35;break;case 8:e.t0=n.state,e.next=e.t0===k?11:e.t0===y?11:e.t0===w?12:e.t0===_?16:34;break;case 11:return e.abrupt("return");case 12:return c=v?k:_,e.next=15,(0,l.resolve)(this._cryptoStore.updateOutgoingRoomKeyRequest(n.requestId,w,{state:c,cancellationTxnId:this._baseApis.makeTxnId()}));case 15:return e.abrupt("break",35);case 16:if(!v){e.next=33;break}return d=k,e.next=20,(0,l.resolve)(this._cryptoStore.updateOutgoingRoomKeyRequest(n.requestId,_,{state:d,cancellationTxnId:this._baseApis.makeTxnId(),requestTxnId:this._baseApis.makeTxnId()}));case 20:if(h=e.sent){e.next=25;break}return e.next=24,(0,l.resolve)(this.sendRoomKeyRequest(t,r,v));case 24:return e.abrupt("return",e.sent);case 25:return e.prev=25,e.next=28,(0,l.resolve)(this._sendOutgoingRoomKeyRequestCancellation(h,!0));case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(25),f.default.error("Error sending room key request cancellation; will retry later.",e.t1);case 33:return e.abrupt("break",35);case 34:throw new Error("unhandled state: "+n.state);case 35:this._startTimer();case 36:case"end":return e.stop()}}),e,this,[[25,30]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"cancelRoomKeyRequest",value:function(e){var t=this;return this._cryptoStore.getOutgoingRoomKeyRequest(e).then((function(r){if(r)switch(r.state){case w:case k:return;case y:return f.default.log("deleting unnecessary room key request for "+x(e)),t._cryptoStore.deleteOutgoingRoomKeyRequest(r.requestId,y);case _:return t._cryptoStore.updateOutgoingRoomKeyRequest(r.requestId,_,{state:w,cancellationTxnId:t._baseApis.makeTxnId()}).then((function(r){r?t._sendOutgoingRoomKeyRequestCancellation(r).catch((function(e){f.default.error("Error sending room key request cancellation; will retry later.",e),t._startTimer()})):f.default.log("Tried to cancel room key request for "+x(e)+" but it was already cancelled in another tab")}));default:throw new Error("unhandled state: "+r.state)}}))}},{key:"getOutgoingSentRoomKeyRequest",value:function(e,t){return this._cryptoStore.getOutgoingRoomKeyRequestsByTarget(e,t,[_])}},{key:"_startTimer",value:function(){var t=this;if(!this._sendOutgoingRoomKeyRequestsTimer){this._sendOutgoingRoomKeyRequestsTimer=e.setTimeout((function(){if(t._sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");t._sendOutgoingRoomKeyRequestsRunning=!0,t._sendOutgoingRoomKeyRequests().finally((function(){t._sendOutgoingRoomKeyRequestsRunning=!1})).catch((function(e){f.default.warn("error in OutgoingRoomKeyRequestManager: "+e)}))}),500)}}},{key:"_sendOutgoingRoomKeyRequests",value:function(){var e=this;return this._clientRunning?(f.default.log("Looking for queued outgoing room key requests"),this._cryptoStore.getOutgoingRoomKeyRequestByState([w,k,y]).then((function(t){if(!t)return f.default.log("No more outgoing room key requests"),void(e._sendOutgoingRoomKeyRequestsTimer=null);var r=void 0;switch(t.state){case y:r=e._sendOutgoingRoomKeyRequest(t);break;case w:r=e._sendOutgoingRoomKeyRequestCancellation(t);break;case k:r=e._sendOutgoingRoomKeyRequestCancellation(t,!0)}return r.then((function(){return e._sendOutgoingRoomKeyRequests()})).catch((function(t){f.default.error("Error sending room key request; will retry later.",t),e._sendOutgoingRoomKeyRequestsTimer=null,e._startTimer()}))}))):(this._sendOutgoingRoomKeyRequestsTimer=null,c.default.resolve())}},{key:"_sendOutgoingRoomKeyRequest",value:function(e){var t=this;f.default.log("Requesting keys for "+x(e.requestBody)+" from "+O(e.recipients)+"(id "+e.requestId+")");var r={action:"request",requesting_device_id:this._deviceId,request_id:e.requestId,body:e.requestBody};return this._sendMessageToDevices(r,e.recipients,e.requestTxnId||e.requestId).then((function(){return t._cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,y,{state:_})}))}},{key:"_sendOutgoingRoomKeyRequestCancellation",value:function(e,t){var r=this;f.default.log("Sending cancellation for key request for "+x(e.requestBody)+" to "+O(e.recipients)+" (cancellation id "+e.cancellationTxnId+")");var n={action:"request_cancellation",requesting_device_id:this._deviceId,request_id:e.requestId};return this._sendMessageToDevices(n,e.recipients,e.cancellationTxnId).then((function(){return t?r._cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,k,{state:y}):r._cryptoStore.deleteOutgoingRoomKeyRequest(e.requestId,w)}))}},{key:"_sendMessageToDevices",value:function(e,t,r){var o={},l=!0,c=!1,d=void 0;try{for(var h,f=(0,n.default)(t);!(l=(h=f.next()).done);l=!0){var v=h.value;o[v.userId]||(o[v.userId]={}),o[v.userId][v.deviceId]=e}}catch(e){c=!0,d=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}return this._baseApis.sendToDevice("m.room_key_request",o,r)}}]),t}();function x(e){return e.room_id+" / "+e.session_id}function O(e){return"["+v.default.map(e,(function(e){return e.userId+":"+e.deviceId})).join(",")+"]"}t.default=S}).call(this,r(24))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScanQRCode=t.ShowQRCode=void 0;var n=S(r(29)),o=S(r(60)),l=S(r(26)),c=S(r(38)),d=S(r(134)),h=r(20),f=S(r(72)),v=S(r(42)),m=S(r(47)),y=S(r(73)),_=S(r(74)),w=S(r(300)),k=r(164);function S(e){return e&&e.__esModule?e:{default:e}}var x=/^(?:https?:\/\/)?(?:www\.)?matrix\.to\/#\/([#@!+][^?]+)\?(.+)$/,O=/^key_([^:]+:.+)$/,T=(0,k.errorFactory)("m.qr_code.invalid","Invalid QR code");(t.ShowQRCode=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,m.default)(t,[{key:"_doVerification",value:function(){if(!this._done){var e="https://matrix.to/#/"+this._baseApis.getUserId()+"?device="+encodeURIComponent(this._baseApis.deviceId)+"&action=verify&key_ed25519%3A"+encodeURIComponent(this._baseApis.deviceId)+"="+encodeURIComponent(this._baseApis.getDeviceEd25519Key());this.emit("show_qr_code",{url:e})}}}]),t}(w.default)).NAME="m.qr_code.show.v1",(t.ScanQRCode=function(e){function t(){return(0,v.default)(this,t),(0,y.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}var r;return(0,_.default)(t,e),(0,m.default)(t,[{key:"_doVerification",value:(r=(0,h.coroutine)(n.default.mark((function e(){var code,t,r,f,v,m,y,_,w,S,E,C,I,j,M,R,A=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(new d.default((function(e,t){A.emit("scan",{done:e,cancel:function(){return t((0,k.newUserCancelledError)())}})})));case 2:if(code=e.sent,t=code.match(x),r=void 0,f={},t){e.next=8;break}throw T();case 8:for(v=t[1],m=t[2].split("&").map((function(e){return e.split("=",2).map(decodeURIComponent)})),y=void 0,_=!0,w=!1,S=void 0,e.prev=14,E=(0,l.default)(m);!(_=(C=E.next()).done);_=!0)I=(0,o.default)(C.value,2),j=I[0],M=I[1],"device"===j?r=M:"action"===j?y=M:(R=j.match(O))&&(f[R[1]]=M);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),w=!0,S=e.t0;case 22:e.prev=22,e.prev=23,!_&&E.return&&E.return();case 25:if(e.prev=25,!w){e.next=28;break}throw S;case 28:return e.finish(25);case 29:return e.finish(22);case 30:if(r&&"verify"===y&&0!==(0,c.default)(f).length){e.next=32;break}throw T();case 32:if(this.userId){e.next=37;break}return e.next=35,(0,h.resolve)(new d.default((function(e,t){A.emit("confirm_user_id",{userId:v,confirm:e,cancel:function(){return t((0,k.newUserMismatchError)())}})})));case 35:e.next=39;break;case 37:if(this.userId===v){e.next=39;break}throw(0,k.newUserMismatchError)({expected:this.userId,actual:v});case 39:return e.next=41,(0,h.resolve)(this._verifyKeys(v,f,(function(e,t,r){if(t.keys[e]!==r)throw(0,k.newKeyMismatchError)()})));case 41:case"end":return e.stop()}}),e,this,[[14,18,22,30],[23,,25,29]])}))),function(){return r.apply(this,arguments)})}],[{key:"factory",value:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return new(Function.prototype.bind.apply(t,[null].concat(r)))}}]),t}(w.default)).NAME="m.qr_code.scan.v1"},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=O(r(60)),o=O(r(134)),l=O(r(29)),c=r(20),d=O(r(72)),h=O(r(42)),f=O(r(47)),v=O(r(73)),m=O(r(74)),y=O(r(130)),_=O(r(38)),w=O(r(26)),k=O(r(300)),S=O(r(214)),x=r(164);function O(e){return e&&e.__esModule?e:{default:e}}var T=["m.key.verification.accept","m.key.verification.key","m.key.verification.mac"],E=void 0,C=(0,x.errorFactory)("m.mismatched_sas","Mismatched short authentication string"),I=(0,x.errorFactory)("m.mismatched_commitment","Mismatched commitment");var j=[["","dog"],["","cat"],["","lion"],["","horse"],["","unicorn"],["","pig"],["","elephant"],["","rabbit"],["","panda"],["","rooster"],["","penguin"],["","turtle"],["","fish"],["","octopus"],["","butterfly"],["","flower"],["","tree"],["","cactus"],["","mushroom"],["","globe"],["","moon"],["","cloud"],["","fire"],["","banana"],["","apple"],["","strawberry"],["","corn"],["","pizza"],["","cake"],["","heart"],["","smiley"],["","robot"],["","hat"],["","glasses"],["","spanner"],["","santa"],["","thumbs up"],["","umbrella"],["","hourglass"],["","clock"],["","gift"],["","light bulb"],["","book"],["","pencil"],["","paperclip"],["","scissors"],["","padlock"],["","key"],["","hammer"],["","telephone"],["","flag"],["","train"],["","bicycle"],["","aeroplane"],["","rocket"],["","trophy"],["","ball"],["","guitar"],["","trumpet"],["","bell"],["","anchor"],["","headphones"],["","folder"],["","pin"]];var M={decimal:function(e){return[1e3+(e[0]<<5|e[1]>>3),1e3+((7&e[1])<<10|e[2]<<2|e[3]>>6),1e3+((63&e[3])<<7|e[4]>>1)]},emoji:function(e){return[e[0]>>2,(3&e[0])<<4|e[1]>>4,(15&e[1])<<2|e[2]>>6,63&e[2],e[3]>>2,(3&e[3])<<4|e[4]>>4,(15&e[4])<<2|e[5]>>6].map((function(e){return j[e]}))}};function R(e,t){var r={},n=!0,o=!1,l=void 0;try{for(var c,d=(0,w.default)(t);!(n=(c=d.next()).done);n=!0){var h=c.value;h in M&&(r[h]=M[h](e))}}catch(e){o=!0,l=e}finally{try{!n&&d.return&&d.return()}finally{if(o)throw l}}return r}var A={"hkdf-hmac-sha256":"calculate_mac","hmac-sha256":"calculate_mac_long_kdf"},P=["curve25519"],B=["sha256"],D=["hkdf-hmac-sha256","hmac-sha256"],L=(0,_.default)(M),z=new y.default(P),F=new y.default(B),N=new y.default(D),V=new y.default(L);function H(e,t){return e instanceof Array?e.filter((function(e){return t.has(e)})):[]}var $=function(t){function r(){return(0,h.default)(this,r),(0,v.default)(this,(r.__proto__||(0,d.default)(r)).apply(this,arguments))}var w,k,O,j;return(0,m.default)(r,t),(0,f.default)(r,[{key:"_doVerification",value:(j=(0,c.coroutine)(l.default.mark((function t(){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.resolve)(e.Olm.init());case 2:return E=E||new e.Olm.Utility,t.next=5,(0,c.resolve)(this._baseApis.downloadKeys([this.userId]));case 5:if(!this.startEvent){t.next=11;break}return t.next=8,(0,c.resolve)(this._doRespondVerification());case 8:return t.abrupt("return",t.sent);case 11:return t.next=13,(0,c.resolve)(this._doSendVerification());case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)}))),function(){return j.apply(this,arguments)})},{key:"_doSendVerification",value:(O=(0,c.coroutine)(l.default.mark((function t(){var d,h,content,f,v,m,y,_,w,k,O,T,j,M=this;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=this._contentWithTxnId({method:r.NAME,from_device:this._baseApis.deviceId,key_agreement_protocols:P,hashes:B,message_authentication_codes:D,short_authentication_string:L}),this._sendWithTxnId("m.key.verification.start",d),t.next=4,(0,c.resolve)(this._waitForEvent("m.key.verification.accept"));case 4:if(h=t.sent,content=h.getContent(),f=H(content.short_authentication_string,V),z.has(content.key_agreement_protocol)&&F.has(content.hash)&&N.has(content.message_authentication_code)&&f.length){t.next=9;break}throw(0,x.newUnknownMethodError)();case 9:if("string"==typeof content.commitment){t.next=11;break}throw(0,x.newInvalidMessageError)();case 11:return v=content.message_authentication_code,m=content.commitment,y=new e.Olm.SAS,t.prev=14,this._send("m.key.verification.key",{key:y.get_pubkey()}),t.next=18,(0,c.resolve)(this._waitForEvent("m.key.verification.key"));case 18:if(h=t.sent,content=h.getContent(),_=content.key+S.default.stringify(d),E.sha256(_)===m){t.next=23;break}throw I();case 23:return y.set_their_key(content.key),w="MATRIX_KEY_VERIFICATION_SAS"+this._baseApis.getUserId()+this._baseApis.deviceId+this.userId+this.deviceId+this.transactionId,k=y.generate_bytes(w,6),O=new o.default((function(e,t){M.emit("show_sas",{sas:R(k,f),confirm:function(){M._sendMAC(y,v),e()},cancel:function(){return t((0,x.newUserCancelledError)())},mismatch:function(){return t(C())}})})),t.next=29,(0,c.resolve)(o.default.all([this._waitForEvent("m.key.verification.mac"),O]));case 29:return T=t.sent,j=(0,n.default)(T,1),h=j[0],content=h.getContent(),t.next=35,(0,c.resolve)(this._checkMAC(y,content,v));case 35:return t.prev=35,y.free(),t.finish(35);case 38:case"end":return t.stop()}}),t,this,[[14,,35,38]])}))),function(){return O.apply(this,arguments)})},{key:"_doRespondVerification",value:(k=(0,c.coroutine)(l.default.mark((function t(){var content,r,d,h,f,v,m,_,w,k,O,T,I,j=this;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(content=this._contentFromEventWithTxnId(this.startEvent),r=H(P,new y.default(content.key_agreement_protocols))[0],d=H(B,new y.default(content.hashes))[0],h=H(D,new y.default(content.message_authentication_codes))[0],f=H(content.short_authentication_string,V),void 0!==r&&void 0!==d&&void 0!==h&&f.length){t.next=7;break}throw(0,x.newUnknownMethodError)();case 7:return v=new e.Olm.SAS,t.prev=8,m=v.get_pubkey()+S.default.stringify(content),this._send("m.key.verification.accept",{key_agreement_protocol:r,hash:d,message_authentication_code:h,short_authentication_string:f,commitment:E.sha256(m)}),t.next=13,(0,c.resolve)(this._waitForEvent("m.key.verification.key"));case 13:return _=t.sent,content=_.getContent(),v.set_their_key(content.key),this._send("m.key.verification.key",{key:v.get_pubkey()}),w="MATRIX_KEY_VERIFICATION_SAS"+this.userId+this.deviceId+this._baseApis.getUserId()+this._baseApis.deviceId+this.transactionId,k=v.generate_bytes(w,6),O=new o.default((function(e,t){j.emit("show_sas",{sas:R(k,f),confirm:function(){j._sendMAC(v,h),e()},cancel:function(){return t((0,x.newUserCancelledError)())},mismatch:function(){return t(C())}})})),t.next=22,(0,c.resolve)(o.default.all([this._waitForEvent("m.key.verification.mac"),O]));case 22:return T=t.sent,I=(0,n.default)(T,1),_=I[0],content=_.getContent(),t.next=28,(0,c.resolve)(this._checkMAC(v,content,h));case 28:return t.prev=28,v.free(),t.finish(28);case 31:case"end":return t.stop()}}),t,this,[[8,,28,31]])}))),function(){return k.apply(this,arguments)})},{key:"_sendMAC",value:function(e,t){var r={},n=[],o="MATRIX_KEY_VERIFICATION_MAC"+this._baseApis.getUserId()+this._baseApis.deviceId+this.userId+this.deviceId+this.transactionId,l="ed25519:"+this._baseApis.deviceId;r[l]=e[A[t]](this._baseApis.getDeviceEd25519Key(),o+l),n.push(l);var c=this._baseApis.getCrossSigningId();if(c){var d="ed25519:"+c;r[d]=e[A[t]](c,o+d),n.push(d)}var h=e[A[t]](n.sort().join(","),o+"KEY_IDS");this._send("m.key.verification.mac",{mac:r,keys:h})}},{key:"_checkMAC",value:(w=(0,c.coroutine)(l.default.mark((function e(t,content,r){var n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="MATRIX_KEY_VERIFICATION_MAC"+this.userId+this.deviceId+this._baseApis.getUserId()+this._baseApis.deviceId+this.transactionId,content.keys===t[A[r]]((0,_.default)(content.mac).sort().join(","),n+"KEY_IDS")){e.next=3;break}throw(0,x.newKeyMismatchError)();case 3:return e.next=5,(0,c.resolve)(this._verifyKeys(this.userId,content.mac,(function(e,o,l){if(l!==t[A[r]](o.keys[e],n+e))throw(0,x.newKeyMismatchError)()})));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return w.apply(this,arguments)})},{key:"events",get:function(){return T}}]),r}(k.default);t.default=$,$.NAME="m.sas.v1"}).call(this,r(24))},function(e,t,r){"use strict";(function(t){var n,o=y(r(26)),l=y(r(38)),c=y(r(66)),d=y(r(29)),h=r(20),f=(n=(0,h.coroutine)(d.default.mark((function e(t,r,n){return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(t.doTxn("readwrite",[m.default.STORE_ACCOUNT],(function(e){t.getAccount(e,(function(o){null!==o?n.unpickle(r,o):(n.create(),o=n.pickle(r),t.storeAccount(e,o))}))})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)}),v=y(r(22)),m=y(r(132));function y(e){return e&&e.__esModule?e:{default:e}}var _,w,k,S,x,O,T,E,C,I,j,M,R;function A(e){if(void 0===e)throw new Error("payloadString undefined");if(e.length>49152)throw new Error("Message too long ("+e.length+" bytes). The maximum for an encrypted message is 49152 bytes.")}function P(e){this._cryptoStore=e,this._pickleKey="DEFAULT_KEY",this.deviceCurve25519Key=null,this.deviceEd25519Key=null,this._maxOneTimeKeys=null,this._outboundGroupSessionStore={},this._inboundGroupSessionMessageIndexes={},this._sessionsInProgress={}}P.prototype.init=(0,h.coroutine)(d.default.mark((function e(){var r,n;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,n=new t.Olm.Account,e.prev=2,e.next=5,(0,h.resolve)(f(this._cryptoStore,this._pickleKey,n));case 5:r=JSON.parse(n.identity_keys()),this._maxOneTimeKeys=n.max_number_of_one_time_keys();case 7:return e.prev=7,n.free(),e.finish(7);case 10:this.deviceCurve25519Key=r.curve25519,this.deviceEd25519Key=r.ed25519;case 12:case"end":return e.stop()}}),e,this,[[2,,7,10]])}))),P.getOlmVersion=function(){return t.Olm.get_library_version()},P.prototype._getAccount=function(e,r){var n=this;this._cryptoStore.getAccount(e,(function(e){var o=new t.Olm.Account;try{o.unpickle(n._pickleKey,e),r(o)}finally{o.free()}}))},P.prototype._storeAccount=function(e,t){this._cryptoStore.storeAccount(e,t.pickle(this._pickleKey))},P.prototype._getSession=function(e,t,r,n){var o=this;this._cryptoStore.getEndToEndSession(e,t,r,(function(e){o._unpickleSession(e,n)}))},P.prototype._unpickleSession=function(e,r){var n=new t.Olm.Session;try{n.unpickle(this._pickleKey,e.session),r((0,c.default)({},e,{session:n}))}finally{n.free()}},P.prototype._saveSession=function(e,t,r){var n=t.session.session_id(),o=(0,c.default)(t,{session:t.session.pickle(this._pickleKey)});this._cryptoStore.storeEndToEndSession(e,n,o,r)},P.prototype._getUtility=function(e){var r=new t.Olm.Utility;try{return e(r)}finally{r.free()}},P.prototype.sign=(_=(0,h.coroutine)(d.default.mark((function e(t){var r,n=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_ACCOUNT],(function(e){n._getAccount(e,(function(e){r=e.sign(t)}))})));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)}),P.prototype.getOneTimeKeys=(0,h.coroutine)(d.default.mark((function e(){var t,r=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_ACCOUNT],(function(e){r._getAccount(e,(function(e){t=JSON.parse(e.one_time_keys())}))})));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),P.prototype.maxNumberOfOneTimeKeys=function(){return this._maxOneTimeKeys},P.prototype.markKeysAsPublished=(0,h.coroutine)(d.default.mark((function e(){var t=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_ACCOUNT],(function(e){t._getAccount(e,(function(r){r.mark_keys_as_published(),t._storeAccount(e,r)}))})));case 2:case"end":return e.stop()}}),e,this)}))),P.prototype.generateOneTimeKeys=function(e){var t=this;return this._cryptoStore.doTxn("readwrite",[m.default.STORE_ACCOUNT],(function(r){t._getAccount(r,(function(n){n.generate_one_time_keys(e),t._storeAccount(r,n)}))}))},P.prototype.createOutboundSession=(w=(0,h.coroutine)(d.default.mark((function e(r,n){var o,l=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_ACCOUNT,m.default.STORE_SESSIONS],(function(e){l._getAccount(e,(function(c){var d=new t.Olm.Session;try{d.create_outbound(c,r,n),o=d.session_id(),l._storeAccount(e,c);var h={session:d,lastReceivedMessageTs:Date.now()};l._saveSession(r,h,e)}finally{d.free()}}))})));case 3:return e.abrupt("return",o);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)}),P.prototype.createInboundSession=(k=(0,h.coroutine)(d.default.mark((function e(r,n,o){var l,c=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n){e.next=2;break}throw new Error("Need messageType == 0 to create inbound session");case 2:return l=void 0,e.next=5,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_ACCOUNT,m.default.STORE_SESSIONS],(function(e){c._getAccount(e,(function(d){var h=new t.Olm.Session;try{h.create_inbound_from(d,r,o),d.remove_one_time_keys(h),c._storeAccount(e,d);var f=h.decrypt(n,o),v={session:h,lastReceivedMessageTs:Date.now()};c._saveSession(r,v,e),l={payload:f,session_id:h.session_id()}}finally{h.free()}}))})));case 5:return e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return k.apply(this,arguments)}),P.prototype.getSessionIdsForDevice=(S=(0,h.coroutine)(d.default.mark((function e(t){var r,n=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._sessionsInProgress[t]){e.next=9;break}return v.default.log("waiting for olm session to be created"),e.prev=2,e.next=5,(0,h.resolve)(this._sessionsInProgress[t]);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:return r=void 0,e.next=12,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_SESSIONS],(function(e){n._cryptoStore.getEndToEndSessions(t,e,(function(e){r=(0,l.default)(e)}))})));case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e){return S.apply(this,arguments)}),P.prototype.getSessionIdForDevice=(x=(0,h.coroutine)(d.default.mark((function e(t,r){var n,o,i,l,c,f,v;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this.getSessionInfoForDevice(t,r));case 2:if(0!==(n=e.sent).length){e.next=5;break}return e.abrupt("return",null);case 5:for(o=0,i=1;i<n.length;i++)l=n[i],c=void 0===l.lastReceivedMessageTs?0:l.lastReceivedMessageTs,f=n[o],v=void 0===f.lastReceivedMessageTs?0:f.lastReceivedMessageTs,(c>v||c===v&&l.sessionId<f.sessionId)&&(o=i);return e.abrupt("return",n[o].sessionId);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)}),P.prototype.getSessionInfoForDevice=(O=(0,h.coroutine)(d.default.mark((function e(t,r){var n,c=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._sessionsInProgress[t]||r){e.next=9;break}return v.default.log("waiting for olm session to be created"),e.prev=2,e.next=5,(0,h.resolve)(this._sessionsInProgress[t]);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:return n=[],e.next=12,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_SESSIONS],(function(e){c._cryptoStore.getEndToEndSessions(t,e,(function(e){var t=(0,l.default)(e).sort(),r=!0,d=!1,h=void 0;try{for(var f,v=function(){var t=f.value;c._unpickleSession(e[t],(function(e){n.push({lastReceivedMessageTs:e.lastReceivedMessageTs,hasReceivedMessage:e.session.has_received_message(),sessionId:t})}))},m=(0,o.default)(t);!(r=(f=m.next()).done);r=!0)v()}catch(e){d=!0,h=e}finally{try{!r&&m.return&&m.return()}finally{if(d)throw h}}}))})));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e,t){return O.apply(this,arguments)}),P.prototype.encryptMessage=(T=(0,h.coroutine)(d.default.mark((function e(t,r,n){var o,l=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(n),o=void 0,e.next=4,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_SESSIONS],(function(e){l._getSession(t,r,e,(function(c){var d=c.session.describe();v.default.log("encryptMessage: Olm Session ID "+r+" to "+t+": "+d),o=c.session.encrypt(n),l._saveSession(t,c,e)}))})));case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return T.apply(this,arguments)}),P.prototype.decryptMessage=(E=(0,h.coroutine)(d.default.mark((function e(t,r,n,o){var l,c=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_SESSIONS],(function(e){c._getSession(t,r,e,(function(d){var h=d.session.describe();v.default.log("decryptMessage: Olm Session ID "+r+" from "+t+": "+h),l=d.session.decrypt(n,o),d.lastReceivedMessageTs=Date.now(),c._saveSession(t,d,e)}))})));case 3:return e.abrupt("return",l);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return E.apply(this,arguments)}),P.prototype.matchesSession=(C=(0,h.coroutine)(d.default.mark((function e(t,r,n,o){var l,c=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n){e.next=2;break}return e.abrupt("return",!1);case 2:return l=void 0,e.next=5,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_SESSIONS],(function(e){c._getSession(t,r,e,(function(e){l=e.session.matches_inbound(o)}))})));case 5:return e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return C.apply(this,arguments)}),P.prototype._saveOutboundGroupSession=function(e){var t=e.pickle(this._pickleKey);this._outboundGroupSessionStore[e.session_id()]=t},P.prototype._getOutboundGroupSession=function(e,r){var n=this._outboundGroupSessionStore[e];if(void 0===n)throw new Error("Unknown outbound group session "+e);var o=new t.Olm.OutboundGroupSession;try{return o.unpickle(this._pickleKey,n),r(o)}finally{o.free()}},P.prototype.createOutboundGroupSession=function(){var e=new t.Olm.OutboundGroupSession;try{return e.create(),this._saveOutboundGroupSession(e),e.session_id()}finally{e.free()}},P.prototype.encryptGroupMessage=function(e,t){var r=this;return v.default.log("encrypting msg with megolm session "+e),A(t),this._getOutboundGroupSession(e,(function(e){var n=e.encrypt(t);return r._saveOutboundGroupSession(e),n}))},P.prototype.getOutboundGroupSessionKey=function(e){return this._getOutboundGroupSession(e,(function(e){return{chain_index:e.message_index(),key:e.session_key()}}))},P.prototype._unpickleInboundGroupSession=function(e,r){var n=new t.Olm.InboundGroupSession;try{return n.unpickle(this._pickleKey,e.session),r(n)}finally{n.free()}},P.prototype._getInboundGroupSession=function(e,t,r,n,o){var l=this;this._cryptoStore.getEndToEndInboundGroupSession(t,r,n,(function(t){if(null!==t){if(null!==e&&e!==t.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+t.room_id+", was "+e+")");l._unpickleInboundGroupSession(t,(function(e){o(e,t)}))}else o(null)}))},P.prototype.addInboundGroupSession=(I=(0,h.coroutine)(d.default.mark((function e(r,n,o,l,c,f,y){var _=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_INBOUND_GROUP_SESSIONS],(function(e){_._getInboundGroupSession(r,n,l,e,(function(d,h){var m=new t.Olm.InboundGroupSession;try{if(y?m.import_session(c):m.create(c),l!=m.session_id())throw new Error("Mismatched group session ID from senderKey: "+n);if(d&&(v.default.log("Update for megolm session "+n+"/"+l),d.first_known_index()<=m.first_known_index()))return void v.default.log("Keeping existing megolm session "+l);var w={room_id:r,session:m.pickle(_._pickleKey),keysClaimed:f,forwardingCurve25519KeyChain:o};_._cryptoStore.storeEndToEndInboundGroupSession(n,l,w,e)}finally{m.free()}}))})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,l,c){return I.apply(this,arguments)}),P.prototype.decryptGroupMessage=(j=(0,h.coroutine)(d.default.mark((function e(t,r,n,body,o,l){var c,f=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readwrite",[m.default.STORE_INBOUND_GROUP_SESSIONS],(function(e){f._getInboundGroupSession(t,r,n,e,(function(t,d){if(null!==t){var h=t.decrypt(body),v=h.plaintext;if(void 0===v)v=h;else{var m=r+"|"+n+"|"+h.message_index;if(m in f._inboundGroupSessionMessageIndexes){var y=f._inboundGroupSessionMessageIndexes[m];if(y.id!==o||y.timestamp!==l)throw new Error("Duplicate message index, possible replay attack: "+m)}f._inboundGroupSessionMessageIndexes[m]={id:o,timestamp:l}}d.session=t.pickle(f._pickleKey),f._cryptoStore.storeEndToEndInboundGroupSession(r,n,d,e),c={result:v,keysClaimed:d.keysClaimed||{},senderKey:r,forwardingCurve25519KeyChain:d.forwardingCurve25519KeyChain||[]}}else c=null}))})));case 3:return e.abrupt("return",c);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,l){return j.apply(this,arguments)}),P.prototype.hasInboundSessionKeys=(M=(0,h.coroutine)(d.default.mark((function e(t,r,n){var o,l=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_INBOUND_GROUP_SESSIONS],(function(e){l._cryptoStore.getEndToEndInboundGroupSession(r,n,e,(function(e){null!==e?t!==e.room_id?(v.default.warn("requested keys for inbound group session "+r+"|"+n+", with incorrect room_id (expected "+e.room_id+", was "+t+")"),o=!1):o=!0:o=!1}))})));case 3:return e.abrupt("return",o);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return M.apply(this,arguments)}),P.prototype.getInboundGroupSessionKey=(R=(0,h.coroutine)(d.default.mark((function e(t,r,n,o){var l,c=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=void 0,e.next=3,(0,h.resolve)(this._cryptoStore.doTxn("readonly",[m.default.STORE_INBOUND_GROUP_SESSIONS],(function(e){c._getInboundGroupSession(t,r,n,e,(function(e,t){if(null!==e){void 0===o&&(o=e.first_known_index());var r=e.export_session(o),n=(t.keysClaimed||{}).ed25519||null;l={chain_index:o,key:r,forwarding_curve25519_key_chain:t.forwardingCurve25519KeyChain||[],sender_claimed_ed25519_key:n}}else l=null}))})));case 3:return e.abrupt("return",l);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return R.apply(this,arguments)}),P.prototype.exportInboundGroupSession=function(e,t,r){return this._unpickleInboundGroupSession(r,(function(n){var o=n.first_known_index();return{sender_key:e,sender_claimed_keys:r.keysClaimed,room_id:r.room_id,session_id:t,session_key:n.export_session(o),forwarding_curve25519_key_chain:n.forwardingCurve25519KeyChain||[],first_known_index:n.first_known_index()}}))},P.prototype.verifySignature=function(e,t,r){this._getUtility((function(n){n.ed25519_verify(e,t,r)}))},e.exports=P}).call(this,r(24))},function(e,t,r){"use strict";var base=r(216);r(500),r(501),e.exports.ENCRYPTION_CLASSES=base.ENCRYPTION_CLASSES,e.exports.DECRYPTION_CLASSES=base.DECRYPTION_CLASSES,e.exports.DecryptionError=base.DecryptionError},function(e,t,r){"use strict";var n=h(r(65)),o=h(r(29)),l=r(20),c=h(l),d=h(r(22));function h(e){return e&&e.__esModule?e:{default:e}}var f,v,m,y=r(21),_=r(99),w=r(163).DeviceVerification,base=r(216);function k(e){base.EncryptionAlgorithm.call(this,e),this._sessionPrepared=!1,this._prepPromise=null}function S(e){base.DecryptionAlgorithm.call(this,e)}y.inherits(k,base.EncryptionAlgorithm),k.prototype._ensureSession=function(e){if(this._prepPromise)return this._prepPromise;if(this._sessionPrepared)return c.default.resolve();var t=this;return this._prepPromise=t._crypto.downloadKeys(e).then((function(r){return t._crypto.ensureOlmSessionsForUsers(e)})).then((function(){t._sessionPrepared=!0})).finally((function(){t._prepPromise=null})),this._prepPromise},k.prototype.encryptMessage=(f=(0,l.coroutine)(o.default.mark((function e(t,r,content){var n,d,h,f,v,m,i,k,S,x,O;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.resolve)(t.getEncryptionTargetMembers());case 2:return n=e.sent,d=y.map(n,(function(u){return u.userId})),h=this,e.next=7,(0,l.resolve)(this._ensureSession(d));case 7:f={room_id:t.roomId,type:r,content:content},v={algorithm:_.OLM_ALGORITHM,sender_key:h._olmDevice.deviceCurve25519Key,ciphertext:{}},m=[],i=0;case 11:if(!(i<d.length)){e.next=29;break}k=d[i],S=h._crypto.getStoredDevicesForUser(k),x=0;case 15:if(!(x<S.length)){e.next=26;break}if((O=S[x]).getIdentityKey()!=h._olmDevice.deviceCurve25519Key){e.next=20;break}return e.abrupt("continue",23);case 20:if(O.verified!=w.BLOCKED){e.next=22;break}return e.abrupt("continue",23);case 22:m.push(_.encryptMessageForDevice(v.ciphertext,h._userId,h._deviceId,h._olmDevice,k,O,f));case 23:++x,e.next=15;break;case 26:++i,e.next=11;break;case 29:return e.next=31,(0,l.resolve)(c.default.all(m).then((function(){return v})));case 31:return e.abrupt("return",e.sent);case 32:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)}),y.inherits(S,base.DecryptionAlgorithm),S.prototype.decryptEvent=(v=(0,l.coroutine)(o.default.mark((function e(t){var content,r,n,c,d,h,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(content=t.getWireContent(),r=content.sender_key,n=content.ciphertext){e.next=5;break}throw new base.DecryptionError("OLM_MISSING_CIPHERTEXT","Missing ciphertext");case 5:if(this._olmDevice.deviceCurve25519Key in n){e.next=7;break}throw new base.DecryptionError("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");case 7:return c=n[this._olmDevice.deviceCurve25519Key],d=void 0,e.prev=9,e.next=12,(0,l.resolve)(this._decryptMessage(r,c));case 12:d=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),new base.DecryptionError("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:r,err:e.t0});case 18:if((h=JSON.parse(d)).recipient==this._userId){e.next=21;break}throw new base.DecryptionError("OLM_BAD_RECIPIENT","Message was intented for "+h.recipient);case 21:if(h.recipient_keys.ed25519==this._olmDevice.deviceEd25519Key){e.next=23;break}throw new base.DecryptionError("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:h.recipient_keys.ed25519,our_key:this._olmDevice.deviceEd25519Key});case 23:if(h.sender==t.getSender()){e.next=25;break}throw new base.DecryptionError("OLM_FORWARDED_MESSAGE","Message forwarded from "+h.sender,{reported_sender:t.getSender()});case 25:if(h.room_id===t.getRoomId()){e.next=27;break}throw new base.DecryptionError("OLM_BAD_ROOM","Message intended for room "+h.room_id,{reported_room:t.room_id});case 27:return f=h.keys||{},e.abrupt("return",{clearEvent:h,senderCurve25519Key:r,claimedEd25519Key:f.ed25519||null});case 29:case"end":return e.stop()}}),e,this,[[9,15]])}))),function(e){return v.apply(this,arguments)}),S.prototype._decryptMessage=(m=(0,l.coroutine)(o.default.mark((function e(t,r){var c,h,i,f,v,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.resolve)(this._olmDevice.getSessionIdsForDevice(t));case 2:c=e.sent,h={},i=0;case 5:if(!(i<c.length)){e.next=26;break}return f=c[i],e.prev=7,e.next=10,(0,l.resolve)(this._olmDevice.decryptMessage(t,f,r.type,r.body));case 10:return v=e.sent,d.default.log("Decrypted Olm message from "+t+" with session "+f),e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(7),e.next=19,(0,l.resolve)(this._olmDevice.matchesSession(t,f,r.type,r.body));case 19:if(!e.sent){e.next=22;break}throw new Error("Error decrypting prekey message with existing session id "+f+": "+e.t0.message);case 22:h[f]=e.t0.message;case 23:i++,e.next=5;break;case 26:if(0===r.type){e.next=30;break}if(0!==c.length){e.next=29;break}throw new Error("No existing sessions");case 29:throw new Error("Error decrypting non-prekey message with existing sessions: "+(0,n.default)(h));case 30:return m=void 0,e.prev=31,e.next=34,(0,l.resolve)(this._olmDevice.createInboundSession(t,r.type,r.body));case 34:m=e.sent,e.next=41;break;case 37:throw e.prev=37,e.t1=e.catch(31),h["(new)"]=e.t1.message,new Error("Error decrypting prekey message: "+(0,n.default)(h));case 41:return d.default.log("created new inbound Olm session ID "+m.session_id+" with "+t),e.abrupt("return",m.payload);case 43:case"end":return e.stop()}}),e,this,[[7,15],[31,37]])}))),function(e,t){return m.apply(this,arguments)}),base.registerAlgorithm(_.OLM_ALGORITHM,k,S)},function(e,t,r){"use strict";var n=_(r(213)),o=_(r(130)),l=_(r(65)),c=_(r(133)),d=_(r(38)),h=_(r(26)),f=_(r(29)),v=r(20),m=_(v),y=_(r(22));function _(e){return e&&e.__esModule?e:{default:e}}var w,k,S,x,O,T,E=r(21),C=r(99),base=r(216);function I(e){this.sessionId=e,this.useCount=0,this.creationTime=(new Date).getTime(),this.sharedWithDevices={}}function j(e){base.EncryptionAlgorithm.call(this,e),this._setupPromise=m.default.resolve(),this._outboundSessions={},this._sessionRotationPeriodMsgs=100,this._sessionRotationPeriodMs=6048e5,void 0!==e.config.rotation_period_ms&&(this._sessionRotationPeriodMs=e.config.rotation_period_ms),void 0!==e.config.rotation_period_msgs&&(this._sessionRotationPeriodMsgs=e.config.rotation_period_msgs)}function M(e){base.DecryptionAlgorithm.call(this,e),this._pendingEvents={},this.olmlib=C}I.prototype.needsRotation=function(e,t){var r=(new Date).getTime()-this.creationTime;return(this.useCount>=e||r>=t)&&(y.default.log("Rotating megolm session after "+this.useCount+" messages, "+r+"ms"),!0)},I.prototype.markSharedWithDevice=function(e,t,r){this.sharedWithDevices[e]||(this.sharedWithDevices[e]={}),this.sharedWithDevices[e][t]=r},I.prototype.sharedWithTooManyDevices=function(e){for(var t in this.sharedWithDevices)if(this.sharedWithDevices.hasOwnProperty(t)){if(!e.hasOwnProperty(t))return y.default.log("Starting new megolm session because we shared with "+t),!0;for(var r in this.sharedWithDevices[t])if(this.sharedWithDevices[t].hasOwnProperty(r)&&!e[t].hasOwnProperty(r))return y.default.log("Starting new megolm session because we shared with "+t+":"+r),!0}},E.inherits(j,base.EncryptionAlgorithm),j.prototype._ensureOutboundSession=function(e){var t,r=(t=(0,v.coroutine)(f.default.mark((function t(r){var l,c,d,h,m;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((o=r)&&o.needsRotation(n._sessionRotationPeriodMsgs,n._sessionRotationPeriodMs)&&(y.default.log("Starting new megolm session because we need to rotate."),o=null),o&&o.sharedWithTooManyDevices(e)&&(o=null),o){t.next=10;break}return y.default.log("Starting new megolm session for room "+n._roomId),t.next=7,(0,v.resolve)(n._prepareNewSession());case 7:o=t.sent,y.default.log("Started new megolm session "+o.sessionId+" for room "+n._roomId),n._outboundSessions[o.sessionId]=o;case 10:l={},t.t0=f.default.keys(e);case 12:if((t.t1=t.t0()).done){t.next=31;break}if(c=t.t1.value,e.hasOwnProperty(c)){t.next=16;break}return t.abrupt("continue",12);case 16:d=e[c],t.t2=f.default.keys(d);case 18:if((t.t3=t.t2()).done){t.next=29;break}if(h=t.t3.value,d.hasOwnProperty(h)){t.next=22;break}return t.abrupt("continue",18);case 22:if((m=d[h]).getIdentityKey()!=n._olmDevice.deviceCurve25519Key){t.next=26;break}return t.abrupt("continue",18);case 26:o.sharedWithDevices[c]&&void 0!==o.sharedWithDevices[c][h]||(l[c]=l[c]||[],l[c].push(m)),t.next=18;break;case 29:t.next=12;break;case 31:return t.abrupt("return",n._shareKeyWithDevices(o,l));case 32:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)}),n=this,o=void 0;function l(){return o}var c=this._setupPromise.then(r);return this._setupPromise=c.then(l,l),c.then(l)},j.prototype._prepareNewSession=(0,v.coroutine)(f.default.mark((function e(){var t,r;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._olmDevice.createOutboundGroupSession(),r=this._olmDevice.getOutboundGroupSessionKey(t),e.next=4,(0,v.resolve)(this._olmDevice.addInboundGroupSession(this._roomId,this._olmDevice.deviceCurve25519Key,[],t,r.key,{ed25519:this._olmDevice.deviceEd25519Key}));case 4:return this._crypto.backupInfo&&this._crypto.backupGroupSession(this._roomId,this._olmDevice.deviceCurve25519Key,[],t,r.key).catch((function(e){y.default.log("Failed to back up megolm session",e)})),e.abrupt("return",new I(t));case 6:case"end":return e.stop()}}),e,this)}))),j.prototype._splitUserDeviceMap=function(e,t,r,n){var o=[],l=0,c=0,f=!0,v=!1,m=void 0;try{for(var _,w=(0,h.default)((0,d.default)(n));!(f=(_=w.next()).done);f=!0)for(var k=_.value,S=n[k],x=r[k],i=0;i<S.length;i++){var O=S[i],T=O.deviceId;x[T].sessionId?(y.default.log("share keys with device "+k+":"+T),c>20&&(c=0,l++),o[l]||(o[l]=[]),o[l].push({userId:k,deviceInfo:O}),c++):e.markSharedWithDevice(k,T,t)}}catch(e){v=!0,m=e}finally{try{!f&&w.return&&w.return()}finally{if(v)throw m}}return o},j.prototype._encryptAndSendKeysToDevices=function(e,t,r,n){for(var o=this,l={algorithm:C.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}},c={},f=[],i=0;i<r.length;i++){var v=r[i],y=v.userId,_=v.deviceInfo,w=_.deviceId;c[y]||(c[y]={}),c[y][w]=l,f.push(C.encryptMessageForDevice(l.ciphertext,this._userId,this._deviceId,this._olmDevice,y,_,n))}return m.default.all(f).then((function(){return o._baseApis.sendToDevice("m.room.encrypted",c).then((function(){var r=!0,n=!1,o=void 0;try{for(var l,f=(0,h.default)((0,d.default)(c));!(r=(l=f.next()).done);r=!0){var v=l.value,m=!0,y=!1,_=void 0;try{for(var w,k=(0,h.default)((0,d.default)(c[v]));!(m=(w=k.next()).done);m=!0){var S=w.value;e.markSharedWithDevice(v,S,t)}}catch(e){y=!0,_=e}finally{try{!m&&k.return&&k.return()}finally{if(y)throw _}}}}catch(e){n=!0,o=e}finally{try{!r&&f.return&&f.return()}finally{if(n)throw o}}}))}))},j.prototype.reshareKeyWithDevice=(w=(0,v.coroutine)(f.default.mark((function e(t,r,n,o){var l,d,h,m,_;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this._outboundSessions[r]){e.next=4;break}return y.default.debug("megolm session "+r+" not found: not re-sharing keys"),e.abrupt("return");case 4:if(void 0!==l.sharedWithDevices[n]){e.next=7;break}return y.default.debug("megolm session "+r+" never shared with user "+n),e.abrupt("return");case 7:if(void 0!==(d=l.sharedWithDevices[n][o.deviceId])){e.next=11;break}return y.default.debug("megolm session ID "+r+" never shared with device "+n+":"+o.deviceId),e.abrupt("return");case 11:return e.next=13,(0,v.resolve)(this._olmDevice.getInboundGroupSessionKey(this._roomId,t,r,d));case 13:if(h=e.sent){e.next=17;break}return y.default.warn("No inbound session key found for megolm "+r+": not re-sharing keys"),e.abrupt("return");case 17:return e.next=19,(0,v.resolve)(C.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,(0,c.default)({},n,(0,c.default)({},o.deviceId,o))));case 19:return m={type:"m.forwarded_room_key",content:{algorithm:C.MEGOLM_ALGORITHM,room_id:this._roomId,session_id:r,session_key:h.key,chain_index:h.chain_index,sender_key:t,sender_claimed_ed25519_key:h.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:h.forwarding_curve25519_key_chain}},_={algorithm:C.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}},e.next=23,(0,v.resolve)(C.encryptMessageForDevice(_.ciphertext,this._userId,this._deviceId,this._olmDevice,n,o,m));case 23:return e.next=25,(0,v.resolve)(this._baseApis.sendToDevice("m.room.encrypted",(0,c.default)({},n,(0,c.default)({},o.deviceId,_))));case 25:y.default.debug("Re-shared key for megolm session "+r+" with "+n+":"+o.deviceId);case 26:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return w.apply(this,arguments)}),j.prototype._shareKeyWithDevices=(k=(0,v.coroutine)(f.default.mark((function e(t,r){var n,o,l,c,i;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._olmDevice.getOutboundGroupSessionKey(t.sessionId),o={type:"m.room_key",content:{algorithm:C.MEGOLM_ALGORITHM,room_id:this._roomId,session_id:t.sessionId,session_key:n.key,chain_index:n.chain_index}},e.next=4,(0,v.resolve)(C.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,r));case 4:l=e.sent,c=this._splitUserDeviceMap(t,n.chain_index,l,r),i=0;case 7:if(!(i<c.length)){e.next=21;break}return e.prev=8,e.next=11,(0,v.resolve)(this._encryptAndSendKeysToDevices(t,n.chain_index,c[i],o));case 11:y.default.log("Completed megolm keyshare for "+t.sessionId+" in "+this._roomId+" (slice "+(i+1)+"/"+c.length+")"),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(8),y.default.log("megolm keyshare for "+t.sessionId+" in "+this._roomId+" (slice "+(i+1)+"/"+c.length+") failed"),e.t0;case 18:i++,e.next=7;break;case 21:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(e,t){return k.apply(this,arguments)}),j.prototype.encryptMessage=function(e,t,content){var r=this;return y.default.log("Starting to encrypt event for "+this._roomId),this._getDevicesInRoom(e).then((function(e){return r._checkForUnknownDevices(e),r._ensureOutboundSession(e)})).then((function(e){var n={room_id:r._roomId,type:t,content:content},o=r._olmDevice.encryptGroupMessage(e.sessionId,(0,l.default)(n)),c={algorithm:C.MEGOLM_ALGORITHM,sender_key:r._olmDevice.deviceCurve25519Key,ciphertext:o,session_id:e.sessionId,device_id:r._deviceId};return e.useCount++,c}))},j.prototype.forceDiscardSession=function(){this._setupPromise=this._setupPromise.then((function(){return null}))},j.prototype._checkForUnknownDevices=function(e){var t={};if((0,d.default)(e).forEach((function(r){(0,d.default)(e[r]).forEach((function(n){var o=e[r][n];o.isUnverified()&&!o.isKnown()&&(t[r]||(t[r]={}),t[r][n]=o)}))})),(0,d.default)(t).length)throw new base.UnknownDeviceError("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",t)},j.prototype._getDevicesInRoom=(S=(0,v.coroutine)(f.default.mark((function e(t){var r,n,o,l,c,d,h;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.resolve)(t.getEncryptionTargetMembers());case 2:return r=e.sent,n=E.map(r,(function(u){return u.userId})),o=this._crypto.getGlobalBlacklistUnverifiedDevices(),"boolean"==typeof t.getBlacklistUnverifiedDevices()&&(o=t.getBlacklistUnverifiedDevices()),e.next=8,(0,v.resolve)(this._crypto.downloadKeys(n,!1));case 8:l=e.sent,e.t0=f.default.keys(l);case 10:if((e.t1=e.t0()).done){e.next=25;break}if(c=e.t1.value,l.hasOwnProperty(c)){e.next=14;break}return e.abrupt("continue",10);case 14:d=l[c],e.t2=f.default.keys(d);case 16:if((e.t3=e.t2()).done){e.next=23;break}if(h=e.t3.value,d.hasOwnProperty(h)){e.next=20;break}return e.abrupt("continue",16);case 20:(d[h].isBlocked()||d[h].isUnverified()&&o)&&delete d[h],e.next=16;break;case 23:e.next=10;break;case 25:return e.abrupt("return",l);case 26:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)}),E.inherits(M,base.DecryptionAlgorithm),M.prototype.decryptEvent=(x=(0,v.coroutine)(f.default.mark((function e(t){var content,r,n,o;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((content=t.getWireContent()).sender_key&&content.session_id&&content.ciphertext){e.next=3;break}throw new base.DecryptionError("MEGOLM_MISSING_FIELDS","Missing fields in input");case 3:return this._addEventToPendingList(t),r=void 0,e.prev=5,e.next=8,(0,v.resolve)(this._olmDevice.decryptGroupMessage(t.getRoomId(),content.sender_key,content.session_id,content.ciphertext,t.getId(),t.getTs()));case 8:r=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),n="OLM_DECRYPT_GROUP_MESSAGE_ERROR",e.t0&&"OLM.UNKNOWN_MESSAGE_INDEX"===e.t0.message&&(this._requestKeysForEvent(t),n="OLM_UNKNOWN_MESSAGE_INDEX"),new base.DecryptionError(n,e.t0?e.t0.toString():"Unknown Error: Error is undefined",{session:content.sender_key+"|"+content.session_id});case 16:if(null!==r){e.next=19;break}throw this._requestKeysForEvent(t),new base.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:content.sender_key+"|"+content.session_id});case 19:if(this._removeEventFromPendingList(t),(o=JSON.parse(r.result)).room_id===t.getRoomId()){e.next=23;break}throw new base.DecryptionError("MEGOLM_BAD_ROOM","Message intended for room "+o.room_id);case 23:return e.abrupt("return",{clearEvent:o,senderCurve25519Key:r.senderKey,claimedEd25519Key:r.keysClaimed.ed25519,forwardingCurve25519KeyChain:r.forwardingCurve25519KeyChain});case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return x.apply(this,arguments)}),M.prototype._requestKeysForEvent=function(e){var t=e.getWireContent(),r=e.getKeyRequestRecipients(this._userId);this._crypto.requestRoomKey({room_id:e.getRoomId(),algorithm:t.algorithm,sender_key:t.sender_key,session_id:t.session_id},r)},M.prototype._addEventToPendingList=function(e){var content=e.getWireContent(),t=content.sender_key+"|"+content.session_id;this._pendingEvents[t]||(this._pendingEvents[t]=new o.default),this._pendingEvents[t].add(e)},M.prototype._removeEventFromPendingList=function(e){var content=e.getWireContent(),t=content.sender_key+"|"+content.session_id;this._pendingEvents[t]&&(this._pendingEvents[t].delete(e),0===this._pendingEvents[t].size&&delete this._pendingEvents[t])},M.prototype.onRoomKeyEvent=function(e){var t=this,content=e.getContent(),r=content.session_id,n=e.getSenderKey(),o=[],l=!1,c=void 0;if(content.room_id&&r&&content.session_key){if(n){if("m.forwarded_room_key"==e.getType()){if(l=!0,o=content.forwarding_curve25519_key_chain,E.isArray(o)||(o=[]),(o=o.slice()).push(n),!(n=content.sender_key))return void y.default.error("forwarded_room_key event is missing sender_key field");var d=content.sender_claimed_ed25519_key;if(!d)return void y.default.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field");c={ed25519:d}}else c=e.getKeysClaimed();return y.default.log("Received and adding key for megolm session "+n+"|"+r),this._olmDevice.addInboundGroupSession(content.room_id,n,o,r,content.session_key,c,l).then((function(){t._retryDecryption(n,r).then((function(e){e&&t._crypto.cancelRoomKeyRequest({algorithm:content.algorithm,room_id:content.room_id,session_id:content.session_id,sender_key:n})}))})).then((function(){t._crypto.backupInfo&&t._crypto.backupGroupSession(content.room_id,n,o,content.session_id,content.session_key,c,l).catch((function(e){y.default.log("Failed to back up megolm session",e)}))})).catch((function(e){y.default.error("Error handling m.room_key_event: "+e)}))}y.default.error("key event has no sender key (not encrypted?)")}else y.default.error("key event is missing fields")},M.prototype.hasKeysForKeyRequest=function(e){var body=e.requestBody;return this._olmDevice.hasInboundSessionKeys(body.room_id,body.sender_key,body.session_id)},M.prototype.shareKeysWithDevice=function(e){var t=this,r=e.userId,n=e.deviceId,o=this._crypto.getStoredDevice(r,n),body=e.requestBody;this.olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,(0,c.default)({},r,[o])).then((function(e){return e[r][n].sessionId?(y.default.log("sharing keys for session "+body.sender_key+"|"+body.session_id+" with device "+r+":"+n),t._buildKeyForwardingMessage(body.room_id,body.sender_key,body.session_id)):null})).then((function(e){var l={algorithm:C.OLM_ALGORITHM,sender_key:t._olmDevice.deviceCurve25519Key,ciphertext:{}};return t.olmlib.encryptMessageForDevice(l.ciphertext,t._userId,t._deviceId,t._olmDevice,r,o,e).then((function(){var e=(0,c.default)({},r,(0,c.default)({},n,l));return t._baseApis.sendToDevice("m.room.encrypted",e)}))})).done()},M.prototype._buildKeyForwardingMessage=(O=(0,v.coroutine)(f.default.mark((function e(t,r,n){var o;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.resolve)(this._olmDevice.getInboundGroupSessionKey(t,r,n));case 2:return o=e.sent,e.abrupt("return",{type:"m.forwarded_room_key",content:{algorithm:C.MEGOLM_ALGORITHM,room_id:t,sender_key:r,sender_claimed_ed25519_key:o.sender_claimed_ed25519_key,session_id:n,session_key:o.key,chain_index:o.chain_index,forwarding_curve25519_key_chain:o.forwarding_curve25519_key_chain}});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return O.apply(this,arguments)}),M.prototype.importRoomKey=function(e){var t=this;return this._olmDevice.addInboundGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0).then((function(){t._crypto.backupInfo&&t._crypto.backupGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0).catch((function(e){y.default.log("Failed to back up megolm session",e)})),t._retryDecryption(e.sender_key,e.session_id)}))},M.prototype._retryDecryption=(T=(0,v.coroutine)(f.default.mark((function e(t,r){var o,l,c=this;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t+"|"+r,l=this._pendingEvents[o]){e.next=4;break}return e.abrupt("return",!0);case 4:return delete this._pendingEvents[o],e.next=7,(0,v.resolve)(m.default.all([].concat((0,n.default)(l)).map(function(){var e=(0,v.coroutine)(f.default.mark((function e(t){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.resolve)(t.attemptDecryption(c._crypto));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,c,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())));case 7:return e.abrupt("return",!this._pendingEvents[o]);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)}),base.registerAlgorithm(C.MEGOLM_ALGORITHM,j,M)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,l=A(r(60)),c=A(r(108)),d=r(20),h=A(d),f=A(r(29)),v=A(r(38)),m=A(r(26)),y=A(r(72)),_=A(r(42)),w=A(r(47)),k=A(r(73)),S=A(r(74)),x=(n=(0,d.coroutine)(f.default.mark((function e(t,r,n,o){var l,c,h,v;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=!1,e.t0=f.default.keys(n);case 2:if((e.t1=e.t0()).done){e.next=9;break}if(c=e.t1.value,n.hasOwnProperty(c)){e.next=6;break}return e.abrupt("continue",2);case 6:c in o||(E.default.log("Device "+r+":"+c+" has been removed"),delete n[c],l=!0),e.next=2;break;case 9:e.t2=f.default.keys(o);case 10:if((e.t3=e.t2()).done){e.next=27;break}if(h=e.t3.value,o.hasOwnProperty(h)){e.next=14;break}return e.abrupt("continue",10);case 14:if((v=o[h]).user_id===r){e.next=18;break}return E.default.warn("Mismatched user_id "+v.user_id+" in keys from "+r+":"+h),e.abrupt("continue",10);case 18:if(v.device_id===h){e.next=21;break}return E.default.warn("Mismatched device_id "+v.device_id+" in keys from "+r+":"+h),e.abrupt("continue",10);case 21:return e.next=23,(0,d.resolve)(O(t,n,v));case 23:if(!e.sent){e.next=25;break}l=!0;case 25:e.next=10;break;case 27:return e.abrupt("return",l);case 28:case"end":return e.stop()}}),e,this)}))),function(e,t,r,o){return n.apply(this,arguments)}),O=(o=(0,d.coroutine)(f.default.mark((function e(t,r,n){var o,l,c,h,v,m,y;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.keys){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=n.device_id,l=n.user_id,c="ed25519:"+o,h=n.keys[c]){e.next=9;break}return E.default.warn("Device "+l+":"+o+" has no ed25519 key"),e.abrupt("return",!1);case 9:return v=n.unsigned||{},m=n.signatures||{},e.prev=11,e.next=14,(0,d.resolve)(j.default.verifySignature(t,n,l,o,h));case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(11),E.default.warn("Unable to verify signature on device "+l+":"+o+":"+e.t0),e.abrupt("return",!1);case 20:if(y=void 0,!(o in r)){e.next=28;break}if((y=r[o]).getFingerprint()==h){e.next=26;break}return E.default.warn("Ed25519 key for device "+l+":"+o+" has changed"),e.abrupt("return",!1);case 26:e.next=29;break;case 28:r[o]=y=new C.default(o);case 29:return y.keys=n.keys||{},y.algorithms=n.algorithms||[],y.unsigned=v,y.signatures=m,e.abrupt("return",!0);case 34:case"end":return e.stop()}}),e,this,[[11,16]])}))),function(e,t,r){return o.apply(this,arguments)}),T=r(49),E=A(r(22)),C=A(r(163)),I=r(292),j=A(r(99)),M=A(r(132)),R=r(21);function A(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(e,r,n){(0,_.default)(this,t);var o=(0,k.default)(this,(t.__proto__||(0,y.default)(t)).call(this));return o._cryptoStore=r,o._devices={},o._crossSigningInfo={},o._userByIdentityKey={},o._deviceTrackingStatus={},o._syncToken=null,o._serialiser=new B(e,n,o),o._keyDownloadsInProgressByUser={},o._dirty=!1,o._savePromise=null,o._resolveSavePromise=null,o._savePromiseTime=null,o._saveTimer=null,o}var r,n;return(0,S.default)(t,e),(0,w.default)(t,[{key:"load",value:(n=(0,d.coroutine)(f.default.mark((function e(){var t,r,n,o,l,u,c=this;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(this._cryptoStore.doTxn("readonly",[M.default.STORE_DEVICE_DATA],(function(e){c._cryptoStore.getEndToEndDeviceData(e,(function(e){c._devices=e?e.devices:{},c._ssks=e&&e.self_signing_keys||{},c._deviceTrackingStatus=e?e.trackingStatus:{},c._syncToken=e?e.syncToken:null,c._userByIdentityKey={};var t=!0,r=!1,n=void 0;try{for(var o,l=(0,m.default)((0,v.default)(c._devices));!(t=(o=l.next()).done);t=!0){var d=o.value,h=c._devices[d],f=!0,y=!1,_=void 0;try{for(var w,k=(0,m.default)((0,v.default)(h));!(f=(w=k.next()).done);f=!0){var S=w.value,x=h[S].keys["curve25519:"+S];void 0!==x&&(c._userByIdentityKey[x]=d)}}catch(e){y=!0,_=e}finally{try{!f&&k.return&&k.return()}finally{if(y)throw _}}}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}}))})));case 2:for(t=!0,r=!1,n=void 0,e.prev=5,o=(0,m.default)((0,v.default)(this._deviceTrackingStatus));!(t=(l=o.next()).done);t=!0)u=l.value,2==this._deviceTrackingStatus[u]&&(this._deviceTrackingStatus[u]=1);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),r=!0,n=e.t0;case 13:e.prev=13,e.prev=14,!t&&o.return&&o.return();case 16:if(e.prev=16,!r){e.next=19;break}throw n;case 19:return e.finish(16);case 20:return e.finish(13);case 21:case"end":return e.stop()}}),e,this,[[5,9,13,21],[14,,16,20]])}))),function(){return n.apply(this,arguments)})},{key:"stop",value:function(){null!==this._saveTimer&&clearTimeout(this._saveTimer)}},{key:"saveIfDirty",value:(r=(0,d.method)((function(e){var t=this;if(!this._dirty)return h.default.resolve(!1);void 0===e&&(e=500);var r=Date.now+e;this._savePromiseTime&&r<this._savePromiseTime&&(clearTimeout(this._saveTimer),this._saveTimer=null,this._savePromiseTime=null);var n=this._savePromise;if(null===n&&(n=new h.default((function(e,r){t._resolveSavePromise=e})),this._savePromise=n),null===this._saveTimer){var o=this._resolveSavePromise;this._savePromiseTime=r,this._saveTimer=setTimeout((function(){E.default.log("Saving device tracking data at token "+t._syncToken),t._savePromiseTime=null,t._saveTimer=null,t._savePromise=null,t._resolveSavePromise=null,t._dirty=!1,t._cryptoStore.doTxn("readwrite",[M.default.STORE_DEVICE_DATA],(function(e){t._cryptoStore.storeEndToEndDeviceData({devices:t._devices,self_signing_keys:t._ssks,trackingStatus:t._deviceTrackingStatus,syncToken:t._syncToken},e)})).then((function(){o()}))}),e)}return n})),function(e){return r.apply(this,arguments)})},{key:"getSyncToken",value:function(){return this._syncToken}},{key:"setSyncToken",value:function(e){this._syncToken=e}},{key:"downloadKeys",value:function(e,t){var r=this,n=[],o=[];if(e.forEach((function(u){var e=r._deviceTrackingStatus[u];r._keyDownloadsInProgressByUser[u]?(E.default.log("downloadKeys: already have a download in progress for "+u+": awaiting its result"),o.push(r._keyDownloadsInProgressByUser[u])):(t||3!=e)&&n.push(u)})),0!=n.length){E.default.log("downloadKeys: downloading for",n);var l=this._doKeyDownload(n);o.push(l)}return 0===o.length&&E.default.log("downloadKeys: already have all necessary keys"),h.default.all(o).then((function(){return r._getDevicesFromStore(e)}))}},{key:"_getDevicesFromStore",value:function(e){var t={},r=this;return e.map((function(u){t[u]={},(r.getStoredDevicesForUser(u)||[]).map((function(e){t[u][e.deviceId]=e}))})),t}},{key:"getStoredDevicesForUser",value:function(e){var t=this._devices[e];if(!t)return null;var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(C.default.fromStorage(t[n],n));return r}},{key:"getRawStoredDevicesForUser",value:function(e){return this._devices[e]}},{key:"getStoredCrossSigningForUser",value:function(e){return this._crossSigningInfo[e]?I.CrossSigningInfo.fromStorage(this._crossSigningInfo[e],e):null}},{key:"storeCrossSigningForUser",value:function(e,t){this._crossSigningInfo[e]=t,this._dirty=!0}},{key:"getStoredDevice",value:function(e,t){var r=this._devices[e];if(r&&r[t])return C.default.fromStorage(r[t],t)}},{key:"getDeviceByIdentityKey",value:function(e,t){var r=this._userByIdentityKey[t];if(!r)return null;if(e!==j.default.OLM_ALGORITHM&&e!==j.default.MEGOLM_ALGORITHM)return null;var n=this._devices[r];if(!n)return null;for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];for(var c in l.keys){if(l.keys.hasOwnProperty(c))if(0===c.indexOf("curve25519:"))if(l.keys[c]==t)return C.default.fromStorage(l,o)}}return null}},{key:"storeDevicesForUser",value:function(u,e){if(void 0!==this._devices[u]){var t=!0,r=!1,n=void 0;try{for(var o,d=(0,m.default)((0,c.default)(this._devices[u]));!(t=(o=d.next()).done);t=!0){var h=(0,l.default)(o.value,2),f=h[0],v=h[1].keys["curve25519:"+f];delete this._userByIdentityKey[v]}}catch(e){r=!0,n=e}finally{try{!t&&d.return&&d.return()}finally{if(r)throw n}}}this._devices[u]=e;var y=!0,_=!1,w=void 0;try{for(var k,S=(0,m.default)((0,c.default)(e));!(y=(k=S.next()).done);y=!0){var x=(0,l.default)(k.value,2),O=(f=x[0],x[1].keys["curve25519:"+f]);this._userByIdentityKey[O]=u}}catch(e){_=!0,w=e}finally{try{!y&&S.return&&S.return()}finally{if(_)throw w}}this._dirty=!0}},{key:"startTrackingDeviceList",value:function(e){if("string"!=typeof e)throw new Error("userId must be a string; was "+e);this._deviceTrackingStatus[e]||(E.default.log("Now tracking device list for "+e),this._deviceTrackingStatus[e]=1,this._dirty=!0)}},{key:"stopTrackingDeviceList",value:function(e){this._deviceTrackingStatus[e]&&(E.default.log("No longer tracking device list for "+e),this._deviceTrackingStatus[e]=0,this._dirty=!0)}},{key:"stopTrackingAllDeviceLists",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=(0,m.default)((0,v.default)(this._deviceTrackingStatus));!(e=(n=o.next()).done);e=!0){var l=n.value;this._deviceTrackingStatus[l]=0}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}this._dirty=!0}},{key:"invalidateUserDeviceList",value:function(e){this._deviceTrackingStatus[e]&&(E.default.log("Marking device list outdated for",e),this._deviceTrackingStatus[e]=1,this._dirty=!0)}},{key:"refreshOutdatedDeviceLists",value:function(){this.saveIfDirty();var e=[],t=!0,r=!1,n=void 0;try{for(var o,l=(0,m.default)((0,v.default)(this._deviceTrackingStatus));!(t=(o=l.next()).done);t=!0){var c=o.value;1==this._deviceTrackingStatus[c]&&e.push(c)}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return this._doKeyDownload(e)}},{key:"_setRawStoredDevicesForUser",value:function(e,t){if(void 0!==this._devices[e]){var r=!0,n=!1,o=void 0;try{for(var d,h=(0,m.default)((0,c.default)(this._devices[e]));!(r=(d=h.next()).done);r=!0){var f=(0,l.default)(d.value,2),v=f[0],y=f[1].keys["curve25519:"+v];delete this._userByIdentityKey[y]}}catch(e){n=!0,o=e}finally{try{!r&&h.return&&h.return()}finally{if(n)throw o}}}this._devices[e]=t;var _=!0,w=!1,k=void 0;try{for(var S,x=(0,m.default)((0,c.default)(t));!(_=(S=x.next()).done);_=!0){var O=(0,l.default)(S.value,2),T=(v=O[0],O[1].keys["curve25519:"+v]);this._userByIdentityKey[T]=e}}catch(e){w=!0,k=e}finally{try{!_&&x.return&&x.return()}finally{if(w)throw k}}}},{key:"setRawStoredCrossSigningForUser",value:function(e,t){this._crossSigningInfo[e]=t}},{key:"_doKeyDownload",value:function(e){var t=this;if(0===e.length)return h.default.resolve();var r=this._serialiser.updateDevicesForUsers(e,this._syncToken).then((function(){n(!0)}),(function(t){throw E.default.error("Error downloading keys for "+e+":",t),n(!1),t}));e.forEach((function(u){t._keyDownloadsInProgressByUser[u]=r,1==t._deviceTrackingStatus[u]&&(t._deviceTrackingStatus[u]=2)}));var n=function(n){e.forEach((function(u){(t._dirty=!0,t._keyDownloadsInProgressByUser[u]===r)?(delete t._keyDownloadsInProgressByUser[u],2==t._deviceTrackingStatus[u]&&(n?(t._deviceTrackingStatus[u]=3,E.default.log("Device list for",u,"now up to date")):t._deviceTrackingStatus[u]=1)):E.default.log("Another update in the queue for",u,"- not marking up-to-date")})),t.saveIfDirty(),t.emit("crypto.devicesUpdated",e)};return r}}]),t}(T.EventEmitter);t.default=P;var B=function(){function e(t,r,n){(0,_.default)(this,e),this._baseApis=t,this._olmDevice=r,this._deviceList=n,this._downloadInProgress=!1,this._keyDownloadsQueuedByUser={},this._queuedQueryDeferred=null,this._syncToken=null}var t;return(0,w.default)(e,[{key:"updateDevicesForUsers",value:function(e,t){var r=this;return e.forEach((function(u){r._keyDownloadsQueuedByUser[u]=!0})),this._queuedQueryDeferred||(this._queuedQueryDeferred=h.default.defer()),this._syncToken=t,this._downloadInProgress?(E.default.log("Queued key download for",e),this._queuedQueryDeferred.promise):this._doQueuedQueries()}},{key:"_doQueuedQueries",value:function(){var e=this;if(this._downloadInProgress)throw new Error("DeviceListUpdateSerialiser._doQueuedQueries called with request active");var t=(0,v.default)(this._keyDownloadsQueuedByUser);this._keyDownloadsQueuedByUser={};var r=this._queuedQueryDeferred;this._queuedQueryDeferred=null,E.default.log("Starting key download for",t),this._downloadInProgress=!0;var n={};return this._syncToken&&(n.token=this._syncToken),this._baseApis.downloadKeysForUsers(t,n).then((function(r){var n=r.device_keys||{},o=r.master_keys||{},l=r.self_signing_keys||{},c=r.user_signing_keys||{},d=h.default.resolve(),f=!0,v=!1,y=void 0;try{for(var _,w=function(){var t=_.value;d=d.then((0,R.sleep)(5)).then((function(){return e._processQueryResponseForUser(t,n[t],{master:o[t],self_signing:l[t],user_signing:c[t]})}))},k=(0,m.default)(t);!(f=(_=k.next()).done);f=!0)w()}catch(e){v=!0,y=e}finally{try{!f&&k.return&&k.return()}finally{if(v)throw y}}return d})).done((function(){E.default.log("Completed key download for "+t),e._downloadInProgress=!1,r.resolve(),e._queuedQueryDeferred&&e._doQueuedQueries()}),(function(n){E.default.warn("Error downloading keys for "+t+":",n),e._downloadInProgress=!1,r.reject(n)})),r.promise}},{key:"_processQueryResponseForUser",value:(t=(0,d.coroutine)(f.default.mark((function e(t,r,n,o){var l,c,h,m;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.default.log("got device keys for "+t+":",r),E.default.log("got cross-signing keys for "+t+":",n),l={},(c=this._deviceList.getRawStoredDevicesForUser(t))&&(0,v.default)(c).forEach((function(e){var t=C.default.fromStorage(c[e],e);l[e]=t})),e.next=7,(0,d.resolve)(x(this._olmDevice,t,l,r||{}));case 7:h={},(0,v.default)(l).forEach((function(e){h[e]=l[e].toStorage()})),this._deviceList._setRawStoredDevicesForUser(t,h),n&&(n.master||n.self_signing||n.user_signing)&&((m=this._deviceList.getStoredCrossSigningForUser(t)||new I.CrossSigningInfo(t)).setKeys(n),this._deviceList.setRawStoredCrossSigningForUser(t,m.toStorage()),this._deviceList.emit("userCrossSigningUpdated",t));case 11:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o){return t.apply(this,arguments)})}]),e}()},function(e,t,r){(function(e,n){var o;!function(l){t&&t.nodeType,e&&e.nodeType;var c="object"==typeof n&&n;c.global!==c&&c.window!==c&&c.self;var d,h=2147483647,f=/^xn--/,v=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=Math.floor,w=String.fromCharCode;function k(e){throw new RangeError(y[e])}function map(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function S(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+map((e=e.replace(m,".")).split("."),t).join(".")}function x(e){for(var t,r,output=[],n=0,o=e.length;n<o;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o?56320==(64512&(r=e.charCodeAt(n++)))?output.push(((1023&t)<<10)+(1023&r)+65536):(output.push(t),n--):output.push(t);return output}function O(e){return map(e,(function(e){var output="";return e>65535&&(output+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),output+=w(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?_(e/700):e>>1,e+=_(e/t);e>455;n+=36)e=_(e/35);return _(n+36*e/(e+38))}function C(input){var e,t,r,n,o,l,c,d,f,v,m,output=[],y=input.length,i=0,w=128,S=72;for((t=input.lastIndexOf("-"))<0&&(t=0),r=0;r<t;++r)input.charCodeAt(r)>=128&&k("not-basic"),output.push(input.charCodeAt(r));for(n=t>0?t+1:0;n<y;){for(o=i,l=1,c=36;n>=y&&k("invalid-input"),((d=(m=input.charCodeAt(n++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:36)>=36||d>_((h-i)/l))&&k("overflow"),i+=d*l,!(d<(f=c<=S?1:c>=S+26?26:c-S));c+=36)l>_(h/(v=36-f))&&k("overflow"),l*=v;S=E(i-o,e=output.length+1,0==o),_(i/e)>h-w&&k("overflow"),w+=_(i/e),i%=e,output.splice(i++,0,w)}return O(output)}function I(input){var e,t,r,n,o,l,c,q,d,f,v,m,y,S,O,output=[];for(m=(input=x(input)).length,e=128,t=0,o=72,l=0;l<m;++l)(v=input[l])<128&&output.push(w(v));for(r=n=output.length,n&&output.push("-");r<m;){for(c=h,l=0;l<m;++l)(v=input[l])>=e&&v<c&&(c=v);for(c-e>_((h-t)/(y=r+1))&&k("overflow"),t+=(c-e)*y,e=c,l=0;l<m;++l)if((v=input[l])<e&&++t>h&&k("overflow"),v==e){for(q=t,d=36;!(q<(f=d<=o?1:d>=o+26?26:d-o));d+=36)O=q-f,S=36-f,output.push(w(T(f+O%S,0))),q=_(O/S);output.push(w(T(q,0))),o=E(t,y,r==n),t=0,++r}++t,++e}return output.join("")}d={version:"1.4.1",ucs2:{decode:x,encode:O},decode:C,encode:I,toASCII:function(input){return S(input,(function(e){return v.test(e)?"xn--"+I(e):e}))},toUnicode:function(input){return S(input,(function(e){return f.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return d}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(301)(e),r(24))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(506),t.encode=t.stringify=r(507)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,l){t=t||"&",r=r||"=";var c={};if("string"!=typeof e||0===e.length)return c;var d=/\+/g;e=e.split(t);var h=1e3;l&&"number"==typeof l.maxKeys&&(h=l.maxKeys);var f=e.length;h>0&&f>h&&(f=h);for(var i=0;i<f;++i){var v,m,y,_,w=e[i].replace(d,"%20"),k=w.indexOf(r);k>=0?(v=w.substr(0,k),m=w.substr(k+1)):(v=w,m=""),y=decodeURIComponent(v),_=decodeURIComponent(m),n(c,y)?o(c[y])?c[y].push(_):c[y]=[c[y],_]:c[y]=_}return c};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,c){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?map(l(e),(function(l){var c=encodeURIComponent(n(l))+r;return o(e[l])?map(e[l],(function(e){return c+encodeURIComponent(n(e))})).join(t):c+encodeURIComponent(n(e[l]))})).join(t):c?encodeURIComponent(n(c))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i],i));return r}var l=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},,,function(e,t,r){"use strict";var n=r(511),o=r(21);function l(e,t){this.rank=e,this.context=t}l.fromJson=function(e,t){var r=e.context||{},c=r.events_before||[],d=r.events_after||[],h=new n(t(e.result));return h.setPaginateToken(r.start,!0),h.addEvents(o.map(c,t),!0),h.addEvents(o.map(d,t),!1),h.setPaginateToken(r.end,!1),new l(e.rank,h)},e.exports=l},function(e,t,r){"use strict";function n(e){this._timeline=[e],this._ourEventIndex=0,this._paginateTokens={b:null,f:null},this._paginateRequests={b:null,f:null}}n.prototype.getEvent=function(){return this._timeline[this._ourEventIndex]},n.prototype.getTimeline=function(){return this._timeline},n.prototype.getOurEventIndex=function(){return this._ourEventIndex},n.prototype.getPaginateToken=function(e){return this._paginateTokens[e?"b":"f"]},n.prototype.setPaginateToken=function(e,t){this._paginateTokens[t?"b":"f"]=e},n.prototype.addEvents=function(e,t){t?(this._timeline=e.concat(this._timeline),this._ourEventIndex+=e.length):this._timeline=this._timeline.concat(e)},e.exports=n},function(e,t,r){"use strict";var n,o=r(20),l=(n=o)&&n.__esModule?n:{default:n};function c(){this.fromToken=null}c.prototype={isNewlyCreated:function(){return l.default.resolve(!0)},getSyncToken:function(){return this.fromToken},setSyncToken:function(e){this.fromToken=e},storeGroup:function(e){},getGroup:function(e){return null},getGroups:function(){return[]},storeRoom:function(e){},getRoom:function(e){return null},getRooms:function(){return[]},removeRoom:function(e){},getRoomSummaries:function(){return[]},storeUser:function(e){},getUser:function(e){return null},getUsers:function(){return[]},scrollback:function(e,t){return[]},storeEvents:function(e,t,r,n){},storeFilter:function(filter){},getFilter:function(e,t){return null},getFilterIdByName:function(e){return null},setFilterIdByName:function(e,t){},storeAccountDataEvents:function(e){},getAccountData:function(e){},setSyncData:function(e){return l.default.resolve()},wantsSave:function(){return!1},save:function(){},startup:function(){return l.default.resolve()},getSavedSync:function(){return l.default.resolve(null)},getSavedSyncToken:function(){return l.default.resolve(null)},deleteAllData:function(){return l.default.resolve()},getOutOfBandMembers:function(){return l.default.resolve(null)},setOutOfBandMembers:function(){return l.default.resolve()},clearOutOfBandMembers:function(){return l.default.resolve()},getClientOptions:function(){return l.default.resolve()},storeClientOptions:function(){return l.default.resolve()}},e.exports=c},function(e,t,r){"use strict";var n,o=r(38),l=(n=o)&&n.__esModule?n:{default:n};function c(e){this.filter_json=e,this.types=e.types||null,this.not_types=e.not_types||[],this.rooms=e.rooms||null,this.not_rooms=e.not_rooms||[],this.senders=e.senders||null,this.not_senders=e.not_senders||[],this.contains_url=e.contains_url||null}c.prototype.check=function(e){return this._checkFields(e.getRoomId(),e.getSender(),e.getType(),!!e.getContent()&&void 0!==e.getContent().url)},c.prototype._checkFields=function(e,t,r,n){for(var o={rooms:function(t){return e===t},senders:function(e){return t===e},types:function(e){return function(e,t){if(t.endsWith("*")){var r=t.slice(0,-1);return e.substr(0,r.length)===r}return e===t}(r,e)}},c=0;c<(0,l.default)(o).length;c++){var d=(0,l.default)(o)[c],h=o[d];if(this["not_"+d].filter(h).length>0)return!1;var f=this[d];if(f&&!f.map(h))return!1}var v=this.filter_json.contains_url;return void 0===v||v===n},c.prototype.filter=function(e){return e.filter(this.check,this)},c.prototype.limit=function(){return void 0!==this.filter_json.limit?this.filter_json.limit:10},e.exports=c},function(e,t,r){"use strict";(function(t){var n=m(r(65)),o=m(r(38)),l=m(r(26)),c=m(r(29)),d=r(20),h=m(d),f=m(r(22)),v=r(207);function m(e){return e&&e.__esModule?e:{default:e}}var y,_,w,k,S,x=r(158),O=r(304),T=r(306),E=r(21),C=r(219),I=r(110),j=r(217);function M(e,t){return"FILTER_SYNC_"+e+(t?"_"+t:"")}function R(){f.default.log.apply(f.default,arguments)}function A(e,t){this.client=e,(t=t||{}).initialSyncLimit=void 0===t.initialSyncLimit?8:t.initialSyncLimit,t.resolveInvitesToProfiles=t.resolveInvitesToProfiles||!1,t.pollTimeout=t.pollTimeout||3e4,t.pendingEventOrdering=t.pendingEventOrdering||"chronological",t.canResetEntireTimeline||(t.canResetEntireTimeline=function(e){return!1}),this.opts=t,this._peekRoomId=null,this._currentSyncRequest=null,this._syncState=null,this._syncStateData=null,this._catchingUp=!1,this._running=!1,this._keepAliveTimer=null,this._connectionReturnedDefer=null,this._notifEvents=[],this._failedSyncCount=0,this._storeIsInvalid=!1,e.getNotifTimelineSet()&&e.reEmitter.reEmit(e.getNotifTimelineSet(),["Room.timeline","Room.timelineReset"])}function P(e,t){var r=new x(t);return e.reEmitter.reEmit(r,["User.avatarUrl","User.displayName","User.presence","User.currentlyActive","User.lastPresenceTs"]),r}A.prototype.createRoom=function(e){var t=this.client,r=t.timelineSupport,n=t.unstableClientRelationAggregation,o=new O(e,t,t.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:r,unstableClientRelationAggregation:n});return t.reEmitter.reEmit(o,["Room.name","Room.timeline","Room.redaction","Room.redactionCancelled","Room.receipt","Room.tags","Room.timelineReset","Room.localEchoUpdated","Room.accountData","Room.myMembership","Room.replaceEvent"]),this._registerStateListeners(o),o},A.prototype.createGroup=function(e){var t=this.client,r=new T(e);return t.reEmitter.reEmit(r,["Group.profile","Group.myMembership"]),t.store.storeGroup(r),r},A.prototype._registerStateListeners=function(e){var t=this.client;t.reEmitter.reEmit(e.currentState,["RoomState.events","RoomState.members","RoomState.newMember"]),e.currentState.on("RoomState.newMember",(function(e,r,n){n.user=t.getUser(n.userId),t.reEmitter.reEmit(n,["RoomMember.name","RoomMember.typing","RoomMember.powerLevel","RoomMember.membership"])}))},A.prototype._deregisterStateListeners=function(e){e.currentState.removeAllListeners("RoomState.events"),e.currentState.removeAllListeners("RoomState.members"),e.currentState.removeAllListeners("RoomState.newMember")},A.prototype.syncLeftRooms=function(){var e=this.client,t=this,filter=new C(this.client.credentials.userId);filter.setTimelineLimit(1),filter.setIncludeLeaveRooms(!0);var r=this.opts.pollTimeout+8e4,n={timeout:0};return e.getOrCreateFilter(M(e.credentials.userId,"LEFT_ROOMS"),filter).then((function(t){return n.filter=t,e._http.authedRequest(void 0,"GET","/sync",n,void 0,r)})).then((function(data){var r=[];data.rooms&&data.rooms.leave&&(r=t._mapSyncResponseToRoomArray(data.rooms.leave));var n=[];return r.forEach((function(r){var o=r.room;if(n.push(o),r.isBrandNewRoom){r.timeline=r.timeline||{};var l=t._mapSyncEventsFormat(r.timeline,o),c=t._mapSyncEventsFormat(r.state,o);o.getLiveTimeline().setPaginationToken(r.timeline.prev_batch,I.BACKWARDS),t._processRoomEvents(o,c,l),o.recalculate(),e.store.storeRoom(o),e.emit("Room",o),t._processEventsForNotifs(o,l)}})),n}))},A.prototype.peek=function(e){var t=this,r=this.client;return this._peekRoomId=e,this.client.roomInitialSync(e,20).then((function(n){n.messages=n.messages||{},n.messages.chunk=n.messages.chunk||[],n.state=n.state||[];var o=t.createRoom(e),l=E.map(E.deepCopy(n.state),r.getEventMapper()),c=E.map(n.state,r.getEventMapper()),d=E.map(n.messages.chunk,r.getEventMapper());return n.presence&&E.isArray(n.presence)&&n.presence.map(r.getEventMapper()).forEach((function(e){var t=r.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):((t=P(r,e.getContent().user_id)).setPresenceEvent(e),r.store.storeUser(t)),r.emit("event",e)})),n.messages.start&&(o.oldState.paginationToken=n.messages.start),o.oldState.setStateEvents(l),o.currentState.setStateEvents(c),t._resolveInvites(o),o.recalculate(),o.addEventsToTimeline(d.reverse(),!0,o.getLiveTimeline(),n.messages.start),r.store.storeRoom(o),r.emit("Room",o),t._peekPoll(o),o}))},A.prototype.stopPeeking=function(){this._peekRoomId=null},A.prototype._peekPoll=function(e,t){if(this._peekRoomId===e.roomId){var r=this;this.client._http.authedRequest(void 0,"GET","/events",{room_id:e.roomId,timeout:3e4,from:t},void 0,5e4).done((function(t){if(r._peekRoomId===e.roomId){t.chunk.filter((function(e){return"m.presence"===e.type})).map(r.client.getEventMapper()).forEach((function(e){var t=r.client.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):((t=P(r.client,e.getContent().user_id)).setPresenceEvent(e),r.client.store.storeUser(t)),r.client.emit("event",e)}));var n=t.chunk.filter((function(t){return t.room_id===e.roomId})).map(r.client.getEventMapper());e.addLiveEvents(n),r._peekPoll(e,t.end)}else R("Stopped peeking in room %s",e.roomId)}),(function(n){f.default.error("[%s] Peek poll failed: %s",e.roomId,n),setTimeout((function(){r._peekPoll(e,t)}),3e4)}))}else R("Stopped peeking in room %s",e.roomId)},A.prototype.getSyncState=function(){return this._syncState},A.prototype.getSyncStateData=function(){return this._syncStateData},A.prototype.recoverFromSyncStartupError=(y=(0,d.coroutine)(c.default.mark((function e(t,r){var n;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resolve)(t);case 2:return n=this._startKeepAlives(),this._updateSyncState("ERROR",{error:r}),e.next=6,(0,d.resolve)(n);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)}),A.prototype._wasLazyLoadingToggled=(_=(0,d.coroutine)(c.default.mark((function e(t){var r,n;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!!t,r=!1,e.next=4,(0,d.resolve)(this.client.store.isNewlyCreated());case 4:if(e.sent){e.next=11;break}return e.next=8,(0,d.resolve)(this.client.store.getClientOptions());case 8:return(n=e.sent)&&(r=!!n.lazyLoadMembers),e.abrupt("return",r!==t);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)}),A.prototype._shouldAbortSync=function(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(f.default.warn("Token no longer valid - assuming logout"),this.stop(),!0)},A.prototype.sync=function(){var e,r,n=this,o=(e=(0,d.coroutine)(c.default.mark((function e(){var t;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R("Getting push rules..."),e.next=4,(0,d.resolve)(m.getPushRules());case 4:t=e.sent,R("Got push rules"),m.pushRules=t,e.next=19;break;case 9:if(e.prev=9,e.t0=e.catch(0),f.default.error("Getting push rules failed",e.t0),!y._shouldAbortSync(e.t0)){e.next=14;break}return e.abrupt("return");case 14:return R("Waiting for saved sync before retrying push rules..."),e.next=17,(0,d.resolve)(y.recoverFromSyncStartupError(w,e.t0));case 17:return o(),e.abrupt("return");case 19:S();case 20:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return e.apply(this,arguments)}),l=(r=(0,d.coroutine)(c.default.mark((function e(){var filter,t;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R("Getting filter..."),filter=void 0,y.opts.filter?filter=y.opts.filter:(filter=new C(m.credentials.userId)).setTimelineLimit(y.opts.initialSyncLimit),t=void 0,e.prev=4,e.next=7,(0,d.resolve)(m.getOrCreateFilter(M(m.credentials.userId),filter));case 7:t=e.sent,e.next=20;break;case 10:if(e.prev=10,e.t0=e.catch(4),f.default.error("Getting filter failed",e.t0),!y._shouldAbortSync(e.t0)){e.next=15;break}return e.abrupt("return");case 15:return R("Waiting for saved sync before retrying filter..."),e.next=18,(0,d.resolve)(y.recoverFromSyncStartupError(w,e.t0));case 18:return l(),e.abrupt("return");case 20:return m.resetNotifTimelineSet(),null===y._currentSyncRequest&&(R("Sending first sync request..."),y._currentSyncRequest=y._doSyncRequest({filterId:t},k)),R("Waiting for saved sync before starting sync processing..."),e.next=25,(0,d.resolve)(w);case 25:y._sync({filterId:t});case 26:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return r.apply(this,arguments)}),m=this.client,y=this;this._running=!0,t.document&&(this._onOnlineBound=this._onOnline.bind(this),t.document.addEventListener("online",this._onOnlineBound,!1));var _,w=h.default.resolve(),k=null,S=(_=(0,d.coroutine)(c.default.mark((function e(){var t,r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R("Checking lazy load status..."),n.opts.lazyLoadMembers&&m.isGuest()&&(n.opts.lazyLoadMembers=!1),!n.opts.lazyLoadMembers){e.next=24;break}return R("Checking server lazy load support..."),e.next=6,(0,d.resolve)(m.doesServerSupportLazyLoading());case 6:if(!e.sent){e.next=22;break}return e.prev=8,R("Creating and storing lazy load sync filter..."),e.next=12,(0,d.resolve)(m.createFilter(C.LAZY_LOADING_SYNC_FILTER));case 12:n.opts.filter=e.sent,R("Created and stored lazy load sync filter"),e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(8),f.default.error("Creating and storing lazy load sync filter failed",e.t0),e.t0;case 20:e.next=24;break;case 22:R("LL: lazy loading requested but not supported by server, so disabling"),n.opts.lazyLoadMembers=!1;case 24:return R("Checking whether lazy loading has changed in store..."),e.next=27,(0,d.resolve)(n._wasLazyLoadingToggled(n.opts.lazyLoadMembers));case 27:if(!e.sent){e.next=35;break}return n._storeIsInvalid=!0,t=v.InvalidStoreError.TOGGLED_LAZY_LOADING,r=new v.InvalidStoreError(t,!!n.opts.lazyLoadMembers),n._updateSyncState("ERROR",{error:r}),f.default.warn("InvalidStoreError: store is not usable: stopping sync."),e.abrupt("return");case 35:return n.opts.lazyLoadMembers&&n.opts.crypto&&n.opts.crypto.enableLazyLoading(),e.prev=36,R("Storing client options..."),e.next=40,(0,d.resolve)(n.client._storeClientOptions());case 40:R("Stored client options"),e.next=47;break;case 43:throw e.prev=43,e.t1=e.catch(36),f.default.error("Storing client options failed",e.t1),e.t1;case 47:l();case 48:case"end":return e.stop()}}),e,n,[[8,16],[36,43]])}))),function(){return _.apply(this,arguments)});m.isGuest()?y._sync({}):(R("Getting saved sync token..."),w=m.store.getSavedSyncToken().then((function(e){return R("Got saved sync token"),k=e,R("Getting saved sync..."),m.store.getSavedSync()})).then((function(e){if(R("Got reply from saved sync, exists? "+!!e),e)return y._syncFromCache(e)})).catch((function(e){f.default.error("Getting saved sync failed",e)})),o())},A.prototype.stop=function(){R("SyncApi.stop"),t.document&&(t.document.removeEventListener("online",this._onOnlineBound,!1),this._onOnlineBound=void 0),this._running=!1,this._currentSyncRequest&&this._currentSyncRequest.abort(),this._keepAliveTimer&&(clearTimeout(this._keepAliveTimer),this._keepAliveTimer=null)},A.prototype.retryImmediately=function(){return!!this._connectionReturnedDefer&&(this._startKeepAlives(0),!0)},A.prototype._syncFromCache=(w=(0,d.coroutine)(c.default.mark((function e(t){var r,n,data;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R("sync(): not doing HTTP hit, instead returning stored /sync data"),r=t.nextBatch,this.client.store.setSyncToken(r),n={oldSyncToken:null,nextSyncToken:r,catchingUp:!1},data={next_batch:r,rooms:t.roomsData,groups:t.groupsData,account_data:{events:t.accountData}},e.prev=5,e.next=8,(0,d.resolve)(this._processSyncResponse(n,data));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),f.default.error("Error processing cached sync",e.t0.stack||e.t0);case 13:this._storeIsInvalid||this._updateSyncState("PREPARED",n);case 14:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return w.apply(this,arguments)}),A.prototype._sync=(k=(0,d.coroutine)(c.default.mark((function e(t){var r,n,data,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.client,this._running){e.next=6;break}return R("Sync no longer running: exiting."),this._connectionReturnedDefer&&(this._connectionReturnedDefer.reject(),this._connectionReturnedDefer=null),this._updateSyncState("STOPPED"),e.abrupt("return");case 6:return n=r.store.getSyncToken(),data=void 0,e.prev=8,null===this._currentSyncRequest&&(this._currentSyncRequest=this._doSyncRequest(t,n)),e.next=12,(0,d.resolve)(this._currentSyncRequest);case 12:data=e.sent,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(8),this._onSyncError(e.t0,t),e.abrupt("return");case 19:return e.prev=19,this._currentSyncRequest=null,e.finish(19);case 22:return r.store.setSyncToken(data.next_batch),this._failedSyncCount=0,e.next=26,(0,d.resolve)(r.store.setSyncData(data));case 26:if(o={oldSyncToken:n,nextSyncToken:data.next_batch,catchingUp:this._catchingUp},!this.opts.crypto){e.next=30;break}return e.next=30,(0,d.resolve)(this.opts.crypto.onSyncWillProcess(o));case 30:return e.prev=30,e.next=33,(0,d.resolve)(this._processSyncResponse(o,data));case 33:e.next=39;break;case 35:e.prev=35,e.t1=e.catch(30),f.default.error("Caught /sync error",e.t1.stack||e.t1),this.client.emit("sync.unexpectedError",e.t1);case 39:if(o.catchingUp=this._catchingUp,t.hasSyncedBefore||(this._updateSyncState("PREPARED",o),t.hasSyncedBefore=!0),!this.opts.crypto){e.next=44;break}return e.next=44,(0,d.resolve)(this.opts.crypto.onSyncCompleted(o));case 44:if(this._updateSyncState("SYNCING",o),!r.store.wantsSave()){e.next=50;break}if(!this.opts.crypto){e.next=49;break}return e.next=49,(0,d.resolve)(this.opts.crypto.saveDeviceList(0));case 49:r.store.save();case 50:this._sync(t);case 51:case"end":return e.stop()}}),e,this,[[8,15,19,22],[30,35]])}))),function(e){return k.apply(this,arguments)}),A.prototype._doSyncRequest=function(e,t){var r=this._getSyncParams(e,t);return this.client._http.authedRequest(void 0,"GET","/sync",r,void 0,r.timeout+8e4)},A.prototype._getSyncParams=function(e,t){var r=this.opts.pollTimeout;("SYNCING"!==this.getSyncState()||this._catchingUp)&&(this._catchingUp=!0,r=0);var n=e.filterId;this.client.isGuest()&&!n&&(n=this._getGuestFilter());var o={filter:n,timeout:r};return this.opts.disablePresence&&(o.set_presence="offline"),t?o.since=t:o._cacheBuster=Date.now(),"ERROR"!=this.getSyncState()&&"RECONNECTING"!=this.getSyncState()||(o.timeout=0),o},A.prototype._onSyncError=function(e,t){var r=this;if(!this._running)return R("Sync no longer running: exiting"),this._connectionReturnedDefer&&(this._connectionReturnedDefer.reject(),this._connectionReturnedDefer=null),void this._updateSyncState("STOPPED");f.default.error("/sync error %s",e),f.default.error(e),this._shouldAbortSync(e)||(this._failedSyncCount++,f.default.log("Number of consecutive failed sync requests:",this._failedSyncCount),R("Starting keep-alive"),this._startKeepAlives().then((function(e){e&&"ERROR"===r.getSyncState()&&r._updateSyncState("CATCHUP",{oldSyncToken:null,nextSyncToken:null,catchingUp:!0}),r._sync(t)})),this._currentSyncRequest=null,this._updateSyncState(this._failedSyncCount>=3?"ERROR":"RECONNECTING",{error:e}))},A.prototype._processSyncResponse=(S=(0,d.coroutine)(c.default.mark((function e(t,data){var r,n,o,l,v,m,y,_;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.client,n=this,data.presence&&E.isArray(data.presence.events)&&data.presence.events.map(r.getEventMapper()).forEach((function(e){var t=r.store.getUser(e.getSender());t?t.setPresenceEvent(e):((t=P(r,e.getSender())).setPresenceEvent(e),r.store.storeUser(t)),r.emit("event",e)})),data.account_data&&E.isArray(data.account_data.events)&&(o=data.account_data.events.map(r.getEventMapper()),r.store.storeAccountDataEvents(o),o.forEach((function(e){if("m.push_rules"===e.getType()){var t=e.getContent();r.pushRules=j.rewriteDefaultRules(t)}return r.emit("accountData",e),e}))),data.to_device&&E.isArray(data.to_device.events)&&data.to_device.events.length>0?(l=[],data.to_device.events.map(r.getEventMapper()).map((function(e){if("m.key.verification.cancel"===e.getType()){var t=e.getContent().transaction_id;t&&l.push(t)}return e})).forEach((function(e){var content=e.getContent();if("m.room.message"!=e.getType()||"m.bad.encrypted"!=content.msgtype){if("m.key.verification.start"===e.getType()||"m.key.verification.request"===e.getType()){var t=content.transaction_id;l.includes(t)&&e.flagCancelled()}r.emit("toDeviceEvent",e)}else f.default.log("Ignoring undecryptable to-device event from "+e.getSender())}))):this._catchingUp=!1,data.groups&&(data.groups.invite&&this._processGroupSyncEntry(data.groups.invite,"invite"),data.groups.join&&this._processGroupSyncEntry(data.groups.join,"join"),data.groups.leave&&this._processGroupSyncEntry(data.groups.leave,"leave")),v=[],m=[],y=[],data.rooms&&(data.rooms.invite&&(v=this._mapSyncResponseToRoomArray(data.rooms.invite)),data.rooms.join&&(m=this._mapSyncResponseToRoomArray(data.rooms.join)),data.rooms.leave&&(y=this._mapSyncResponseToRoomArray(data.rooms.leave))),this._notifEvents=[],v.forEach((function(e){var t=e.room,o=n._mapSyncEventsFormat(e.invite_state,t);n._processRoomEvents(t,o),e.isBrandNewRoom&&(t.recalculate(),r.store.storeRoom(t),r.emit("Room",t)),o.forEach((function(e){r.emit("event",e)})),t.updateMyMembership("invite")})),e.next=14,(0,d.resolve)(h.default.mapSeries(m,function(){var e=(0,d.coroutine)(c.default.mark((function e(o){var l,f,v,m,y,_,w,k,i,S,x=(l=(0,d.coroutine)(c.default.mark((function e(t){var o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.emit("event",t),!t.isState()||"m.room.encryption"!=t.getType()||!n.opts.crypto){e.next=4;break}return e.next=4,(0,d.resolve)(n.opts.crypto.onCryptoEvent(t));case 4:t.isState()&&"im.vector.user_status"===t.getType()&&((o=r.store.getUser(t.getStateKey()))?o._unstable_updateStatusMessage(t):((o=P(r,t.getStateKey()))._unstable_updateStatusMessage(t),r.store.storeUser(o)));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)});return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=o.room,v=n._mapSyncEventsFormat(o.state,f),m=n._mapSyncEventsFormat(o.timeline,f),y=n._mapSyncEventsFormat(o.ephemeral),_=n._mapSyncEventsFormat(o.account_data),o.unread_notifications&&(f.setUnreadNotificationCount("total",o.unread_notifications.notification_count),(!(w=r.isRoomEncrypted(f.roomId))||w&&f.getUnreadNotificationCount("highlight")<=0)&&f.setUnreadNotificationCount("highlight",o.unread_notifications.highlight_count)),o.timeline=o.timeline||{},!o.isBrandNewRoom){e.next=11;break}f.getLiveTimeline().setPaginationToken(o.timeline.prev_batch,I.BACKWARDS),e.next=25;break;case 11:if(!o.timeline.limited){e.next=25;break}k=!0,i=m.length-1;case 14:if(!(i>=0)){e.next=24;break}if(S=m[i].getId(),!f.getTimelineForEvent(S)){e.next=21;break}return R("Already have event "+S+" in limited sync - not resetting"),k=!1,m.splice(0,i),e.abrupt("break",24);case 21:i--,e.next=14;break;case 24:k&&(n._deregisterStateListeners(f),f.resetLiveTimeline(o.timeline.prev_batch,n.opts.canResetEntireTimeline(f.roomId)?null:t.oldSyncToken),r.resetNotifTimelineSet(),n._registerStateListeners(f));case 25:return n._processRoomEvents(f,v,m),o.summary&&f.setSummary(o.summary),f.addEphemeralEvents(y),f.addAccountData(_),f.recalculate(),o.isBrandNewRoom&&(r.store.storeRoom(f),r.emit("Room",f)),n._processEventsForNotifs(f,m),e.next=34,(0,d.resolve)(h.default.mapSeries(v,x));case 34:return e.next=36,(0,d.resolve)(h.default.mapSeries(m,x));case 36:y.forEach((function(e){r.emit("event",e)})),_.forEach((function(e){r.emit("event",e)})),f.updateMyMembership("join");case 39:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()));case 14:if(y.forEach((function(e){var t=e.room,o=n._mapSyncEventsFormat(e.state,t),l=n._mapSyncEventsFormat(e.timeline,t),c=n._mapSyncEventsFormat(e.account_data);n._processRoomEvents(t,o,l),t.addAccountData(c),t.recalculate(),e.isBrandNewRoom&&(r.store.storeRoom(t),r.emit("Room",t)),n._processEventsForNotifs(t,l),o.forEach((function(e){r.emit("event",e)})),l.forEach((function(e){r.emit("event",e)})),c.forEach((function(e){r.emit("event",e)})),t.updateMyMembership("leave")})),t.oldSyncToken&&this._notifEvents.length&&(this._notifEvents.sort((function(a,b){return a.getTs()-b.getTs()})),this._notifEvents.forEach((function(e){r.getNotifTimelineSet().addLiveEvent(e)}))),!data.device_lists){e.next=22;break}if(!this.opts.crypto){e.next=22;break}return e.next=20,(0,d.resolve)(this.opts.crypto.handleDeviceListChanges(t,data.device_lists));case 20:e.next=22;break;case 22:this.opts.crypto&&data.device_one_time_keys_count&&(_=data.device_one_time_keys_count.signed_curve25519||0,this.opts.crypto.updateOneTimeKeyCount(_));case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)}),A.prototype._startKeepAlives=function(e){void 0===e&&(e=2e3+Math.floor(5e3*Math.random())),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer);return e>0?this._keepAliveTimer=setTimeout(this._pokeKeepAlive.bind(this),e):this._pokeKeepAlive(),this._connectionReturnedDefer||(this._connectionReturnedDefer=h.default.defer()),this._connectionReturnedDefer.promise},A.prototype._pokeKeepAlive=function(e){void 0===e&&(e=!1);var t=this;function r(){clearTimeout(t._keepAliveTimer),t._connectionReturnedDefer&&(t._connectionReturnedDefer.resolve(e),t._connectionReturnedDefer=null)}this.client._http.request(void 0,"GET","/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15e3}).done((function(){r()}),(function(n){400==n.httpStatus||404==n.httpStatus?t._keepAliveTimer=setTimeout(r,2e3):(e=!0,t._keepAliveTimer=setTimeout(t._pokeKeepAlive.bind(t,e),5e3+Math.floor(5e3*Math.random())),t._updateSyncState("ERROR",{error:n}))}))},A.prototype._processGroupSyncEntry=function(e,t){var r=!0,n=!1,c=void 0;try{for(var d,h=(0,l.default)((0,o.default)(e));!(r=(d=h.next()).done);r=!0){var f=d.value,v=e[f],m=this.client.store.getGroup(f),y=null===m;null===m&&(m=this.createGroup(f)),v.profile&&m.setProfile(v.profile.name,v.profile.avatar_url),v.inviter&&m.setInviter({userId:v.inviter}),m.setMyMembership(t),y&&this.client.emit("Group",m)}}catch(e){n=!0,c=e}finally{try{!r&&h.return&&h.return()}finally{if(n)throw c}}},A.prototype._mapSyncResponseToRoomArray=function(e){var t=this.client,r=this;return E.keys(e).map((function(n){var o=e[n],l=t.store.getRoom(n),c=!1;return l||(l=r.createRoom(n),c=!0),o.room=l,o.isBrandNewRoom=c,o}))},A.prototype._mapSyncEventsFormat=function(e,t){if(!e||!E.isArray(e.events))return[];var r=this.client.getEventMapper();return e.events.map((function(e){return t&&(e.room_id=t.roomId),r(e)}))},A.prototype._resolveInvites=function(e){if(e&&this.opts.resolveInvitesToProfiles){var t=this.client;e.getMembersWithMembership("invite").forEach((function(r){if(!r._requestedProfileInfo){r._requestedProfileInfo=!0;var n=t.getUser(r.userId);(n?h.default.resolve({avatar_url:n.avatarUrl,displayname:n.displayName}):t.getProfileInfo(r.userId)).done((function(t){var n=r.events.member;"invite"===n.getContent().membership&&(n.getContent().avatar_url=t.avatar_url,n.getContent().displayname=t.displayname,r.setMembershipEvent(n,e.currentState))}),(function(e){}))}}))}},A.prototype._processRoomEvents=function(e,t,r){var n=e.getLiveTimeline(),o=0==n.getEvents().length;if(o){var c=!0,d=!1,h=void 0;try{for(var f,v=(0,l.default)(t);!(c=(f=v.next()).done);c=!0){var m=f.value;this.client.getPushActionsForEvent(m)}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}n.initialiseState(t)}this._resolveInvites(e),e.recalculate(),o||(e.oldState.setStateEvents(t||[]),e.currentState.setStateEvents(t||[])),e.addLiveEvents(r||[])},A.prototype._processEventsForNotifs=function(e,t){if(this.client.getNotifTimelineSet())for(var i=0;i<t.length;i++){var r=this.client.getPushActionsForEvent(t[i]);r&&r.notify&&r.tweaks&&r.tweaks.highlight&&this._notifEvents.push(t[i])}},A.prototype._getGuestFilter=function(){return this.client._guestRooms?(0,n.default)({room:{timeline:{limit:20}}}):"{}"},A.prototype._updateSyncState=function(e,data){var t=this._syncState;this._syncState=e,this._syncStateData=data,this.client.emit("sync",this._syncState,t,data)},A.prototype._onOnline=function(){R("Browser thinks we are back online"),this._startKeepAlives(0)},e.exports=A}).call(this,r(24))},function(e,t,r){e.exports={default:r(516),__esModule:!0}},,,,function(e,t,r){e.exports={default:r(520),__esModule:!0}},,,function(e,t,r){"use strict";e.exports=function(e,t){this.roomId=e,this.info=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(213)),o=y(r(130)),l=y(r(72)),c=y(r(42)),d=y(r(47)),h=y(r(73)),f=y(r(74)),v=y(r(49)),m=r(63);function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e,r,n){(0,c.default)(this,t);var d=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this));return d._onEventStatus=function(e,t){e.isSending()?t===m.EventStatus.CANCELLED&&(e.removeListener("Event.status",d._onEventStatus),d._removeEvent(e)):e.removeListener("Event.status",d._onEventStatus)},d._onBeforeRedaction=function(e){d._relations.has(e)&&(d._relations.delete(e),"m.annotation"===d.relationType?d._removeAnnotationFromAggregation(e):"m.replace"===d.relationType&&d._targetEvent&&d._targetEvent.makeReplaced(d.getLastReplacement()),e.removeListener("Event.beforeRedaction",d._onBeforeRedaction),d.emit("Relations.redaction",e))},d.relationType=e,d.eventType=r,d._relations=new o.default,d._annotationsByKey={},d._annotationsBySender={},d._sortedAnnotationsByKey=[],d._targetEvent=null,d}return(0,f.default)(t,e),(0,d.default)(t,[{key:"addEvent",value:function(e){if(!this._relations.has(e)){var t=e.getRelation();if(t){var r=t.rel_type,n=e.getType();this.relationType===r&&this.eventType===n?(e.isSending()&&e.on("Event.status",this._onEventStatus),this._relations.add(e),"m.annotation"===this.relationType?this._addAnnotationToAggregation(e):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),e.on("Event.beforeRedaction",this._onBeforeRedaction),this.emit("Relations.add",e)):console.error("Event relation info doesn't match this container")}else console.error("Event must have relation info")}}},{key:"_removeEvent",value:function(e){if(this._relations.has(e)){var t=e.getRelation();if(t){var r=t.rel_type,n=e.getType();this.relationType===r&&this.eventType===n?(this._relations.delete(e),"m.annotation"===this.relationType?this._removeAnnotationFromAggregation(e):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),this.emit("Relations.remove",e)):console.error("Event relation info doesn't match this container")}else console.error("Event must have relation info")}}},{key:"getRelations",value:function(){return[].concat((0,n.default)(this._relations))}},{key:"_addAnnotationToAggregation",value:function(e){var t=e.getRelation().key;if(t){var r=this._annotationsByKey[t];r||(r=this._annotationsByKey[t]=new o.default,this._sortedAnnotationsByKey.push([t,r])),r.add(e),this._sortedAnnotationsByKey.sort((function(a,b){var e=a[1];return b[1].size-e.size}));var n=e.getSender(),l=this._annotationsBySender[n];l||(l=this._annotationsBySender[n]=new o.default),l.add(e)}}},{key:"_removeAnnotationFromAggregation",value:function(e){var t=e.getRelation().key;if(t){var r=this._annotationsByKey[t];r&&(r.delete(e),this._sortedAnnotationsByKey.sort((function(a,b){var e=a[1];return b[1].size-e.size})));var n=e.getSender(),o=this._annotationsBySender[n];o&&o.delete(e)}}},{key:"getSortedAnnotationsByKey",value:function(){return"m.annotation"!==this.relationType?null:this._sortedAnnotationsByKey}},{key:"getAnnotationsBySender",value:function(){return"m.annotation"!==this.relationType?null:this._annotationsBySender}},{key:"getLastReplacement",value:function(){var e=this;if("m.replace"!==this.relationType)return null;if(!this._targetEvent)return null;var t=this._targetEvent.getServerAggregatedRelation("m.replace"),r=t&&t.origin_server_ts;return this.getRelations().reduce((function(t,n){return n.getSender()!==e._targetEvent.getSender()?t:r&&r>n.getTs()?t:t&&t.getTs()>n.getTs()?t:n}),null)}},{key:"setTargetEvent",value:function(e){if(!this._targetEvent&&(this._targetEvent=e,"m.replace"===this.relationType)){var t=this.getLastReplacement();t&&this._targetEvent.makeReplaced(t)}}}]),t}(v.default);t.default=_},function(e,t,r){"use strict";(function(t){var n=m(r(96)),o=m(r(26)),l=m(r(66)),c=m(r(38)),d=m(r(29)),h=r(20),f=r(307),v=m(r(22));function m(e){return e&&e.__esModule?e:{default:e}}var y,_,w,k,S,x,O,T,E,C,I=r(160),j=r(21),M=r(217);function R(e,t){switch(e){case f.SERVICE_TYPES.IS:return t+I.PREFIX_IDENTITY_V2+"/terms";case f.SERVICE_TYPES.IM:return t+"/_matrix/integrations/v1/terms";default:throw new Error("Unsupported service type")}}function A(e){j.checkObjectHasKeys(e,["baseUrl","request"]),this.baseUrl=e.baseUrl,this.idBaseUrl=e.idBaseUrl,this.identityServer=e.identityServer;var t={baseUrl:e.baseUrl,idBaseUrl:e.idBaseUrl,accessToken:e.accessToken,request:e.request,prefix:I.PREFIX_R0,onlyData:!0,extraParams:e.queryParams,localTimeoutMs:e.localTimeoutMs,useAuthorizationHeader:e.useAuthorizationHeader};this._http=new I.MatrixHttpApi(this,t),this._txnCtr=0}A.prototype.getHomeserverUrl=function(){return this.baseUrl},A.prototype.getIdentityServerUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&(this.idBaseUrl.startsWith("http://")||this.idBaseUrl.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl},A.prototype.setIdentityServerUrl=function(e){this.idBaseUrl=j.ensureNoTrailingSlash(e),this._http.setIdBaseUrl(this.idBaseUrl)},A.prototype.getAccessToken=function(){return this._http.opts.accessToken||null},A.prototype.isLoggedIn=function(){return void 0!==this._http.opts.accessToken},A.prototype.makeTxnId=function(){return"m"+(new Date).getTime()+"."+this._txnCtr++},A.prototype.isUsernameAvailable=function(e){return this._http.authedRequest(void 0,"GET","/register/available",{username:e}).then((function(e){return e.available}))},A.prototype.register=function(e,t,r,n,o,l,c,d){!0===o?o={email:!0}:null==o&&(o={}),"function"==typeof c&&(d=c,c=void 0),null==n&&(n={}),r&&(n.session=r);var h={auth:n};return null!=e&&(h.username=e),null!=t&&(h.password=t),o.email&&(h.bind_email=!0),o.msisdn&&(h.bind_msisdn=!0),null!=l&&(h.guest_access_token=l),null!=c&&(h.inhibit_login=c),null!=t&&(h.x_show_msisdn=!0),this.registerRequest(h,void 0,d)},A.prototype.registerGuest=function(e,t){return(e=e||{}).body=e.body||{},this.registerRequest(e.body,"guest",t)},A.prototype.registerRequest=function(data,e,t){var r={};return e&&(r.kind=e),this._http.request(t,"POST","/register",r,data)},A.prototype.loginFlows=function(e){return this._http.request(e,"GET","/login")},A.prototype.login=function(e,data,t){var r=this,n={type:e};return j.extend(n,data),this._http.authedRequest((function(e,n){n&&n.access_token&&n.user_id&&(r._http.opts.accessToken=n.access_token,r.credentials={userId:n.user_id}),t&&t(e,n)}),"POST","/login",void 0,n)},A.prototype.loginWithPassword=function(e,t,r){return this.login("m.login.password",{user:e,password:t},r)},A.prototype.loginWithSAML2=function(e,t){return this.login("m.login.saml2",{relay_state:e},t)},A.prototype.getCasLoginUrl=function(e){return this.getSsoLoginUrl(e,"cas")},A.prototype.getSsoLoginUrl=function(e,t){return void 0===t&&(t="sso"),this._http.getUrl("/login/"+t+"/redirect",{redirectUrl:e},I.PREFIX_R0)},A.prototype.loginWithToken=function(e,t){return this.login("m.login.token",{token:e},t)},A.prototype.logout=function(e){return this._http.authedRequest(e,"POST","/logout")},A.prototype.deactivateAccount=function(e,t){if("function"==typeof t)throw new Error("deactivateAccount no longer accepts a callback parameter");var body={};return e&&(body.auth=e),void 0!==t&&(body.erase=t),this._http.authedRequest(void 0,"POST","/account/deactivate",void 0,body)},A.prototype.getFallbackAuthUrl=function(e,t){var path=j.encodeUri("/auth/$loginType/fallback/web",{$loginType:e});return this._http.getUrl(path,{session:t},I.PREFIX_R0)},A.prototype.createRoom=function(e,t){return this._http.authedRequest(t,"POST","/createRoom",void 0,e)},A.prototype.fetchRelations=(y=(0,h.coroutine)(d.default.mark((function e(t,r,n,o,l){var c,f,path,v;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},l.from&&(c.from=l.from),f=j.encodeParams(c),path=j.encodeUri("/rooms/$roomId/relations/$eventId/$relationType/$eventType?"+f,{$roomId:t,$eventId:r,$relationType:n,$eventType:o}),e.next=6,(0,h.resolve)(this._http.authedRequest(void 0,"GET",path,null,null,{prefix:I.PREFIX_UNSTABLE}));case 6:return v=e.sent,e.abrupt("return",v);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return y.apply(this,arguments)}),A.prototype.roomState=function(e,t){var path=j.encodeUri("/rooms/$roomId/state",{$roomId:e});return this._http.authedRequest(t,"GET",path)},A.prototype.fetchRoomEvent=function(e,t,r){var path=j.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:e,$eventId:t});return this._http.authedRequest(r,"GET",path)},A.prototype.members=function(e,t,r,n,o){var l={};t&&(l.membership=t),r&&(l.not_membership=r),n&&(l.at=n);var c=j.encodeParams(l),path=j.encodeUri("/rooms/$roomId/members?"+c,{$roomId:e});return this._http.authedRequest(o,"GET",path)},A.prototype.upgradeRoom=function(e,t){var path=j.encodeUri("/rooms/$roomId/upgrade",{$roomId:e});return this._http.authedRequest(void 0,"POST",path,void 0,{new_version:t})},A.prototype.getGroupSummary=function(e){var path=j.encodeUri("/groups/$groupId/summary",{$groupId:e});return this._http.authedRequest(void 0,"GET",path)},A.prototype.getGroupProfile=function(e){var path=j.encodeUri("/groups/$groupId/profile",{$groupId:e});return this._http.authedRequest(void 0,"GET",path)},A.prototype.setGroupProfile=function(e,t){var path=j.encodeUri("/groups/$groupId/profile",{$groupId:e});return this._http.authedRequest(void 0,"POST",path,void 0,t)},A.prototype.setGroupJoinPolicy=function(e,t){var path=j.encodeUri("/groups/$groupId/settings/m.join_policy",{$groupId:e});return this._http.authedRequest(void 0,"PUT",path,void 0,{"m.join_policy":t})},A.prototype.getGroupUsers=function(e){var path=j.encodeUri("/groups/$groupId/users",{$groupId:e});return this._http.authedRequest(void 0,"GET",path)},A.prototype.getGroupInvitedUsers=function(e){var path=j.encodeUri("/groups/$groupId/invited_users",{$groupId:e});return this._http.authedRequest(void 0,"GET",path)},A.prototype.getGroupRooms=function(e){var path=j.encodeUri("/groups/$groupId/rooms",{$groupId:e});return this._http.authedRequest(void 0,"GET",path)},A.prototype.inviteUserToGroup=function(e,t){var path=j.encodeUri("/groups/$groupId/admin/users/invite/$userId",{$groupId:e,$userId:t});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},A.prototype.removeUserFromGroup=function(e,t){var path=j.encodeUri("/groups/$groupId/admin/users/remove/$userId",{$groupId:e,$userId:t});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},A.prototype.addUserToGroupSummary=function(e,t,r){var path=j.encodeUri(r?"/groups/$groupId/summary/$roleId/users/$userId":"/groups/$groupId/summary/users/$userId",{$groupId:e,$roleId:r,$userId:t});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},A.prototype.removeUserFromGroupSummary=function(e,t){var path=j.encodeUri("/groups/$groupId/summary/users/$userId",{$groupId:e,$userId:t});return this._http.authedRequest(void 0,"DELETE",path,void 0,{})},A.prototype.addRoomToGroupSummary=function(e,t,r){var path=j.encodeUri(r?"/groups/$groupId/summary/$categoryId/rooms/$roomId":"/groups/$groupId/summary/rooms/$roomId",{$groupId:e,$categoryId:r,$roomId:t});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},A.prototype.removeRoomFromGroupSummary=function(e,t){var path=j.encodeUri("/groups/$groupId/summary/rooms/$roomId",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"DELETE",path,void 0,{})},A.prototype.addRoomToGroup=function(e,t,r){void 0===r&&(r=!0);var path=j.encodeUri("/groups/$groupId/admin/rooms/$roomId",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"PUT",path,void 0,{"m.visibility":{type:r?"public":"private"}})},A.prototype.updateGroupRoomVisibility=function(e,t,r){var path=j.encodeUri("/groups/$groupId/admin/rooms/$roomId/config/m.visibility",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"PUT",path,void 0,{type:r?"public":"private"})},A.prototype.removeRoomFromGroup=function(e,t){var path=j.encodeUri("/groups/$groupId/admin/rooms/$roomId",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"DELETE",path,void 0,{})},A.prototype.acceptGroupInvite=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,path=j.encodeUri("/groups/$groupId/self/accept_invite",{$groupId:e});return this._http.authedRequest(void 0,"PUT",path,void 0,t||{})},A.prototype.joinGroup=function(e){var path=j.encodeUri("/groups/$groupId/self/join",{$groupId:e});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},A.prototype.leaveGroup=function(e){var path=j.encodeUri("/groups/$groupId/self/leave",{$groupId:e});return this._http.authedRequest(void 0,"PUT",path,void 0,{})},A.prototype.getJoinedGroups=function(){var path=j.encodeUri("/joined_groups");return this._http.authedRequest(void 0,"GET",path)},A.prototype.createGroup=function(content){var path=j.encodeUri("/create_group");return this._http.authedRequest(void 0,"POST",path,void 0,content)},A.prototype.getPublicisedGroups=function(e){var path=j.encodeUri("/publicised_groups");return this._http.authedRequest(void 0,"POST",path,void 0,{user_ids:e})},A.prototype.setGroupPublicity=function(e,t){var path=j.encodeUri("/groups/$groupId/self/update_publicity",{$groupId:e});return this._http.authedRequest(void 0,"PUT",path,void 0,{publicise:t})},A.prototype.getStateEvent=function(e,t,r,n){var o={$roomId:e,$eventType:t,$stateKey:r},path=j.encodeUri("/rooms/$roomId/state/$eventType",o);return void 0!==r&&(path=j.encodeUri(path+"/$stateKey",o)),this._http.authedRequest(n,"GET",path)},A.prototype.sendStateEvent=function(e,t,content,r,n){var o={$roomId:e,$eventType:t,$stateKey:r},path=j.encodeUri("/rooms/$roomId/state/$eventType",o);return void 0!==r&&(path=j.encodeUri(path+"/$stateKey",o)),this._http.authedRequest(n,"PUT",path,void 0,content)},A.prototype.roomInitialSync=function(e,t,r){j.isFunction(t)&&(r=t,t=void 0);var path=j.encodeUri("/rooms/$roomId/initialSync",{$roomId:e});return t||(t=30),this._http.authedRequest(r,"GET",path,{limit:t})},A.prototype.setRoomReadMarkersHttpRequest=function(e,t,r,n){var path=j.encodeUri("/rooms/$roomId/read_markers",{$roomId:e}),content={"m.fully_read":t,"m.read":r,"m.hidden":Boolean(!!n&&n.hidden)};return this._http.authedRequest(void 0,"POST",path,void 0,content)},A.prototype.getJoinedRooms=function(){var path=j.encodeUri("/joined_rooms");return this._http.authedRequest(void 0,"GET",path)},A.prototype.getJoinedRoomMembers=function(e){var path=j.encodeUri("/rooms/$roomId/joined_members",{$roomId:e});return this._http.authedRequest(void 0,"GET",path)},A.prototype.publicRooms=function(e,t){"function"==typeof e&&(t=e,e={}),void 0===e&&(e={});var r={};return e.server&&(r.server=e.server,delete e.server),0===(0,c.default)(e).length&&0===(0,c.default)(r).length?this._http.authedRequest(t,"GET","/publicRooms"):this._http.authedRequest(t,"POST","/publicRooms",r,e)},A.prototype.createAlias=function(e,t,r){var path=j.encodeUri("/directory/room/$alias",{$alias:e}),data={room_id:t};return this._http.authedRequest(r,"PUT",path,void 0,data)},A.prototype.deleteAlias=function(e,t){var path=j.encodeUri("/directory/room/$alias",{$alias:e});return this._http.authedRequest(t,"DELETE",path,void 0,void 0)},A.prototype.getRoomIdForAlias=function(e,t){var path=j.encodeUri("/directory/room/$alias",{$alias:e});return this._http.authedRequest(t,"GET",path)},A.prototype.resolveRoomAlias=function(e,t){var path=j.encodeUri("/directory/room/$alias",{$alias:e});return this._http.request(t,"GET",path)},A.prototype.getRoomDirectoryVisibility=function(e,t){var path=j.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this._http.authedRequest(t,"GET",path)},A.prototype.setRoomDirectoryVisibility=function(e,t,r){var path=j.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this._http.authedRequest(r,"PUT",path,void 0,{visibility:t})},A.prototype.setRoomDirectoryVisibilityAppService=function(e,t,r,n){var path=j.encodeUri("/directory/list/appservice/$networkId/$roomId",{$networkId:e,$roomId:t});return this._http.authedRequest(n,"PUT",path,void 0,{visibility:r})},A.prototype.searchUserDirectory=function(e){var body={search_term:e.term};return void 0!==e.limit&&(body.limit=e.limit),this._http.authedRequest(void 0,"POST","/user_directory/search",void 0,body)},A.prototype.uploadContent=function(e,t){return this._http.uploadContent(e,t)},A.prototype.cancelUpload=function(e){return this._http.cancelUpload(e)},A.prototype.getCurrentUploads=function(){return this._http.getCurrentUploads()},A.prototype.getProfileInfo=function(e,t,r){j.isFunction(t)&&(r=t,t=void 0);var path=t?j.encodeUri("/profile/$userId/$info",{$userId:e,$info:t}):j.encodeUri("/profile/$userId",{$userId:e});return this._http.authedRequest(r,"GET",path)},A.prototype.getThreePids=function(e){return this._http.authedRequest(e,"GET","/account/3pid",void 0,void 0)},A.prototype.addThreePid=function(e,t,r){var data={threePidCreds:e,bind:t};return this._http.authedRequest(r,"POST","/account/3pid",null,data)},A.prototype.addThreePidOnly=(_=(0,h.coroutine)(d.default.mark((function e(data){var path,t;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path="/account/3pid/add",e.next=3,(0,h.resolve)(this.isVersionSupported("r0.6.0"));case 3:if(!e.sent){e.next=7;break}e.t0=I.PREFIX_R0,e.next=8;break;case 7:e.t0=I.PREFIX_UNSTABLE;case 8:return t=e.t0,e.abrupt("return",this._http.authedRequest(void 0,"POST",path,null,data,{prefix:t}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)}),A.prototype.bindThreePid=(w=(0,h.coroutine)(d.default.mark((function e(data){var path,t;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path="/account/3pid/bind",e.next=3,(0,h.resolve)(this.isVersionSupported("r0.6.0"));case 3:if(!e.sent){e.next=7;break}e.t0=I.PREFIX_R0,e.next=8;break;case 7:e.t0=I.PREFIX_UNSTABLE;case 8:return t=e.t0,e.abrupt("return",this._http.authedRequest(void 0,"POST",path,null,data,{prefix:t}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)}),A.prototype.unbindThreePid=(k=(0,h.coroutine)(d.default.mark((function e(t,address){var path,data,r;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path="/account/3pid/unbind",data={medium:t,address:address,id_server:this.getIdentityServerUrl(!0)},e.next=4,(0,h.resolve)(this.isVersionSupported("r0.6.0"));case 4:if(!e.sent){e.next=8;break}e.t0=I.PREFIX_R0,e.next=9;break;case 8:e.t0=I.PREFIX_UNSTABLE;case 9:return r=e.t0,e.abrupt("return",this._http.authedRequest(void 0,"POST",path,null,data,{prefix:r}));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)}),A.prototype.deleteThreePid=function(e,address){var data={medium:e,address:address};return this._http.authedRequest(void 0,"POST","/account/3pid/delete",null,data)},A.prototype.setPassword=function(e,t,r){var data={auth:e,new_password:t};return this._http.authedRequest(r,"POST","/account/password",null,data)},A.prototype.getDevices=function(){return this._http.authedRequest(void 0,"GET","/devices",void 0,void 0)},A.prototype.setDeviceDetails=function(e,body){var path=j.encodeUri("/devices/$device_id",{$device_id:e});return this._http.authedRequest(void 0,"PUT",path,void 0,body)},A.prototype.deleteDevice=function(e,t){var path=j.encodeUri("/devices/$device_id",{$device_id:e}),body={};return t&&(body.auth=t),this._http.authedRequest(void 0,"DELETE",path,void 0,body)},A.prototype.deleteMultipleDevices=function(e,t){var body={devices:e};t&&(body.auth=t);return this._http.authedRequest(void 0,"POST","/delete_devices",void 0,body)},A.prototype.getPushers=function(e){return this._http.authedRequest(e,"GET","/pushers",void 0,void 0)},A.prototype.setPusher=function(e,t){return this._http.authedRequest(t,"POST","/pushers/set",null,e)},A.prototype.getPushRules=function(e){return this._http.authedRequest(e,"GET","/pushrules/").then((function(e){return M.rewriteDefaultRules(e)}))},A.prototype.addPushRule=function(e,t,r,body,n){var path=j.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:r});return this._http.authedRequest(n,"PUT",path,void 0,body)},A.prototype.deletePushRule=function(e,t,r,n){var path=j.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:r});return this._http.authedRequest(n,"DELETE",path)},A.prototype.setPushRuleEnabled=function(e,t,r,n,o){var path=j.encodeUri("/pushrules/"+e+"/$kind/$ruleId/enabled",{$kind:t,$ruleId:r});return this._http.authedRequest(o,"PUT",path,void 0,{enabled:n})},A.prototype.setPushRuleActions=function(e,t,r,n,o){var path=j.encodeUri("/pushrules/"+e+"/$kind/$ruleId/actions",{$kind:t,$ruleId:r});return this._http.authedRequest(o,"PUT",path,void 0,{actions:n})},A.prototype.search=function(e,t){var r={};return e.next_batch&&(r.next_batch=e.next_batch),this._http.authedRequest(t,"POST","/search",r,e.body)},A.prototype.uploadKeysRequest=function(content,e,t){var r=(e=e||{}).device_id,path=void 0;return path=r?j.encodeUri("/keys/upload/$deviceId",{$deviceId:r}):"/keys/upload",this._http.authedRequest(t,"POST",path,void 0,content)},A.prototype.uploadKeySignatures=function(content){return this._http.authedRequest(void 0,"POST","/keys/signatures/upload",void 0,content,{prefix:I.PREFIX_UNSTABLE})},A.prototype.downloadKeysForUsers=function(e,t){if(j.isFunction(t))throw new Error("downloadKeysForUsers no longer accepts a callback parameter");var content={device_keys:{}};return"token"in(t=t||{})&&(content.token=t.token),e.forEach((function(u){content.device_keys[u]={}})),this._http.authedRequest(void 0,"POST","/keys/query",void 0,content)},A.prototype.claimOneTimeKeys=function(e,t){var r={};void 0===t&&(t="signed_curve25519");for(var i=0;i<e.length;++i){var n=e[i][0],o=e[i][1],l=r[n]||{};r[n]=l,l[o]=t}var content={one_time_keys:r};return this._http.authedRequest(void 0,"POST","/keys/claim",void 0,content)},A.prototype.getKeyChanges=function(e,t){var r={from:e,to:t};return this._http.authedRequest(void 0,"GET","/keys/changes",r,void 0)},A.prototype.uploadDeviceSigningKeys=function(e,t){var data=(0,l.default)({},t,{auth:e});return this._http.authedRequest(void 0,"POST","/keys/device_signing/upload",void 0,data,{prefix:I.PREFIX_UNSTABLE})},A.prototype.registerWithIdentityServer=function(e){if(!this.idBaseUrl)throw new Error("No Identity Server base URL set");var t=this.idBaseUrl+I.PREFIX_IDENTITY_V2+"/account/register";return this._http.requestOtherUrl(void 0,"POST",t,null,e)},A.prototype.requestEmailToken=(S=(0,h.coroutine)(d.default.mark((function e(t,r,n,o,l,c){var f,m;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f={client_secret:r,email:t,send_attempt:n,next_link:o},e.prev=1,e.next=4,(0,h.resolve)(this._http.idServerRequest(void 0,"POST","/validate/email/requestToken",f,I.PREFIX_IDENTITY_V2,c));case 4:return m=e.sent,l&&l(null,m),e.abrupt("return",m);case 9:if(e.prev=9,e.t0=e.catch(1),"rejected"!==e.t0.cors&&404!==e.t0.httpStatus){e.next=16;break}return v.default.warn("IS doesn't support v2, falling back to deprecated v1"),e.next=15,(0,h.resolve)(this._http.idServerRequest(l,"POST","/validate/email/requestToken",f,I.PREFIX_IDENTITY_V1));case 15:return e.abrupt("return",e.sent);case 16:throw l&&l(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e,t,r,n,o,l){return S.apply(this,arguments)}),A.prototype.requestMsisdnToken=(x=(0,h.coroutine)(d.default.mark((function e(t,r,n,o,l,c,f){var m,y;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m={client_secret:n,country:t,phone_number:r,send_attempt:o,next_link:l},e.prev=1,e.next=4,(0,h.resolve)(this._http.idServerRequest(void 0,"POST","/validate/msisdn/requestToken",m,I.PREFIX_IDENTITY_V2,f));case 4:return y=e.sent,c&&c(null,y),e.abrupt("return",y);case 9:if(e.prev=9,e.t0=e.catch(1),"rejected"!==e.t0.cors&&404!==e.t0.httpStatus){e.next=16;break}return v.default.warn("IS doesn't support v2, falling back to deprecated v1"),e.next=15,(0,h.resolve)(this._http.idServerRequest(c,"POST","/validate/msisdn/requestToken",m,I.PREFIX_IDENTITY_V1));case 15:return e.abrupt("return",e.sent);case 16:throw c&&c(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e,t,r,n,o,l,c){return x.apply(this,arguments)}),A.prototype.submitMsisdnToken=(O=(0,h.coroutine)(d.default.mark((function e(t,r,n,o){var l;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={sid:t,client_secret:r,token:n},e.prev=1,e.next=4,(0,h.resolve)(this._http.idServerRequest(void 0,"POST","/validate/msisdn/submitToken",l,I.PREFIX_IDENTITY_V2,o));case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),"rejected"!==e.t0.cors&&404!==e.t0.httpStatus){e.next=14;break}return v.default.warn("IS doesn't support v2, falling back to deprecated v1"),e.next=13,(0,h.resolve)(this._http.idServerRequest(void 0,"POST","/validate/msisdn/submitToken",l,I.PREFIX_IDENTITY_V1));case 13:return e.abrupt("return",e.sent);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t,r,n){return O.apply(this,arguments)}),A.prototype.submitMsisdnTokenOtherUrl=function(e,t,r,n){var o={sid:t,client_secret:r,token:n};return this._http.requestOtherUrl(void 0,"POST",e,void 0,o)},A.prototype.getIdentityHashDetails=function(e){return this._http.idServerRequest(void 0,"GET","/hash_details",null,I.PREFIX_IDENTITY_V2,e)},A.prototype.identityHashedLookup=(T=(0,h.coroutine)(d.default.mark((function e(r,n){var l,f,v,m,y,_,w,k,S,x,O,T,E,C;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={},e.next=3,(0,h.resolve)(this.getIdentityHashDetails(n));case 3:if((f=e.sent)&&f.lookup_pepper&&f.algorithms){e.next=6;break}throw new Error("Unsupported identity server: bad response");case 6:if(l.pepper=f.lookup_pepper,v={},!f.algorithms.includes("sha256")){e.next=14;break}m=new t.Olm.Utility,l.addresses=r.map((function(p){var e=p[0].toLowerCase(),t=p[1].toLowerCase(),r=m.sha256(e+" "+t+" "+l.pepper).replace(/\+/g,"-").replace(/\//g,"_");return v[r]=p[0],r})),l.algorithm="sha256",e.next=20;break;case 14:if(!f.algorithms.includes("none")){e.next=19;break}l.addresses=r.map((function(p){var e=p[0].toLowerCase()+" "+p[1].toLowerCase();return v[e]=p[0],e})),l.algorithm="none",e.next=20;break;case 19:throw new Error("Unsupported identity server: unknown hash algorithm");case 20:return e.next=22,(0,h.resolve)(this._http.idServerRequest(void 0,"POST","/lookup",l,I.PREFIX_IDENTITY_V2,n));case 22:if((y=e.sent)&&y.mappings){e.next=25;break}return e.abrupt("return",[]);case 25:_=[],w=!0,k=!1,S=void 0,e.prev=29,x=(0,o.default)((0,c.default)(y.mappings));case 31:if(w=(O=x.next()).done){e.next=41;break}if(T=O.value,E=y.mappings[T],C=v[T]){e.next=37;break}throw new Error("Identity server returned more results than expected");case 37:_.push({address:C,mxid:E});case 38:w=!0,e.next=31;break;case 41:e.next=47;break;case 43:e.prev=43,e.t0=e.catch(29),k=!0,S=e.t0;case 47:e.prev=47,e.prev=48,!w&&x.return&&x.return();case 50:if(e.prev=50,!k){e.next=53;break}throw S;case 53:return e.finish(50);case 54:return e.finish(47);case 55:return e.abrupt("return",_);case 56:case"end":return e.stop()}}),e,this,[[29,43,47,55],[48,,50,54]])}))),function(e,t){return T.apply(this,arguments)}),A.prototype.lookupThreePid=(E=(0,h.coroutine)(d.default.mark((function e(t,address,r,n){var o,l,c,f;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.resolve)(this.identityHashedLookup([[address,t]],n));case 3:if(o=e.sent,l=o.find((function(p){return p.address===address}))){e.next=8;break}return r&&r(null,{}),e.abrupt("return",{});case 8:return c={address:address,medium:t,mxid:l.mxid},r&&r(null,c),e.abrupt("return",c);case 13:if(e.prev=13,e.t0=e.catch(0),"rejected"!==e.t0.cors&&404!==e.t0.httpStatus){e.next=21;break}return f={medium:t,address:address},v.default.warn("IS doesn't support v2, falling back to deprecated v1"),e.next=20,(0,h.resolve)(this._http.idServerRequest(r,"GET","/lookup",f,I.PREFIX_IDENTITY_V1));case 20:return e.abrupt("return",e.sent);case 21:throw r&&r(e.t0,void 0),e.t0;case 23:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,t,r,n){return E.apply(this,arguments)}),A.prototype.bulkLookupThreePids=(C=(0,h.coroutine)(d.default.mark((function e(t,r){var n,l,c,f,m,y,_,w,k;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.resolve)(this.identityHashedLookup(t.map((function(p){return[p[1],p[0]]})),r));case 3:for(n=e.sent,l=[],c=!0,f=!1,m=void 0,e.prev=8,y=function(){var e=w.value,r=t.find((function(p){return p[1]===e.address}));if(!r)throw new Error("Identity sever returned unexpected results");l.push([r[0],e.address,e.mxid])},_=(0,o.default)(n);!(c=(w=_.next()).done);c=!0)y();e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),f=!0,m=e.t0;case 17:e.prev=17,e.prev=18,!c&&_.return&&_.return();case 20:if(e.prev=20,!f){e.next=23;break}throw m;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return",{threepids:l});case 28:if(e.prev=28,e.t1=e.catch(0),"rejected"!==e.t1.cors&&404!==e.t1.httpStatus){e.next=36;break}return k={threepids:t},v.default.warn("IS doesn't support v2, falling back to deprecated v1"),e.next=35,(0,h.resolve)(this._http.idServerRequest(void 0,"POST","/bulk_lookup",k,I.PREFIX_IDENTITY_V1,r));case 35:return e.abrupt("return",e.sent);case 36:throw e.t1;case 37:case"end":return e.stop()}}),e,this,[[0,28],[8,13,17,25],[18,,20,24]])}))),function(e,t){return C.apply(this,arguments)}),A.prototype.getIdentityAccount=function(e){return this._http.idServerRequest(void 0,"GET","/account",void 0,I.PREFIX_IDENTITY_V2,e)},A.prototype.sendToDevice=function(e,t,r){var path=j.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:e,$txnId:r||this.makeTxnId()}),body={messages:t},n=(0,c.default)(t).reduce((function(e,r){return e[r]=(0,c.default)(t[r]),e}),{});return v.default.log("PUT "+path,n),this._http.authedRequest(void 0,"PUT",path,void 0,body)},A.prototype.getThirdpartyProtocols=function(){return this._http.authedRequest(void 0,"GET","/thirdparty/protocols",void 0,void 0).then((function(e){if(!e||"object"!==(void 0===e?"undefined":(0,n.default)(e)))throw new Error("/thirdparty/protocols did not return an object: "+e);return e}))},A.prototype.getThirdpartyLocation=function(e,t){var path=j.encodeUri("/thirdparty/location/$protocol",{$protocol:e});return this._http.authedRequest(void 0,"GET",path,t,void 0)},A.prototype.getThirdpartyUser=function(e,t){var path=j.encodeUri("/thirdparty/user/$protocol",{$protocol:e});return this._http.authedRequest(void 0,"GET",path,t,void 0)},A.prototype.getTerms=function(e,t){var r=R(e,t);return this._http.requestOtherUrl(void 0,"GET",r)},A.prototype.agreeToTerms=function(e,t,r,n){var o=R(e,t),l={Authorization:"Bearer "+r};return this._http.requestOtherUrl(void 0,"POST",o,null,{user_accepts:n},{headers:l})},A.prototype.reportEvent=function(e,t,r,n){var path=j.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:e,$eventId:t});return this._http.authedRequest(void 0,"POST",path,null,{score:r,reason:n})},e.exports=A}).call(this,r(24))},function(e,t,r){"use strict";var n=o(r(20));o(r(22));function o(e){return e&&e.__esModule?e:{default:e}}var l=r(21);function c(e,t){this.retryAlgorithm=e||c.RETRY_BACKOFF_RATELIMIT,this.queueAlgorithm=t||c.QUEUE_MESSAGES,this._queues={},this._activeQueues=[],this._procFn=null}function d(e){e._procFn&&l.forEach(l.filter(l.keys(e._queues),(function(t){return-1===e._activeQueues.indexOf(t)&&e._queues[t].length>0})),(function(t){e._activeQueues.push(t),f("Spinning up queue: '%s'",t),function e(t,r){var o=function(e,t){var r=e._queues[t];if(!l.isArray(r))return null;return r[0]}(t,r);if(!o){var c=t._activeQueues.indexOf(r);return c>=0&&t._activeQueues.splice(c,1),void f("Stopping queue '%s' as it is now empty",r)}f("Queue '%s' has %s pending events",r,t._queues[r].length),n.default.resolve().then((function(){return t._procFn(o.event)})).then((function(n){h(t,r),f("Queue '%s' sent event %s",r,o.event.getId()),o.defer.resolve(n),e(t,r)}),(function(n){o.attempts+=1;var l=t.retryAlgorithm(o.event,o.attempts,n);f("retry(%s) err=%s event_id=%s waitTime=%s",o.attempts,n,o.event.getId(),l),-1===l?(f("Queue '%s' giving up on event %s",r,o.event.getId()),h(t,r),o.defer.reject(n),e(t,r)):setTimeout((function(){e(t,r)}),l)}))}(e,t)}))}function h(e,t){var r=e._queues[t];return l.isArray(r)?r.shift():null}function f(){0}c.prototype.getQueueForEvent=function(e){var t=this.queueAlgorithm(e);return t&&this._queues[t]?l.map(this._queues[t],(function(e){return e.event})):null},c.prototype.removeEventFromQueue=function(e){var t=this.queueAlgorithm(e);if(!t||!this._queues[t])return!1;var r=!1;return l.removeElement(this._queues[t],(function(element){if(element.event.getId()===e.getId())return r=!0,!0})),r},c.prototype.setProcessFunction=function(e){this._procFn=e,d(this)},c.prototype.queueEvent=function(e){var t=this.queueAlgorithm(e);if(!t)return null;this._queues[t]||(this._queues[t]=[]);var r=n.default.defer();return this._queues[t].push({event:e,defer:r,attempts:0}),f("Queue algorithm dumped event %s into queue '%s'",e.getId(),t),d(this),r.promise},c.RETRY_BACKOFF_RATELIMIT=function(e,t,r){if(400===r.httpStatus||403===r.httpStatus||401===r.httpStatus)return-1;if("rejected"===r.cors)return-1;if("M_LIMIT_EXCEEDED"===r.name){var n=r.data.retry_after_ms;if(n)return n}return t>4?-1:1e3*Math.pow(2,t)},c.QUEUE_MESSAGES=function(e){return"m.room.message"===e.getType()||e.hasAssocation()?"message":null},e.exports=c},function(e,t,r){"use strict";var n=o(r(26));o(r(22));function o(e){return e&&e.__esModule?e:{default:e}}var l=r(21),c="session.e2e.";function d(e){if(this.store=e,!(l.isFunction(e.getItem)&&l.isFunction(e.setItem)&&l.isFunction(e.removeItem)&&l.isFunction(e.key)&&"number"==typeof e.length))throw new Error("Supplied webStore does not meet the WebStorage API interface")}d.prototype={removeEndToEndAccount:function(){this.store.removeItem(h)},getEndToEndAccount:function(){return this.store.getItem(h)},getAllEndToEndDevices:function(){for(var e=y(""),t={},i=0;i<this.store.length;++i){var r=this.store.key(i),n=r.substr(e.length);r.startsWith(e)&&(t[n]=k(this.store,r))}return t},getEndToEndDeviceTrackingStatus:function(){return k(this.store,v)},getEndToEndDeviceSyncToken:function(){return k(this.store,f)},removeEndToEndDeviceData:function(){x(this.store,y("")),x(this.store,v),x(this.store,f)},getEndToEndSessions:function(e){return k(this.store,_(e))},getAllEndToEndSessions:function(){var e=S(this.store,_("")),t={},r=!0,o=!1,l=void 0;try{for(var c,d=(0,n.default)(e);!(r=(c=d.next()).done);r=!0){var h=c.value;t[h.substr(_("").length)]=k(this.store,h)}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}return t},removeAllEndToEndSessions:function(){x(this.store,_(""))},getAllEndToEndInboundGroupSessionKeys:function(){for(var e=c+"inboundgroupsessions/",t=[],i=0;i<this.store.length;i++){var r=this.store.key(i);r.startsWith(e)&&t.push({senderKey:r.substr(e.length,43),sessionId:r.substr(e.length+44)})}return t},getEndToEndInboundGroupSession:function(e,t){var r=function(e,t){return c+"inboundgroupsessions/"+e+"/"+t}(e,t);return this.store.getItem(r)},removeAllEndToEndInboundGroupSessions:function(){x(this.store,c+"inboundgroupsessions/")},getAllEndToEndRooms:function(){var e=S(this.store,w("")),t={},r=!0,o=!1,l=void 0;try{for(var c,d=(0,n.default)(e);!(r=(c=d.next()).done);r=!0){var h=c.value;t[h.substr(w("").length)]=k(this.store,h)}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}return t},removeAllEndToEndRooms:function(){x(this.store,w(""))},setLocalTrustedBackupPubKey:function(e){this.store.setItem(m,e)},getLocalTrustedBackupPubKey:function(){return this.store.getItem(m)}};var h=c+"account",f=c+"device_sync_token",v=c+"device_tracking",m=c+"trusted_backup_pubkey";function y(e){return c+"devices/"+e}function _(e){return c+"sessions/"+e}function w(e){return c+"rooms/"+e}function k(e,t){try{return JSON.parse(e.getItem(t))}catch(e){O("Failed to get key %s: %s",t,e),O(e.stack)}return null}function S(e,t){for(var r=[],i=0;i<e.length;++i){var n=e.key(i);n.startsWith(t)&&r.push(n)}return r}function x(e,t){for(var r=[],i=0;i<e.length;++i){var o=e.key(i);o.startsWith(t)&&r.push(o)}var l=!0,c=!1,d=void 0;try{for(var h,f=(0,n.default)(r);!(l=(h=f.next()).done);l=!0){var v=h.value;e.removeItem(v)}}catch(e){c=!0,d=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}}function O(){0}e.exports=d},function(e,t,r){"use strict";var n=o(r(20));o(r(22));function o(e){return e&&e.__esModule?e:{default:e}}var l=r(110),c=function(){};function d(e,t,r){r=r||{},this._client=e,this._timelineSet=t,this._start=null,this._end=null,this._eventCount=0,this._windowLimit=r.windowLimit||1e3}function h(e,t){this.timeline=e,this.index=t}d.prototype.load=function(e,t){var r=this;t=t||20;var o=function(n){var o=void 0,l=n.getEvents();if(e){for(var i=0;i<l.length;i++)if(l[i].getId()==e){o=i;break}if(void 0===o)throw new Error("getEventTimeline result didn't include requested event")}else o=l.length;var c=Math.min(l.length,o+Math.ceil(t/2)),d=Math.max(0,c-t);r._start=new h(n,d-n.getBaseIndex()),r._end=new h(n,c-n.getBaseIndex()),r._eventCount=c-d};if(e){var l=this._timelineSet.getTimelineForEvent(e);return l?(o(l),n.default.resolve(l)):this._client.getEventTimeline(this._timelineSet,e).then(o)}return o(this._timelineSet.getLiveTimeline()),n.default.resolve()},d.prototype.canPaginate=function(e){var t=void 0;if(e==l.BACKWARDS)t=this._start;else{if(e!=l.FORWARDS)throw new Error("Invalid direction '"+e+"'");t=this._end}if(!t)return c("TimelineWindow: no timeline yet"),!1;if(e==l.BACKWARDS){if(t.index>t.minIndex())return!0}else if(t.index<t.maxIndex())return!0;return Boolean(t.timeline.getNeighbouringTimeline(e)||t.timeline.getPaginationToken(e))},d.prototype.paginate=function(e,t,r,o){void 0===r&&(r=!0),void 0===o&&(o=5);var d=void 0;if(e==l.BACKWARDS)d=this._start;else{if(e!=l.FORWARDS)throw new Error("Invalid direction '"+e+"'");d=this._end}if(!d)return c("TimelineWindow: no timeline yet"),n.default.resolve(!1);if(d.pendingPaginate)return d.pendingPaginate;var h=e==l.BACKWARDS?d.retreat(t):d.advance(t);if(h){this._eventCount+=h,c("TimelineWindow: increased cap by "+h+" (now "+this._eventCount+")");var f=this._eventCount-this._windowLimit;return f>0&&this.unpaginate(f,e!=l.BACKWARDS),n.default.resolve(!0)}if(!r||0===o)return n.default.resolve(!1);if(!d.timeline.getPaginationToken(e))return c("TimelineWindow: no token"),n.default.resolve(!1);c("TimelineWindow: starting request");var v=this,m=this._client.paginateEventTimeline(d.timeline,{backwards:e==l.BACKWARDS,limit:t}).finally((function(){d.pendingPaginate=null})).then((function(r){return c("TimelineWindow: request completed with result "+r),!!r&&v.paginate(e,t,!0,o-1)}));return d.pendingPaginate=m,m},d.prototype.unpaginate=function(e,t){var r=t?this._start:this._end;if(e>this._eventCount||e<0)throw new Error("Attemting to unpaginate "+e+" events, but only have "+this._eventCount+" in the timeline");for(;e>0;){var n=t?r.advance(e):r.retreat(e);if(n<=0)throw new Error("Unable to unpaginate any further, but still have "+this._eventCount+" events");e-=n,this._eventCount-=n,c("TimelineWindow.unpaginate: dropped "+n+" (now "+this._eventCount+")")}},d.prototype.getEvents=function(){if(!this._start)return[];for(var e=[],t=this._start.timeline;;){var r=t.getEvents(),n=0,o=r.length;t===this._start.timeline&&(n=this._start.index+t.getBaseIndex()),t===this._end.timeline&&(o=this._end.index+t.getBaseIndex());for(var i=n;i<o;i++)e.push(r[i]);if(t===this._end.timeline)break;t=t.getNeighbouringTimeline(l.FORWARDS)}return e},h.prototype.minIndex=function(){return-1*this.timeline.getBaseIndex()},h.prototype.maxIndex=function(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()},h.prototype.advance=function(e){if(!e)return 0;var t=void 0;if(e<0){if((t=Math.max(e,this.minIndex()-this.index))<0)return this.index+=t,t}else if((t=Math.min(e,this.maxIndex()-this.index))>0)return this.index+=t,t;var r=this.timeline.getNeighbouringTimeline(e<0?l.BACKWARDS:l.FORWARDS);return r?(this.timeline=r,this.index=e<0?this.maxIndex():this.minIndex(),c("paginate: switched to new neighbour"),this.advance(e)):0},h.prototype.retreat=function(e){return-1*this.advance(-1*e)},e.exports.TimelineWindow=d,e.exports.TimelineIndex=h},function(e,t,r){"use strict";var n=f(r(26)),o=f(r(65)),l=f(r(29)),c=r(20),d=f(c),h=f(r(22));function f(e){return e&&e.__esModule?e:{default:e}}var v,m,y,_=r(109),w=r(21);function k(e){this._matrixClient=e.matrixClient,this._data=e.authData||{},this._requestCallback=e.doRequest,this._busyChangedCallback=e.busyChanged,this._stateUpdatedCallback=e.stateUpdated||e.startAuthStage,this._resolveFunc=null,this._rejectFunc=null,this._inputs=e.inputs||{},this._requestEmailTokenCallback=e.requestEmailToken,e.sessionId&&(this._data.session=e.sessionId),this._clientSecret=e.clientSecret||this._matrixClient.generateClientSecret(),this._emailSid=e.emailSid,void 0===this._emailSid&&(this._emailSid=null),this._requestingEmailToken=!1,this._chosenFlow=null,this._currentStage=null,this._submitPromise=null}k.prototype={attemptAuth:function(){var e=this;return new d.default((function(t,r){e._resolveFunc=t,e._rejectFunc=r,e._data.flows?e._startNextAuthStage():(e._busyChangedCallback&&e._busyChangedCallback(!0),e._doRequest(e._data).finally((function(){e._busyChangedCallback&&e._busyChangedCallback(!1)})))}))},poll:(y=(0,c.coroutine)(l.default.mark((function e(){var t,r,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._data.session){e.next=2;break}return e.abrupt("return");case 2:if(!this._submitPromise){e.next=4;break}return e.abrupt("return");case 4:if(t={},"m.login.email.identity"!=this._currentStage){e.next=14;break}if(!this._emailSid){e.next=14;break}return r={sid:this._emailSid,client_secret:this._clientSecret},e.next=10,(0,c.resolve)(this._matrixClient.doesServerRequireIdServerParam());case 10:if(!e.sent){e.next=13;break}n=_.parse(this._matrixClient.getIdentityServerUrl()),r.id_server=n.host;case 13:t={type:"m.login.email.identity",threepid_creds:r};case 14:this.submitAuthDict(t,!0);case 15:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)}),getSessionId:function(){return this._data?this._data.session:void 0},getClientSecret:function(){return this._clientSecret},getStageParams:function(e){var t={};return this._data&&this._data.params&&(t=this._data.params),t[e]},getChosenFlow:function(){return this._chosenFlow},submitAuthDict:(m=(0,c.coroutine)(l.default.mark((function e(t,r){var n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resolveFunc){e.next=2;break}throw new Error("submitAuthDict() called before attemptAuth()");case 2:!r&&this._busyChangedCallback&&this._busyChangedCallback(!0);case 3:if(!this._submitPromise){e.next=13;break}return e.prev=4,e.next=7,(0,c.resolve)(this._submitPromise);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:e.next=3;break;case 13:return n={session:this._data.session},w.extend(n,t),e.prev=15,this._submitPromise=this._doRequest(n,r),e.next=19,(0,c.resolve)(this._submitPromise);case 19:return e.prev=19,this._submitPromise=null,!r&&this._busyChangedCallback&&this._busyChangedCallback(!1),e.finish(19);case 23:case"end":return e.stop()}}),e,this,[[4,9],[15,,19,23]])}))),function(e,t){return m.apply(this,arguments)}),getEmailSid:function(){return this._emailSid},setEmailSid:function(e){this._emailSid=e},_doRequest:(v=(0,c.coroutine)(l.default.mark((function e(t,r){var n,o,d,f;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.resolve)(this._requestCallback(t,r));case 3:n=e.sent,this._resolveFunc(n),e.next=30;break;case 7:if(e.prev=7,e.t0=e.catch(0),o=e.t0.data?e.t0.data.flows:null,d=Boolean(this._data.flows)||Boolean(o),401===e.t0.httpStatus&&e.t0.data&&d||(r?h.default.log("Background poll request failed doing UI auth: ignoring",e.t0):this._rejectFunc(e.t0)),e.t0.data.flows||e.t0.data.completed||e.t0.data.session||(e.t0.data.flows=this._data.flows,e.t0.data.completed=this._data.completed,e.t0.data.session=this._data.session),this._data=e.t0.data,this._startNextAuthStage(),this._emailSid||this._requestingEmailToken||!this._chosenFlow.stages.includes("m.login.email.identity")){e.next=30;break}return this._requestingEmailToken=!0,e.prev=17,e.next=20,(0,c.resolve)(this._requestEmailTokenCallback(this._inputs.emailAddress,this._clientSecret,1,this._data.session));case 20:f=e.sent,this._emailSid=f.sid,e.next=27;break;case 24:e.prev=24,e.t1=e.catch(17),this._rejectFunc(e.t1);case 27:return e.prev=27,this._requestingEmailToken=!1,e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[0,7],[17,24,27,30]])}))),function(e,t){return v.apply(this,arguments)}),_startNextAuthStage:function(){var e=this._chooseStage();if(!e)throw new Error("No incomplete flows from the server");if(this._currentStage=e,"m.login.dummy"!==e)if(this._data.errcode||this._data.error)this._stateUpdatedCallback(e,{errcode:this._data.errcode||"",error:this._data.error||""});else{var t={};"m.login.email.identity"==e&&(t.emailSid=this._emailSid),this._stateUpdatedCallback(e,t)}else this.submitAuthDict({type:"m.login.dummy"})},_chooseStage:function(){null===this._chosenFlow&&(this._chosenFlow=this._chooseFlow()),h.default.log("Active flow => %s",(0,o.default)(this._chosenFlow));var e=this._firstUncompletedStage(this._chosenFlow);return h.default.log("Next stage: %s",e),e},_chooseFlow:function(){var e=this._data.flows||[],t=Boolean(this._inputs.emailAddress)||Boolean(this._emailSid),r=Boolean(this._inputs.phoneCountry)&&Boolean(this._inputs.phoneNumber),o=!0,l=!1,c=void 0;try{for(var d,h=(0,n.default)(e);!(o=(d=h.next()).done);o=!0){var f=d.value,v=!1,m=!1,y=!0,_=!1,w=void 0;try{for(var k,S=(0,n.default)(f.stages);!(y=(k=S.next()).done);y=!0){var x=k.value;"m.login.email.identity"===x?v=!0:"m.login.msisdn"==x&&(m=!0)}}catch(O){_=!0,w=O}finally{try{!y&&S.return&&S.return()}finally{if(_)throw w}}if(v==t&&m==r)return f}}catch(O){l=!0,c=O}finally{try{!o&&h.return&&h.return()}finally{if(l)throw c}}var O=new Error("No appropriate authentication flow found");throw O.name="NoAuthFlowFoundError",O.required_stages=[],t&&O.required_stages.push("m.login.email.identity"),r&&O.required_stages.push("m.login.msisdn"),O.available_flows=e,O},_firstUncompletedStage:function(e){for(var t=(this._data||{}).completed||[],i=0;i<e.stages.length;++i){var r=e.stages[i];if(-1===t.indexOf(r))return r}}},e.exports=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDiscovery=void 0;var n=r(20),o=y(n),l=y(r(29)),c=y(r(26)),d=y(r(38)),h=y(r(47)),f=y(r(42)),v=y(r(22)),m=r(109);function y(e){return e&&e.__esModule?e:{default:e}}t.AutoDiscovery=function(){function e(){(0,f.default)(this,e)}var t,y,_,w;return(0,h.default)(e,null,[{key:"fromDiscoveryConfig",value:(w=(0,n.coroutine)(l.default.mark((function t(r){var h,f,m,y,_,w;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h={"m.homeserver":{state:e.FAIL_ERROR,error:e.ERROR_INVALID,base_url:null},"m.identity_server":{state:e.PROMPT,error:null,base_url:null}},r&&r["m.homeserver"]){t.next=6;break}return v.default.error("No m.homeserver key in config"),h["m.homeserver"].state=e.FAIL_PROMPT,h["m.homeserver"].error=e.ERROR_INVALID,t.abrupt("return",o.default.resolve(h));case 6:if(r["m.homeserver"].base_url){t.next=11;break}return v.default.error("No m.homeserver base_url in config"),h["m.homeserver"].state=e.FAIL_PROMPT,h["m.homeserver"].error=e.ERROR_INVALID_HS_BASE_URL,t.abrupt("return",o.default.resolve(h));case 11:if(f=this._sanitizeWellKnownUrl(r["m.homeserver"].base_url)){t.next=16;break}return v.default.error("Invalid base_url for m.homeserver"),h["m.homeserver"].error=e.ERROR_INVALID_HS_BASE_URL,t.abrupt("return",o.default.resolve(h));case 16:return t.next=18,(0,n.resolve)(this._fetchWellKnownObject(f+"/_matrix/client/versions"));case 18:if((m=t.sent)&&m.raw.versions){t.next=24;break}return v.default.error("Invalid /versions response"),h["m.homeserver"].error=e.ERROR_INVALID_HOMESERVER,h["m.homeserver"].base_url=f,t.abrupt("return",o.default.resolve(h));case 24:if(h["m.homeserver"]={state:e.SUCCESS,error:null,base_url:f},y="",!r["m.identity_server"]){t.next=41;break}if(_={"m.homeserver":h["m.homeserver"],"m.identity_server":{state:e.FAIL_PROMPT,error:e.ERROR_INVALID_IS,base_url:null}},y=this._sanitizeWellKnownUrl(r["m.identity_server"].base_url)){t.next=33;break}return v.default.error("Invalid base_url for m.identity_server"),_["m.identity_server"].error=e.ERROR_INVALID_IS_BASE_URL,t.abrupt("return",o.default.resolve(_));case 33:return t.next=35,(0,n.resolve)(this._fetchWellKnownObject(y+"/_matrix/identity/api/v1"));case 35:if((w=t.sent)&&w.raw&&"SUCCESS"===w.action){t.next=41;break}return v.default.error("Invalid /api/v1 response"),_["m.identity_server"].error=e.ERROR_INVALID_IDENTITY_SERVER,_["m.identity_server"].base_url=y,t.abrupt("return",o.default.resolve(_));case 41:return y&&y.length>0&&(h["m.identity_server"]={state:e.SUCCESS,error:null,base_url:y}),(0,d.default)(r).map((function(e){if("m.homeserver"===e||"m.identity_server"===e){var t=["error","state","base_url"],n=!0,o=!1,l=void 0;try{for(var f,v=(0,c.default)((0,d.default)(r[e]));!(n=(f=v.next()).done);n=!0){var m=f.value;t.includes(m)||(h[e][m]=r[e][m])}}catch(e){o=!0,l=e}finally{try{!n&&v.return&&v.return()}finally{if(o)throw l}}}else h[e]=r[e]})),t.abrupt("return",o.default.resolve(h));case 44:case"end":return t.stop()}}),t,this)}))),function(e){return w.apply(this,arguments)})},{key:"findClientConfig",value:(_=(0,n.coroutine)(l.default.mark((function t(r){var c,d;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&"string"==typeof r&&0!==r.length){t.next=2;break}throw new Error("'domain' must be a string of non-zero length");case 2:return c={"m.homeserver":{state:e.FAIL_ERROR,error:e.ERROR_INVALID,base_url:null},"m.identity_server":{state:e.PROMPT,error:null,base_url:null}},t.next=5,(0,n.resolve)(this._fetchWellKnownObject("https://"+r+"/.well-known/matrix/client"));case 5:if((d=t.sent)&&"SUCCESS"===d.action){t.next=11;break}return v.default.error("No response or error when parsing .well-known"),d.reason&&v.default.error(d.reason),"IGNORE"===d.action?c["m.homeserver"]={state:e.PROMPT,error:null,base_url:null}:(c["m.homeserver"].state=e.FAIL_PROMPT,c["m.homeserver"].error=e.ERROR_INVALID),t.abrupt("return",o.default.resolve(c));case 11:return t.abrupt("return",e.fromDiscoveryConfig(d.raw));case 12:case"end":return t.stop()}}),t,this)}))),function(e){return _.apply(this,arguments)})},{key:"getRawClientConfig",value:(y=(0,n.coroutine)(l.default.mark((function e(t){var r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t&&0!==t.length){e.next=2;break}throw new Error("'domain' must be a string of non-zero length");case 2:return e.next=4,(0,n.resolve)(this._fetchWellKnownObject("https://"+t+"/.well-known/matrix/client"));case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return",{});case 7:return e.abrupt("return",r.raw||{});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"_sanitizeWellKnownUrl",value:function(e){if(!e)return!1;try{var t=null;try{t=m.URL?new m.URL(e):new URL(e)}catch(r){t=new URL(e)}if(!t||!t.hostname)return!1;if("http:"!==t.protocol&&"https:"!==t.protocol)return!1;var r=t.port?":"+t.port:"",path=t.pathname?t.pathname:"",n=t.protocol+"//"+t.hostname+r+path;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),n}catch(e){return v.default.error(e),!1}}},{key:"_fetchWellKnownObject",value:(t=(0,n.method)((function(t){return new o.default((function(n,o){var l=r(262).getRequest();if(!l)throw new Error("No request library available");l({method:"GET",uri:t,timeout:5e3},(function(t,r,body){if(t||r.statusCode<200||r.statusCode>=300){var o="FAIL_PROMPT",l=(t?t.message:null)||"General failure";return 404===r.statusCode&&(o="IGNORE",l=e.ERROR_MISSING_WELLKNOWN),void n({raw:{},action:o,reason:l,error:t})}try{n({raw:JSON.parse(body),action:"SUCCESS"})}catch(t){var c=e.ERROR_INVALID;"SyntaxError"===t.name&&(c=e.ERROR_INVALID_JSON),n({raw:{},action:"FAIL_PROMPT",reason:c,error:t})}}))}))})),function(e){return t.apply(this,arguments)})},{key:"ERROR_INVALID",get:function(){return"Invalid homeserver discovery response"}},{key:"ERROR_GENERIC_FAILURE",get:function(){return"Failed to get autodiscovery configuration from server"}},{key:"ERROR_INVALID_HS_BASE_URL",get:function(){return"Invalid base_url for m.homeserver"}},{key:"ERROR_INVALID_HOMESERVER",get:function(){return"Homeserver URL does not appear to be a valid Matrix homeserver"}},{key:"ERROR_INVALID_IS_BASE_URL",get:function(){return"Invalid base_url for m.identity_server"}},{key:"ERROR_INVALID_IDENTITY_SERVER",get:function(){return"Identity server URL does not appear to be a valid identity server"}},{key:"ERROR_INVALID_IS",get:function(){return"Invalid identity server discovery response"}},{key:"ERROR_MISSING_WELLKNOWN",get:function(){return"No .well-known JSON file found"}},{key:"ERROR_INVALID_JSON",get:function(){return"Invalid JSON"}},{key:"ALL_ERRORS",get:function(){return[e.ERROR_INVALID,e.ERROR_GENERIC_FAILURE,e.ERROR_INVALID_HS_BASE_URL,e.ERROR_INVALID_HOMESERVER,e.ERROR_INVALID_IS_BASE_URL,e.ERROR_INVALID_IDENTITY_SERVER,e.ERROR_INVALID_IS,e.ERROR_MISSING_WELLKNOWN,e.ERROR_INVALID_JSON]}},{key:"FAIL_ERROR",get:function(){return"FAIL_ERROR"}},{key:"FAIL_PROMPT",get:function(){return"FAIL_PROMPT"}},{key:"PROMPT",get:function(){return"PROMPT"}},{key:"SUCCESS",get:function(){return"SUCCESS"}}]),e}()},function(e,t,r){var n,o,l;o=[],void 0===(l="function"==typeof(n=function(){var e=XMLHttpRequest;if(!e)throw new Error("missing XMLHttpRequest");function t(l,c){if("function"!=typeof c)throw new Error("Bad callback given: "+c);if(!l)throw new Error("No options given");var d=l.onResponse;if((l="string"==typeof l?{uri:l}:JSON.parse(JSON.stringify(l))).onResponse=d,l.verbose&&(t.log=function(){var e,i,t={},r=["trace","debug","info","warn","error"];for(i=0;i<r.length;i++)t[e=r[i]]=n,"undefined"!=typeof console&&console&&console[e]&&(t[e]=o(console,e));return t}()),l.url&&(l.uri=l.url,delete l.url),!l.uri&&""!==l.uri)throw new Error("options.uri is a required argument");if("string"!=typeof l.uri)throw new Error("options.uri must be a string");for(var h=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],i=0;i<h.length;i++)if(l[h[i]])throw new Error("options."+h[i]+" is not supported");if(l.callback=c,l.method=l.method||"GET",l.headers=l.headers||{},l.body=l.body||null,l.timeout=l.timeout||t.DEFAULT_TIMEOUT,l.headers.host)throw new Error("Options.headers.host is not supported");l.json&&(l.headers.accept=l.headers.accept||"application/json","GET"!==l.method&&(l.headers["content-type"]="application/json"),"boolean"!=typeof l.json?l.body=JSON.stringify(l.json):"string"!=typeof l.body&&(l.body=JSON.stringify(l.body)));var f=function(e){var t=[];for(var p in e)e.hasOwnProperty(p)&&t.push(encodeURIComponent(p)+"="+encodeURIComponent(e[p]));return t.join("&")};if(l.qs){var v="string"==typeof l.qs?l.qs:f(l.qs);-1!==l.uri.indexOf("?")?l.uri=l.uri+"&"+v:l.uri=l.uri+"?"+v}if(l.form){if("string"==typeof l.form)throw"form name unsupported";if("POST"===l.method){var m=(l.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(l.headers["content-type"]=m,m){case"application/x-www-form-urlencoded":l.body=f(l.form).replace(/%20/g,"+");break;case"multipart/form-data":var y=function(e){var t={};t.boundry="-------------------------------"+Math.floor(1e9*Math.random());var r=[];for(var p in e)e.hasOwnProperty(p)&&r.push("--"+t.boundry+'\nContent-Disposition: form-data; name="'+p+'"\n\n'+e[p]+"\n");return r.push("--"+t.boundry+"--"),t.body=r.join(""),t.length=t.body.length,t.type="multipart/form-data; boundary="+t.boundry,t}(l.form);l.body=y.body,l.headers["content-type"]=y.type;break;default:throw new Error("unsupported encoding:"+m)}}}return l.onResponse=l.onResponse||n,!0===l.onResponse&&(l.onResponse=c,l.callback=n),!l.headers.authorization&&l.auth&&(l.headers.authorization="Basic "+function(data){var e,t,r,h1,h2,h3,h4,n,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,l=0,c="",d=[];if(!data)return data;do{e=data.charCodeAt(i++),t=data.charCodeAt(i++),r=data.charCodeAt(i++),h1=(n=e<<16|t<<8|r)>>18&63,h2=n>>12&63,h3=n>>6&63,h4=63&n,d[l++]=o.charAt(h1)+o.charAt(h2)+o.charAt(h3)+o.charAt(h4)}while(i<data.length);switch(c=d.join(""),data.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}(l.auth.username+":"+l.auth.password)),function(n){var o=new e,l=!1,c=function(e){var t,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{t=location.href}catch(e){(t=document.createElement("a")).href="",t=t.href}var n=r.exec(t.toLowerCase())||[],o=r.exec(e.toLowerCase());return!(!o||o[1]==n[1]&&o[2]==n[2]&&(o[3]||("http:"===o[1]?80:443))==(n[3]||("http:"===n[1]?80:443)))}(n.uri),d="withCredentials"in o;if(r+=1,o.seq_id=r,o.id=r+": "+n.method+" "+n.uri,o._id=o.id,c&&!d){var h=new Error("Browser does not support cross-origin request: "+n.uri);return h.cors="unsupported",n.callback(h,o)}o.timeoutTimer=setTimeout((function(){l=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=n.timeout,t.log.error("Timeout",{id:o._id,milliseconds:n.timeout}),n.callback(e,o)}),n.timeout);var f={response:!1,loading:!1,end:!1};return o.onreadystatechange=function(r){if(l)return t.log.debug("Ignoring timed out state change",{state:o.readyState,id:o.id});if(t.log.debug("State change",{state:o.readyState,id:o.id,timed_out:l}),o.readyState===e.OPENED)for(var c in t.log.debug("Request started",{id:o.id}),n.headers)o.setRequestHeader(c,n.headers[c]);else o.readyState===e.HEADERS_RECEIVED?v():o.readyState===e.LOADING?(v(),m()):o.readyState===e.DONE&&(v(),m(),function(){if(f.end)return;if(f.end=!0,t.log.debug("Request done",{id:o.id}),o.body=o.responseText,n.json)try{o.body=JSON.parse(o.responseText)}catch(e){return n.callback(e,o)}n.callback(null,o,o.body)}())},o.open(n.method,n.uri,!0),c&&(o.withCredentials=!!n.withCredentials),o.send(n.body),o;function v(){if(!f.response){if(f.response=!0,t.log.debug("Got response",{id:o.id,status:o.status}),clearTimeout(o.timeoutTimer),o.statusCode=o.status,c&&0==o.statusCode){var e=new Error("CORS request rejected: "+n.uri);return e.cors="rejected",f.loading=!0,f.end=!0,n.callback(e,o)}n.onResponse(null,o)}}function m(){f.loading||(f.loading=!0,t.log.debug("Response body loading",{id:o.id}))}}(l)}t.log={trace:n,debug:n,info:n,warn:n,error:n};var r=0;function n(){}function o(e,t){return function(r,n){return"object"==typeof n&&(r+=" "+JSON.stringify(n)),e[t].call(e,r)}}return t.withCredentials=!1,t.DEFAULT_TIMEOUT=18e4,t.defaults=function(e,r){var n=function(t){return function(r,n){for(var i in r="string"==typeof r?{uri:r}:JSON.parse(JSON.stringify(r)),e)void 0===r[i]&&(r[i]=e[i]);return t(r,n)}},o=n(t);return o.get=n(t.get),o.post=n(t.post),o.put=n(t.put),o.head=n(t.head),o},["get","put","post","head"].forEach((function(e){var r=e.toUpperCase();t[e.toLowerCase()]=function(e){"string"==typeof e?e={method:r,uri:e}:(e=JSON.parse(JSON.stringify(e))).method=r;var n=[e].concat(Array.prototype.slice.apply(arguments,[1]));return t.apply(this,n)}})),t.couch=function(e,r){return"string"==typeof e&&(e={uri:e}),e.json=!0,e.body&&(e.json=e.body),delete e.body,r=r||n,t(e,(function(e,t,body){if(e)return r(e,t,body);if((t.statusCode<200||t.statusCode>299)&&body.error){for(var n in e=new Error("CouchDB error: "+(body.error.reason||body.error.error)),body)e[n]=body[n];return r(e,t,body)}return r(e,t,body)}))},t})?n.apply(t,o):n)||(e.exports=l)},function(e,t,r){"use strict";var n=r(532),o=r(533),l=r(308);e.exports={formats:l,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(220),o=r(308),l=Object.prototype.hasOwnProperty,c={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},d=Array.isArray,h=Array.prototype.push,f=function(e,t){h.apply(e,d(t)?t:[t])},v=Date.prototype.toISOString,m=o.default,y={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:m,formatter:o.formatters[m],indices:!1,serializeDate:function(e){return v.call(e)},skipNulls:!1,strictNullHandling:!1},_=function e(object,t,r,o,l,c,filter,h,v,m,_,w,k){var S,x=object;if("function"==typeof filter?x=filter(t,x):x instanceof Date?x=m(x):"comma"===r&&d(x)&&(x=x.join(",")),null===x){if(o)return c&&!w?c(t,y.encoder,k,"key"):t;x=""}if("string"==typeof(S=x)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||n.isBuffer(x))return c?[_(w?t:c(t,y.encoder,k,"key"))+"="+_(c(x,y.encoder,k,"value"))]:[_(t)+"="+_(String(x))];var O,T=[];if(void 0===x)return T;if(d(filter))O=filter;else{var E=Object.keys(x);O=h?E.sort(h):E}for(var i=0;i<O.length;++i){var C=O[i];l&&null===x[C]||(d(x)?f(T,e(x[C],"function"==typeof r?r(t,C):t,r,o,l,c,filter,h,v,m,_,w,k)):f(T,e(x[C],t+(v?"."+C:"["+C+"]"),r,o,l,c,filter,h,v,m,_,w,k)))}return T};e.exports=function(object,e){var t,r=object,n=function(e){if(!e)return y;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||y.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!l.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],filter=y.filter;return("function"==typeof e.filter||d(e.filter))&&(filter=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:y.addQueryPrefix,allowDots:void 0===e.allowDots?y.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:y.charsetSentinel,delimiter:void 0===e.delimiter?y.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:y.encode,encoder:"function"==typeof e.encoder?e.encoder:y.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:y.encodeValuesOnly,filter:filter,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:y.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:y.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:y.strictNullHandling}}(e);"function"==typeof n.filter?r=(0,n.filter)("",r):d(n.filter)&&(t=n.filter);var h,v=[];if("object"!=typeof r||null===r)return"";h=e&&e.arrayFormat in c?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var m=c[h];t||(t=Object.keys(r)),n.sort&&t.sort(n.sort);for(var i=0;i<t.length;++i){var w=t[i];n.skipNulls&&null===r[w]||f(v,_(r[w],w,m,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var k=v.join(n.delimiter),S=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),k.length>0?S+k:""}},function(e,t,r){"use strict";var n=r(220),o=Object.prototype.hasOwnProperty,l=Array.isArray,c={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},d=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},h=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/g,c=r.depth>0&&/(\[[^[\]]*])/.exec(n),d=c?n.slice(0,c.index):n,h=[];if(d){if(!r.plainObjects&&o.call(Object.prototype,d)&&!r.allowPrototypes)return;h.push(d)}for(var i=0;r.depth>0&&null!==(c=l.exec(n))&&i<r.depth;){if(i+=1,!r.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+n.slice(c.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var o,l=e[i];if("[]"===l&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var c="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,d=parseInt(c,10);r.parseArrays||""!==c?!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[])[d]=n:o[c]=n:o={0:n}}n=o}return n}(h,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return c;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?c.charset:e.charset;return{allowDots:void 0===e.allowDots?c.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:c.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:c.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:c.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:c.comma,decoder:"function"==typeof e.decoder?e.decoder:c.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:c.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:c.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:c.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:c.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:c.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:c.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var f="string"==typeof e?function(e,t){var i,r={},h=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,v=h.split(t.delimiter,f),m=-1,y=t.charset;if(t.charsetSentinel)for(i=0;i<v.length;++i)0===v[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===v[i]?y="utf-8":"utf8=%26%2310003%3B"===v[i]&&(y="iso-8859-1"),m=i,i=v.length);for(i=0;i<v.length;++i)if(i!==m){var _,w,k=v[i],S=k.indexOf("]="),x=-1===S?k.indexOf("="):S+1;-1===x?(_=t.decoder(k,c.decoder,y,"key"),w=t.strictNullHandling?null:""):(_=t.decoder(k.slice(0,x),c.decoder,y,"key"),w=t.decoder(k.slice(x+1),c.decoder,y,"value")),w&&t.interpretNumericEntities&&"iso-8859-1"===y&&(w=d(w)),w&&"string"==typeof w&&t.comma&&w.indexOf(",")>-1&&(w=w.split(",")),k.indexOf("[]=")>-1&&(w=l(w)?[w]:w),o.call(r,_)?r[_]=n.combine(r[_],w):r[_]=w}return r}(e,r):e,v=r.plainObjects?Object.create(null):{},m=Object.keys(f),i=0;i<m.length;++i){var y=m[i],_=h(y,f[y],r);v=n.merge(v,_,r)}return n.compact(v)}},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(109),o=r(551),l=r(111),c=r(221).scan,d=l.ValidatorResult,h=l.SchemaError,f=l.SchemaContext,v=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(y),this.attributes=Object.create(o.validators)};function m(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}v.prototype.customFormats={},v.prototype.schemas=null,v.prototype.types=null,v.prototype.attributes=null,v.prototype.unresolvedRefs=null,v.prototype.addSchema=function(e,base){var t=this;if(!e)return null;var r=c(base||"/",e),n=base||e.id;for(var o in r.id)this.schemas[o]=r.id[o];for(var o in r.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===t.schemas[e]})),this.schemas[n]},v.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var i=0;i<t.length;i++)this.addSubSchema(e,t[i])},v.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var p in t)this.addSubSchema(e,t[p])},v.prototype.setSchemas=function(e){this.schemas=e},v.prototype.getSchema=function(e){return this.schemas[e]},v.prototype.validate=function(e,t,r,o){r||(r={});var l=r.propertyName||"instance",base=n.resolve(r.base||"/",t.id||"");if(!o){(o=new f(t,r,l,base,Object.create(this.schemas))).schemas[base]||(o.schemas[base]=t);var d=c(base,t);for(var v in d.id){var m=d.id[v];o.schemas[v]=m}}if(t){var y=this.validateSchema(e,t,r,o);if(!y)throw new Error("Result undefined");return y}throw new h("no schema specified",t)},v.prototype.validateSchema=function(e,t,r,n){var c,v=new d(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var y={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,y)),t=y.schema,y.schema=null,y.ctx=null,y=null}else t=l.deepMerge(t,this.superResolve(t.extends,n));if(c=m(t)){var _=this.resolve(t,c,n),w=new f(_.subschema,r,n.propertyPath,_.switchSchema,n.schemas);return this.validateSchema(e,_.subschema,r,w)}var k=r&&r.skipAttributes||[];for(var S in t)if(!o.ignoreProperties[S]&&k.indexOf(S)<0){var x=null,O=this.attributes[S];if(O)x=O.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new h("Unsupported attribute: "+S,t);x&&v.importErrors(x)}if("function"==typeof r.rewrite){var T=r.rewrite.call(this,e,t,r,n);v.instance=T}return v},v.prototype.schemaTraverser=function(e,s){e.schema=l.deepMerge(e.schema,this.superResolve(s,e.ctx))},v.prototype.superResolve=function(e,t){var r;return(r=m(e))?this.resolve(e,r,t).subschema:e},v.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var o=n.parse(t),c=o&&o.hash,d=c&&c.length&&t.substr(0,t.length-c.length);if(!d||!r.schemas[d])throw new h("no such schema <"+t+">",e);var f=l.objectGetPath(r.schemas[d],c.substr(1));if(void 0===f)throw new h("no such schema "+c+" located in <"+d+">",e);return{subschema:f,switchSchema:t}},v.prototype.testType=function(e,t,r,n,o){if("function"==typeof this.types[o])return this.types[o].call(this,e);if(o&&"object"==typeof o){var l=this.validateSchema(e,o,r,n);return void 0===l||!(l&&l.errors.length)}return!0};var y=v.prototype.types={};y.string=function(e){return"string"==typeof e},y.number=function(e){return"number"==typeof e&&isFinite(e)},y.integer=function(e){return"number"==typeof e&&e%1==0},y.boolean=function(e){return"boolean"==typeof e},y.array=function(e){return Array.isArray(e)},y.null=function(e){return null===e},y.date=function(e){return e instanceof Date},y.any=function(e){return!0},y.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},e.exports=v},function(e,t,r){"use strict";var n=r(111),o=n.ValidatorResult,l=n.SchemaError,c={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},d=c.validators={};function h(e,t,r,n,o){var l=t.throwError;t.throwError=!1;var c=this.validateSchema(e,o,t,r);return t.throwError=l,!c.valid&&n instanceof Function&&n(c),c.valid}function f(e,t,r,n,o,l){if(this.types.object(e)&&(!t.properties||void 0===t.properties[o]))if(!1===t.additionalProperties)l.addError({name:"additionalProperties",argument:o,message:"additionalProperty "+JSON.stringify(o)+" exists in instance when not allowed"});else{var c=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,o,c,r,n);var d=this.validateSchema(e[o],c,r,n.makeChild(c,o));d.instance!==l.instance[o]&&(l.instance[o]=d.instance),l.importErrors(d)}}d.type=function(e,t,r,n){if(void 0===e)return null;var l=new o(e,t,r,n),c=Array.isArray(t.type)?t.type:[t.type];if(!c.some(this.testType.bind(this,e,t,r,n))){var d=c.map((function(e){return e.id&&"<"+e.id+">"||e+""}));l.addError({name:"type",argument:d,message:"is not of a type(s) "+d})}return l},d.anyOf=function(e,t,r,n){if(void 0===e)return null;var c=new o(e,t,r,n),d=new o(e,t,r,n);if(!Array.isArray(t.anyOf))throw new l("anyOf must be an array");if(!t.anyOf.some(h.bind(this,e,r,n,(function(e){d.importErrors(e)})))){var f=t.anyOf.map((function(e,i){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+i+"]"}));r.nestedErrors&&c.importErrors(d),c.addError({name:"anyOf",argument:f,message:"is not any of "+f.join(",")})}return c},d.allOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new l("allOf must be an array");var c=new o(e,t,r,n),d=this;return t.allOf.forEach((function(t,i){var o=d.validateSchema(e,t,r,n);if(!o.valid){var l=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";c.addError({name:"allOf",argument:{id:l,length:o.errors.length,valid:o},message:"does not match allOf schema "+l+" with "+o.errors.length+" error[s]:"}),c.importErrors(o)}})),c},d.oneOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new l("oneOf must be an array");var c=new o(e,t,r,n),d=new o(e,t,r,n),f=t.oneOf.filter(h.bind(this,e,r,n,(function(e){d.importErrors(e)}))).length,v=t.oneOf.map((function(e,i){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+i+"]"}));return 1!==f&&(r.nestedErrors&&c.importErrors(d),c.addError({name:"oneOf",argument:v,message:"is not exactly one from "+v.join(",")})),c},d.properties=function(e,t,r,n){if(this.types.object(e)){var l=new o(e,t,r,n),c=t.properties||{};for(var d in c){"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,d,c[d],r,n);var h=Object.hasOwnProperty.call(e,d)?e[d]:void 0,f=this.validateSchema(h,c[d],r,n.makeChild(c[d],d));f.instance!==l.instance[d]&&(l.instance[d]=f.instance),l.importErrors(f)}return l}},d.patternProperties=function(e,t,r,n){if(this.types.object(e)){var l=new o(e,t,r,n),c=t.patternProperties||{};for(var d in e){var h=!0;for(var pattern in c){if(new RegExp(pattern).test(d)){h=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,d,c[pattern],r,n);var v=this.validateSchema(e[d],c[pattern],r,n.makeChild(c[pattern],d));v.instance!==l.instance[d]&&(l.instance[d]=v.instance),l.importErrors(v)}}h&&f.call(this,e,t,r,n,d,l)}return l}},d.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var l=new o(e,t,r,n);for(var c in e)f.call(this,e,t,r,n,c,l);return l}},d.minProperties=function(e,t,r,n){if(this.types.object(e)){var l=new o(e,t,r,n);return Object.keys(e).length>=t.minProperties||l.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),l}},d.maxProperties=function(e,t,r,n){if(this.types.object(e)){var l=new o(e,t,r,n);return Object.keys(e).length<=t.maxProperties||l.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),l}},d.items=function(e,t,r,n){var l=this;if(this.types.array(e)&&t.items){var c=new o(e,t,r,n);return e.every((function(e,i){var o=Array.isArray(t.items)?t.items[i]||t.additionalItems:t.items;if(void 0===o)return!0;if(!1===o)return c.addError({name:"items",message:"additionalItems not permitted"}),!1;var d=l.validateSchema(e,o,r,n.makeChild(o,i));return d.instance!==c.instance[i]&&(c.instance[i]=d.instance),c.importErrors(d),!0})),c}},d.minimum=function(e,t,r,n){if(this.types.number(e)){var l=new o(e,t,r,n);return(t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum:e>=t.minimum)||l.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),l}},d.maximum=function(e,t,r,n){if(this.types.number(e)){var l=new o(e,t,r,n);return(t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum:e<=t.maximum)||l.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),l}};var v=function(e,t,r,c,d,h){if(this.types.number(e)){var f=t[d];if(0==f)throw new l(d+" cannot be zero");var v=new o(e,t,r,c),m=n.getDecimalPlaces(e),y=n.getDecimalPlaces(f),_=Math.max(m,y),w=Math.pow(10,_);return Math.round(e*w)%Math.round(f*w)!=0&&v.addError({name:d,argument:f,message:h+JSON.stringify(f)}),v}};function m(e,i,a){var t,r=a.length;for(t=i+1;t<r;t++)if(n.deepCompareStrict(e,a[t]))return!1;return!0}d.multipleOf=function(e,t,r,n){return v.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},d.divisibleBy=function(e,t,r,n){return v.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},d.required=function(e,t,r,n){var l=new o(e,t,r,n);return void 0===e&&!0===t.required?l.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===e[t]&&l.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),l},d.pattern=function(e,t,r,n){if(this.types.string(e)){var l=new o(e,t,r,n);return e.match(t.pattern)||l.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),l}},d.format=function(e,t,r,l){if(void 0!==e){var c=new o(e,t,r,l);return c.disableFormat||n.isFormat(e,t.format,this)||c.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),c}},d.minLength=function(e,t,r,n){if(this.types.string(e)){var l=new o(e,t,r,n),c=e.match(/[\uDC00-\uDFFF]/g);return e.length-(c?c.length:0)>=t.minLength||l.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),l}},d.maxLength=function(e,t,r,n){if(this.types.string(e)){var l=new o(e,t,r,n),c=e.match(/[\uDC00-\uDFFF]/g);return e.length-(c?c.length:0)<=t.maxLength||l.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),l}},d.minItems=function(e,t,r,n){if(this.types.array(e)){var l=new o(e,t,r,n);return e.length>=t.minItems||l.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),l}},d.maxItems=function(e,t,r,n){if(this.types.array(e)){var l=new o(e,t,r,n);return e.length<=t.maxItems||l.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),l}},d.uniqueItems=function(e,t,r,l){if(this.types.array(e)){var c=new o(e,t,r,l);return e.every((function(e,i,a){for(var t=i+1;t<a.length;t++)if(n.deepCompareStrict(e,a[t]))return!1;return!0}))||c.addError({name:"uniqueItems",message:"contains duplicate item"}),c}},d.uniqueItems=function(e,t,r,n){if(this.types.array(e)){var l=new o(e,t,r,n);return e.every(m)||l.addError({name:"uniqueItems",message:"contains duplicate item"}),l}},d.dependencies=function(e,t,r,n){if(this.types.object(e)){var l=new o(e,t,r,n);for(var c in t.dependencies)if(void 0!==e[c]){var d=t.dependencies[c],h=n.makeChild(d,c);if("string"==typeof d&&(d=[d]),Array.isArray(d))d.forEach((function(t){void 0===e[t]&&l.addError({name:"dependencies",argument:h.propertyPath,message:"property "+t+" not found, required by "+h.propertyPath})}));else{var f=this.validateSchema(e,d,r,h);l.instance!==f.instance&&(l.instance=f.instance),f&&f.errors.length&&(l.addError({name:"dependencies",argument:h.propertyPath,message:"does not meet dependency required by "+h.propertyPath}),l.importErrors(f))}}return l}},d.enum=function(e,t,r,c){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new l("enum expects an array",t);var d=new o(e,t,r,c);return t.enum.some(n.deepCompareStrict.bind(null,e))||d.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),d},d.const=function(e,t,r,l){if(void 0===e)return null;var c=new o(e,t,r,l);return n.deepCompareStrict(t.const,e)||c.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),c},d.not=d.disallow=function(e,t,r,n){var l=this;if(void 0===e)return null;var c=new o(e,t,r,n),d=t.not||t.disallow;return d?(Array.isArray(d)||(d=[d]),d.forEach((function(o){if(l.testType(e,t,r,n,o)){var d=o&&o.id&&"<"+o.id+">"||o;c.addError({name:"not",argument:d,message:"is of prohibited type "+d})}})),c):null},e.exports=c},function(e,t,r){"use strict";r.r(t),r.d(t,"parse",(function(){return o})),r.d(t,"stringify",(function(){return l}));var n=function(e,t){return{parse:function(text,t){var input=JSON.parse(text,l).map(o),n=input[0],c=t||r,d="object"==typeof n&&n?function t(input,r,output,n){return Object.keys(output).reduce((function(output,o){var l=output[o];if(l instanceof e){var c=input[l];"object"!=typeof c||r.has(c)?output[o]=n.call(output,o,c):(r.add(c),output[o]=n.call(output,o,t(input,r,c,n)))}else output[o]=n.call(output,o,l);return output}),output)}(input,new Set,n,c):n;return c.call({"":d},"",d)},stringify:function(e,t,o){for(var l,c=new Map,input=[],output=[],d=t&&typeof t==typeof input?function(e,r){if(""===e||-1<t.indexOf(e))return r}:t||r,i=+n(c,input,d.call({"":e},"",e)),h=function(e,t){if(l)return l=!l,t;var r=d.call(this,e,t);switch(typeof r){case"object":if(null===r)return r;case"string":return c.get(r)||n(c,input,r)}return r};i<input.length;i++)l=!0,output[i]=JSON.stringify(input[i],h,o);return"["+output.join(",")+"]"}};function r(e,t){return t}function n(t,input,r){var n=e(input.push(r)-1);return t.set(r,n),n}function o(t){return t instanceof e?e(t):t}function l(t,r){return"string"==typeof r?new e(r):r}}(String);t.default=n;var o=n.parse,l=n.stringify}]]);